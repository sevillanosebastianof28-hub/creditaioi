var Cfe=Object.defineProperty;var pz=t=>{throw TypeError(t)};var Mfe=(t,e,n)=>e in t?Cfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var l1=(t,e,n)=>Mfe(t,typeof e!="symbol"?e+"":e,n),KM=(t,e,n)=>e.has(t)||pz("Cannot "+n);var fe=(t,e,n)=>(KM(t,e,"read from private field"),n?n.call(t):e.get(t)),Yt=(t,e,n)=>e.has(t)?pz("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Nt=(t,e,n,r)=>(KM(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),En=(t,e,n)=>(KM(t,e,"access private method"),n);var c1=(t,e,n,r)=>({set _(i){Nt(t,e,i,n)},get _(){return fe(t,e,r)}});function Pfe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var u1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ln(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Rfe(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var dX={exports:{}},hA={},fX={exports:{}},Nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw=Symbol.for("react.element"),Ofe=Symbol.for("react.portal"),Ife=Symbol.for("react.fragment"),kfe=Symbol.for("react.strict_mode"),Dfe=Symbol.for("react.profiler"),Lfe=Symbol.for("react.provider"),Ffe=Symbol.for("react.context"),Ufe=Symbol.for("react.forward_ref"),Bfe=Symbol.for("react.suspense"),zfe=Symbol.for("react.memo"),$fe=Symbol.for("react.lazy"),mz=Symbol.iterator;function Vfe(t){return t===null||typeof t!="object"?null:(t=mz&&t[mz]||t["@@iterator"],typeof t=="function"?t:null)}var hX={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pX=Object.assign,mX={};function qv(t,e,n){this.props=t,this.context=e,this.refs=mX,this.updater=n||hX}qv.prototype.isReactComponent={};qv.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qv.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gX(){}gX.prototype=qv.prototype;function BL(t,e,n){this.props=t,this.context=e,this.refs=mX,this.updater=n||hX}var zL=BL.prototype=new gX;zL.constructor=BL;pX(zL,qv.prototype);zL.isPureReactComponent=!0;var gz=Array.isArray,vX=Object.prototype.hasOwnProperty,$L={current:null},yX={key:!0,ref:!0,__self:!0,__source:!0};function xX(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vX.call(e,r)&&!yX.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:bw,type:t,key:s,ref:o,props:i,_owner:$L.current}}function Hfe(t,e){return{$$typeof:bw,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function VL(t){return typeof t=="object"&&t!==null&&t.$$typeof===bw}function Wfe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vz=/\/+/g;function JM(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Wfe(""+t.key):e.toString(36)}function xN(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bw:case Ofe:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+JM(o,0):r,gz(i)?(n="",t!=null&&(n=t.replace(vz,"$&/")+"/"),xN(i,e,n,"",function(u){return u})):i!=null&&(VL(i)&&(i=Hfe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(vz,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",gz(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+JM(s,l);o+=xN(s,e,n,c,i)}else if(c=Vfe(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+JM(s,l++),o+=xN(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function d1(t,e,n){if(t==null)return t;var r=[],i=0;return xN(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Gfe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hs={current:null},bN={transition:null},qfe={ReactCurrentDispatcher:Hs,ReactCurrentBatchConfig:bN,ReactCurrentOwner:$L};function bX(){throw Error("act(...) is not supported in production builds of React.")}Nn.Children={map:d1,forEach:function(t,e,n){d1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return d1(t,function(){e++}),e},toArray:function(t){return d1(t,function(e){return e})||[]},only:function(t){if(!VL(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Nn.Component=qv;Nn.Fragment=Ife;Nn.Profiler=Dfe;Nn.PureComponent=BL;Nn.StrictMode=kfe;Nn.Suspense=Bfe;Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qfe;Nn.act=bX;Nn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pX({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$L.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)vX.call(e,c)&&!yX.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:bw,type:t.type,key:i,ref:s,props:r,_owner:o}};Nn.createContext=function(t){return t={$$typeof:Ffe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Lfe,_context:t},t.Consumer=t};Nn.createElement=xX;Nn.createFactory=function(t){var e=xX.bind(null,t);return e.type=t,e};Nn.createRef=function(){return{current:null}};Nn.forwardRef=function(t){return{$$typeof:Ufe,render:t}};Nn.isValidElement=VL;Nn.lazy=function(t){return{$$typeof:$fe,_payload:{_status:-1,_result:t},_init:Gfe}};Nn.memo=function(t,e){return{$$typeof:zfe,type:t,compare:e===void 0?null:e}};Nn.startTransition=function(t){var e=bN.transition;bN.transition={};try{t()}finally{bN.transition=e}};Nn.unstable_act=bX;Nn.useCallback=function(t,e){return Hs.current.useCallback(t,e)};Nn.useContext=function(t){return Hs.current.useContext(t)};Nn.useDebugValue=function(){};Nn.useDeferredValue=function(t){return Hs.current.useDeferredValue(t)};Nn.useEffect=function(t,e){return Hs.current.useEffect(t,e)};Nn.useId=function(){return Hs.current.useId()};Nn.useImperativeHandle=function(t,e,n){return Hs.current.useImperativeHandle(t,e,n)};Nn.useInsertionEffect=function(t,e){return Hs.current.useInsertionEffect(t,e)};Nn.useLayoutEffect=function(t,e){return Hs.current.useLayoutEffect(t,e)};Nn.useMemo=function(t,e){return Hs.current.useMemo(t,e)};Nn.useReducer=function(t,e,n){return Hs.current.useReducer(t,e,n)};Nn.useRef=function(t){return Hs.current.useRef(t)};Nn.useState=function(t){return Hs.current.useState(t)};Nn.useSyncExternalStore=function(t,e,n){return Hs.current.useSyncExternalStore(t,e,n)};Nn.useTransition=function(){return Hs.current.useTransition()};Nn.version="18.3.1";fX.exports=Nn;var N=fX.exports;const J=Ln(N),HL=Pfe({__proto__:null,default:J},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xfe=N,Yfe=Symbol.for("react.element"),Kfe=Symbol.for("react.fragment"),Jfe=Object.prototype.hasOwnProperty,Qfe=Xfe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zfe={key:!0,ref:!0,__self:!0,__source:!0};function wX(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Jfe.call(e,r)&&!Zfe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Yfe,type:t,key:s,ref:o,props:i,_owner:Qfe.current}}hA.Fragment=Kfe;hA.jsx=wX;hA.jsxs=wX;dX.exports=hA;var a=dX.exports,_X={exports:{}},Xa={},SX={exports:{}},NX={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,L){var H=k.length;k.push(L);e:for(;0<H;){var G=H-1>>>1,X=k[G];if(0<i(X,L))k[G]=L,k[H]=X,H=G;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var L=k[0],H=k.pop();if(H!==L){k[0]=H;e:for(var G=0,X=k.length,Z=X>>>1;G<Z;){var B=2*(G+1)-1,te=k[B],ie=B+1,ae=k[ie];if(0>i(te,H))ie<X&&0>i(ae,te)?(k[G]=ae,k[ie]=H,G=ie):(k[G]=te,k[B]=H,G=B);else if(ie<X&&0>i(ae,H))k[G]=ae,k[ie]=H,G=ie;else break e}}return L}function i(k,L){var H=k.sortIndex-L.sortIndex;return H!==0?H:k.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=k)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function S(k){if(g=!1,b(k),!m)if(n(c)!==null)m=!0,z(j);else{var L=n(u);L!==null&&W(S,L.startTime-k)}}function j(k,L){m=!1,g&&(g=!1,v(P),P=-1),p=!0;var H=h;try{for(b(L),f=n(c);f!==null&&(!(f.expirationTime>L)||k&&!I());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var X=G(f.expirationTime<=L);L=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),b(L)}else r(c);f=n(c)}if(f!==null)var Z=!0;else{var B=n(u);B!==null&&W(S,B.startTime-L),Z=!1}return Z}finally{f=null,h=H,p=!1}}var E=!1,T=null,P=-1,C=5,R=-1;function I(){return!(t.unstable_now()-R<C)}function D(){if(T!==null){var k=t.unstable_now();R=k;var L=!0;try{L=T(!0,k)}finally{L?V():(E=!1,T=null)}}else E=!1}var V;if(typeof w=="function")V=function(){w(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,$=U.port2;U.port1.onmessage=D,V=function(){$.postMessage(null)}}else V=function(){y(D,0)};function z(k){T=k,E||(E=!0,V())}function W(k,L){P=y(function(){k(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,z(j))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var H=h;h=L;try{return k()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,L){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var H=h;h=k;try{return L()}finally{h=H}},t.unstable_scheduleCallback=function(k,L,H){var G=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,k={id:d++,callback:L,priorityLevel:k,startTime:H,expirationTime:X,sortIndex:-1},H>G?(k.sortIndex=H,e(u,k),n(c)===null&&k===n(u)&&(g?(v(P),P=-1):g=!0,W(S,H-G))):(k.sortIndex=X,e(c,k),m||p||(m=!0,z(j))),k},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(k){var L=h;return function(){var H=h;h=L;try{return k.apply(this,arguments)}finally{h=H}}}})(NX);SX.exports=NX;var ehe=SX.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var the=N,$a=ehe;function Je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jX=new Set,A0={};function Np(t,e){Kg(t,e),Kg(t+"Capture",e)}function Kg(t,e){for(A0[t]=e,t=0;t<e.length;t++)jX.add(e[t])}var ou=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rO=Object.prototype.hasOwnProperty,nhe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yz={},xz={};function rhe(t){return rO.call(xz,t)?!0:rO.call(yz,t)?!1:nhe.test(t)?xz[t]=!0:(yz[t]=!0,!1)}function ihe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function she(t,e,n,r){if(e===null||typeof e>"u"||ihe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ws(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Zi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zi[t]=new Ws(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zi[e]=new Ws(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zi[t]=new Ws(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zi[t]=new Ws(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zi[t]=new Ws(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zi[t]=new Ws(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zi[t]=new Ws(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zi[t]=new Ws(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zi[t]=new Ws(t,5,!1,t.toLowerCase(),null,!1,!1)});var WL=/[\-:]([a-z])/g;function GL(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(WL,GL);Zi[e]=new Ws(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(WL,GL);Zi[e]=new Ws(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(WL,GL);Zi[e]=new Ws(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zi[t]=new Ws(t,1,!1,t.toLowerCase(),null,!1,!1)});Zi.xlinkHref=new Ws("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zi[t]=new Ws(t,1,!1,t.toLowerCase(),null,!0,!0)});function qL(t,e,n,r){var i=Zi.hasOwnProperty(e)?Zi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(she(e,n,i,r)&&(n=null),r||i===null?rhe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bu=the.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,f1=Symbol.for("react.element"),qm=Symbol.for("react.portal"),Xm=Symbol.for("react.fragment"),XL=Symbol.for("react.strict_mode"),iO=Symbol.for("react.profiler"),EX=Symbol.for("react.provider"),AX=Symbol.for("react.context"),YL=Symbol.for("react.forward_ref"),sO=Symbol.for("react.suspense"),aO=Symbol.for("react.suspense_list"),KL=Symbol.for("react.memo"),td=Symbol.for("react.lazy"),TX=Symbol.for("react.offscreen"),bz=Symbol.iterator;function Xy(t){return t===null||typeof t!="object"?null:(t=bz&&t[bz]||t["@@iterator"],typeof t=="function"?t:null)}var Cr=Object.assign,QM;function Lx(t){if(QM===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);QM=e&&e[1]||""}return`
`+QM+t}var ZM=!1;function e2(t,e){if(!t||ZM)return"";ZM=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{ZM=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lx(t):""}function ahe(t){switch(t.tag){case 5:return Lx(t.type);case 16:return Lx("Lazy");case 13:return Lx("Suspense");case 19:return Lx("SuspenseList");case 0:case 2:case 15:return t=e2(t.type,!1),t;case 11:return t=e2(t.type.render,!1),t;case 1:return t=e2(t.type,!0),t;default:return""}}function oO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xm:return"Fragment";case qm:return"Portal";case iO:return"Profiler";case XL:return"StrictMode";case sO:return"Suspense";case aO:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AX:return(t.displayName||"Context")+".Consumer";case EX:return(t._context.displayName||"Context")+".Provider";case YL:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case KL:return e=t.displayName||null,e!==null?e:oO(t.type)||"Memo";case td:e=t._payload,t=t._init;try{return oO(t(e))}catch{}}return null}function ohe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oO(e);case 8:return e===XL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ud(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CX(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lhe(t){var e=CX(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function h1(t){t._valueTracker||(t._valueTracker=lhe(t))}function MX(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=CX(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ej(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lO(t,e){var n=e.checked;return Cr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wz(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ud(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PX(t,e){e=e.checked,e!=null&&qL(t,"checked",e,!1)}function cO(t,e){PX(t,e);var n=Ud(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uO(t,e.type,n):e.hasOwnProperty("defaultValue")&&uO(t,e.type,Ud(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function uO(t,e,n){(e!=="number"||ej(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fx=Array.isArray;function wg(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ud(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Je(91));return Cr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sz(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Je(92));if(Fx(n)){if(1<n.length)throw Error(Je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ud(n)}}function RX(t,e){var n=Ud(e.value),r=Ud(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nz(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OX(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OX(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var p1,IX=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(p1=p1||document.createElement("div"),p1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=p1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function T0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Kx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},che=["Webkit","ms","Moz","O"];Object.keys(Kx).forEach(function(t){che.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Kx[e]=Kx[t]})});function kX(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Kx.hasOwnProperty(t)&&Kx[t]?(""+e).trim():e+"px"}function DX(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kX(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uhe=Cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hO(t,e){if(e){if(uhe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Je(62))}}function pO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mO=null;function JL(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gO=null,_g=null,Sg=null;function jz(t){if(t=Sw(t)){if(typeof gO!="function")throw Error(Je(280));var e=t.stateNode;e&&(e=yA(e),gO(t.stateNode,t.type,e))}}function LX(t){_g?Sg?Sg.push(t):Sg=[t]:_g=t}function FX(){if(_g){var t=_g,e=Sg;if(Sg=_g=null,jz(t),e)for(t=0;t<e.length;t++)jz(e[t])}}function UX(t,e){return t(e)}function BX(){}var t2=!1;function zX(t,e,n){if(t2)return t(e,n);t2=!0;try{return UX(t,e,n)}finally{t2=!1,(_g!==null||Sg!==null)&&(BX(),FX())}}function C0(t,e){var n=t.stateNode;if(n===null)return null;var r=yA(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Je(231,e,typeof n));return n}var vO=!1;if(ou)try{var Yy={};Object.defineProperty(Yy,"passive",{get:function(){vO=!0}}),window.addEventListener("test",Yy,Yy),window.removeEventListener("test",Yy,Yy)}catch{vO=!1}function dhe(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Jx=!1,tj=null,nj=!1,yO=null,fhe={onError:function(t){Jx=!0,tj=t}};function hhe(t,e,n,r,i,s,o,l,c){Jx=!1,tj=null,dhe.apply(fhe,arguments)}function phe(t,e,n,r,i,s,o,l,c){if(hhe.apply(this,arguments),Jx){if(Jx){var u=tj;Jx=!1,tj=null}else throw Error(Je(198));nj||(nj=!0,yO=u)}}function jp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $X(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ez(t){if(jp(t)!==t)throw Error(Je(188))}function mhe(t){var e=t.alternate;if(!e){if(e=jp(t),e===null)throw Error(Je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ez(i),t;if(s===r)return Ez(i),e;s=s.sibling}throw Error(Je(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(Je(189))}}if(n.alternate!==r)throw Error(Je(190))}if(n.tag!==3)throw Error(Je(188));return n.stateNode.current===n?t:e}function VX(t){return t=mhe(t),t!==null?HX(t):null}function HX(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HX(t);if(e!==null)return e;t=t.sibling}return null}var WX=$a.unstable_scheduleCallback,Az=$a.unstable_cancelCallback,ghe=$a.unstable_shouldYield,vhe=$a.unstable_requestPaint,Kr=$a.unstable_now,yhe=$a.unstable_getCurrentPriorityLevel,QL=$a.unstable_ImmediatePriority,GX=$a.unstable_UserBlockingPriority,rj=$a.unstable_NormalPriority,xhe=$a.unstable_LowPriority,qX=$a.unstable_IdlePriority,pA=null,Yl=null;function bhe(t){if(Yl&&typeof Yl.onCommitFiberRoot=="function")try{Yl.onCommitFiberRoot(pA,t,void 0,(t.current.flags&128)===128)}catch{}}var cl=Math.clz32?Math.clz32:She,whe=Math.log,_he=Math.LN2;function She(t){return t>>>=0,t===0?32:31-(whe(t)/_he|0)|0}var m1=64,g1=4194304;function Ux(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ij(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Ux(l):(s&=o,s!==0&&(r=Ux(s)))}else o=n&~i,o!==0?r=Ux(o):s!==0&&(r=Ux(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cl(e),i=1<<n,r|=t[n],e&=~i;return r}function Nhe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jhe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-cl(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=Nhe(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function xO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function XX(){var t=m1;return m1<<=1,!(m1&4194240)&&(m1=64),t}function n2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ww(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cl(e),t[e]=n}function Ehe(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cl(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ZL(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cl(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Wn=0;function YX(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KX,e3,JX,QX,ZX,bO=!1,v1=[],Sd=null,Nd=null,jd=null,M0=new Map,P0=new Map,id=[],Ahe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tz(t,e){switch(t){case"focusin":case"focusout":Sd=null;break;case"dragenter":case"dragleave":Nd=null;break;case"mouseover":case"mouseout":jd=null;break;case"pointerover":case"pointerout":M0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":P0.delete(e.pointerId)}}function Ky(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Sw(e),e!==null&&e3(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function The(t,e,n,r,i){switch(e){case"focusin":return Sd=Ky(Sd,t,e,n,r,i),!0;case"dragenter":return Nd=Ky(Nd,t,e,n,r,i),!0;case"mouseover":return jd=Ky(jd,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return M0.set(s,Ky(M0.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,P0.set(s,Ky(P0.get(s)||null,t,e,n,r,i)),!0}return!1}function eY(t){var e=gh(t.target);if(e!==null){var n=jp(e);if(n!==null){if(e=n.tag,e===13){if(e=$X(n),e!==null){t.blockedOn=e,ZX(t.priority,function(){JX(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wN(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mO=r,n.target.dispatchEvent(r),mO=null}else return e=Sw(n),e!==null&&e3(e),t.blockedOn=n,!1;e.shift()}return!0}function Cz(t,e,n){wN(t)&&n.delete(e)}function Che(){bO=!1,Sd!==null&&wN(Sd)&&(Sd=null),Nd!==null&&wN(Nd)&&(Nd=null),jd!==null&&wN(jd)&&(jd=null),M0.forEach(Cz),P0.forEach(Cz)}function Jy(t,e){t.blockedOn===e&&(t.blockedOn=null,bO||(bO=!0,$a.unstable_scheduleCallback($a.unstable_NormalPriority,Che)))}function R0(t){function e(i){return Jy(i,t)}if(0<v1.length){Jy(v1[0],t);for(var n=1;n<v1.length;n++){var r=v1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sd!==null&&Jy(Sd,t),Nd!==null&&Jy(Nd,t),jd!==null&&Jy(jd,t),M0.forEach(e),P0.forEach(e),n=0;n<id.length;n++)r=id[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<id.length&&(n=id[0],n.blockedOn===null);)eY(n),n.blockedOn===null&&id.shift()}var Ng=bu.ReactCurrentBatchConfig,sj=!0;function Mhe(t,e,n,r){var i=Wn,s=Ng.transition;Ng.transition=null;try{Wn=1,t3(t,e,n,r)}finally{Wn=i,Ng.transition=s}}function Phe(t,e,n,r){var i=Wn,s=Ng.transition;Ng.transition=null;try{Wn=4,t3(t,e,n,r)}finally{Wn=i,Ng.transition=s}}function t3(t,e,n,r){if(sj){var i=wO(t,e,n,r);if(i===null)f2(t,e,r,aj,n),Tz(t,r);else if(The(i,t,e,n,r))r.stopPropagation();else if(Tz(t,r),e&4&&-1<Ahe.indexOf(t)){for(;i!==null;){var s=Sw(i);if(s!==null&&KX(s),s=wO(t,e,n,r),s===null&&f2(t,e,r,aj,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else f2(t,e,r,null,n)}}var aj=null;function wO(t,e,n,r){if(aj=null,t=JL(r),t=gh(t),t!==null)if(e=jp(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$X(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return aj=t,null}function tY(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yhe()){case QL:return 1;case GX:return 4;case rj:case xhe:return 16;case qX:return 536870912;default:return 16}default:return 16}}var vd=null,n3=null,_N=null;function nY(){if(_N)return _N;var t,e=n3,n=e.length,r,i="value"in vd?vd.value:vd.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _N=i.slice(t,1<r?1-r:void 0)}function SN(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function y1(){return!0}function Mz(){return!1}function Ya(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?y1:Mz,this.isPropagationStopped=Mz,this}return Cr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=y1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=y1)},persist:function(){},isPersistent:y1}),e}var Xv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r3=Ya(Xv),_w=Cr({},Xv,{view:0,detail:0}),Rhe=Ya(_w),r2,i2,Qy,mA=Cr({},_w,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i3,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qy&&(Qy&&t.type==="mousemove"?(r2=t.screenX-Qy.screenX,i2=t.screenY-Qy.screenY):i2=r2=0,Qy=t),r2)},movementY:function(t){return"movementY"in t?t.movementY:i2}}),Pz=Ya(mA),Ohe=Cr({},mA,{dataTransfer:0}),Ihe=Ya(Ohe),khe=Cr({},_w,{relatedTarget:0}),s2=Ya(khe),Dhe=Cr({},Xv,{animationName:0,elapsedTime:0,pseudoElement:0}),Lhe=Ya(Dhe),Fhe=Cr({},Xv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uhe=Ya(Fhe),Bhe=Cr({},Xv,{data:0}),Rz=Ya(Bhe),zhe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$he={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vhe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hhe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vhe[t])?!!e[t]:!1}function i3(){return Hhe}var Whe=Cr({},_w,{key:function(t){if(t.key){var e=zhe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=SN(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$he[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i3,charCode:function(t){return t.type==="keypress"?SN(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?SN(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ghe=Ya(Whe),qhe=Cr({},mA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oz=Ya(qhe),Xhe=Cr({},_w,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i3}),Yhe=Ya(Xhe),Khe=Cr({},Xv,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jhe=Ya(Khe),Qhe=Cr({},mA,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zhe=Ya(Qhe),epe=[9,13,27,32],s3=ou&&"CompositionEvent"in window,Qx=null;ou&&"documentMode"in document&&(Qx=document.documentMode);var tpe=ou&&"TextEvent"in window&&!Qx,rY=ou&&(!s3||Qx&&8<Qx&&11>=Qx),Iz=" ",kz=!1;function iY(t,e){switch(t){case"keyup":return epe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sY(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ym=!1;function npe(t,e){switch(t){case"compositionend":return sY(e);case"keypress":return e.which!==32?null:(kz=!0,Iz);case"textInput":return t=e.data,t===Iz&&kz?null:t;default:return null}}function rpe(t,e){if(Ym)return t==="compositionend"||!s3&&iY(t,e)?(t=nY(),_N=n3=vd=null,Ym=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rY&&e.locale!=="ko"?null:e.data;default:return null}}var ipe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dz(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ipe[t.type]:e==="textarea"}function aY(t,e,n,r){LX(r),e=oj(e,"onChange"),0<e.length&&(n=new r3("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zx=null,O0=null;function spe(t){vY(t,0)}function gA(t){var e=Qm(t);if(MX(e))return t}function ape(t,e){if(t==="change")return e}var oY=!1;if(ou){var a2;if(ou){var o2="oninput"in document;if(!o2){var Lz=document.createElement("div");Lz.setAttribute("oninput","return;"),o2=typeof Lz.oninput=="function"}a2=o2}else a2=!1;oY=a2&&(!document.documentMode||9<document.documentMode)}function Fz(){Zx&&(Zx.detachEvent("onpropertychange",lY),O0=Zx=null)}function lY(t){if(t.propertyName==="value"&&gA(O0)){var e=[];aY(e,O0,t,JL(t)),zX(spe,e)}}function ope(t,e,n){t==="focusin"?(Fz(),Zx=e,O0=n,Zx.attachEvent("onpropertychange",lY)):t==="focusout"&&Fz()}function lpe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gA(O0)}function cpe(t,e){if(t==="click")return gA(e)}function upe(t,e){if(t==="input"||t==="change")return gA(e)}function dpe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fl=typeof Object.is=="function"?Object.is:dpe;function I0(t,e){if(fl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rO.call(e,i)||!fl(t[i],e[i]))return!1}return!0}function Uz(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bz(t,e){var n=Uz(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uz(n)}}function cY(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cY(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uY(){for(var t=window,e=ej();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ej(t.document)}return e}function a3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fpe(t){var e=uY(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cY(n.ownerDocument.documentElement,n)){if(r!==null&&a3(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Bz(n,s);var o=Bz(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hpe=ou&&"documentMode"in document&&11>=document.documentMode,Km=null,_O=null,e0=null,SO=!1;function zz(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;SO||Km==null||Km!==ej(r)||(r=Km,"selectionStart"in r&&a3(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),e0&&I0(e0,r)||(e0=r,r=oj(_O,"onSelect"),0<r.length&&(e=new r3("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Km)))}function x1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Jm={animationend:x1("Animation","AnimationEnd"),animationiteration:x1("Animation","AnimationIteration"),animationstart:x1("Animation","AnimationStart"),transitionend:x1("Transition","TransitionEnd")},l2={},dY={};ou&&(dY=document.createElement("div").style,"AnimationEvent"in window||(delete Jm.animationend.animation,delete Jm.animationiteration.animation,delete Jm.animationstart.animation),"TransitionEvent"in window||delete Jm.transitionend.transition);function vA(t){if(l2[t])return l2[t];if(!Jm[t])return t;var e=Jm[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dY)return l2[t]=e[n];return t}var fY=vA("animationend"),hY=vA("animationiteration"),pY=vA("animationstart"),mY=vA("transitionend"),gY=new Map,$z="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qd(t,e){gY.set(t,e),Np(e,[t])}for(var c2=0;c2<$z.length;c2++){var u2=$z[c2],ppe=u2.toLowerCase(),mpe=u2[0].toUpperCase()+u2.slice(1);Qd(ppe,"on"+mpe)}Qd(fY,"onAnimationEnd");Qd(hY,"onAnimationIteration");Qd(pY,"onAnimationStart");Qd("dblclick","onDoubleClick");Qd("focusin","onFocus");Qd("focusout","onBlur");Qd(mY,"onTransitionEnd");Kg("onMouseEnter",["mouseout","mouseover"]);Kg("onMouseLeave",["mouseout","mouseover"]);Kg("onPointerEnter",["pointerout","pointerover"]);Kg("onPointerLeave",["pointerout","pointerover"]);Np("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Np("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Np("onBeforeInput",["compositionend","keypress","textInput","paste"]);Np("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Np("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Np("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gpe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bx));function Vz(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,phe(r,e,void 0,t),t.currentTarget=null}function vY(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Vz(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Vz(i,l,u),s=c}}}if(nj)throw t=yO,nj=!1,yO=null,t}function ur(t,e){var n=e[TO];n===void 0&&(n=e[TO]=new Set);var r=t+"__bubble";n.has(r)||(yY(e,t,2,!1),n.add(r))}function d2(t,e,n){var r=0;e&&(r|=4),yY(n,t,r,e)}var b1="_reactListening"+Math.random().toString(36).slice(2);function k0(t){if(!t[b1]){t[b1]=!0,jX.forEach(function(n){n!=="selectionchange"&&(gpe.has(n)||d2(n,!1,t),d2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[b1]||(e[b1]=!0,d2("selectionchange",!1,e))}}function yY(t,e,n,r){switch(tY(e)){case 1:var i=Mhe;break;case 4:i=Phe;break;default:i=t3}n=i.bind(null,e,n,t),i=void 0,!vO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function f2(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=gh(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}zX(function(){var u=s,d=JL(n),f=[];e:{var h=gY.get(t);if(h!==void 0){var p=r3,m=t;switch(t){case"keypress":if(SN(n)===0)break e;case"keydown":case"keyup":p=Ghe;break;case"focusin":m="focus",p=s2;break;case"focusout":m="blur",p=s2;break;case"beforeblur":case"afterblur":p=s2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Pz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ihe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Yhe;break;case fY:case hY:case pY:p=Lhe;break;case mY:p=Jhe;break;case"scroll":p=Rhe;break;case"wheel":p=Zhe;break;case"copy":case"cut":case"paste":p=Uhe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Oz}var g=(e&4)!==0,y=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var w=u,b;w!==null;){b=w;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=C0(w,v),S!=null&&g.push(D0(w,S,b)))),y)break;w=w.return}0<g.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==mO&&(m=n.relatedTarget||n.fromElement)&&(gh(m)||m[lu]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?gh(m):null,m!==null&&(y=jp(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=Pz,S="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=Oz,S="onPointerLeave",v="onPointerEnter",w="pointer"),y=p==null?h:Qm(p),b=m==null?h:Qm(m),h=new g(S,w+"leave",p,n,d),h.target=y,h.relatedTarget=b,S=null,gh(d)===u&&(g=new g(v,w+"enter",m,n,d),g.target=b,g.relatedTarget=y,S=g),y=S,p&&m)t:{for(g=p,v=m,w=0,b=g;b;b=im(b))w++;for(b=0,S=v;S;S=im(S))b++;for(;0<w-b;)g=im(g),w--;for(;0<b-w;)v=im(v),b--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=im(g),v=im(v)}g=null}else g=null;p!==null&&Hz(f,h,p,g,!1),m!==null&&y!==null&&Hz(f,y,m,g,!0)}}e:{if(h=u?Qm(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=ape;else if(Dz(h))if(oY)j=upe;else{j=lpe;var E=ope}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=cpe);if(j&&(j=j(t,u))){aY(f,j,n,d);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&uO(h,"number",h.value)}switch(E=u?Qm(u):window,t){case"focusin":(Dz(E)||E.contentEditable==="true")&&(Km=E,_O=u,e0=null);break;case"focusout":e0=_O=Km=null;break;case"mousedown":SO=!0;break;case"contextmenu":case"mouseup":case"dragend":SO=!1,zz(f,n,d);break;case"selectionchange":if(hpe)break;case"keydown":case"keyup":zz(f,n,d)}var T;if(s3)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ym?iY(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(rY&&n.locale!=="ko"&&(Ym||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ym&&(T=nY()):(vd=d,n3="value"in vd?vd.value:vd.textContent,Ym=!0)),E=oj(u,P),0<E.length&&(P=new Rz(P,t,null,n,d),f.push({event:P,listeners:E}),T?P.data=T:(T=sY(n),T!==null&&(P.data=T)))),(T=tpe?npe(t,n):rpe(t,n))&&(u=oj(u,"onBeforeInput"),0<u.length&&(d=new Rz("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=T))}vY(f,e)})}function D0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function oj(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=C0(t,n),s!=null&&r.unshift(D0(t,s,i)),s=C0(t,e),s!=null&&r.push(D0(t,s,i))),t=t.return}return r}function im(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hz(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=C0(n,s),c!=null&&o.unshift(D0(n,c,l))):i||(c=C0(n,s),c!=null&&o.push(D0(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var vpe=/\r\n?/g,ype=/\u0000|\uFFFD/g;function Wz(t){return(typeof t=="string"?t:""+t).replace(vpe,`
`).replace(ype,"")}function w1(t,e,n){if(e=Wz(e),Wz(t)!==e&&n)throw Error(Je(425))}function lj(){}var NO=null,jO=null;function EO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var AO=typeof setTimeout=="function"?setTimeout:void 0,xpe=typeof clearTimeout=="function"?clearTimeout:void 0,Gz=typeof Promise=="function"?Promise:void 0,bpe=typeof queueMicrotask=="function"?queueMicrotask:typeof Gz<"u"?function(t){return Gz.resolve(null).then(t).catch(wpe)}:AO;function wpe(t){setTimeout(function(){throw t})}function h2(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),R0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);R0(e)}function Ed(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qz(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yv=Math.random().toString(36).slice(2),Vl="__reactFiber$"+Yv,L0="__reactProps$"+Yv,lu="__reactContainer$"+Yv,TO="__reactEvents$"+Yv,_pe="__reactListeners$"+Yv,Spe="__reactHandles$"+Yv;function gh(t){var e=t[Vl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lu]||n[Vl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qz(t);t!==null;){if(n=t[Vl])return n;t=qz(t)}return e}t=n,n=t.parentNode}return null}function Sw(t){return t=t[Vl]||t[lu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qm(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Je(33))}function yA(t){return t[L0]||null}var CO=[],Zm=-1;function Zd(t){return{current:t}}function mr(t){0>Zm||(t.current=CO[Zm],CO[Zm]=null,Zm--)}function or(t,e){Zm++,CO[Zm]=t.current,t.current=e}var Bd={},xs=Zd(Bd),ca=Zd(!1),rp=Bd;function Jg(t,e){var n=t.type.contextTypes;if(!n)return Bd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ua(t){return t=t.childContextTypes,t!=null}function cj(){mr(ca),mr(xs)}function Xz(t,e,n){if(xs.current!==Bd)throw Error(Je(168));or(xs,e),or(ca,n)}function xY(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Je(108,ohe(t)||"Unknown",i));return Cr({},n,r)}function uj(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bd,rp=xs.current,or(xs,t),or(ca,ca.current),!0}function Yz(t,e,n){var r=t.stateNode;if(!r)throw Error(Je(169));n?(t=xY(t,e,rp),r.__reactInternalMemoizedMergedChildContext=t,mr(ca),mr(xs),or(xs,t)):mr(ca),or(ca,n)}var zc=null,xA=!1,p2=!1;function bY(t){zc===null?zc=[t]:zc.push(t)}function Npe(t){xA=!0,bY(t)}function ef(){if(!p2&&zc!==null){p2=!0;var t=0,e=Wn;try{var n=zc;for(Wn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zc=null,xA=!1}catch(i){throw zc!==null&&(zc=zc.slice(t+1)),WX(QL,ef),i}finally{Wn=e,p2=!1}}return null}var eg=[],tg=0,dj=null,fj=0,mo=[],go=0,ip=null,Wc=1,Gc="";function Qf(t,e){eg[tg++]=fj,eg[tg++]=dj,dj=t,fj=e}function wY(t,e,n){mo[go++]=Wc,mo[go++]=Gc,mo[go++]=ip,ip=t;var r=Wc;t=Gc;var i=32-cl(r)-1;r&=~(1<<i),n+=1;var s=32-cl(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Wc=1<<32-cl(e)+i|n<<i|r,Gc=s+t}else Wc=1<<s|n<<i|r,Gc=t}function o3(t){t.return!==null&&(Qf(t,1),wY(t,1,0))}function l3(t){for(;t===dj;)dj=eg[--tg],eg[tg]=null,fj=eg[--tg],eg[tg]=null;for(;t===ip;)ip=mo[--go],mo[go]=null,Gc=mo[--go],mo[go]=null,Wc=mo[--go],mo[go]=null}var ka=null,Ia=null,yr=!1,rl=null;function _Y(t,e){var n=xo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kz(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ka=t,Ia=Ed(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ka=t,Ia=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ip!==null?{id:Wc,overflow:Gc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ka=t,Ia=null,!0):!1;default:return!1}}function MO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function PO(t){if(yr){var e=Ia;if(e){var n=e;if(!Kz(t,e)){if(MO(t))throw Error(Je(418));e=Ed(n.nextSibling);var r=ka;e&&Kz(t,e)?_Y(r,n):(t.flags=t.flags&-4097|2,yr=!1,ka=t)}}else{if(MO(t))throw Error(Je(418));t.flags=t.flags&-4097|2,yr=!1,ka=t}}}function Jz(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ka=t}function _1(t){if(t!==ka)return!1;if(!yr)return Jz(t),yr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!EO(t.type,t.memoizedProps)),e&&(e=Ia)){if(MO(t))throw SY(),Error(Je(418));for(;e;)_Y(t,e),e=Ed(e.nextSibling)}if(Jz(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ia=Ed(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ia=null}}else Ia=ka?Ed(t.stateNode.nextSibling):null;return!0}function SY(){for(var t=Ia;t;)t=Ed(t.nextSibling)}function Qg(){Ia=ka=null,yr=!1}function c3(t){rl===null?rl=[t]:rl.push(t)}var jpe=bu.ReactCurrentBatchConfig;function Zy(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Je(309));var r=n.stateNode}if(!r)throw Error(Je(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Je(284));if(!n._owner)throw Error(Je(290,t))}return t}function S1(t,e){throw t=Object.prototype.toString.call(e),Error(Je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qz(t){var e=t._init;return e(t._payload)}function NY(t){function e(v,w){if(t){var b=v.deletions;b===null?(v.deletions=[w],v.flags|=16):b.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Md(v,w),v.index=0,v.sibling=null,v}function s(v,w,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<w?(v.flags|=2,w):b):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,w,b,S){return w===null||w.tag!==6?(w=w2(b,v.mode,S),w.return=v,w):(w=i(w,b),w.return=v,w)}function c(v,w,b,S){var j=b.type;return j===Xm?d(v,w,b.props.children,S,b.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===td&&Qz(j)===w.type)?(S=i(w,b.props),S.ref=Zy(v,w,b),S.return=v,S):(S=MN(b.type,b.key,b.props,null,v.mode,S),S.ref=Zy(v,w,b),S.return=v,S)}function u(v,w,b,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=_2(b,v.mode,S),w.return=v,w):(w=i(w,b.children||[]),w.return=v,w)}function d(v,w,b,S,j){return w===null||w.tag!==7?(w=Hh(b,v.mode,S,j),w.return=v,w):(w=i(w,b),w.return=v,w)}function f(v,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=w2(""+w,v.mode,b),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case f1:return b=MN(w.type,w.key,w.props,null,v.mode,b),b.ref=Zy(v,null,w),b.return=v,b;case qm:return w=_2(w,v.mode,b),w.return=v,w;case td:var S=w._init;return f(v,S(w._payload),b)}if(Fx(w)||Xy(w))return w=Hh(w,v.mode,b,null),w.return=v,w;S1(v,w)}return null}function h(v,w,b,S){var j=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(v,w,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case f1:return b.key===j?c(v,w,b,S):null;case qm:return b.key===j?u(v,w,b,S):null;case td:return j=b._init,h(v,w,j(b._payload),S)}if(Fx(b)||Xy(b))return j!==null?null:d(v,w,b,S,null);S1(v,b)}return null}function p(v,w,b,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,l(w,v,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case f1:return v=v.get(S.key===null?b:S.key)||null,c(w,v,S,j);case qm:return v=v.get(S.key===null?b:S.key)||null,u(w,v,S,j);case td:var E=S._init;return p(v,w,b,E(S._payload),j)}if(Fx(S)||Xy(S))return v=v.get(b)||null,d(w,v,S,j,null);S1(w,S)}return null}function m(v,w,b,S){for(var j=null,E=null,T=w,P=w=0,C=null;T!==null&&P<b.length;P++){T.index>P?(C=T,T=null):C=T.sibling;var R=h(v,T,b[P],S);if(R===null){T===null&&(T=C);break}t&&T&&R.alternate===null&&e(v,T),w=s(R,w,P),E===null?j=R:E.sibling=R,E=R,T=C}if(P===b.length)return n(v,T),yr&&Qf(v,P),j;if(T===null){for(;P<b.length;P++)T=f(v,b[P],S),T!==null&&(w=s(T,w,P),E===null?j=T:E.sibling=T,E=T);return yr&&Qf(v,P),j}for(T=r(v,T);P<b.length;P++)C=p(T,v,P,b[P],S),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?P:C.key),w=s(C,w,P),E===null?j=C:E.sibling=C,E=C);return t&&T.forEach(function(I){return e(v,I)}),yr&&Qf(v,P),j}function g(v,w,b,S){var j=Xy(b);if(typeof j!="function")throw Error(Je(150));if(b=j.call(b),b==null)throw Error(Je(151));for(var E=j=null,T=w,P=w=0,C=null,R=b.next();T!==null&&!R.done;P++,R=b.next()){T.index>P?(C=T,T=null):C=T.sibling;var I=h(v,T,R.value,S);if(I===null){T===null&&(T=C);break}t&&T&&I.alternate===null&&e(v,T),w=s(I,w,P),E===null?j=I:E.sibling=I,E=I,T=C}if(R.done)return n(v,T),yr&&Qf(v,P),j;if(T===null){for(;!R.done;P++,R=b.next())R=f(v,R.value,S),R!==null&&(w=s(R,w,P),E===null?j=R:E.sibling=R,E=R);return yr&&Qf(v,P),j}for(T=r(v,T);!R.done;P++,R=b.next())R=p(T,v,P,R.value,S),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?P:R.key),w=s(R,w,P),E===null?j=R:E.sibling=R,E=R);return t&&T.forEach(function(D){return e(v,D)}),yr&&Qf(v,P),j}function y(v,w,b,S){if(typeof b=="object"&&b!==null&&b.type===Xm&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case f1:e:{for(var j=b.key,E=w;E!==null;){if(E.key===j){if(j=b.type,j===Xm){if(E.tag===7){n(v,E.sibling),w=i(E,b.props.children),w.return=v,v=w;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===td&&Qz(j)===E.type){n(v,E.sibling),w=i(E,b.props),w.ref=Zy(v,E,b),w.return=v,v=w;break e}n(v,E);break}else e(v,E);E=E.sibling}b.type===Xm?(w=Hh(b.props.children,v.mode,S,b.key),w.return=v,v=w):(S=MN(b.type,b.key,b.props,null,v.mode,S),S.ref=Zy(v,w,b),S.return=v,v=S)}return o(v);case qm:e:{for(E=b.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(v,w.sibling),w=i(w,b.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=_2(b,v.mode,S),w.return=v,v=w}return o(v);case td:return E=b._init,y(v,w,E(b._payload),S)}if(Fx(b))return m(v,w,b,S);if(Xy(b))return g(v,w,b,S);S1(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,b),w.return=v,v=w):(n(v,w),w=w2(b,v.mode,S),w.return=v,v=w),o(v)):n(v,w)}return y}var Zg=NY(!0),jY=NY(!1),hj=Zd(null),pj=null,ng=null,u3=null;function d3(){u3=ng=pj=null}function f3(t){var e=hj.current;mr(hj),t._currentValue=e}function RO(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function jg(t,e){pj=t,u3=ng=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(oa=!0),t.firstContext=null)}function No(t){var e=t._currentValue;if(u3!==t)if(t={context:t,memoizedValue:e,next:null},ng===null){if(pj===null)throw Error(Je(308));ng=t,pj.dependencies={lanes:0,firstContext:t}}else ng=ng.next=t;return e}var vh=null;function h3(t){vh===null?vh=[t]:vh.push(t)}function EY(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,h3(e)):(n.next=i.next,i.next=n),e.interleaved=n,cu(t,r)}function cu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nd=!1;function p3(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AY(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ad(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Cn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,cu(t,n)}return i=r.interleaved,i===null?(e.next=e,h3(r)):(e.next=i.next,i.next=e),r.interleaved=e,cu(t,n)}function NN(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ZL(t,n)}}function Zz(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mj(t,e,n,r){var i=t.updateQueue;nd=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,p=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=t,g=l;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Cr({},f,h);break e;case 2:nd=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ap|=o,t.lanes=o,t.memoizedState=f}}function e$(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Je(191,i));i.call(r)}}}var Nw={},Kl=Zd(Nw),F0=Zd(Nw),U0=Zd(Nw);function yh(t){if(t===Nw)throw Error(Je(174));return t}function m3(t,e){switch(or(U0,e),or(F0,t),or(Kl,Nw),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fO(e,t)}mr(Kl),or(Kl,e)}function ev(){mr(Kl),mr(F0),mr(U0)}function TY(t){yh(U0.current);var e=yh(Kl.current),n=fO(e,t.type);e!==n&&(or(F0,t),or(Kl,n))}function g3(t){F0.current===t&&(mr(Kl),mr(F0))}var jr=Zd(0);function gj(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var m2=[];function v3(){for(var t=0;t<m2.length;t++)m2[t]._workInProgressVersionPrimary=null;m2.length=0}var jN=bu.ReactCurrentDispatcher,g2=bu.ReactCurrentBatchConfig,sp=0,Tr=null,yi=null,ki=null,vj=!1,t0=!1,B0=0,Epe=0;function as(){throw Error(Je(321))}function y3(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fl(t[n],e[n]))return!1;return!0}function x3(t,e,n,r,i,s){if(sp=s,Tr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jN.current=t===null||t.memoizedState===null?Mpe:Ppe,t=n(r,i),t0){s=0;do{if(t0=!1,B0=0,25<=s)throw Error(Je(301));s+=1,ki=yi=null,e.updateQueue=null,jN.current=Rpe,t=n(r,i)}while(t0)}if(jN.current=yj,e=yi!==null&&yi.next!==null,sp=0,ki=yi=Tr=null,vj=!1,e)throw Error(Je(300));return t}function b3(){var t=B0!==0;return B0=0,t}function Ul(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ki===null?Tr.memoizedState=ki=t:ki=ki.next=t,ki}function jo(){if(yi===null){var t=Tr.alternate;t=t!==null?t.memoizedState:null}else t=yi.next;var e=ki===null?Tr.memoizedState:ki.next;if(e!==null)ki=e,yi=t;else{if(t===null)throw Error(Je(310));yi=t,t={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},ki===null?Tr.memoizedState=ki=t:ki=ki.next=t}return ki}function z0(t,e){return typeof e=="function"?e(t):e}function v2(t){var e=jo(),n=e.queue;if(n===null)throw Error(Je(311));n.lastRenderedReducer=t;var r=yi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((sp&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Tr.lanes|=d,ap|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,fl(r,e.memoizedState)||(oa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Tr.lanes|=s,ap|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function y2(t){var e=jo(),n=e.queue;if(n===null)throw Error(Je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fl(s,e.memoizedState)||(oa=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function CY(){}function MY(t,e){var n=Tr,r=jo(),i=e(),s=!fl(r.memoizedState,i);if(s&&(r.memoizedState=i,oa=!0),r=r.queue,w3(OY.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ki!==null&&ki.memoizedState.tag&1){if(n.flags|=2048,$0(9,RY.bind(null,n,r,i,e),void 0,null),Ui===null)throw Error(Je(349));sp&30||PY(n,e,i)}return i}function PY(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RY(t,e,n,r){e.value=n,e.getSnapshot=r,IY(e)&&kY(t)}function OY(t,e,n){return n(function(){IY(e)&&kY(t)})}function IY(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fl(t,n)}catch{return!0}}function kY(t){var e=cu(t,1);e!==null&&ul(e,t,1,-1)}function t$(t){var e=Ul();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:z0,lastRenderedState:t},e.queue=t,t=t.dispatch=Cpe.bind(null,Tr,t),[e.memoizedState,t]}function $0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DY(){return jo().memoizedState}function EN(t,e,n,r){var i=Ul();Tr.flags|=t,i.memoizedState=$0(1|e,n,void 0,r===void 0?null:r)}function bA(t,e,n,r){var i=jo();r=r===void 0?null:r;var s=void 0;if(yi!==null){var o=yi.memoizedState;if(s=o.destroy,r!==null&&y3(r,o.deps)){i.memoizedState=$0(e,n,s,r);return}}Tr.flags|=t,i.memoizedState=$0(1|e,n,s,r)}function n$(t,e){return EN(8390656,8,t,e)}function w3(t,e){return bA(2048,8,t,e)}function LY(t,e){return bA(4,2,t,e)}function FY(t,e){return bA(4,4,t,e)}function UY(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function BY(t,e,n){return n=n!=null?n.concat([t]):null,bA(4,4,UY.bind(null,e,t),n)}function _3(){}function zY(t,e){var n=jo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y3(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $Y(t,e){var n=jo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y3(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function VY(t,e,n){return sp&21?(fl(n,e)||(n=XX(),Tr.lanes|=n,ap|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,oa=!0),t.memoizedState=n)}function Ape(t,e){var n=Wn;Wn=n!==0&&4>n?n:4,t(!0);var r=g2.transition;g2.transition={};try{t(!1),e()}finally{Wn=n,g2.transition=r}}function HY(){return jo().memoizedState}function Tpe(t,e,n){var r=Cd(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WY(t))GY(e,n);else if(n=EY(t,e,n,r),n!==null){var i=Ds();ul(n,t,r,i),qY(n,e,r)}}function Cpe(t,e,n){var r=Cd(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WY(t))GY(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,fl(l,o)){var c=e.interleaved;c===null?(i.next=i,h3(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=EY(t,e,i,r),n!==null&&(i=Ds(),ul(n,t,r,i),qY(n,e,r))}}function WY(t){var e=t.alternate;return t===Tr||e!==null&&e===Tr}function GY(t,e){t0=vj=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qY(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ZL(t,n)}}var yj={readContext:No,useCallback:as,useContext:as,useEffect:as,useImperativeHandle:as,useInsertionEffect:as,useLayoutEffect:as,useMemo:as,useReducer:as,useRef:as,useState:as,useDebugValue:as,useDeferredValue:as,useTransition:as,useMutableSource:as,useSyncExternalStore:as,useId:as,unstable_isNewReconciler:!1},Mpe={readContext:No,useCallback:function(t,e){return Ul().memoizedState=[t,e===void 0?null:e],t},useContext:No,useEffect:n$,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,EN(4194308,4,UY.bind(null,e,t),n)},useLayoutEffect:function(t,e){return EN(4194308,4,t,e)},useInsertionEffect:function(t,e){return EN(4,2,t,e)},useMemo:function(t,e){var n=Ul();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ul();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Tpe.bind(null,Tr,t),[r.memoizedState,t]},useRef:function(t){var e=Ul();return t={current:t},e.memoizedState=t},useState:t$,useDebugValue:_3,useDeferredValue:function(t){return Ul().memoizedState=t},useTransition:function(){var t=t$(!1),e=t[0];return t=Ape.bind(null,t[1]),Ul().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tr,i=Ul();if(yr){if(n===void 0)throw Error(Je(407));n=n()}else{if(n=e(),Ui===null)throw Error(Je(349));sp&30||PY(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,n$(OY.bind(null,r,s,t),[t]),r.flags|=2048,$0(9,RY.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ul(),e=Ui.identifierPrefix;if(yr){var n=Gc,r=Wc;n=(r&~(1<<32-cl(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=B0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Epe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ppe={readContext:No,useCallback:zY,useContext:No,useEffect:w3,useImperativeHandle:BY,useInsertionEffect:LY,useLayoutEffect:FY,useMemo:$Y,useReducer:v2,useRef:DY,useState:function(){return v2(z0)},useDebugValue:_3,useDeferredValue:function(t){var e=jo();return VY(e,yi.memoizedState,t)},useTransition:function(){var t=v2(z0)[0],e=jo().memoizedState;return[t,e]},useMutableSource:CY,useSyncExternalStore:MY,useId:HY,unstable_isNewReconciler:!1},Rpe={readContext:No,useCallback:zY,useContext:No,useEffect:w3,useImperativeHandle:BY,useInsertionEffect:LY,useLayoutEffect:FY,useMemo:$Y,useReducer:y2,useRef:DY,useState:function(){return y2(z0)},useDebugValue:_3,useDeferredValue:function(t){var e=jo();return yi===null?e.memoizedState=t:VY(e,yi.memoizedState,t)},useTransition:function(){var t=y2(z0)[0],e=jo().memoizedState;return[t,e]},useMutableSource:CY,useSyncExternalStore:MY,useId:HY,unstable_isNewReconciler:!1};function Xo(t,e){if(t&&t.defaultProps){e=Cr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function OO(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Cr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wA={isMounted:function(t){return(t=t._reactInternals)?jp(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ds(),i=Cd(t),s=Zc(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ad(t,s,i),e!==null&&(ul(e,t,i,r),NN(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ds(),i=Cd(t),s=Zc(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ad(t,s,i),e!==null&&(ul(e,t,i,r),NN(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ds(),r=Cd(t),i=Zc(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ad(t,i,r),e!==null&&(ul(e,t,r,n),NN(e,t,r))}};function r$(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!I0(n,r)||!I0(i,s):!0}function XY(t,e,n){var r=!1,i=Bd,s=e.contextType;return typeof s=="object"&&s!==null?s=No(s):(i=ua(e)?rp:xs.current,r=e.contextTypes,s=(r=r!=null)?Jg(t,i):Bd),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wA,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function i$(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wA.enqueueReplaceState(e,e.state,null)}function IO(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},p3(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=No(s):(s=ua(e)?rp:xs.current,i.context=Jg(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(OO(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wA.enqueueReplaceState(i,i.state,null),mj(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tv(t,e){try{var n="",r=e;do n+=ahe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function x2(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kO(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ope=typeof WeakMap=="function"?WeakMap:Map;function YY(t,e,n){n=Zc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bj||(bj=!0,WO=r),kO(t,e)},n}function KY(t,e,n){n=Zc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kO(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kO(t,e),typeof r!="function"&&(Td===null?Td=new Set([this]):Td.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function s$(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ope;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qpe.bind(null,t,e,n),e.then(t,t))}function a$(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function o$(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zc(-1,1),e.tag=2,Ad(n,e,1))),n.lanes|=1),t)}var Ipe=bu.ReactCurrentOwner,oa=!1;function Ps(t,e,n,r){e.child=t===null?jY(e,null,n,r):Zg(e,t.child,n,r)}function l$(t,e,n,r,i){n=n.render;var s=e.ref;return jg(e,i),r=x3(t,e,n,r,s,i),n=b3(),t!==null&&!oa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,uu(t,e,i)):(yr&&n&&o3(e),e.flags|=1,Ps(t,e,r,i),e.child)}function c$(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!M3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,JY(t,e,s,r,i)):(t=MN(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:I0,n(o,r)&&t.ref===e.ref)return uu(t,e,i)}return e.flags|=1,t=Md(s,r),t.ref=e.ref,t.return=e,e.child=t}function JY(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(I0(s,r)&&t.ref===e.ref)if(oa=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(oa=!0);else return e.lanes=t.lanes,uu(t,e,i)}return DO(t,e,n,r,i)}function QY(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},or(ig,Ea),Ea|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,or(ig,Ea),Ea|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,or(ig,Ea),Ea|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,or(ig,Ea),Ea|=r;return Ps(t,e,i,n),e.child}function ZY(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function DO(t,e,n,r,i){var s=ua(n)?rp:xs.current;return s=Jg(e,s),jg(e,i),n=x3(t,e,n,r,s,i),r=b3(),t!==null&&!oa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,uu(t,e,i)):(yr&&r&&o3(e),e.flags|=1,Ps(t,e,n,i),e.child)}function u$(t,e,n,r,i){if(ua(n)){var s=!0;uj(e)}else s=!1;if(jg(e,i),e.stateNode===null)AN(t,e),XY(e,n,r),IO(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=No(u):(u=ua(n)?rp:xs.current,u=Jg(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&i$(e,o,r,u),nd=!1;var h=e.memoizedState;o.state=h,mj(e,r,o,i),c=e.memoizedState,l!==r||h!==c||ca.current||nd?(typeof d=="function"&&(OO(e,n,d,r),c=e.memoizedState),(l=nd||r$(e,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,AY(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Xo(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=No(c):(c=ua(n)?rp:xs.current,c=Jg(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&i$(e,o,r,c),nd=!1,h=e.memoizedState,o.state=h,mj(e,r,o,i);var m=e.memoizedState;l!==f||h!==m||ca.current||nd?(typeof p=="function"&&(OO(e,n,p,r),m=e.memoizedState),(u=nd||r$(e,n,u,r,h,m,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return LO(t,e,n,r,s,i)}function LO(t,e,n,r,i,s){ZY(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Yz(e,n,!1),uu(t,e,s);r=e.stateNode,Ipe.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zg(e,t.child,null,s),e.child=Zg(e,null,l,s)):Ps(t,e,l,s),e.memoizedState=r.state,i&&Yz(e,n,!0),e.child}function eK(t){var e=t.stateNode;e.pendingContext?Xz(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xz(t,e.context,!1),m3(t,e.containerInfo)}function d$(t,e,n,r,i){return Qg(),c3(i),e.flags|=256,Ps(t,e,n,r),e.child}var FO={dehydrated:null,treeContext:null,retryLane:0};function UO(t){return{baseLanes:t,cachePool:null,transitions:null}}function tK(t,e,n){var r=e.pendingProps,i=jr.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),or(jr,i&1),t===null)return PO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=NA(o,r,0,null),t=Hh(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=UO(n),e.memoizedState=FO,t):S3(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return kpe(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Md(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Md(l,s):(s=Hh(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?UO(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=FO,r}return s=t.child,t=s.sibling,r=Md(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function S3(t,e){return e=NA({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function N1(t,e,n,r){return r!==null&&c3(r),Zg(e,t.child,null,n),t=S3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kpe(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=x2(Error(Je(422))),N1(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=NA({mode:"visible",children:r.children},i,0,null),s=Hh(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zg(e,t.child,null,o),e.child.memoizedState=UO(o),e.memoizedState=FO,s);if(!(e.mode&1))return N1(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(Je(419)),r=x2(s,r,void 0),N1(t,e,o,r)}if(l=(o&t.childLanes)!==0,oa||l){if(r=Ui,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cu(t,i),ul(r,t,i,-1))}return C3(),r=x2(Error(Je(421))),N1(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Xpe.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ia=Ed(i.nextSibling),ka=e,yr=!0,rl=null,t!==null&&(mo[go++]=Wc,mo[go++]=Gc,mo[go++]=ip,Wc=t.id,Gc=t.overflow,ip=e),e=S3(e,r.children),e.flags|=4096,e)}function f$(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),RO(t.return,e,n)}function b2(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function nK(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ps(t,e,r.children,n),r=jr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f$(t,n,e);else if(t.tag===19)f$(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(or(jr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gj(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),b2(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gj(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}b2(e,!0,n,null,s);break;case"together":b2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function AN(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function uu(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ap|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Je(153));if(e.child!==null){for(t=e.child,n=Md(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Md(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Dpe(t,e,n){switch(e.tag){case 3:eK(e),Qg();break;case 5:TY(e);break;case 1:ua(e.type)&&uj(e);break;case 4:m3(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;or(hj,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(or(jr,jr.current&1),e.flags|=128,null):n&e.child.childLanes?tK(t,e,n):(or(jr,jr.current&1),t=uu(t,e,n),t!==null?t.sibling:null);or(jr,jr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nK(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),or(jr,jr.current),r)break;return null;case 22:case 23:return e.lanes=0,QY(t,e,n)}return uu(t,e,n)}var rK,BO,iK,sK;rK=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};BO=function(){};iK=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yh(Kl.current);var s=null;switch(n){case"input":i=lO(t,i),r=lO(t,r),s=[];break;case"select":i=Cr({},i,{value:void 0}),r=Cr({},r,{value:void 0}),s=[];break;case"textarea":i=dO(t,i),r=dO(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lj)}hO(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(A0.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(A0.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ur("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};sK=function(t,e,n,r){n!==r&&(e.flags|=4)};function ex(t,e){if(!yr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function os(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Lpe(t,e,n){var r=e.pendingProps;switch(l3(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return os(e),null;case 1:return ua(e.type)&&cj(),os(e),null;case 3:return r=e.stateNode,ev(),mr(ca),mr(xs),v3(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rl!==null&&(XO(rl),rl=null))),BO(t,e),os(e),null;case 5:g3(e);var i=yh(U0.current);if(n=e.type,t!==null&&e.stateNode!=null)iK(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Je(166));return os(e),null}if(t=yh(Kl.current),_1(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Vl]=e,r[L0]=s,t=(e.mode&1)!==0,n){case"dialog":ur("cancel",r),ur("close",r);break;case"iframe":case"object":case"embed":ur("load",r);break;case"video":case"audio":for(i=0;i<Bx.length;i++)ur(Bx[i],r);break;case"source":ur("error",r);break;case"img":case"image":case"link":ur("error",r),ur("load",r);break;case"details":ur("toggle",r);break;case"input":wz(r,s),ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ur("invalid",r);break;case"textarea":Sz(r,s),ur("invalid",r)}hO(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&w1(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&w1(r.textContent,l,t),i=["children",""+l]):A0.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ur("scroll",r)}switch(n){case"input":h1(r),_z(r,s,!0);break;case"textarea":h1(r),Nz(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=lj)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OX(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vl]=e,t[L0]=r,rK(t,e,!1,!1),e.stateNode=t;e:{switch(o=pO(n,r),n){case"dialog":ur("cancel",t),ur("close",t),i=r;break;case"iframe":case"object":case"embed":ur("load",t),i=r;break;case"video":case"audio":for(i=0;i<Bx.length;i++)ur(Bx[i],t);i=r;break;case"source":ur("error",t),i=r;break;case"img":case"image":case"link":ur("error",t),ur("load",t),i=r;break;case"details":ur("toggle",t),i=r;break;case"input":wz(t,r),i=lO(t,r),ur("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Cr({},r,{value:void 0}),ur("invalid",t);break;case"textarea":Sz(t,r),i=dO(t,r),ur("invalid",t);break;default:i=r}hO(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?DX(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IX(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&T0(t,c):typeof c=="number"&&T0(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(A0.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ur("scroll",t):c!=null&&qL(t,s,c,o))}switch(n){case"input":h1(t),_z(t,r,!1);break;case"textarea":h1(t),Nz(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ud(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?wg(t,!!r.multiple,s,!1):r.defaultValue!=null&&wg(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lj)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return os(e),null;case 6:if(t&&e.stateNode!=null)sK(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Je(166));if(n=yh(U0.current),yh(Kl.current),_1(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vl]=e,(s=r.nodeValue!==n)&&(t=ka,t!==null))switch(t.tag){case 3:w1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&w1(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vl]=e,e.stateNode=r}return os(e),null;case 13:if(mr(jr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yr&&Ia!==null&&e.mode&1&&!(e.flags&128))SY(),Qg(),e.flags|=98560,s=!1;else if(s=_1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Je(317));s[Vl]=e}else Qg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;os(e),s=!1}else rl!==null&&(XO(rl),rl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||jr.current&1?_i===0&&(_i=3):C3())),e.updateQueue!==null&&(e.flags|=4),os(e),null);case 4:return ev(),BO(t,e),t===null&&k0(e.stateNode.containerInfo),os(e),null;case 10:return f3(e.type._context),os(e),null;case 17:return ua(e.type)&&cj(),os(e),null;case 19:if(mr(jr),s=e.memoizedState,s===null)return os(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ex(s,!1);else{if(_i!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gj(t),o!==null){for(e.flags|=128,ex(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return or(jr,jr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Kr()>nv&&(e.flags|=128,r=!0,ex(s,!1),e.lanes=4194304)}else{if(!r)if(t=gj(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ex(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yr)return os(e),null}else 2*Kr()-s.renderingStartTime>nv&&n!==1073741824&&(e.flags|=128,r=!0,ex(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Kr(),e.sibling=null,n=jr.current,or(jr,r?n&1|2:n&1),e):(os(e),null);case 22:case 23:return T3(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ea&1073741824&&(os(e),e.subtreeFlags&6&&(e.flags|=8192)):os(e),null;case 24:return null;case 25:return null}throw Error(Je(156,e.tag))}function Fpe(t,e){switch(l3(e),e.tag){case 1:return ua(e.type)&&cj(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ev(),mr(ca),mr(xs),v3(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return g3(e),null;case 13:if(mr(jr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Je(340));Qg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mr(jr),null;case 4:return ev(),null;case 10:return f3(e.type._context),null;case 22:case 23:return T3(),null;case 24:return null;default:return null}}var j1=!1,ps=!1,Upe=typeof WeakSet=="function"?WeakSet:Set,bt=null;function rg(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Dr(t,e,r)}else n.current=null}function zO(t,e,n){try{n()}catch(r){Dr(t,e,r)}}var h$=!1;function Bpe(t,e){if(NO=sj,t=uY(),a3(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(l=o),h===s&&++d===r&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(jO={focusedElem:t,selectionRange:n},sj=!1,bt=e;bt!==null;)if(e=bt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,bt=t;else for(;bt!==null;){e=bt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Xo(e.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Je(163))}}catch(S){Dr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,bt=t;break}bt=e.return}return m=h$,h$=!1,m}function n0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zO(e,n,s)}i=i.next}while(i!==r)}}function _A(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $O(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function aK(t){var e=t.alternate;e!==null&&(t.alternate=null,aK(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vl],delete e[L0],delete e[TO],delete e[_pe],delete e[Spe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oK(t){return t.tag===5||t.tag===3||t.tag===4}function p$(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oK(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function VO(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lj));else if(r!==4&&(t=t.child,t!==null))for(VO(t,e,n),t=t.sibling;t!==null;)VO(t,e,n),t=t.sibling}function HO(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(HO(t,e,n),t=t.sibling;t!==null;)HO(t,e,n),t=t.sibling}var qi=null,Zo=!1;function Lu(t,e,n){for(n=n.child;n!==null;)lK(t,e,n),n=n.sibling}function lK(t,e,n){if(Yl&&typeof Yl.onCommitFiberUnmount=="function")try{Yl.onCommitFiberUnmount(pA,n)}catch{}switch(n.tag){case 5:ps||rg(n,e);case 6:var r=qi,i=Zo;qi=null,Lu(t,e,n),qi=r,Zo=i,qi!==null&&(Zo?(t=qi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qi.removeChild(n.stateNode));break;case 18:qi!==null&&(Zo?(t=qi,n=n.stateNode,t.nodeType===8?h2(t.parentNode,n):t.nodeType===1&&h2(t,n),R0(t)):h2(qi,n.stateNode));break;case 4:r=qi,i=Zo,qi=n.stateNode.containerInfo,Zo=!0,Lu(t,e,n),qi=r,Zo=i;break;case 0:case 11:case 14:case 15:if(!ps&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zO(n,e,o),i=i.next}while(i!==r)}Lu(t,e,n);break;case 1:if(!ps&&(rg(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Dr(n,e,l)}Lu(t,e,n);break;case 21:Lu(t,e,n);break;case 22:n.mode&1?(ps=(r=ps)||n.memoizedState!==null,Lu(t,e,n),ps=r):Lu(t,e,n);break;default:Lu(t,e,n)}}function m$(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Upe),e.forEach(function(r){var i=Ype.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Fo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:qi=l.stateNode,Zo=!1;break e;case 3:qi=l.stateNode.containerInfo,Zo=!0;break e;case 4:qi=l.stateNode.containerInfo,Zo=!0;break e}l=l.return}if(qi===null)throw Error(Je(160));lK(s,o,i),qi=null,Zo=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Dr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cK(e,t),e=e.sibling}function cK(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fo(e,t),Dl(t),r&4){try{n0(3,t,t.return),_A(3,t)}catch(g){Dr(t,t.return,g)}try{n0(5,t,t.return)}catch(g){Dr(t,t.return,g)}}break;case 1:Fo(e,t),Dl(t),r&512&&n!==null&&rg(n,n.return);break;case 5:if(Fo(e,t),Dl(t),r&512&&n!==null&&rg(n,n.return),t.flags&32){var i=t.stateNode;try{T0(i,"")}catch(g){Dr(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&PX(i,s),pO(l,o);var u=pO(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?DX(i,f):d==="dangerouslySetInnerHTML"?IX(i,f):d==="children"?T0(i,f):qL(i,d,f,u)}switch(l){case"input":cO(i,s);break;case"textarea":RX(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?wg(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?wg(i,!!s.multiple,s.defaultValue,!0):wg(i,!!s.multiple,s.multiple?[]:"",!1))}i[L0]=s}catch(g){Dr(t,t.return,g)}}break;case 6:if(Fo(e,t),Dl(t),r&4){if(t.stateNode===null)throw Error(Je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Dr(t,t.return,g)}}break;case 3:if(Fo(e,t),Dl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{R0(e.containerInfo)}catch(g){Dr(t,t.return,g)}break;case 4:Fo(e,t),Dl(t);break;case 13:Fo(e,t),Dl(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(E3=Kr())),r&4&&m$(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ps=(u=ps)||d,Fo(e,t),ps=u):Fo(e,t),Dl(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(bt=t,d=t.child;d!==null;){for(f=bt=d;bt!==null;){switch(h=bt,p=h.child,h.tag){case 0:case 11:case 14:case 15:n0(4,h,h.return);break;case 1:rg(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Dr(r,n,g)}}break;case 5:rg(h,h.return);break;case 22:if(h.memoizedState!==null){v$(f);continue}}p!==null?(p.return=h,bt=p):v$(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=kX("display",o))}catch(g){Dr(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Dr(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Fo(e,t),Dl(t),r&4&&m$(t);break;case 21:break;default:Fo(e,t),Dl(t)}}function Dl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oK(n)){var r=n;break e}n=n.return}throw Error(Je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(T0(i,""),r.flags&=-33);var s=p$(t);HO(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=p$(t);VO(t,l,o);break;default:throw Error(Je(161))}}catch(c){Dr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zpe(t,e,n){bt=t,uK(t)}function uK(t,e,n){for(var r=(t.mode&1)!==0;bt!==null;){var i=bt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||j1;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ps;l=j1;var u=ps;if(j1=o,(ps=c)&&!u)for(bt=i;bt!==null;)o=bt,c=o.child,o.tag===22&&o.memoizedState!==null?y$(i):c!==null?(c.return=o,bt=c):y$(i);for(;s!==null;)bt=s,uK(s),s=s.sibling;bt=i,j1=l,ps=u}g$(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,bt=s):g$(t)}}function g$(t){for(;bt!==null;){var e=bt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ps||_A(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ps)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Xo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&e$(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}e$(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&R0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Je(163))}ps||e.flags&512&&$O(e)}catch(h){Dr(e,e.return,h)}}if(e===t){bt=null;break}if(n=e.sibling,n!==null){n.return=e.return,bt=n;break}bt=e.return}}function v$(t){for(;bt!==null;){var e=bt;if(e===t){bt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,bt=n;break}bt=e.return}}function y$(t){for(;bt!==null;){var e=bt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_A(4,e)}catch(c){Dr(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Dr(e,i,c)}}var s=e.return;try{$O(e)}catch(c){Dr(e,s,c)}break;case 5:var o=e.return;try{$O(e)}catch(c){Dr(e,o,c)}}}catch(c){Dr(e,e.return,c)}if(e===t){bt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,bt=l;break}bt=e.return}}var $pe=Math.ceil,xj=bu.ReactCurrentDispatcher,N3=bu.ReactCurrentOwner,_o=bu.ReactCurrentBatchConfig,Cn=0,Ui=null,di=null,Ji=0,Ea=0,ig=Zd(0),_i=0,V0=null,ap=0,SA=0,j3=0,r0=null,ra=null,E3=0,nv=1/0,Fc=null,bj=!1,WO=null,Td=null,E1=!1,yd=null,wj=0,i0=0,GO=null,TN=-1,CN=0;function Ds(){return Cn&6?Kr():TN!==-1?TN:TN=Kr()}function Cd(t){return t.mode&1?Cn&2&&Ji!==0?Ji&-Ji:jpe.transition!==null?(CN===0&&(CN=XX()),CN):(t=Wn,t!==0||(t=window.event,t=t===void 0?16:tY(t.type)),t):1}function ul(t,e,n,r){if(50<i0)throw i0=0,GO=null,Error(Je(185));ww(t,n,r),(!(Cn&2)||t!==Ui)&&(t===Ui&&(!(Cn&2)&&(SA|=n),_i===4&&sd(t,Ji)),da(t,r),n===1&&Cn===0&&!(e.mode&1)&&(nv=Kr()+500,xA&&ef()))}function da(t,e){var n=t.callbackNode;jhe(t,e);var r=ij(t,t===Ui?Ji:0);if(r===0)n!==null&&Az(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Az(n),e===1)t.tag===0?Npe(x$.bind(null,t)):bY(x$.bind(null,t)),bpe(function(){!(Cn&6)&&ef()}),n=null;else{switch(YX(r)){case 1:n=QL;break;case 4:n=GX;break;case 16:n=rj;break;case 536870912:n=qX;break;default:n=rj}n=yK(n,dK.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dK(t,e){if(TN=-1,CN=0,Cn&6)throw Error(Je(327));var n=t.callbackNode;if(Eg()&&t.callbackNode!==n)return null;var r=ij(t,t===Ui?Ji:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_j(t,r);else{e=r;var i=Cn;Cn|=2;var s=hK();(Ui!==t||Ji!==e)&&(Fc=null,nv=Kr()+500,Vh(t,e));do try{Wpe();break}catch(l){fK(t,l)}while(!0);d3(),xj.current=s,Cn=i,di!==null?e=0:(Ui=null,Ji=0,e=_i)}if(e!==0){if(e===2&&(i=xO(t),i!==0&&(r=i,e=qO(t,i))),e===1)throw n=V0,Vh(t,0),sd(t,r),da(t,Kr()),n;if(e===6)sd(t,r);else{if(i=t.current.alternate,!(r&30)&&!Vpe(i)&&(e=_j(t,r),e===2&&(s=xO(t),s!==0&&(r=s,e=qO(t,s))),e===1))throw n=V0,Vh(t,0),sd(t,r),da(t,Kr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Je(345));case 2:Zf(t,ra,Fc);break;case 3:if(sd(t,r),(r&130023424)===r&&(e=E3+500-Kr(),10<e)){if(ij(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ds(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=AO(Zf.bind(null,t,ra,Fc),e);break}Zf(t,ra,Fc);break;case 4:if(sd(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-cl(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Kr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$pe(r/1960))-r,10<r){t.timeoutHandle=AO(Zf.bind(null,t,ra,Fc),r);break}Zf(t,ra,Fc);break;case 5:Zf(t,ra,Fc);break;default:throw Error(Je(329))}}}return da(t,Kr()),t.callbackNode===n?dK.bind(null,t):null}function qO(t,e){var n=r0;return t.current.memoizedState.isDehydrated&&(Vh(t,e).flags|=256),t=_j(t,e),t!==2&&(e=ra,ra=n,e!==null&&XO(e)),t}function XO(t){ra===null?ra=t:ra.push.apply(ra,t)}function Vpe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fl(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sd(t,e){for(e&=~j3,e&=~SA,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cl(e),r=1<<n;t[n]=-1,e&=~r}}function x$(t){if(Cn&6)throw Error(Je(327));Eg();var e=ij(t,0);if(!(e&1))return da(t,Kr()),null;var n=_j(t,e);if(t.tag!==0&&n===2){var r=xO(t);r!==0&&(e=r,n=qO(t,r))}if(n===1)throw n=V0,Vh(t,0),sd(t,e),da(t,Kr()),n;if(n===6)throw Error(Je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zf(t,ra,Fc),da(t,Kr()),null}function A3(t,e){var n=Cn;Cn|=1;try{return t(e)}finally{Cn=n,Cn===0&&(nv=Kr()+500,xA&&ef())}}function op(t){yd!==null&&yd.tag===0&&!(Cn&6)&&Eg();var e=Cn;Cn|=1;var n=_o.transition,r=Wn;try{if(_o.transition=null,Wn=1,t)return t()}finally{Wn=r,_o.transition=n,Cn=e,!(Cn&6)&&ef()}}function T3(){Ea=ig.current,mr(ig)}function Vh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xpe(n)),di!==null)for(n=di.return;n!==null;){var r=n;switch(l3(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cj();break;case 3:ev(),mr(ca),mr(xs),v3();break;case 5:g3(r);break;case 4:ev();break;case 13:mr(jr);break;case 19:mr(jr);break;case 10:f3(r.type._context);break;case 22:case 23:T3()}n=n.return}if(Ui=t,di=t=Md(t.current,null),Ji=Ea=e,_i=0,V0=null,j3=SA=ap=0,ra=r0=null,vh!==null){for(e=0;e<vh.length;e++)if(n=vh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vh=null}return t}function fK(t,e){do{var n=di;try{if(d3(),jN.current=yj,vj){for(var r=Tr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vj=!1}if(sp=0,ki=yi=Tr=null,t0=!1,B0=0,N3.current=null,n===null||n.return===null){_i=1,V0=e,di=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=Ji,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=a$(o);if(p!==null){p.flags&=-257,o$(p,o,l,s,e),p.mode&1&&s$(s,u,e),e=p,c=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break e}else{if(!(e&1)){s$(s,u,e),C3();break e}c=Error(Je(426))}}else if(yr&&l.mode&1){var y=a$(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),o$(y,o,l,s,e),c3(tv(c,l));break e}}s=c=tv(c,l),_i!==4&&(_i=2),r0===null?r0=[s]:r0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=YY(s,c,e);Zz(s,v);break e;case 1:l=c;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Td===null||!Td.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=KY(s,l,e);Zz(s,S);break e}}s=s.return}while(s!==null)}mK(n)}catch(j){e=j,di===n&&n!==null&&(di=n=n.return);continue}break}while(!0)}function hK(){var t=xj.current;return xj.current=yj,t===null?yj:t}function C3(){(_i===0||_i===3||_i===2)&&(_i=4),Ui===null||!(ap&268435455)&&!(SA&268435455)||sd(Ui,Ji)}function _j(t,e){var n=Cn;Cn|=2;var r=hK();(Ui!==t||Ji!==e)&&(Fc=null,Vh(t,e));do try{Hpe();break}catch(i){fK(t,i)}while(!0);if(d3(),Cn=n,xj.current=r,di!==null)throw Error(Je(261));return Ui=null,Ji=0,_i}function Hpe(){for(;di!==null;)pK(di)}function Wpe(){for(;di!==null&&!ghe();)pK(di)}function pK(t){var e=vK(t.alternate,t,Ea);t.memoizedProps=t.pendingProps,e===null?mK(t):di=e,N3.current=null}function mK(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Fpe(n,e),n!==null){n.flags&=32767,di=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_i=6,di=null;return}}else if(n=Lpe(n,e,Ea),n!==null){di=n;return}if(e=e.sibling,e!==null){di=e;return}di=e=t}while(e!==null);_i===0&&(_i=5)}function Zf(t,e,n){var r=Wn,i=_o.transition;try{_o.transition=null,Wn=1,Gpe(t,e,n,r)}finally{_o.transition=i,Wn=r}return null}function Gpe(t,e,n,r){do Eg();while(yd!==null);if(Cn&6)throw Error(Je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Je(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ehe(t,s),t===Ui&&(di=Ui=null,Ji=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||E1||(E1=!0,yK(rj,function(){return Eg(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_o.transition,_o.transition=null;var o=Wn;Wn=1;var l=Cn;Cn|=4,N3.current=null,Bpe(t,n),cK(n,t),fpe(jO),sj=!!NO,jO=NO=null,t.current=n,zpe(n),vhe(),Cn=l,Wn=o,_o.transition=s}else t.current=n;if(E1&&(E1=!1,yd=t,wj=i),s=t.pendingLanes,s===0&&(Td=null),bhe(n.stateNode),da(t,Kr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bj)throw bj=!1,t=WO,WO=null,t;return wj&1&&t.tag!==0&&Eg(),s=t.pendingLanes,s&1?t===GO?i0++:(i0=0,GO=t):i0=0,ef(),null}function Eg(){if(yd!==null){var t=YX(wj),e=_o.transition,n=Wn;try{if(_o.transition=null,Wn=16>t?16:t,yd===null)var r=!1;else{if(t=yd,yd=null,wj=0,Cn&6)throw Error(Je(331));var i=Cn;for(Cn|=4,bt=t.current;bt!==null;){var s=bt,o=s.child;if(bt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(bt=u;bt!==null;){var d=bt;switch(d.tag){case 0:case 11:case 15:n0(8,d,s)}var f=d.child;if(f!==null)f.return=d,bt=f;else for(;bt!==null;){d=bt;var h=d.sibling,p=d.return;if(aK(d),d===u){bt=null;break}if(h!==null){h.return=p,bt=h;break}bt=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}bt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,bt=o;else e:for(;bt!==null;){if(s=bt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:n0(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,bt=v;break e}bt=s.return}}var w=t.current;for(bt=w;bt!==null;){o=bt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,bt=b;else e:for(o=w;bt!==null;){if(l=bt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_A(9,l)}}catch(j){Dr(l,l.return,j)}if(l===o){bt=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,bt=S;break e}bt=l.return}}if(Cn=i,ef(),Yl&&typeof Yl.onPostCommitFiberRoot=="function")try{Yl.onPostCommitFiberRoot(pA,t)}catch{}r=!0}return r}finally{Wn=n,_o.transition=e}}return!1}function b$(t,e,n){e=tv(n,e),e=YY(t,e,1),t=Ad(t,e,1),e=Ds(),t!==null&&(ww(t,1,e),da(t,e))}function Dr(t,e,n){if(t.tag===3)b$(t,t,n);else for(;e!==null;){if(e.tag===3){b$(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Td===null||!Td.has(r))){t=tv(n,t),t=KY(e,t,1),e=Ad(e,t,1),t=Ds(),e!==null&&(ww(e,1,t),da(e,t));break}}e=e.return}}function qpe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ds(),t.pingedLanes|=t.suspendedLanes&n,Ui===t&&(Ji&n)===n&&(_i===4||_i===3&&(Ji&130023424)===Ji&&500>Kr()-E3?Vh(t,0):j3|=n),da(t,e)}function gK(t,e){e===0&&(t.mode&1?(e=g1,g1<<=1,!(g1&130023424)&&(g1=4194304)):e=1);var n=Ds();t=cu(t,e),t!==null&&(ww(t,e,n),da(t,n))}function Xpe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gK(t,n)}function Ype(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Je(314))}r!==null&&r.delete(e),gK(t,n)}var vK;vK=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ca.current)oa=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return oa=!1,Dpe(t,e,n);oa=!!(t.flags&131072)}else oa=!1,yr&&e.flags&1048576&&wY(e,fj,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;AN(t,e),t=e.pendingProps;var i=Jg(e,xs.current);jg(e,n),i=x3(null,e,r,t,i,n);var s=b3();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ua(r)?(s=!0,uj(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p3(e),i.updater=wA,e.stateNode=i,i._reactInternals=e,IO(e,r,t,n),e=LO(null,e,r,!0,s,n)):(e.tag=0,yr&&s&&o3(e),Ps(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(AN(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Jpe(r),t=Xo(r,t),i){case 0:e=DO(null,e,r,t,n);break e;case 1:e=u$(null,e,r,t,n);break e;case 11:e=l$(null,e,r,t,n);break e;case 14:e=c$(null,e,r,Xo(r.type,t),n);break e}throw Error(Je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xo(r,i),DO(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xo(r,i),u$(t,e,r,i,n);case 3:e:{if(eK(e),t===null)throw Error(Je(387));r=e.pendingProps,s=e.memoizedState,i=s.element,AY(t,e),mj(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=tv(Error(Je(423)),e),e=d$(t,e,r,n,i);break e}else if(r!==i){i=tv(Error(Je(424)),e),e=d$(t,e,r,n,i);break e}else for(Ia=Ed(e.stateNode.containerInfo.firstChild),ka=e,yr=!0,rl=null,n=jY(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qg(),r===i){e=uu(t,e,n);break e}Ps(t,e,r,n)}e=e.child}return e;case 5:return TY(e),t===null&&PO(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,EO(r,i)?o=null:s!==null&&EO(r,s)&&(e.flags|=32),ZY(t,e),Ps(t,e,o,n),e.child;case 6:return t===null&&PO(e),null;case 13:return tK(t,e,n);case 4:return m3(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zg(e,null,r,n):Ps(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xo(r,i),l$(t,e,r,i,n);case 7:return Ps(t,e,e.pendingProps,n),e.child;case 8:return Ps(t,e,e.pendingProps.children,n),e.child;case 12:return Ps(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,or(hj,r._currentValue),r._currentValue=o,s!==null)if(fl(s.value,o)){if(s.children===i.children&&!ca.current){e=uu(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Zc(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),RO(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Je(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),RO(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ps(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,jg(e,n),i=No(i),r=r(i),e.flags|=1,Ps(t,e,r,n),e.child;case 14:return r=e.type,i=Xo(r,e.pendingProps),i=Xo(r.type,i),c$(t,e,r,i,n);case 15:return JY(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xo(r,i),AN(t,e),e.tag=1,ua(r)?(t=!0,uj(e)):t=!1,jg(e,n),XY(e,r,i),IO(e,r,i,n),LO(null,e,r,!0,t,n);case 19:return nK(t,e,n);case 22:return QY(t,e,n)}throw Error(Je(156,e.tag))};function yK(t,e){return WX(t,e)}function Kpe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xo(t,e,n,r){return new Kpe(t,e,n,r)}function M3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jpe(t){if(typeof t=="function")return M3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===YL)return 11;if(t===KL)return 14}return 2}function Md(t,e){var n=t.alternate;return n===null?(n=xo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function MN(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")M3(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xm:return Hh(n.children,i,s,e);case XL:o=8,i|=8;break;case iO:return t=xo(12,n,e,i|2),t.elementType=iO,t.lanes=s,t;case sO:return t=xo(13,n,e,i),t.elementType=sO,t.lanes=s,t;case aO:return t=xo(19,n,e,i),t.elementType=aO,t.lanes=s,t;case TX:return NA(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EX:o=10;break e;case AX:o=9;break e;case YL:o=11;break e;case KL:o=14;break e;case td:o=16,r=null;break e}throw Error(Je(130,t==null?t:typeof t,""))}return e=xo(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hh(t,e,n,r){return t=xo(7,t,r,e),t.lanes=n,t}function NA(t,e,n,r){return t=xo(22,t,r,e),t.elementType=TX,t.lanes=n,t.stateNode={isHidden:!1},t}function w2(t,e,n){return t=xo(6,t,null,e),t.lanes=n,t}function _2(t,e,n){return e=xo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qpe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=n2(0),this.expirationTimes=n2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=n2(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function P3(t,e,n,r,i,s,o,l,c){return t=new Qpe(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},p3(s),t}function Zpe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qm,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xK(t){if(!t)return Bd;t=t._reactInternals;e:{if(jp(t)!==t||t.tag!==1)throw Error(Je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ua(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Je(171))}if(t.tag===1){var n=t.type;if(ua(n))return xY(t,n,e)}return e}function bK(t,e,n,r,i,s,o,l,c){return t=P3(n,r,!0,t,i,s,o,l,c),t.context=xK(null),n=t.current,r=Ds(),i=Cd(n),s=Zc(r,i),s.callback=e??null,Ad(n,s,i),t.current.lanes=i,ww(t,i,r),da(t,r),t}function jA(t,e,n,r){var i=e.current,s=Ds(),o=Cd(i);return n=xK(n),e.context===null?e.context=n:e.pendingContext=n,e=Zc(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ad(i,e,o),t!==null&&(ul(t,i,o,s),NN(t,i,o)),o}function Sj(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function w$(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function R3(t,e){w$(t,e),(t=t.alternate)&&w$(t,e)}function eme(){return null}var wK=typeof reportError=="function"?reportError:function(t){console.error(t)};function O3(t){this._internalRoot=t}EA.prototype.render=O3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Je(409));jA(t,e,null,null)};EA.prototype.unmount=O3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;op(function(){jA(null,t,null,null)}),e[lu]=null}};function EA(t){this._internalRoot=t}EA.prototype.unstable_scheduleHydration=function(t){if(t){var e=QX();t={blockedOn:null,target:t,priority:e};for(var n=0;n<id.length&&e!==0&&e<id[n].priority;n++);id.splice(n,0,t),n===0&&eY(t)}};function I3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function AA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _$(){}function tme(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Sj(o);s.call(u)}}var o=bK(e,r,t,0,null,!1,!1,"",_$);return t._reactRootContainer=o,t[lu]=o.current,k0(t.nodeType===8?t.parentNode:t),op(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Sj(c);l.call(u)}}var c=P3(t,0,!1,null,null,!1,!1,"",_$);return t._reactRootContainer=c,t[lu]=c.current,k0(t.nodeType===8?t.parentNode:t),op(function(){jA(e,c,n,r)}),c}function TA(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Sj(o);l.call(c)}}jA(e,o,t,i)}else o=tme(n,e,t,i,r);return Sj(o)}KX=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ux(e.pendingLanes);n!==0&&(ZL(e,n|1),da(e,Kr()),!(Cn&6)&&(nv=Kr()+500,ef()))}break;case 13:op(function(){var r=cu(t,1);if(r!==null){var i=Ds();ul(r,t,1,i)}}),R3(t,1)}};e3=function(t){if(t.tag===13){var e=cu(t,134217728);if(e!==null){var n=Ds();ul(e,t,134217728,n)}R3(t,134217728)}};JX=function(t){if(t.tag===13){var e=Cd(t),n=cu(t,e);if(n!==null){var r=Ds();ul(n,t,e,r)}R3(t,e)}};QX=function(){return Wn};ZX=function(t,e){var n=Wn;try{return Wn=t,e()}finally{Wn=n}};gO=function(t,e,n){switch(e){case"input":if(cO(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yA(r);if(!i)throw Error(Je(90));MX(r),cO(r,i)}}}break;case"textarea":RX(t,n);break;case"select":e=n.value,e!=null&&wg(t,!!n.multiple,e,!1)}};UX=A3;BX=op;var nme={usingClientEntryPoint:!1,Events:[Sw,Qm,yA,LX,FX,A3]},tx={findFiberByHostInstance:gh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rme={bundleType:tx.bundleType,version:tx.version,rendererPackageName:tx.rendererPackageName,rendererConfig:tx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VX(t),t===null?null:t.stateNode},findFiberByHostInstance:tx.findFiberByHostInstance||eme,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var A1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!A1.isDisabled&&A1.supportsFiber)try{pA=A1.inject(rme),Yl=A1}catch{}}Xa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nme;Xa.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!I3(e))throw Error(Je(200));return Zpe(t,e,null,n)};Xa.createRoot=function(t,e){if(!I3(t))throw Error(Je(299));var n=!1,r="",i=wK;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=P3(t,1,!1,null,null,n,!1,r,i),t[lu]=e.current,k0(t.nodeType===8?t.parentNode:t),new O3(e)};Xa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Je(188)):(t=Object.keys(t).join(","),Error(Je(268,t)));return t=VX(e),t=t===null?null:t.stateNode,t};Xa.flushSync=function(t){return op(t)};Xa.hydrate=function(t,e,n){if(!AA(e))throw Error(Je(200));return TA(null,t,e,!0,n)};Xa.hydrateRoot=function(t,e,n){if(!I3(t))throw Error(Je(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wK;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bK(e,null,t,1,n??null,i,!1,s,o),t[lu]=e.current,k0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new EA(e)};Xa.render=function(t,e,n){if(!AA(e))throw Error(Je(200));return TA(null,t,e,!1,n)};Xa.unmountComponentAtNode=function(t){if(!AA(t))throw Error(Je(40));return t._reactRootContainer?(op(function(){TA(null,null,t,!1,function(){t._reactRootContainer=null,t[lu]=null})}),!0):!1};Xa.unstable_batchedUpdates=A3;Xa.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!AA(n))throw Error(Je(200));if(t==null||t._reactInternals===void 0)throw Error(Je(38));return TA(t,e,n,!1,r)};Xa.version="18.3.1-next-f1338f8080-20240426";function _K(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_K)}catch(t){console.error(t)}}_K(),_X.exports=Xa;var Ep=_X.exports;const SK=Ln(Ep);var NK,S$=Ep;NK=S$.createRoot,S$.hydrateRoot;const ime=1,sme=1e6;let S2=0;function ame(){return S2=(S2+1)%Number.MAX_SAFE_INTEGER,S2.toString()}const N2=new Map,N$=t=>{if(N2.has(t))return;const e=setTimeout(()=>{N2.delete(t),s0({type:"REMOVE_TOAST",toastId:t})},sme);N2.set(t,e)},ome=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,ime)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?N$(n):t.toasts.forEach(r=>{N$(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},PN=[];let RN={toasts:[]};function s0(t){RN=ome(RN,t),PN.forEach(e=>{e(RN)})}function lme({...t}){const e=ame(),n=i=>s0({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>s0({type:"DISMISS_TOAST",toastId:e});return s0({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Mr(){const[t,e]=N.useState(RN);return N.useEffect(()=>(PN.push(e),()=>{const n=PN.indexOf(e);n>-1&&PN.splice(n,1)}),[t]),{...t,toast:lme,dismiss:n=>s0({type:"DISMISS_TOAST",toastId:n})}}function Ge(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function j$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function CA(...t){return e=>{let n=!1;const r=t.map(i=>{const s=j$(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():j$(t[i],null)}}}}function Xt(...t){return N.useCallback(CA(...t),t)}function cme(t,e){const n=N.createContext(e),r=s=>{const{children:o,...l}=s,c=N.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(s){const o=N.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function zi(t,e=[]){let n=[];function r(s,o){const l=N.createContext(o),c=n.length;n=[...n,o];const u=f=>{var v;const{scope:h,children:p,...m}=f,g=((v=h==null?void 0:h[t])==null?void 0:v[c])||l,y=N.useMemo(()=>m,Object.values(m));return a.jsx(g.Provider,{value:y,children:p})};u.displayName=s+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[c])||l,m=N.useContext(p);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>N.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return N.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,ume(i,...e)]}function ume(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function zd(t){const e=fme(t),n=N.forwardRef((r,i)=>{const{children:s,...o}=r,l=N.Children.toArray(s),c=l.find(pme);if(c){const u=c.props.children,d=l.map(f=>f===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var dme=zd("Slot");function fme(t){const e=N.forwardRef((n,r)=>{const{children:i,...s}=n;if(N.isValidElement(i)){const o=gme(i),l=mme(s,i.props);return i.type!==N.Fragment&&(l.ref=r?CA(r,o):o),N.cloneElement(i,l)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jK=Symbol("radix.slottable");function hme(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=jK,e}function pme(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jK}function mme(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function gme(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function jw(t){const e=t+"CollectionProvider",[n,r]=zi(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:v}=g,w=J.useRef(null),b=J.useRef(new Map).current;return a.jsx(i,{scope:y,itemMap:b,collectionRef:w,children:v})};o.displayName=e;const l=t+"CollectionSlot",c=zd(l),u=J.forwardRef((g,y)=>{const{scope:v,children:w}=g,b=s(l,v),S=Xt(y,b.collectionRef);return a.jsx(c,{ref:S,children:w})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=zd(d),p=J.forwardRef((g,y)=>{const{scope:v,children:w,...b}=g,S=J.useRef(null),j=Xt(y,S),E=s(d,v);return J.useEffect(()=>(E.itemMap.set(S,{ref:S,...b}),()=>void E.itemMap.delete(S))),a.jsx(h,{[f]:"",ref:j,children:w})});p.displayName=d;function m(g){const y=s(t+"CollectionConsumer",g);return J.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((E,T)=>b.indexOf(E.ref.current)-b.indexOf(T.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},m,r]}var vme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pt=vme.reduce((t,e)=>{const n=zd(`Primitive.${e}`),r=N.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function k3(t,e){t&&Ep.flushSync(()=>t.dispatchEvent(e))}function Ur(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function yme(t,e=globalThis==null?void 0:globalThis.document){const n=Ur(t);N.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var xme="DismissableLayer",YO="dismissableLayer.update",bme="dismissableLayer.pointerDownOutside",wme="dismissableLayer.focusOutside",E$,EK=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ap=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=N.useContext(EK),[d,f]=N.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=N.useState({}),m=Xt(e,T=>f(T)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(y),w=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=v,j=Sme(T=>{const P=T.target,C=[...u.branches].some(R=>R.contains(P));!S||C||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},h),E=Nme(T=>{const P=T.target;[...u.branches].some(R=>R.contains(P))||(s==null||s(T),o==null||o(T),T.defaultPrevented||l==null||l())},h);return yme(T=>{w===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},h),N.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(E$=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),A$(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=E$)}},[d,h,n,u]),N.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),A$())},[d,u]),N.useEffect(()=>{const T=()=>p({});return document.addEventListener(YO,T),()=>document.removeEventListener(YO,T)},[]),a.jsx(pt.div,{...c,ref:m,style:{pointerEvents:b?S?"auto":"none":void 0,...t.style},onFocusCapture:Ge(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Ge(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ge(t.onPointerDownCapture,j.onPointerDownCapture)})});Ap.displayName=xme;var _me="DismissableLayerBranch",AK=N.forwardRef((t,e)=>{const n=N.useContext(EK),r=N.useRef(null),i=Xt(e,r);return N.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(pt.div,{...t,ref:i})});AK.displayName=_me;function Sme(t,e=globalThis==null?void 0:globalThis.document){const n=Ur(t),r=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){TK(bme,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Nme(t,e=globalThis==null?void 0:globalThis.document){const n=Ur(t),r=N.useRef(!1);return N.useEffect(()=>{const i=s=>{s.target&&!r.current&&TK(wme,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function A$(){const t=new CustomEvent(YO);document.dispatchEvent(t)}function TK(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?k3(i,s):i.dispatchEvent(s)}var jme=Ap,Eme=AK,$r=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},Ame="Portal",Kv=N.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=N.useState(!1);$r(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?SK.createPortal(a.jsx(pt.div,{...r,ref:e}),o):null});Kv.displayName=Ame;function Tme(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var Ai=t=>{const{present:e,children:n}=t,r=Cme(e),i=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),s=Xt(r.ref,Mme(i));return typeof n=="function"||r.isPresent?N.cloneElement(i,{ref:s}):null};Ai.displayName="Presence";function Cme(t){const[e,n]=N.useState(),r=N.useRef(null),i=N.useRef(t),s=N.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Tme(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=T1(r.current);s.current=l==="mounted"?u:"none"},[l]),$r(()=>{const u=r.current,d=i.current;if(d!==t){const h=s.current,p=T1(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),$r(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const g=T1(r.current).includes(p.animationName);if(p.target===e&&g&&(c("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=p=>{p.target===e&&(s.current=T1(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function T1(t){return(t==null?void 0:t.animationName)||"none"}function Mme(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Pme=HL[" useInsertionEffect ".trim().toString()]||$r;function Va({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=Rme({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const d=N.useRef(t!==void 0);N.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=N.useCallback(d=>{var f;if(l){const h=Ome(d)?d(t):d;h!==t&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,t,s,o]);return[c,u]}function Rme({defaultProp:t,onChange:e}){const[n,r]=N.useState(t),i=N.useRef(n),s=N.useRef(e);return Pme(()=>{s.current=e},[e]),N.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function Ome(t){return typeof t=="function"}var CK=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ime="VisuallyHidden",MA=N.forwardRef((t,e)=>a.jsx(pt.span,{...t,ref:e,style:{...CK,...t.style}}));MA.displayName=Ime;var kme=MA,D3="ToastProvider",[L3,Dme,Lme]=jw("Toast"),[MK]=zi("Toast",[Lme]),[Fme,PA]=MK(D3),PK=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[l,c]=N.useState(null),[u,d]=N.useState(0),f=N.useRef(!1),h=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${D3}\`. Expected non-empty \`string\`.`),a.jsx(L3.Provider,{scope:e,children:a.jsx(Fme,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:N.useCallback(()=>d(p=>p+1),[]),onToastRemove:N.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};PK.displayName=D3;var RK="ToastViewport",Ume=["F8"],KO="toast.viewportPause",JO="toast.viewportResume",OK=N.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Ume,label:i="Notifications ({hotkey})",...s}=t,o=PA(RK,n),l=Dme(n),c=N.useRef(null),u=N.useRef(null),d=N.useRef(null),f=N.useRef(null),h=Xt(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;N.useEffect(()=>{const y=v=>{var b;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),N.useEffect(()=>{const y=c.current,v=f.current;if(m&&y&&v){const w=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(KO);v.dispatchEvent(E),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(JO);v.dispatchEvent(E),o.isClosePausedRef.current=!1}},S=E=>{!y.contains(E.relatedTarget)&&b()},j=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",w),y.addEventListener("focusout",S),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",j),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",j),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[m,o.isClosePausedRef]);const g=N.useCallback(({tabbingDirection:y})=>{const w=l().map(b=>{const S=b.ref.current,j=[S,...Qme(S)];return y==="forwards"?j:j.reverse()});return(y==="forwards"?w.reverse():w).flat()},[l]);return N.useEffect(()=>{const y=f.current;if(y){const v=w=>{var j,E,T;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const P=document.activeElement,C=w.shiftKey;if(w.target===y&&C){(j=u.current)==null||j.focus();return}const D=g({tabbingDirection:C?"backwards":"forwards"}),V=D.findIndex(U=>U===P);j2(D.slice(V+1))?w.preventDefault():C?(E=u.current)==null||E.focus():(T=d.current)==null||T.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[l,g]),a.jsxs(Eme,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&a.jsx(QO,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});j2(y)}}),a.jsx(L3.Slot,{scope:n,children:a.jsx(pt.ol,{tabIndex:-1,...s,ref:h})}),m&&a.jsx(QO,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});j2(y)}})]})});OK.displayName=RK;var IK="ToastFocusProxy",QO=N.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=PA(IK,n);return a.jsx(MA,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&r()}})});QO.displayName=IK;var Ew="Toast",Bme="toast.swipeStart",zme="toast.swipeMove",$me="toast.swipeCancel",Vme="toast.swipeEnd",kK=N.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[l,c]=Va({prop:r,defaultProp:i??!0,onChange:s,caller:Ew});return a.jsx(Ai,{present:n||l,children:a.jsx(Gme,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Ur(t.onPause),onResume:Ur(t.onResume),onSwipeStart:Ge(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ge(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ge(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ge(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});kK.displayName=Ew;var[Hme,Wme]=MK(Ew,{onClose(){}}),Gme=N.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...m}=t,g=PA(Ew,n),[y,v]=N.useState(null),w=Xt(e,U=>v(U)),b=N.useRef(null),S=N.useRef(null),j=i||g.duration,E=N.useRef(0),T=N.useRef(j),P=N.useRef(0),{onToastAdd:C,onToastRemove:R}=g,I=Ur(()=>{var $;(y==null?void 0:y.contains(document.activeElement))&&(($=g.viewport)==null||$.focus()),o()}),D=N.useCallback(U=>{!U||U===1/0||(window.clearTimeout(P.current),E.current=new Date().getTime(),P.current=window.setTimeout(I,U))},[I]);N.useEffect(()=>{const U=g.viewport;if(U){const $=()=>{D(T.current),u==null||u()},z=()=>{const W=new Date().getTime()-E.current;T.current=T.current-W,window.clearTimeout(P.current),c==null||c()};return U.addEventListener(KO,z),U.addEventListener(JO,$),()=>{U.removeEventListener(KO,z),U.removeEventListener(JO,$)}}},[g.viewport,j,c,u,D]),N.useEffect(()=>{s&&!g.isClosePausedRef.current&&D(j)},[s,j,g.isClosePausedRef,D]),N.useEffect(()=>(C(),()=>R()),[C,R]);const V=N.useMemo(()=>y?$K(y):null,[y]);return g.viewport?a.jsxs(a.Fragment,{children:[V&&a.jsx(qme,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),a.jsx(Hme,{scope:n,onClose:I,children:Ep.createPortal(a.jsx(L3.ItemSlot,{scope:n,children:a.jsx(jme,{asChild:!0,onEscapeKeyDown:Ge(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(pt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ge(t.onKeyDown,U=>{U.key==="Escape"&&(l==null||l(U.nativeEvent),U.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Ge(t.onPointerDown,U=>{U.button===0&&(b.current={x:U.clientX,y:U.clientY})}),onPointerMove:Ge(t.onPointerMove,U=>{if(!b.current)return;const $=U.clientX-b.current.x,z=U.clientY-b.current.y,W=!!S.current,k=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=k?L(0,$):0,G=k?0:L(0,z),X=U.pointerType==="touch"?10:2,Z={x:H,y:G},B={originalEvent:U,delta:Z};W?(S.current=Z,C1(zme,f,B,{discrete:!1})):T$(Z,g.swipeDirection,X)?(S.current=Z,C1(Bme,d,B,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs($)>X||Math.abs(z)>X)&&(b.current=null)}),onPointerUp:Ge(t.onPointerUp,U=>{const $=S.current,z=U.target;if(z.hasPointerCapture(U.pointerId)&&z.releasePointerCapture(U.pointerId),S.current=null,b.current=null,$){const W=U.currentTarget,k={originalEvent:U,delta:$};T$($,g.swipeDirection,g.swipeThreshold)?C1(Vme,p,k,{discrete:!0}):C1($me,h,k,{discrete:!0}),W.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),qme=t=>{const{__scopeToast:e,children:n,...r}=t,i=PA(Ew,e),[s,o]=N.useState(!1),[l,c]=N.useState(!1);return Kme(()=>o(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Kv,{asChild:!0,children:a.jsx(MA,{...r,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",n]})})})},Xme="ToastTitle",DK=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(pt.div,{...r,ref:e})});DK.displayName=Xme;var Yme="ToastDescription",LK=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(pt.div,{...r,ref:e})});LK.displayName=Yme;var FK="ToastAction",UK=N.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(zK,{altText:n,asChild:!0,children:a.jsx(F3,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${FK}\`. Expected non-empty \`string\`.`),null)});UK.displayName=FK;var BK="ToastClose",F3=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Wme(BK,n);return a.jsx(zK,{asChild:!0,children:a.jsx(pt.button,{type:"button",...r,ref:e,onClick:Ge(t.onClick,i.onClose)})})});F3.displayName=BK;var zK=N.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return a.jsx(pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function $K(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Jme(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...$K(r))}}),e}function C1(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?k3(i,s):i.dispatchEvent(s)}var T$=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Kme(t=()=>{}){const e=Ur(t);$r(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Jme(t){return t.nodeType===t.ELEMENT_NODE}function Qme(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function j2(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Zme=PK,VK=OK,HK=kK,WK=DK,GK=LK,qK=UK,XK=F3;function YK(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=YK(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=YK(t))&&(r&&(r+=" "),r+=e);return r}const C$=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,M$=tn,Aw=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return M$(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=C$(d)||C$(f);return i[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(m=>{let[g,y]=m;return Array.isArray(y)?y.includes({...s,...l}[g]):{...s,...l}[g]===y})?[...u,f,h]:u},[]);return M$(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ege=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KK=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nge=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...tge,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:KK("lucide",i),...l},[...o.map(([u,d])=>N.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(t,e)=>{const n=N.forwardRef(({className:r,...i},s)=>N.createElement(nge,{ref:s,iconNode:e,className:KK(`lucide-${ege(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rge=Ie("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ige=Ie("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sge=Ie("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const age=Ie("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=Ie("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oge=Ie("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lge=Ie("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=Ie("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Ie("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Ie("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=Ie("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=Ie("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=Ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cge=Ie("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Ie("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uge=Ie("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dge=Ie("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fge=Ie("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=Ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hge=Ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=Ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=Ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=Ie("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=Ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pge=Ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=Ie("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=Ie("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=Ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=Ie("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mge=Ie("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Ie("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Ie("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gge=Ie("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vge=Ie("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yge=Ie("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=Ie("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xge=Ie("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bge=Ie("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wge=Ie("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=Ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=Ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=Ie("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ge=Ie("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=Ie("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=Ie("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=Ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=Ie("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sge=Ie("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nge=Ie("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=Ie("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=Ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=Ie("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=Ie("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Ie("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jge=Ie("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=Ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=Ie("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ege=Ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Age=Ie("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tge=Ie("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cge=Ie("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=Ie("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mge=Ie("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ie("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pge=Ie("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rge=Ie("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oge=Ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ige=Ie("MousePointerClick",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kge=Ie("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=Ie("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=Ie("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=Ie("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=Ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=Ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dge=Ie("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lge=Ie("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fge=Ie("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=Ie("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uge=Ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=Ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Ie("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=Ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=Ie("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Ie("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bge=Ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=Ie("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zge=Ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ge=Ie("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vge=Ie("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hge=Ie("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=Ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=Ie("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wge=Ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gge=Ie("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Ie("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Y3="-",qge=t=>{const e=Yge(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Y3);return l[0]===""&&l.length!==1&&l.shift(),dJ(l,e)||Xge(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},dJ=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?dJ(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Y3);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},D$=/^\[(.+)\]$/,Xge=t=>{if(D$.test(t)){const e=D$.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Yge=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Jge(Object.entries(t.classGroups),n).forEach(([s,o])=>{eI(o,r,s,e)}),r},eI=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:L$(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Kge(i)){eI(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{eI(o,L$(e,s),n,r)})})},L$=(t,e)=>{let n=t;return e.split(Y3).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Kge=t=>t.isThemeGetter,Jge=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,Qge=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},fJ="!",Zge=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let v=l[y];if(u===0){if(v===i&&(r||l.slice(y,y+s)===e)){c.push(l.slice(d,y)),d=y+s;continue}if(v==="/"){f=y;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(fJ),m=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},eve=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},tve=t=>({cache:Qge(t.cacheSize),parseClassName:Zge(t),...qge(t)}),nve=/\s+/,rve=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(nve);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let m=!!p,g=r(m?h.substring(0,p):h);if(!g){if(!m){l=u+(l.length>0?" "+l:l);continue}if(g=r(h),!g){l=u+(l.length>0?" "+l:l);continue}m=!1}const y=eve(d).join(":"),v=f?y+fJ:y,w=v+g;if(s.includes(w))continue;s.push(w);const b=i(g,m);for(let S=0;S<b.length;++S){const j=b[S];s.push(v+j)}l=u+(l.length>0?" "+l:l)}return l};function ive(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=hJ(e))&&(r&&(r+=" "),r+=n);return r}const hJ=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=hJ(t[r]))&&(n&&(n+=" "),n+=e);return n};function sve(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=tve(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=rve(c,n);return i(c,d),d}return function(){return s(ive.apply(null,arguments))}}const cr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},pJ=/^\[(?:([a-z-]+):)?(.+)\]$/i,ave=/^\d+\/\d+$/,ove=new Set(["px","full","screen"]),lve=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cve=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uve=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dve=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fve=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cc=t=>Tg(t)||ove.has(t)||ave.test(t),Fu=t=>Zv(t,"length",bve),Tg=t=>!!t&&!Number.isNaN(Number(t)),E2=t=>Zv(t,"number",Tg),nx=t=>!!t&&Number.isInteger(Number(t)),hve=t=>t.endsWith("%")&&Tg(t.slice(0,-1)),un=t=>pJ.test(t),Uu=t=>lve.test(t),pve=new Set(["length","size","percentage"]),mve=t=>Zv(t,pve,mJ),gve=t=>Zv(t,"position",mJ),vve=new Set(["image","url"]),yve=t=>Zv(t,vve,_ve),xve=t=>Zv(t,"",wve),rx=()=>!0,Zv=(t,e,n)=>{const r=pJ.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},bve=t=>cve.test(t)&&!uve.test(t),mJ=()=>!1,wve=t=>dve.test(t),_ve=t=>fve.test(t),Sve=()=>{const t=cr("colors"),e=cr("spacing"),n=cr("blur"),r=cr("brightness"),i=cr("borderColor"),s=cr("borderRadius"),o=cr("borderSpacing"),l=cr("borderWidth"),c=cr("contrast"),u=cr("grayscale"),d=cr("hueRotate"),f=cr("invert"),h=cr("gap"),p=cr("gradientColorStops"),m=cr("gradientColorStopPositions"),g=cr("inset"),y=cr("margin"),v=cr("opacity"),w=cr("padding"),b=cr("saturate"),S=cr("scale"),j=cr("sepia"),E=cr("skew"),T=cr("space"),P=cr("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",un,e],D=()=>[un,e],V=()=>["",Cc,Fu],U=()=>["auto",Tg,un],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",un],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Tg,un];return{cacheSize:500,separator:":",theme:{colors:[rx],spacing:[Cc,Fu],blur:["none","",Uu,un],brightness:G(),borderColor:[t],borderRadius:["none","","full",Uu,un],borderSpacing:D(),borderWidth:V(),contrast:G(),grayscale:L(),hueRotate:G(),invert:L(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[hve,Fu],inset:I(),margin:I(),opacity:G(),padding:D(),saturate:G(),scale:G(),sepia:L(),skew:G(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",un]}],container:["container"],columns:[{columns:[Uu]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),un]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nx,un]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",un]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",nx,un]}],"grid-cols":[{"grid-cols":[rx]}],"col-start-end":[{col:["auto",{span:["full",nx,un]},un]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[rx]}],"row-start-end":[{row:["auto",{span:[nx,un]},un]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",un]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",un]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",un,e]}],"min-w":[{"min-w":[un,e,"min","max","fit"]}],"max-w":[{"max-w":[un,e,"none","full","min","max","fit","prose",{screen:[Uu]},Uu]}],h:[{h:[un,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[un,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[un,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[un,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Uu,Fu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",E2]}],"font-family":[{font:[rx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",un]}],"line-clamp":[{"line-clamp":["none",Tg,E2]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cc,un]}],"list-image":[{"list-image":["none",un]}],"list-style-type":[{list:["none","disc","decimal",un]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cc,Fu]}],"underline-offset":[{"underline-offset":["auto",Cc,un]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",un]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",un]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),gve]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mve]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yve]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Cc,un]}],"outline-w":[{outline:[Cc,Fu]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Cc,Fu]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Uu,xve]}],"shadow-color":[{shadow:[rx]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Uu,un]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",un]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",un]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",un]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[nx,un]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",un]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",un]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",un]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cc,Fu,E2]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Nve=sve(Sve);function je(...t){return Nve(tn(t))}const jve=Zme,gJ=N.forwardRef(({className:t,...e},n)=>a.jsx(VK,{ref:n,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));gJ.displayName=VK.displayName;const Eve=Aw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vJ=N.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(HK,{ref:r,className:je(Eve({variant:e}),t),...n}));vJ.displayName=HK.displayName;const Ave=N.forwardRef(({className:t,...e},n)=>a.jsx(qK,{ref:n,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));Ave.displayName=qK.displayName;const yJ=N.forwardRef(({className:t,...e},n)=>a.jsx(XK,{ref:n,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Qv,{className:"h-4 w-4"})}));yJ.displayName=XK.displayName;const xJ=N.forwardRef(({className:t,...e},n)=>a.jsx(WK,{ref:n,className:je("text-sm font-semibold",t),...e}));xJ.displayName=WK.displayName;const bJ=N.forwardRef(({className:t,...e},n)=>a.jsx(GK,{ref:n,className:je("text-sm opacity-90",t),...e}));bJ.displayName=GK.displayName;function Tve(){const{toasts:t}=Mr();return a.jsxs(jve,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return a.jsxs(vJ,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(xJ,{children:n}),r&&a.jsx(bJ,{children:r})]}),i,a.jsx(yJ,{})]},e)}),a.jsx(gJ,{})]})}var F$=["light","dark"],Cve="(prefers-color-scheme: dark)",Mve=N.createContext(void 0),Pve={setTheme:t=>{},themes:[]},Rve=()=>{var t;return(t=N.useContext(Mve))!=null?t:Pve};N.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?F$.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,g=!1,y=!0)=>{let v=o?o[m]:m,w=g?m+"|| ''":`'${v}'`,b="";return i&&y&&!g&&F$.includes(m)&&(b+=`d.style.colorScheme = '${m}';`),n==="class"?g||v?b+=`c.add(${w})`:b+="null":v&&(b+=`d[s](n,${w})`),b},p=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Cve}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return N.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var Ove=t=>{switch(t){case"success":return Dve;case"info":return Fve;case"warning":return Lve;case"error":return Uve;default:return null}},Ive=Array(12).fill(0),kve=({visible:t,className:e})=>J.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},J.createElement("div",{className:"sonner-spinner"},Ive.map((n,r)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Dve=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Lve=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Fve=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Uve=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Bve=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),zve=()=>{let[t,e]=J.useState(document.hidden);return J.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},tI=1,$ve=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:tI++,s=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,o=r.then(async c=>{if(s=["resolve",c],J.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(Hve(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>o.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||tI++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ta=new $ve,Vve=(t,e)=>{let n=(e==null?void 0:e.id)||tI++;return ta.addToast({title:t,...e,id:n}),n},Hve=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Wve=Vve,Gve=()=>ta.toasts,qve=()=>ta.getActiveToasts(),It=Object.assign(Wve,{success:ta.success,info:ta.info,warning:ta.warning,error:ta.error,custom:ta.custom,message:ta.message,promise:ta.promise,dismiss:ta.dismiss,loading:ta.loading},{getHistory:Gve,getToasts:qve});function Xve(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Xve(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function M1(t){return t.label!==void 0}var Yve=3,Kve="32px",Jve="16px",U$=4e3,Qve=356,Zve=14,eye=20,tye=200;function Uo(...t){return t.filter(Boolean).join(" ")}function nye(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var rye=t=>{var e,n,r,i,s,o,l,c,u,d,f;let{invert:h,toast:p,unstyled:m,interacting:g,setHeights:y,visibleToasts:v,heights:w,index:b,toasts:S,expanded:j,removeToast:E,defaultRichColors:T,closeButton:P,style:C,cancelButtonStyle:R,actionButtonStyle:I,className:D="",descriptionClassName:V="",duration:U,position:$,gap:z,loadingIcon:W,expandByDefault:k,classNames:L,icons:H,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:X}=t,[Z,B]=J.useState(null),[te,ie]=J.useState(null),[ae,be]=J.useState(!1),[ce,Se]=J.useState(!1),[Te,Y]=J.useState(!1),[Ee,ve]=J.useState(!1),[Re,we]=J.useState(!1),[rt,qe]=J.useState(0),[Q,q]=J.useState(0),pe=J.useRef(p.duration||U||U$),ze=J.useRef(null),Ue=J.useRef(null),ke=b===0,dt=b+1<=v,We=p.type,tt=p.dismissible!==!1,Et=p.className||"",Vt=p.descriptionClassName||"",$e=J.useMemo(()=>w.findIndex(He=>He.toastId===p.id)||0,[w,p.id]),on=J.useMemo(()=>{var He;return(He=p.closeButton)!=null?He:P},[p.closeButton,P]),Kt=J.useMemo(()=>p.duration||U||U$,[p.duration,U]),Dt=J.useRef(0),mt=J.useRef(0),it=J.useRef(0),se=J.useRef(null),[Be,at]=$.split("-"),ot=J.useMemo(()=>w.reduce((He,nt,vt)=>vt>=$e?He:He+nt.height,0),[w,$e]),Ve=zve(),oe=p.invert||h,Ze=We==="loading";mt.current=J.useMemo(()=>$e*z+ot,[$e,ot]),J.useEffect(()=>{pe.current=Kt},[Kt]),J.useEffect(()=>{be(!0)},[]),J.useEffect(()=>{let He=Ue.current;if(He){let nt=He.getBoundingClientRect().height;return q(nt),y(vt=>[{toastId:p.id,height:nt,position:p.position},...vt]),()=>y(vt=>vt.filter(cn=>cn.toastId!==p.id))}},[y,p.id]),J.useLayoutEffect(()=>{if(!ae)return;let He=Ue.current,nt=He.style.height;He.style.height="auto";let vt=He.getBoundingClientRect().height;He.style.height=nt,q(vt),y(cn=>cn.find(yn=>yn.toastId===p.id)?cn.map(yn=>yn.toastId===p.id?{...yn,height:vt}:yn):[{toastId:p.id,height:vt,position:p.position},...cn])},[ae,p.title,p.description,y,p.id]);let Qe=J.useCallback(()=>{Se(!0),qe(mt.current),y(He=>He.filter(nt=>nt.toastId!==p.id)),setTimeout(()=>{E(p)},tye)},[p,E,y,mt]);J.useEffect(()=>{if(p.promise&&We==="loading"||p.duration===1/0||p.type==="loading")return;let He;return j||g||X&&Ve?(()=>{if(it.current<Dt.current){let nt=new Date().getTime()-Dt.current;pe.current=pe.current-nt}it.current=new Date().getTime()})():pe.current!==1/0&&(Dt.current=new Date().getTime(),He=setTimeout(()=>{var nt;(nt=p.onAutoClose)==null||nt.call(p,p),Qe()},pe.current)),()=>clearTimeout(He)},[j,g,p,We,X,Ve,Qe]),J.useEffect(()=>{p.delete&&Qe()},[Qe,p.delete]);function Lt(){var He,nt,vt;return H!=null&&H.loading?J.createElement("div",{className:Uo(L==null?void 0:L.loader,(He=p==null?void 0:p.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":We==="loading"},H.loading):W?J.createElement("div",{className:Uo(L==null?void 0:L.loader,(nt=p==null?void 0:p.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":We==="loading"},W):J.createElement(kve,{className:Uo(L==null?void 0:L.loader,(vt=p==null?void 0:p.classNames)==null?void 0:vt.loader),visible:We==="loading"})}return J.createElement("li",{tabIndex:0,ref:Ue,className:Uo(D,Et,L==null?void 0:L.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[We],(n=p==null?void 0:p.classNames)==null?void 0:n[We]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:T,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":ae,"data-promise":!!p.promise,"data-swiped":Re,"data-removed":ce,"data-visible":dt,"data-y-position":Be,"data-x-position":at,"data-index":b,"data-front":ke,"data-swiping":Te,"data-dismissible":tt,"data-type":We,"data-invert":oe,"data-swipe-out":Ee,"data-swipe-direction":te,"data-expanded":!!(j||k&&ae),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${ce?rt:mt.current}px`,"--initial-height":k?"auto":`${Q}px`,...C,...p.style},onDragEnd:()=>{Y(!1),B(null),se.current=null},onPointerDown:He=>{Ze||!tt||(ze.current=new Date,qe(mt.current),He.target.setPointerCapture(He.pointerId),He.target.tagName!=="BUTTON"&&(Y(!0),se.current={x:He.clientX,y:He.clientY}))},onPointerUp:()=>{var He,nt,vt,cn;if(Ee||!tt)return;se.current=null;let yn=Number(((He=Ue.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qt=Number(((nt=Ue.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Yn=new Date().getTime()-((vt=ze.current)==null?void 0:vt.getTime()),Jn=Z==="x"?yn:Qt,es=Math.abs(Jn)/Yn;if(Math.abs(Jn)>=eye||es>.11){qe(mt.current),(cn=p.onDismiss)==null||cn.call(p,p),ie(Z==="x"?yn>0?"right":"left":Qt>0?"down":"up"),Qe(),ve(!0),we(!1);return}Y(!1),B(null)},onPointerMove:He=>{var nt,vt,cn,yn;if(!se.current||!tt||((nt=window.getSelection())==null?void 0:nt.toString().length)>0)return;let Qt=He.clientY-se.current.y,Yn=He.clientX-se.current.x,Jn=(vt=t.swipeDirections)!=null?vt:nye($);!Z&&(Math.abs(Yn)>1||Math.abs(Qt)>1)&&B(Math.abs(Yn)>Math.abs(Qt)?"x":"y");let es={x:0,y:0};Z==="y"?(Jn.includes("top")||Jn.includes("bottom"))&&(Jn.includes("top")&&Qt<0||Jn.includes("bottom")&&Qt>0)&&(es.y=Qt):Z==="x"&&(Jn.includes("left")||Jn.includes("right"))&&(Jn.includes("left")&&Yn<0||Jn.includes("right")&&Yn>0)&&(es.x=Yn),(Math.abs(es.x)>0||Math.abs(es.y)>0)&&we(!0),(cn=Ue.current)==null||cn.style.setProperty("--swipe-amount-x",`${es.x}px`),(yn=Ue.current)==null||yn.style.setProperty("--swipe-amount-y",`${es.y}px`)}},on&&!p.jsx?J.createElement("button",{"aria-label":G,"data-disabled":Ze,"data-close-button":!0,onClick:Ze||!tt?()=>{}:()=>{var He;Qe(),(He=p.onDismiss)==null||He.call(p,p)},className:Uo(L==null?void 0:L.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=H==null?void 0:H.close)!=null?s:Bve):null,p.jsx||N.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:J.createElement(J.Fragment,null,We||p.icon||p.promise?J.createElement("div",{"data-icon":"",className:Uo(L==null?void 0:L.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Lt():null,p.type!=="loading"?p.icon||(H==null?void 0:H[We])||Ove(We):null):null,J.createElement("div",{"data-content":"",className:Uo(L==null?void 0:L.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},J.createElement("div",{"data-title":"",className:Uo(L==null?void 0:L.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?J.createElement("div",{"data-description":"",className:Uo(V,Vt,L==null?void 0:L.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),N.isValidElement(p.cancel)?p.cancel:p.cancel&&M1(p.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:He=>{var nt,vt;M1(p.cancel)&&tt&&((vt=(nt=p.cancel).onClick)==null||vt.call(nt,He),Qe())},className:Uo(L==null?void 0:L.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,N.isValidElement(p.action)?p.action:p.action&&M1(p.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:He=>{var nt,vt;M1(p.action)&&((vt=(nt=p.action).onClick)==null||vt.call(nt,He),!He.defaultPrevented&&Qe())},className:Uo(L==null?void 0:L.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function B$(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function iye(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",l=s?Jve:Kve;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var sye=N.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:m=Yve,toastOptions:g,dir:y=B$(),gap:v=Zve,loadingIcon:w,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=t,[E,T]=J.useState([]),P=J.useMemo(()=>Array.from(new Set([r].concat(E.filter(X=>X.position).map(X=>X.position)))),[E,r]),[C,R]=J.useState([]),[I,D]=J.useState(!1),[V,U]=J.useState(!1),[$,z]=J.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=J.useRef(null),k=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=J.useRef(null),H=J.useRef(!1),G=J.useCallback(X=>{T(Z=>{var B;return(B=Z.find(te=>te.id===X.id))!=null&&B.delete||ta.dismiss(X.id),Z.filter(({id:te})=>te!==X.id)})},[]);return J.useEffect(()=>ta.subscribe(X=>{if(X.dismiss){T(Z=>Z.map(B=>B.id===X.id?{...B,delete:!0}:B));return}setTimeout(()=>{SK.flushSync(()=>{T(Z=>{let B=Z.findIndex(te=>te.id===X.id);return B!==-1?[...Z.slice(0,B),{...Z[B],...X},...Z.slice(B+1)]:[X,...Z]})})})}),[]),J.useEffect(()=>{if(d!=="system"){z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:Z})=>{z(Z?"dark":"light")})}catch{X.addListener(({matches:B})=>{try{z(B?"dark":"light")}catch(te){console.error(te)}})}},[d]),J.useEffect(()=>{E.length<=1&&D(!1)},[E]),J.useEffect(()=>{let X=Z=>{var B,te;i.every(ie=>Z[ie]||Z.code===ie)&&(D(!0),(B=W.current)==null||B.focus()),Z.code==="Escape"&&(document.activeElement===W.current||(te=W.current)!=null&&te.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[i]),J.useEffect(()=>{if(W.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,H.current=!1)}},[W.current]),J.createElement("section",{ref:e,"aria-label":`${S} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((X,Z)=>{var B;let[te,ie]=X.split("-");return E.length?J.createElement("ol",{key:X,dir:y==="auto"?B$():y,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":te,"data-lifted":I&&E.length>1&&!s,"data-x-position":ie,style:{"--front-toast-height":`${((B=C[0])==null?void 0:B.height)||0}px`,"--width":`${Qve}px`,"--gap":`${v}px`,...p,...iye(c,u)},onBlur:ae=>{H.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(H.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||H.current||(H.current=!0,L.current=ae.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{V||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},E.filter(ae=>!ae.position&&Z===0||ae.position===X).map((ae,be)=>{var ce,Se;return J.createElement(rye,{key:ae.id,icons:b,index:be,toast:ae,defaultRichColors:f,duration:(ce=g==null?void 0:g.duration)!=null?ce:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:m,closeButton:(Se=g==null?void 0:g.closeButton)!=null?Se:o,interacting:V,position:X,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:G,toasts:E.filter(Te=>Te.position==ae.position),heights:C.filter(Te=>Te.position==ae.position),setHeights:R,expandByDefault:s,gap:v,loadingIcon:w,expanded:I,pauseWhenPageIsHidden:j,swipeDirections:t.swipeDirections})})):null}))});const aye=({...t})=>{const{theme:e="system"}=Rve();return a.jsx(sye,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var oye=HL[" useId ".trim().toString()]||(()=>{}),lye=0;function La(t){const[e,n]=N.useState(oye());return $r(()=>{n(r=>r??String(lye++))},[t]),e?`radix-${e}`:""}const cye=["top","right","bottom","left"],Vd=Math.min,Ca=Math.max,jj=Math.round,P1=Math.floor,Ql=t=>({x:t,y:t}),uye={left:"right",right:"left",bottom:"top",top:"bottom"},dye={start:"end",end:"start"};function nI(t,e,n){return Ca(t,Vd(e,n))}function du(t,e){return typeof t=="function"?t(e):t}function fu(t){return t.split("-")[0]}function ey(t){return t.split("-")[1]}function K3(t){return t==="x"?"y":"x"}function J3(t){return t==="y"?"height":"width"}const fye=new Set(["top","bottom"]);function Wl(t){return fye.has(fu(t))?"y":"x"}function Q3(t){return K3(Wl(t))}function hye(t,e,n){n===void 0&&(n=!1);const r=ey(t),i=Q3(t),s=J3(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Ej(o)),[o,Ej(o)]}function pye(t){const e=Ej(t);return[rI(t),e,rI(e)]}function rI(t){return t.replace(/start|end/g,e=>dye[e])}const z$=["left","right"],$$=["right","left"],mye=["top","bottom"],gye=["bottom","top"];function vye(t,e,n){switch(t){case"top":case"bottom":return n?e?$$:z$:e?z$:$$;case"left":case"right":return e?mye:gye;default:return[]}}function yye(t,e,n,r){const i=ey(t);let s=vye(fu(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(rI)))),s}function Ej(t){return t.replace(/left|right|bottom|top/g,e=>uye[e])}function xye(t){return{top:0,right:0,bottom:0,left:0,...t}}function wJ(t){return typeof t!="number"?xye(t):{top:t,right:t,bottom:t,left:t}}function Aj(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function V$(t,e,n){let{reference:r,floating:i}=t;const s=Wl(e),o=Q3(e),l=J3(o),c=fu(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[l]/2-i[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(ey(e)){case"start":p[o]-=h*(n&&u?-1:1);break;case"end":p[o]+=h*(n&&u?-1:1);break}return p}const bye=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=V$(u,r,c),h=r,p={},m=0;for(let g=0;g<l.length;g++){const{name:y,fn:v}=l[g],{x:w,y:b,data:S,reset:j}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,f=b??f,p={...p,[y]:{...p[y],...S}},j&&m<=50&&(m++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:d,y:f}=V$(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function q0(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=du(e,t),m=wJ(p),y=l[h?f==="floating"?"reference":"floating":f],v=Aj(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),S=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},j=Aj(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(v.top-j.top+m.top)/S.y,bottom:(j.bottom-v.bottom+m.bottom)/S.y,left:(v.left-j.left+m.left)/S.x,right:(j.right-v.right+m.right)/S.x}}const wye=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=du(t,e)||{};if(u==null)return{};const f=wJ(d),h={x:n,y:r},p=Q3(i),m=J3(p),g=await o.getDimensions(u),y=p==="y",v=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",S=s.reference[m]+s.reference[p]-h[p]-s.floating[m],j=h[p]-s.reference[p],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=E?E[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(E)))&&(T=l.floating[b]||s.floating[m]);const P=S/2-j/2,C=T/2-g[m]/2-1,R=Vd(f[v],C),I=Vd(f[w],C),D=R,V=T-g[m]-I,U=T/2-g[m]/2+P,$=nI(D,U,V),z=!c.arrow&&ey(i)!=null&&U!==$&&s.reference[m]/2-(U<D?R:I)-g[m]/2<0,W=z?U<D?U-D:U-V:0;return{[p]:h[p]+W,data:{[p]:$,centerOffset:U-$-W,...z&&{alignmentOffset:W}},reset:z}}}),_ye=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=du(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=fu(i),w=Wl(l),b=fu(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!g?[Ej(l)]:pye(l)),E=m!=="none";!h&&E&&j.push(...yye(l,g,m,S));const T=[l,...j],P=await q0(e,y),C=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&C.push(P[v]),f){const U=hye(i,o,S);C.push(P[U[0]],P[U[1]])}if(R=[...R,{placement:i,overflows:C}],!C.every(U=>U<=0)){var I,D;const U=(((I=s.flip)==null?void 0:I.index)||0)+1,$=T[U];if($&&(!(f==="alignment"?w!==Wl($):!1)||R.every(k=>k.overflows[0]>0&&Wl(k.placement)===w)))return{data:{index:U,overflows:R},reset:{placement:$}};let z=(D=R.filter(W=>W.overflows[0]<=0).sort((W,k)=>W.overflows[1]-k.overflows[1])[0])==null?void 0:D.placement;if(!z)switch(p){case"bestFit":{var V;const W=(V=R.filter(k=>{if(E){const L=Wl(k.placement);return L===w||L==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(L=>L>0).reduce((L,H)=>L+H,0)]).sort((k,L)=>k[1]-L[1])[0])==null?void 0:V[0];W&&(z=W);break}case"initialPlacement":z=l;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function H$(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function W$(t){return cye.some(e=>t[e]>=0)}const Sye=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=du(t,e);switch(r){case"referenceHidden":{const s=await q0(e,{...i,elementContext:"reference"}),o=H$(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:W$(o)}}}case"escaped":{const s=await q0(e,{...i,altBoundary:!0}),o=H$(s,n.floating);return{data:{escapedOffsets:o,escaped:W$(o)}}}default:return{}}}}},_J=new Set(["left","top"]);async function Nye(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=fu(n),l=ey(n),c=Wl(n)==="y",u=_J.has(o)?-1:1,d=s&&c?-1:1,f=du(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof m=="number"&&(p=l==="end"?m*-1:m),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const jye=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await Nye(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},Eye=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:v,y:w}=y;return{x:v,y:w}}},...c}=du(t,e),u={x:n,y:r},d=await q0(e,c),f=Wl(fu(i)),h=K3(f);let p=u[h],m=u[f];if(s){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=p+d[y],b=p-d[v];p=nI(w,p,b)}if(o){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=m+d[y],b=m-d[v];m=nI(w,m,b)}const g=l.fn({...e,[h]:p,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[f]:o}}}}}},Aye=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=du(t,e),d={x:n,y:r},f=Wl(i),h=K3(f);let p=d[h],m=d[f];const g=du(l,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=h==="y"?"height":"width",S=s.reference[h]-s.floating[b]+y.mainAxis,j=s.reference[h]+s.reference[b]-y.mainAxis;p<S?p=S:p>j&&(p=j)}if(u){var v,w;const b=h==="y"?"width":"height",S=_J.has(fu(i)),j=s.reference[f]-s.floating[b]+(S&&((v=o.offset)==null?void 0:v[f])||0)+(S?0:y.crossAxis),E=s.reference[f]+s.reference[b]+(S?0:((w=o.offset)==null?void 0:w[f])||0)-(S?y.crossAxis:0);m<j?m=j:m>E&&(m=E)}return{[h]:p,[f]:m}}}},Tye=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...u}=du(t,e),d=await q0(e,u),f=fu(i),h=ey(i),p=Wl(i)==="y",{width:m,height:g}=s.floating;let y,v;f==="top"||f==="bottom"?(y=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,y=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,b=m-d.left-d.right,S=Vd(g-d[y],w),j=Vd(m-d[v],b),E=!e.middlewareData.shift;let T=S,P=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=w),E&&!h){const R=Ca(d.left,0),I=Ca(d.right,0),D=Ca(d.top,0),V=Ca(d.bottom,0);p?P=m-2*(R!==0||I!==0?R+I:Ca(d.left,d.right)):T=g-2*(D!==0||V!==0?D+V:Ca(d.top,d.bottom))}await c({...e,availableWidth:P,availableHeight:T});const C=await o.getDimensions(l.floating);return m!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function DA(){return typeof window<"u"}function ty(t){return SJ(t)?(t.nodeName||"").toLowerCase():"#document"}function Fa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gc(t){var e;return(e=(SJ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function SJ(t){return DA()?t instanceof Node||t instanceof Fa(t).Node:!1}function gl(t){return DA()?t instanceof Element||t instanceof Fa(t).Element:!1}function uc(t){return DA()?t instanceof HTMLElement||t instanceof Fa(t).HTMLElement:!1}function G$(t){return!DA()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fa(t).ShadowRoot}const Cye=new Set(["inline","contents"]);function Cw(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=vl(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Cye.has(i)}const Mye=new Set(["table","td","th"]);function Pye(t){return Mye.has(ty(t))}const Rye=[":popover-open",":modal"];function LA(t){return Rye.some(e=>{try{return t.matches(e)}catch{return!1}})}const Oye=["transform","translate","scale","rotate","perspective"],Iye=["transform","translate","scale","rotate","perspective","filter"],kye=["paint","layout","strict","content"];function Z3(t){const e=e4(),n=gl(t)?vl(t):t;return Oye.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Iye.some(r=>(n.willChange||"").includes(r))||kye.some(r=>(n.contain||"").includes(r))}function Dye(t){let e=Hd(t);for(;uc(e)&&!sv(e);){if(Z3(e))return e;if(LA(e))return null;e=Hd(e)}return null}function e4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Lye=new Set(["html","body","#document"]);function sv(t){return Lye.has(ty(t))}function vl(t){return Fa(t).getComputedStyle(t)}function FA(t){return gl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Hd(t){if(ty(t)==="html")return t;const e=t.assignedSlot||t.parentNode||G$(t)&&t.host||gc(t);return G$(e)?e.host:e}function NJ(t){const e=Hd(t);return sv(e)?t.ownerDocument?t.ownerDocument.body:t.body:uc(e)&&Cw(e)?e:NJ(e)}function X0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=NJ(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Fa(i);if(s){const l=iI(o);return e.concat(o,o.visualViewport||[],Cw(i)?i:[],l&&n?X0(l):[])}return e.concat(i,X0(i,[],n))}function iI(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jJ(t){const e=vl(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=uc(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=jj(n)!==s||jj(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function t4(t){return gl(t)?t:t.contextElement}function Cg(t){const e=t4(t);if(!uc(e))return Ql(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=jJ(e);let o=(s?jj(n.width):n.width)/r,l=(s?jj(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Fye=Ql(0);function EJ(t){const e=Fa(t);return!e4()||!e.visualViewport?Fye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Uye(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Fa(t)?!1:e}function lp(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=t4(t);let o=Ql(1);e&&(r?gl(r)&&(o=Cg(r)):o=Cg(t));const l=Uye(s,n,r)?EJ(s):Ql(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=Fa(s),p=r&&gl(r)?Fa(r):r;let m=h,g=iI(m);for(;g&&r&&p!==m;){const y=Cg(g),v=g.getBoundingClientRect(),w=vl(g),b=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,S=v.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=S,m=Fa(g),g=iI(m)}}return Aj({width:d,height:f,x:c,y:u})}function n4(t,e){const n=FA(t).scrollLeft;return e?e.left+n:lp(gc(t)).left+n}function AJ(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:n4(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Bye(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=gc(r),l=e?LA(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Ql(1);const d=Ql(0),f=uc(r);if((f||!f&&!s)&&((ty(r)!=="body"||Cw(o))&&(c=FA(r)),uc(r))){const p=lp(r);u=Cg(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=o&&!f&&!s?AJ(o,c,!0):Ql(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function zye(t){return Array.from(t.getClientRects())}function $ye(t){const e=gc(t),n=FA(t),r=t.ownerDocument.body,i=Ca(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ca(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+n4(t);const l=-n.scrollTop;return vl(r).direction==="rtl"&&(o+=Ca(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function Vye(t,e){const n=Fa(t),r=gc(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const u=e4();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}const Hye=new Set(["absolute","fixed"]);function Wye(t,e){const n=lp(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=uc(t)?Cg(t):Ql(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:l,x:c,y:u}}function q$(t,e,n){let r;if(e==="viewport")r=Vye(t,n);else if(e==="document")r=$ye(gc(t));else if(gl(e))r=Wye(e,n);else{const i=EJ(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Aj(r)}function TJ(t,e){const n=Hd(t);return n===e||!gl(n)||sv(n)?!1:vl(n).position==="fixed"||TJ(n,e)}function Gye(t,e){const n=e.get(t);if(n)return n;let r=X0(t,[],!1).filter(l=>gl(l)&&ty(l)!=="body"),i=null;const s=vl(t).position==="fixed";let o=s?Hd(t):t;for(;gl(o)&&!sv(o);){const l=vl(o),c=Z3(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&Hye.has(i.position)||Cw(o)&&!c&&TJ(t,o))?r=r.filter(d=>d!==o):i=l,o=Hd(o)}return e.set(t,r),r}function qye(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?LA(e)?[]:Gye(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=q$(e,d,i);return u.top=Ca(f.top,u.top),u.right=Vd(f.right,u.right),u.bottom=Vd(f.bottom,u.bottom),u.left=Ca(f.left,u.left),u},q$(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Xye(t){const{width:e,height:n}=jJ(t);return{width:e,height:n}}function Yye(t,e,n){const r=uc(e),i=gc(e),s=n==="fixed",o=lp(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Ql(0);function u(){c.x=n4(i)}if(r||!r&&!s)if((ty(e)!=="body"||Cw(i))&&(l=FA(e)),r){const p=lp(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?AJ(i,l):Ql(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function A2(t){return vl(t).position==="static"}function X$(t,e){if(!uc(t)||vl(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gc(t)===n&&(n=n.ownerDocument.body),n}function CJ(t,e){const n=Fa(t);if(LA(t))return n;if(!uc(t)){let i=Hd(t);for(;i&&!sv(i);){if(gl(i)&&!A2(i))return i;i=Hd(i)}return n}let r=X$(t,e);for(;r&&Pye(r)&&A2(r);)r=X$(r,e);return r&&sv(r)&&A2(r)&&!Z3(r)?n:r||Dye(t)||n}const Kye=async function(t){const e=this.getOffsetParent||CJ,n=this.getDimensions,r=await n(t.floating);return{reference:Yye(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Jye(t){return vl(t).direction==="rtl"}const Qye={convertOffsetParentRelativeRectToViewportRelativeRect:Bye,getDocumentElement:gc,getClippingRect:qye,getOffsetParent:CJ,getElementRects:Kye,getClientRects:zye,getDimensions:Xye,getScale:Cg,isElement:gl,isRTL:Jye};function MJ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Zye(t,e){let n=null,r;const i=gc(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||e(),!h||!p)return;const m=P1(f),g=P1(i.clientWidth-(d+h)),y=P1(i.clientHeight-(f+p)),v=P1(d),b={rootMargin:-m+"px "+-g+"px "+-y+"px "+-v+"px",threshold:Ca(0,Vd(1,c))||1};let S=!0;function j(E){const T=E[0].intersectionRatio;if(T!==c){if(!S)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!MJ(u,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(j,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,b)}n.observe(t)}return o(!0),s}function exe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=t4(t),d=i||s?[...u?X0(u):[],...X0(e)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&l?Zye(u,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let m,g=c?lp(t):null;c&&y();function y(){const v=lp(t);g&&!MJ(g,v)&&n(),g=v,m=requestAnimationFrame(y)}return n(),()=>{var v;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const txe=jye,nxe=Eye,rxe=_ye,ixe=Tye,sxe=Sye,Y$=wye,axe=Aye,oxe=(t,e,n)=>{const r=new Map,i={platform:Qye,...n},s={...i.platform,_c:r};return bye(t,e,{...i,platform:s})};var lxe=typeof document<"u",cxe=function(){},ON=lxe?N.useLayoutEffect:cxe;function Tj(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Tj(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Tj(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function PJ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function K$(t,e){const n=PJ(t);return Math.round(e*n)/n}function T2(t){const e=N.useRef(t);return ON(()=>{e.current=t}),e}function uxe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=N.useState(r);Tj(h,r)||p(r);const[m,g]=N.useState(null),[y,v]=N.useState(null),w=N.useCallback(k=>{k!==E.current&&(E.current=k,g(k))},[]),b=N.useCallback(k=>{k!==T.current&&(T.current=k,v(k))},[]),S=s||m,j=o||y,E=N.useRef(null),T=N.useRef(null),P=N.useRef(d),C=c!=null,R=T2(c),I=T2(i),D=T2(u),V=N.useCallback(()=>{if(!E.current||!T.current)return;const k={placement:e,strategy:n,middleware:h};I.current&&(k.platform=I.current),oxe(E.current,T.current,k).then(L=>{const H={...L,isPositioned:D.current!==!1};U.current&&!Tj(P.current,H)&&(P.current=H,Ep.flushSync(()=>{f(H)}))})},[h,e,n,I,D]);ON(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[u]);const U=N.useRef(!1);ON(()=>(U.current=!0,()=>{U.current=!1}),[]),ON(()=>{if(S&&(E.current=S),j&&(T.current=j),S&&j){if(R.current)return R.current(S,j,V);V()}},[S,j,V,R,C]);const $=N.useMemo(()=>({reference:E,floating:T,setReference:w,setFloating:b}),[w,b]),z=N.useMemo(()=>({reference:S,floating:j}),[S,j]),W=N.useMemo(()=>{const k={position:n,left:0,top:0};if(!z.floating)return k;const L=K$(z.floating,d.x),H=K$(z.floating,d.y);return l?{...k,transform:"translate("+L+"px, "+H+"px)",...PJ(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:H}},[n,l,z.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:V,refs:$,elements:z,floatingStyles:W}),[d,V,$,z,W])}const dxe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Y$({element:r.current,padding:i}).fn(n):{}:r?Y$({element:r,padding:i}).fn(n):{}}}},fxe=(t,e)=>({...txe(t),options:[t,e]}),hxe=(t,e)=>({...nxe(t),options:[t,e]}),pxe=(t,e)=>({...axe(t),options:[t,e]}),mxe=(t,e)=>({...rxe(t),options:[t,e]}),gxe=(t,e)=>({...ixe(t),options:[t,e]}),vxe=(t,e)=>({...sxe(t),options:[t,e]}),yxe=(t,e)=>({...dxe(t),options:[t,e]});var xxe="Arrow",RJ=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return a.jsx(pt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});RJ.displayName=xxe;var bxe=RJ;function UA(t){const[e,n]=N.useState(void 0);return $r(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var r4="Popper",[OJ,sf]=zi(r4),[wxe,IJ]=OJ(r4),kJ=t=>{const{__scopePopper:e,children:n}=t,[r,i]=N.useState(null);return a.jsx(wxe,{scope:e,anchor:r,onAnchorChange:i,children:n})};kJ.displayName=r4;var DJ="PopperAnchor",LJ=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=IJ(DJ,n),o=N.useRef(null),l=Xt(e,o);return N.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(pt.div,{...i,ref:l})});LJ.displayName=DJ;var i4="PopperContent",[_xe,Sxe]=OJ(i4),FJ=N.forwardRef((t,e)=>{var ae,be,ce,Se,Te,Y;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=t,y=IJ(i4,n),[v,w]=N.useState(null),b=Xt(e,Ee=>w(Ee)),[S,j]=N.useState(null),E=UA(S),T=(E==null?void 0:E.width)??0,P=(E==null?void 0:E.height)??0,C=r+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],D=I.length>0,V={padding:R,boundary:I.filter(jxe),altBoundary:D},{refs:U,floatingStyles:$,placement:z,isPositioned:W,middlewareData:k}=uxe({strategy:"fixed",placement:C,whileElementsMounted:(...Ee)=>exe(...Ee,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[fxe({mainAxis:i+P,alignmentAxis:o}),c&&hxe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?pxe():void 0,...V}),c&&mxe({...V}),gxe({...V,apply:({elements:Ee,rects:ve,availableWidth:Re,availableHeight:we})=>{const{width:rt,height:qe}=ve.reference,Q=Ee.floating.style;Q.setProperty("--radix-popper-available-width",`${Re}px`),Q.setProperty("--radix-popper-available-height",`${we}px`),Q.setProperty("--radix-popper-anchor-width",`${rt}px`),Q.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),S&&yxe({element:S,padding:l}),Exe({arrowWidth:T,arrowHeight:P}),h&&vxe({strategy:"referenceHidden",...V})]}),[L,H]=zJ(z),G=Ur(m);$r(()=>{W&&(G==null||G())},[W,G]);const X=(ae=k.arrow)==null?void 0:ae.x,Z=(be=k.arrow)==null?void 0:be.y,B=((ce=k.arrow)==null?void 0:ce.centerOffset)!==0,[te,ie]=N.useState();return $r(()=>{v&&ie(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:W?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(Se=k.transformOrigin)==null?void 0:Se.x,(Te=k.transformOrigin)==null?void 0:Te.y].join(" "),...((Y=k.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(_xe,{scope:n,placedSide:L,onArrowChange:j,arrowX:X,arrowY:Z,shouldHideArrow:B,children:a.jsx(pt.div,{"data-side":L,"data-align":H,...g,ref:b,style:{...g.style,animation:W?void 0:"none"}})})})});FJ.displayName=i4;var UJ="PopperArrow",Nxe={top:"bottom",right:"left",bottom:"top",left:"right"},BJ=N.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Sxe(UJ,r),o=Nxe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(bxe,{...i,ref:n,style:{...i.style,display:"block"}})})});BJ.displayName=UJ;function jxe(t){return t!==null}var Exe=t=>({name:"transformOrigin",options:t,fn(e){var y,v,w;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=zJ(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=i.arrow)==null?void 0:v.x)??0)+l/2,p=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let m="",g="";return u==="bottom"?(m=o?f:`${h}px`,g=`${-c}px`):u==="top"?(m=o?f:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(m=`${-c}px`,g=o?f:`${p}px`):u==="left"&&(m=`${r.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:m,y:g}}}});function zJ(t){const[e,n="center"]=t.split("-");return[e,n]}var BA=kJ,Mw=LJ,zA=FJ,$A=BJ,[VA]=zi("Tooltip",[sf]),HA=sf(),$J="TooltipProvider",Axe=700,sI="tooltip.open",[Txe,s4]=VA($J),VJ=t=>{const{__scopeTooltip:e,delayDuration:n=Axe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=N.useRef(!0),l=N.useRef(!1),c=N.useRef(0);return N.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(Txe,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:N.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};VJ.displayName=$J;var Y0="Tooltip",[Cxe,WA]=VA(Y0),HJ=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=s4(Y0,t.__scopeTooltip),u=HA(e),[d,f]=N.useState(null),h=La(),p=N.useRef(0),m=o??c.disableHoverableContent,g=l??c.delayDuration,y=N.useRef(!1),[v,w]=Va({prop:r,defaultProp:i??!1,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(sI))):c.onClose(),s==null||s(T)},caller:Y0}),b=N.useMemo(()=>v?y.current?"delayed-open":"instant-open":"closed",[v]),S=N.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,w(!0)},[w]),j=N.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),E=N.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,w(!0),p.current=0},g)},[g,w]);return N.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),a.jsx(BA,{...u,children:a.jsx(Cxe,{scope:e,contentId:h,open:v,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:N.useCallback(()=>{c.isOpenDelayedRef.current?E():S()},[c.isOpenDelayedRef,E,S]),onTriggerLeave:N.useCallback(()=>{m?j():(window.clearTimeout(p.current),p.current=0)},[j,m]),onOpen:S,onClose:j,disableHoverableContent:m,children:n})})};HJ.displayName=Y0;var aI="TooltipTrigger",WJ=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=WA(aI,n),s=s4(aI,n),o=HA(n),l=N.useRef(null),c=Xt(e,l,i.onTriggerChange),u=N.useRef(!1),d=N.useRef(!1),f=N.useCallback(()=>u.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Mw,{asChild:!0,...o,children:a.jsx(pt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Ge(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ge(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ge(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ge(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ge(t.onBlur,i.onClose),onClick:Ge(t.onClick,i.onClose)})})});WJ.displayName=aI;var Mxe="TooltipPortal",[Idt,Pxe]=VA(Mxe,{forceMount:void 0}),av="TooltipContent",GJ=N.forwardRef((t,e)=>{const n=Pxe(av,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=WA(av,t.__scopeTooltip);return a.jsx(Ai,{present:r||o.open,children:o.disableHoverableContent?a.jsx(qJ,{side:i,...s,ref:e}):a.jsx(Rxe,{side:i,...s,ref:e})})}),Rxe=N.forwardRef((t,e)=>{const n=WA(av,t.__scopeTooltip),r=s4(av,t.__scopeTooltip),i=N.useRef(null),s=Xt(e,i),[o,l]=N.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=N.useCallback(()=>{l(null),f(!1)},[f]),p=N.useCallback((m,g)=>{const y=m.currentTarget,v={x:m.clientX,y:m.clientY},w=Lxe(v,y.getBoundingClientRect()),b=Fxe(v,w),S=Uxe(g.getBoundingClientRect()),j=zxe([...b,...S]);l(j),f(!0)},[f]);return N.useEffect(()=>()=>h(),[h]),N.useEffect(()=>{if(c&&d){const m=y=>p(y,d),g=y=>p(y,c);return c.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[c,d,p,h]),N.useEffect(()=>{if(o){const m=g=>{const y=g.target,v={x:g.clientX,y:g.clientY},w=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!Bxe(v,o);w?h():b&&(h(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,d,o,u,h]),a.jsx(qJ,{...t,ref:s})}),[Oxe,Ixe]=VA(Y0,{isInside:!1}),kxe=hme("TooltipContent"),qJ=N.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=WA(av,n),u=HA(n),{onClose:d}=c;return N.useEffect(()=>(document.addEventListener(sI,d),()=>document.removeEventListener(sI,d)),[d]),N.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(Ap,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(zA,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(kxe,{children:r}),a.jsx(Oxe,{scope:n,isInside:!0,children:a.jsx(kme,{id:c.contentId,role:"tooltip",children:i||r})})]})})});GJ.displayName=av;var XJ="TooltipArrow",Dxe=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=HA(n);return Ixe(XJ,n).isInside?null:a.jsx($A,{...i,...r,ref:e})});Dxe.displayName=XJ;function Lxe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Fxe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Uxe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Bxe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function zxe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),$xe(e)}function $xe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Vxe=VJ,Hxe=HJ,Wxe=WJ,YJ=GJ;const Gxe=Vxe,J$=Hxe,Q$=Wxe,oI=N.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(YJ,{ref:r,sideOffset:e,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));oI.displayName=YJ.displayName;var Pw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cp=typeof window>"u"||"Deno"in globalThis;function na(){}function qxe(t,e){return typeof t=="function"?t(e):t}function lI(t){return typeof t=="number"&&t>=0&&t!==1/0}function KJ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Pd(t,e){return typeof t=="function"?t(e):t}function po(t,e){return typeof t=="function"?t(e):t}function Z$(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==a4(o,e.options))return!1}else if(!J0(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function e6(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(K0(e.options.mutationKey)!==K0(s))return!1}else if(!J0(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function a4(t,e){return((e==null?void 0:e.queryKeyHashFn)||K0)(t)}function K0(t){return JSON.stringify(t,(e,n)=>uI(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function J0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>J0(t[n],e[n])):!1}function JJ(t,e){if(t===e)return t;const n=t6(t)&&t6(e);if(n||uI(t)&&uI(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:s[d];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=JJ(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return i===o&&u===i?t:l}return e}function cI(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function t6(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function uI(t){if(!n6(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!n6(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function n6(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xxe(t){return new Promise(e=>{setTimeout(e,t)})}function dI(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?JJ(t,e):e}function Yxe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Kxe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var o4=Symbol();function QJ(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===o4?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Jxe(t,e){return typeof t=="function"?t(...e):!!t}var Ih,cd,Fg,nX,Qxe=(nX=class extends Pw{constructor(){super();Yt(this,Ih);Yt(this,cd);Yt(this,Fg);Nt(this,Fg,e=>{if(!cp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){fe(this,cd)||this.setEventListener(fe(this,Fg))}onUnsubscribe(){var e;this.hasListeners()||((e=fe(this,cd))==null||e.call(this),Nt(this,cd,void 0))}setEventListener(e){var n;Nt(this,Fg,e),(n=fe(this,cd))==null||n.call(this),Nt(this,cd,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){fe(this,Ih)!==e&&(Nt(this,Ih,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof fe(this,Ih)=="boolean"?fe(this,Ih):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ih=new WeakMap,cd=new WeakMap,Fg=new WeakMap,nX),l4=new Qxe,Ug,ud,Bg,rX,Zxe=(rX=class extends Pw{constructor(){super();Yt(this,Ug,!0);Yt(this,ud);Yt(this,Bg);Nt(this,Bg,e=>{if(!cp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){fe(this,ud)||this.setEventListener(fe(this,Bg))}onUnsubscribe(){var e;this.hasListeners()||((e=fe(this,ud))==null||e.call(this),Nt(this,ud,void 0))}setEventListener(e){var n;Nt(this,Bg,e),(n=fe(this,ud))==null||n.call(this),Nt(this,ud,e(this.setOnline.bind(this)))}setOnline(e){fe(this,Ug)!==e&&(Nt(this,Ug,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return fe(this,Ug)}},Ug=new WeakMap,ud=new WeakMap,Bg=new WeakMap,rX),Cj=new Zxe;function fI(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function e0e(t){return Math.min(1e3*2**t,3e4)}function ZJ(t){return(t??"online")==="online"?Cj.isOnline():!0}var eQ=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function C2(t){return t instanceof eQ}function tQ(t){let e=!1,n=0,r=!1,i;const s=fI(),o=g=>{var y;r||(h(new eQ(g)),(y=t.abort)==null||y.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>l4.isFocused()&&(t.networkMode==="always"||Cj.isOnline())&&t.canRun(),d=()=>ZJ(t.networkMode)&&t.canRun(),f=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),i==null||i(),s.resolve(g))},h=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),i==null||i(),s.reject(g))},p=()=>new Promise(g=>{var y;i=v=>{(r||u())&&g(v)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var E;if(r)return;const w=t.retry??(cp?0:3),b=t.retryDelay??e0e,S=typeof b=="function"?b(n,v):b,j=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(e||!j){h(v);return}n++,(E=t.onFail)==null||E.call(t,n,v),Xxe(S).then(()=>u()?void 0:p()).then(()=>{e?h(v):m()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?m():p().then(m),s)}}var t0e=t=>setTimeout(t,0);function n0e(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=t0e;const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Ki=n0e(),kh,iX,nQ=(iX=class{constructor(){Yt(this,kh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lI(this.gcTime)&&Nt(this,kh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(cp?1/0:5*60*1e3))}clearGcTimeout(){fe(this,kh)&&(clearTimeout(fe(this,kh)),Nt(this,kh,void 0))}},kh=new WeakMap,iX),zg,Dh,ho,Lh,ds,gw,Fh,Jo,Lc,sX,r0e=(sX=class extends nQ{constructor(e){super();Yt(this,Jo);Yt(this,zg);Yt(this,Dh);Yt(this,ho);Yt(this,Lh);Yt(this,ds);Yt(this,gw);Yt(this,Fh);Nt(this,Fh,!1),Nt(this,gw,e.defaultOptions),this.setOptions(e.options),this.observers=[],Nt(this,Lh,e.client),Nt(this,ho,fe(this,Lh).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Nt(this,zg,i0e(this.options)),this.state=e.state??fe(this,zg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=fe(this,ds))==null?void 0:e.promise}setOptions(e){this.options={...fe(this,gw),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&fe(this,ho).remove(this)}setData(e,n){const r=dI(this.state.data,e,this.options);return En(this,Jo,Lc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){En(this,Jo,Lc).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=fe(this,ds))==null?void 0:r.promise;return(i=fe(this,ds))==null||i.cancel(e),n?n.then(na).catch(na):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(fe(this,zg))}isActive(){return this.observers.some(e=>po(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===o4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Pd(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!KJ(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=fe(this,ds))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=fe(this,ds))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),fe(this,ho).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(fe(this,ds)&&(fe(this,Fh)?fe(this,ds).cancel({revert:!0}):fe(this,ds).cancelRetry()),this.scheduleGc()),fe(this,ho).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||En(this,Jo,Lc).call(this,{type:"invalidate"})}fetch(e,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(fe(this,ds))return fe(this,ds).continueRetry(),fe(this,ds).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Nt(this,Fh,!0),r.signal)})},s=()=>{const h=QJ(this.options,n),m=(()=>{const g={client:fe(this,Lh),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return Nt(this,Fh,!1),this.options.persister?this.options.persister(h,m,this):h(m)},l=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:fe(this,Lh),state:this.state,fetchFn:s};return i(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),Nt(this,Dh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&En(this,Jo,Lc).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,m,g,y;C2(h)&&h.silent||En(this,Jo,Lc).call(this,{type:"error",error:h}),C2(h)||((m=(p=fe(this,ho).config).onError)==null||m.call(p,h,this),(y=(g=fe(this,ho).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return Nt(this,ds,tQ({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,m,g,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){c(v);return}(m=(p=fe(this,ho).config).onSuccess)==null||m.call(p,h,this),(y=(g=fe(this,ho).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{En(this,Jo,Lc).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{En(this,Jo,Lc).call(this,{type:"pause"})},onContinue:()=>{En(this,Jo,Lc).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),fe(this,ds).start()}},zg=new WeakMap,Dh=new WeakMap,ho=new WeakMap,Lh=new WeakMap,ds=new WeakMap,gw=new WeakMap,Fh=new WeakMap,Jo=new WeakSet,Lc=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...rQ(r.data,this.options),fetchMeta:e.meta??null};case"success":return Nt(this,Dh,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return C2(i)&&i.revert&&fe(this,Dh)?{...fe(this,Dh),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ki.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),fe(this,ho).notify({query:this,type:"updated",action:e})})},sX);function rQ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZJ(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function i0e(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Bl,aX,s0e=(aX=class extends Pw{constructor(e={}){super();Yt(this,Bl);this.config=e,Nt(this,Bl,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??a4(i,n);let o=this.get(s);return o||(o=new r0e({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){fe(this,Bl).has(e.queryHash)||(fe(this,Bl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=fe(this,Bl).get(e.queryHash);n&&(e.destroy(),n===e&&fe(this,Bl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ki.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return fe(this,Bl).get(e)}getAll(){return[...fe(this,Bl).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Z$(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Z$(e,r)):n}notify(e){Ki.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ki.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ki.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Bl=new WeakMap,aX),zl,Cs,Uh,$l,Ku,oX,a0e=(oX=class extends nQ{constructor(e){super();Yt(this,$l);Yt(this,zl);Yt(this,Cs);Yt(this,Uh);this.mutationId=e.mutationId,Nt(this,Cs,e.mutationCache),Nt(this,zl,[]),this.state=e.state||o0e(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){fe(this,zl).includes(e)||(fe(this,zl).push(e),this.clearGcTimeout(),fe(this,Cs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Nt(this,zl,fe(this,zl).filter(n=>n!==e)),this.scheduleGc(),fe(this,Cs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){fe(this,zl).length||(this.state.status==="pending"?this.scheduleGc():fe(this,Cs).remove(this))}continue(){var e;return((e=fe(this,Uh))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,l,c,u,d,f,h,p,m,g,y,v,w,b,S,j,E,T,P;const n=()=>{En(this,$l,Ku).call(this,{type:"continue"})};Nt(this,Uh,tQ({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,R)=>{En(this,$l,Ku).call(this,{type:"failed",failureCount:C,error:R})},onPause:()=>{En(this,$l,Ku).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>fe(this,Cs).canRun(this)}));const r=this.state.status==="pending",i=!fe(this,Uh).canStart();try{if(r)n();else{En(this,$l,Ku).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(s=fe(this,Cs).config).onMutate)==null?void 0:o.call(s,e,this));const R=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));R!==this.state.context&&En(this,$l,Ku).call(this,{type:"pending",context:R,variables:e,isPaused:i})}const C=await fe(this,Uh).start();return await((d=(u=fe(this,Cs).config).onSuccess)==null?void 0:d.call(u,C,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,C,e,this.state.context)),await((m=(p=fe(this,Cs).config).onSettled)==null?void 0:m.call(p,C,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,C,null,e,this.state.context)),En(this,$l,Ku).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(v=fe(this,Cs).config).onError)==null?void 0:w.call(v,C,e,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,C,e,this.state.context)),await((E=(j=fe(this,Cs).config).onSettled)==null?void 0:E.call(j,void 0,C,this.state.variables,this.state.context,this)),await((P=(T=this.options).onSettled)==null?void 0:P.call(T,void 0,C,e,this.state.context)),C}finally{En(this,$l,Ku).call(this,{type:"error",error:C})}}finally{fe(this,Cs).runNext(this)}}},zl=new WeakMap,Cs=new WeakMap,Uh=new WeakMap,$l=new WeakSet,Ku=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ki.batch(()=>{fe(this,zl).forEach(r=>{r.onMutationUpdate(e)}),fe(this,Cs).notify({mutation:this,type:"updated",action:e})})},oX);function o0e(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vc,Qo,vw,lX,l0e=(lX=class extends Pw{constructor(e={}){super();Yt(this,Vc);Yt(this,Qo);Yt(this,vw);this.config=e,Nt(this,Vc,new Set),Nt(this,Qo,new Map),Nt(this,vw,0)}build(e,n,r){const i=new a0e({mutationCache:this,mutationId:++c1(this,vw)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){fe(this,Vc).add(e);const n=R1(e);if(typeof n=="string"){const r=fe(this,Qo).get(n);r?r.push(e):fe(this,Qo).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(fe(this,Vc).delete(e)){const n=R1(e);if(typeof n=="string"){const r=fe(this,Qo).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&fe(this,Qo).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=R1(e);if(typeof n=="string"){const r=fe(this,Qo).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=R1(e);if(typeof n=="string"){const i=(r=fe(this,Qo).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ki.batch(()=>{fe(this,Vc).forEach(e=>{this.notify({type:"removed",mutation:e})}),fe(this,Vc).clear(),fe(this,Qo).clear()})}getAll(){return Array.from(fe(this,Vc))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>e6(n,r))}findAll(e={}){return this.getAll().filter(n=>e6(e,n))}notify(e){Ki.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ki.batch(()=>Promise.all(e.map(n=>n.continue().catch(na))))}},Vc=new WeakMap,Qo=new WeakMap,vw=new WeakMap,lX);function R1(t){var e;return(e=t.options.scope)==null?void 0:e.id}function r6(t){return{onFetch:(e,n)=>{var d,f,h,p,m;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=QJ(e.options,e.fetchOptions),w=async(b,S,j)=>{if(g)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const T=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:S,direction:j?"backward":"forward",meta:e.options.meta};return y(I),I})(),P=await v(T),{maxPages:C}=e.options,R=j?Kxe:Yxe;return{pages:R(b.pages,P,C),pageParams:R(b.pageParams,S,C)}};if(i&&s.length){const b=i==="backward",S=b?c0e:i6,j={pages:s,pageParams:o},E=S(r,j);l=await w(j,E,b)}else{const b=t??s.length;do{const S=c===0?o[0]??r.initialPageParam:i6(r,l);if(c>0&&S==null)break;l=await w(l,S),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function i6(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function c0e(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ir,dd,fd,$g,Vg,hd,Hg,Wg,cX,u0e=(cX=class{constructor(t={}){Yt(this,Ir);Yt(this,dd);Yt(this,fd);Yt(this,$g);Yt(this,Vg);Yt(this,hd);Yt(this,Hg);Yt(this,Wg);Nt(this,Ir,t.queryCache||new s0e),Nt(this,dd,t.mutationCache||new l0e),Nt(this,fd,t.defaultOptions||{}),Nt(this,$g,new Map),Nt(this,Vg,new Map),Nt(this,hd,0)}mount(){c1(this,hd)._++,fe(this,hd)===1&&(Nt(this,Hg,l4.subscribe(async t=>{t&&(await this.resumePausedMutations(),fe(this,Ir).onFocus())})),Nt(this,Wg,Cj.subscribe(async t=>{t&&(await this.resumePausedMutations(),fe(this,Ir).onOnline())})))}unmount(){var t,e;c1(this,hd)._--,fe(this,hd)===0&&((t=fe(this,Hg))==null||t.call(this),Nt(this,Hg,void 0),(e=fe(this,Wg))==null||e.call(this),Nt(this,Wg,void 0))}isFetching(t){return fe(this,Ir).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return fe(this,dd).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=fe(this,Ir).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=fe(this,Ir).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Pd(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return fe(this,Ir).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=fe(this,Ir).get(r.queryHash),s=i==null?void 0:i.state.data,o=qxe(e,s);if(o!==void 0)return fe(this,Ir).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ki.batch(()=>fe(this,Ir).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=fe(this,Ir).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=fe(this,Ir);Ki.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=fe(this,Ir);return Ki.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ki.batch(()=>fe(this,Ir).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(na).catch(na)}invalidateQueries(t,e={}){return Ki.batch(()=>(fe(this,Ir).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ki.batch(()=>fe(this,Ir).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(na)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(na)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=fe(this,Ir).build(this,e);return n.isStaleByTime(Pd(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(na).catch(na)}fetchInfiniteQuery(t){return t.behavior=r6(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(na).catch(na)}ensureInfiniteQueryData(t){return t.behavior=r6(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cj.isOnline()?fe(this,dd).resumePausedMutations():Promise.resolve()}getQueryCache(){return fe(this,Ir)}getMutationCache(){return fe(this,dd)}getDefaultOptions(){return fe(this,fd)}setDefaultOptions(t){Nt(this,fd,t)}setQueryDefaults(t,e){fe(this,$g).set(K0(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...fe(this,$g).values()],n={};return e.forEach(r=>{J0(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){fe(this,Vg).set(K0(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...fe(this,Vg).values()],n={};return e.forEach(r=>{J0(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...fe(this,fd).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=a4(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===o4&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...fe(this,fd).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){fe(this,Ir).clear(),fe(this,dd).clear()}},Ir=new WeakMap,dd=new WeakMap,fd=new WeakMap,$g=new WeakMap,Vg=new WeakMap,hd=new WeakMap,Hg=new WeakMap,Wg=new WeakMap,cX),ea,An,yw,Ms,Bh,Gg,pd,md,xw,qg,Xg,zh,$h,gd,Yg,Bn,zx,hI,pI,mI,gI,vI,yI,xI,iQ,uX,d0e=(uX=class extends Pw{constructor(e,n){super();Yt(this,Bn);Yt(this,ea);Yt(this,An);Yt(this,yw);Yt(this,Ms);Yt(this,Bh);Yt(this,Gg);Yt(this,pd);Yt(this,md);Yt(this,xw);Yt(this,qg);Yt(this,Xg);Yt(this,zh);Yt(this,$h);Yt(this,gd);Yt(this,Yg,new Set);this.options=n,Nt(this,ea,e),Nt(this,md,null),Nt(this,pd,fI()),this.options.experimental_prefetchInRender||fe(this,pd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(fe(this,An).addObserver(this),s6(fe(this,An),this.options)?En(this,Bn,zx).call(this):this.updateResult(),En(this,Bn,gI).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bI(fe(this,An),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bI(fe(this,An),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,En(this,Bn,vI).call(this),En(this,Bn,yI).call(this),fe(this,An).removeObserver(this)}setOptions(e){const n=this.options,r=fe(this,An);if(this.options=fe(this,ea).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof po(this.options.enabled,fe(this,An))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");En(this,Bn,xI).call(this),fe(this,An).setOptions(this.options),n._defaulted&&!cI(this.options,n)&&fe(this,ea).getQueryCache().notify({type:"observerOptionsUpdated",query:fe(this,An),observer:this});const i=this.hasListeners();i&&a6(fe(this,An),r,this.options,n)&&En(this,Bn,zx).call(this),this.updateResult(),i&&(fe(this,An)!==r||po(this.options.enabled,fe(this,An))!==po(n.enabled,fe(this,An))||Pd(this.options.staleTime,fe(this,An))!==Pd(n.staleTime,fe(this,An)))&&En(this,Bn,hI).call(this);const s=En(this,Bn,pI).call(this);i&&(fe(this,An)!==r||po(this.options.enabled,fe(this,An))!==po(n.enabled,fe(this,An))||s!==fe(this,gd))&&En(this,Bn,mI).call(this,s)}getOptimisticResult(e){const n=fe(this,ea).getQueryCache().build(fe(this,ea),e),r=this.createResult(n,e);return h0e(this,r)&&(Nt(this,Ms,r),Nt(this,Gg,this.options),Nt(this,Bh,fe(this,An).state)),r}getCurrentResult(){return fe(this,Ms)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(e){fe(this,Yg).add(e)}getCurrentQuery(){return fe(this,An)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=fe(this,ea).defaultQueryOptions(e),r=fe(this,ea).getQueryCache().build(fe(this,ea),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return En(this,Bn,zx).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),fe(this,Ms)))}createResult(e,n){var C;const r=fe(this,An),i=this.options,s=fe(this,Ms),o=fe(this,Bh),l=fe(this,Gg),u=e!==r?e.state:fe(this,yw),{state:d}=e;let f={...d},h=!1,p;if(n._optimisticResults){const R=this.hasListeners(),I=!R&&s6(e,n),D=R&&a6(e,r,n,i);(I||D)&&(f={...f,...rQ(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:y}=f;p=f.data;let v=!1;if(n.placeholderData!==void 0&&p===void 0&&y==="pending"){let R;s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(R=s.data,v=!0):R=typeof n.placeholderData=="function"?n.placeholderData((C=fe(this,Xg))==null?void 0:C.state.data,fe(this,Xg)):n.placeholderData,R!==void 0&&(y="success",p=dI(s==null?void 0:s.data,R,n),h=!0)}if(n.select&&p!==void 0&&!v)if(s&&p===(o==null?void 0:o.data)&&n.select===fe(this,xw))p=fe(this,qg);else try{Nt(this,xw,n.select),p=n.select(p),p=dI(s==null?void 0:s.data,p,n),Nt(this,qg,p),Nt(this,md,null)}catch(R){Nt(this,md,R)}fe(this,md)&&(m=fe(this,md),p=fe(this,qg),g=Date.now(),y="error");const w=f.fetchStatus==="fetching",b=y==="pending",S=y==="error",j=b&&w,E=p!==void 0,P={status:y,fetchStatus:f.fetchStatus,isPending:b,isSuccess:y==="success",isError:S,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:f.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!b,isLoadingError:S&&!E,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&E,isStale:c4(e,n),refetch:this.refetch,promise:fe(this,pd),isEnabled:po(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=V=>{P.status==="error"?V.reject(P.error):P.data!==void 0&&V.resolve(P.data)},I=()=>{const V=Nt(this,pd,P.promise=fI());R(V)},D=fe(this,pd);switch(D.status){case"pending":e.queryHash===r.queryHash&&R(D);break;case"fulfilled":(P.status==="error"||P.data!==D.value)&&I();break;case"rejected":(P.status!=="error"||P.error!==D.reason)&&I();break}}return P}updateResult(){const e=fe(this,Ms),n=this.createResult(fe(this,An),this.options);if(Nt(this,Bh,fe(this,An).state),Nt(this,Gg,this.options),fe(this,Bh).data!==void 0&&Nt(this,Xg,fe(this,An)),cI(n,e))return;Nt(this,Ms,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!fe(this,Yg).size)return!0;const o=new Set(s??fe(this,Yg));return this.options.throwOnError&&o.add("error"),Object.keys(fe(this,Ms)).some(l=>{const c=l;return fe(this,Ms)[c]!==e[c]&&o.has(c)})};En(this,Bn,iQ).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&En(this,Bn,gI).call(this)}},ea=new WeakMap,An=new WeakMap,yw=new WeakMap,Ms=new WeakMap,Bh=new WeakMap,Gg=new WeakMap,pd=new WeakMap,md=new WeakMap,xw=new WeakMap,qg=new WeakMap,Xg=new WeakMap,zh=new WeakMap,$h=new WeakMap,gd=new WeakMap,Yg=new WeakMap,Bn=new WeakSet,zx=function(e){En(this,Bn,xI).call(this);let n=fe(this,An).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(na)),n},hI=function(){En(this,Bn,vI).call(this);const e=Pd(this.options.staleTime,fe(this,An));if(cp||fe(this,Ms).isStale||!lI(e))return;const r=KJ(fe(this,Ms).dataUpdatedAt,e)+1;Nt(this,zh,setTimeout(()=>{fe(this,Ms).isStale||this.updateResult()},r))},pI=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(fe(this,An)):this.options.refetchInterval)??!1},mI=function(e){En(this,Bn,yI).call(this),Nt(this,gd,e),!(cp||po(this.options.enabled,fe(this,An))===!1||!lI(fe(this,gd))||fe(this,gd)===0)&&Nt(this,$h,setInterval(()=>{(this.options.refetchIntervalInBackground||l4.isFocused())&&En(this,Bn,zx).call(this)},fe(this,gd)))},gI=function(){En(this,Bn,hI).call(this),En(this,Bn,mI).call(this,En(this,Bn,pI).call(this))},vI=function(){fe(this,zh)&&(clearTimeout(fe(this,zh)),Nt(this,zh,void 0))},yI=function(){fe(this,$h)&&(clearInterval(fe(this,$h)),Nt(this,$h,void 0))},xI=function(){const e=fe(this,ea).getQueryCache().build(fe(this,ea),this.options);if(e===fe(this,An))return;const n=fe(this,An);Nt(this,An,e),Nt(this,yw,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},iQ=function(e){Ki.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(fe(this,Ms))}),fe(this,ea).getQueryCache().notify({query:fe(this,An),type:"observerResultsUpdated"})})},uX);function f0e(t,e){return po(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function s6(t,e){return f0e(t,e)||t.state.data!==void 0&&bI(t,e,e.refetchOnMount)}function bI(t,e,n){if(po(e.enabled,t)!==!1&&Pd(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&c4(t,e)}return!1}function a6(t,e,n,r){return(t!==e||po(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&c4(t,n)}function c4(t,e){return po(e.enabled,t)!==!1&&t.isStaleByTime(Pd(e.staleTime,t))}function h0e(t,e){return!cI(t.getCurrentResult(),e)}var sQ=N.createContext(void 0),GA=t=>{const e=N.useContext(sQ);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},p0e=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(sQ.Provider,{value:t,children:e})),aQ=N.createContext(!1),m0e=()=>N.useContext(aQ);aQ.Provider;function g0e(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var v0e=N.createContext(g0e()),y0e=()=>N.useContext(v0e),x0e=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},b0e=t=>{N.useEffect(()=>{t.clearReset()},[t])},w0e=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||Jxe(n,[t.error,r])),_0e=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},S0e=(t,e)=>t.isLoading&&t.isFetching&&!e,N0e=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,o6=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function j0e(t,e,n){var f,h,p,m,g;const r=m0e(),i=y0e(),s=GA(),o=s.defaultQueryOptions(t);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",_0e(o),x0e(o,i),b0e(i);const l=!s.getQueryCache().get(o.queryHash),[c]=N.useState(()=>new e(s,o)),u=c.getOptimisticResult(o),d=!r&&t.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(y=>{const v=d?c.subscribe(Ki.batchCalls(y)):na;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(o)},[o,c]),N0e(o,u))throw o6(o,c,i);if(w0e({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((m=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||m.call(p,o,u),o.experimental_prefetchInRender&&!cp&&S0e(u,r)){const y=l?o6(o,c,i):(g=s.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(na).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function hu(t,e){return j0e(t,d0e)}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q0.apply(this,arguments)}var xd;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xd||(xd={}));const l6="popstate";function E0e(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return wI("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mj(i)}return T0e(e,n,null,t)}function ei(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function u4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A0e(){return Math.random().toString(36).substr(2,8)}function c6(t,e){return{usr:t.state,key:t.key,idx:e}}function wI(t,e,n,r){return n===void 0&&(n=null),Q0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ny(e):e,{state:n,key:e&&e.key||r||A0e()})}function Mj(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ny(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function T0e(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=xd.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Q0({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=xd.Pop;let y=d(),v=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:v})}function h(y,v){l=xd.Push;let w=wI(g.location,y,v);u=d()+1;let b=c6(w,u),S=g.createHref(w);try{o.pushState(b,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(S)}s&&c&&c({action:l,location:g.location,delta:1})}function p(y,v){l=xd.Replace;let w=wI(g.location,y,v);u=d();let b=c6(w,u),S=g.createHref(w);o.replaceState(b,"",S),s&&c&&c({action:l,location:g.location,delta:0})}function m(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:Mj(y);return w=w.replace(/ $/,"%20"),ei(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return l},get location(){return t(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(l6,f),c=y,()=>{i.removeEventListener(l6,f),c=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let v=m(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(y){return o.go(y)}};return g}var u6;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(u6||(u6={}));function C0e(t,e,n){return n===void 0&&(n="/"),M0e(t,e,n)}function M0e(t,e,n,r){let i=typeof e=="string"?ny(e):e,s=d4(i.pathname||"/",n);if(s==null)return null;let o=oQ(t);P0e(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=V0e(s);l=B0e(o[c],u)}return l}function oQ(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ei(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Rd([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(ei(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),oQ(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:F0e(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of lQ(s.path))i(s,o,c)}),e}function lQ(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lQ(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function P0e(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:U0e(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const R0e=/^:[\w-]+$/,O0e=3,I0e=2,k0e=1,D0e=10,L0e=-2,d6=t=>t==="*";function F0e(t,e){let n=t.split("/"),r=n.length;return n.some(d6)&&(r+=L0e),e&&(r+=I0e),n.filter(i=>!d6(i)).reduce((i,s)=>i+(R0e.test(s)?O0e:s===""?k0e:D0e),r)}function U0e(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function B0e(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=z0e({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Rd([s,f.pathname]),pathnameBase:X0e(Rd([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Rd([s,f.pathnameBase]))}return o}function z0e(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$0e(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=l[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=l[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function $0e(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),u4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function V0e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return u4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function d4(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const H0e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W0e=t=>H0e.test(t);function G0e(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ny(t):t,s;if(n)if(W0e(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),u4(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=f6(n.substring(1),"/"):s=f6(n,e)}else s=e;return{pathname:s,search:Y0e(r),hash:K0e(i)}}function f6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function M2(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q0e(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function f4(t,e){let n=q0e(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function h4(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ny(t):(i=Q0({},t),ei(!i.pathname||!i.pathname.includes("?"),M2("?","pathname","search",i)),ei(!i.pathname||!i.pathname.includes("#"),M2("#","pathname","hash",i)),ei(!i.search||!i.search.includes("#"),M2("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?e[f]:"/"}let c=G0e(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Rd=t=>t.join("/").replace(/\/\/+/g,"/"),X0e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Y0e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K0e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function J0e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cQ=["post","put","patch","delete"];new Set(cQ);const Q0e=["get",...cQ];new Set(Q0e);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z0.apply(this,arguments)}const p4=N.createContext(null),Z0e=N.createContext(null),af=N.createContext(null),qA=N.createContext(null),wu=N.createContext({outlet:null,matches:[],isDataRoute:!1}),uQ=N.createContext(null);function ebe(t,e){let{relative:n}=e===void 0?{}:e;ry()||ei(!1);let{basename:r,navigator:i}=N.useContext(af),{hash:s,pathname:o,search:l}=fQ(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Rd([r,o])),i.createHref({pathname:c,search:l,hash:s})}function ry(){return N.useContext(qA)!=null}function vc(){return ry()||ei(!1),N.useContext(qA).location}function dQ(t){N.useContext(af).static||N.useLayoutEffect(t)}function _u(){let{isDataRoute:t}=N.useContext(wu);return t?pbe():tbe()}function tbe(){ry()||ei(!1);let t=N.useContext(p4),{basename:e,future:n,navigator:r}=N.useContext(af),{matches:i}=N.useContext(wu),{pathname:s}=vc(),o=JSON.stringify(f4(i,n.v7_relativeSplatPath)),l=N.useRef(!1);return dQ(()=>{l.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=h4(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Rd([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function nbe(){let{matches:t}=N.useContext(wu),e=t[t.length-1];return e?e.params:{}}function fQ(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(af),{matches:i}=N.useContext(wu),{pathname:s}=vc(),o=JSON.stringify(f4(i,r.v7_relativeSplatPath));return N.useMemo(()=>h4(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function rbe(t,e){return ibe(t,e)}function ibe(t,e,n,r){ry()||ei(!1);let{navigator:i}=N.useContext(af),{matches:s}=N.useContext(wu),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=vc(),d;if(e){var f;let y=typeof e=="string"?ny(e):e;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||ei(!1),d=y}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=C0e(t,{pathname:p}),g=cbe(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Rd([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Rd([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&g?N.createElement(qA.Provider,{value:{location:Z0({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xd.Pop}},g):g}function sbe(){let t=hbe(),e=J0e(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const abe=N.createElement(sbe,null);class obe extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(wu.Provider,{value:this.props.routeContext},N.createElement(uQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lbe(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(p4);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(wu.Provider,{value:e},r)}function cbe(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ei(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,m=!1,g=null,y=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||abe,c&&(u<0&&h===0?(mbe("route-fallback"),m=!0,y=null):u===h&&(m=!0,y=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),w=()=>{let b;return p?b=g:m?b=y:f.route.Component?b=N.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,N.createElement(lbe,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(obe,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var hQ=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hQ||{}),pQ=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pQ||{});function ube(t){let e=N.useContext(p4);return e||ei(!1),e}function dbe(t){let e=N.useContext(Z0e);return e||ei(!1),e}function fbe(t){let e=N.useContext(wu);return e||ei(!1),e}function mQ(t){let e=fbe(),n=e.matches[e.matches.length-1];return n.route.id||ei(!1),n.route.id}function hbe(){var t;let e=N.useContext(uQ),n=dbe(),r=mQ();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pbe(){let{router:t}=ube(hQ.UseNavigateStable),e=mQ(pQ.UseNavigateStable),n=N.useRef(!1);return dQ(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Z0({fromRouteId:e},s)))},[t,e])}const h6={};function mbe(t,e,n){h6[t]||(h6[t]=!0)}function gbe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Mg(t){let{to:e,replace:n,state:r,relative:i}=t;ry()||ei(!1);let{future:s,static:o}=N.useContext(af),{matches:l}=N.useContext(wu),{pathname:c}=vc(),u=_u(),d=h4(e,f4(l,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function nn(t){ei(!1)}function vbe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=xd.Pop,navigator:s,static:o=!1,future:l}=t;ry()&&ei(!1);let c=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:s,static:o,future:Z0({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=ny(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=N.useMemo(()=>{let y=d4(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:m},navigationType:i}},[c,d,f,h,p,m,i]);return g==null?null:N.createElement(af.Provider,{value:u},N.createElement(qA.Provider,{children:n,value:g}))}function ybe(t){let{children:e,location:n}=t;return rbe(_I(e),n)}new Promise(()=>{});function _I(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,_I(r.props.children,s));return}r.type!==nn&&ei(!1),!r.props.index||!r.props.children||ei(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_I(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function SI(){return SI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SI.apply(this,arguments)}function xbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bbe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wbe(t,e){return t.button===0&&(!e||e==="_self")&&!bbe(t)}const _be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sbe="6";try{window.__reactRouterVersion=Sbe}catch{}const Nbe="startTransition",p6=HL[Nbe];function jbe(t){let{basename:e,children:n,future:r,window:i}=t,s=N.useRef();s.current==null&&(s.current=E0e({window:i,v5Compat:!0}));let o=s.current,[l,c]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=N.useCallback(f=>{u&&p6?p6(()=>c(f)):c(f)},[c,u]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.useEffect(()=>gbe(r),[r]),N.createElement(vbe,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Ebe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Abe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pr=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=xbe(e,_be),{basename:p}=N.useContext(af),m,g=!1;if(typeof u=="string"&&Abe.test(u)&&(m=u,Ebe))try{let b=new URL(window.location.href),S=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=d4(S.pathname,p);S.origin===b.origin&&j!=null?u=j+S.search+S.hash:g=!0}catch{}let y=ebe(u,{relative:i}),v=Tbe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function w(b){r&&r(b),b.defaultPrevented||v(b)}return N.createElement("a",SI({},h,{href:m||y,onClick:g||s?r:w,ref:n,target:c}))});var m6;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(m6||(m6={}));var g6;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(g6||(g6={}));function Tbe(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=_u(),u=vc(),d=fQ(t,{relative:o});return N.useCallback(f=>{if(wbe(f,n)){f.preventDefault();let h=r!==void 0?r:Mj(u)===Mj(d);c(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,r,i,n,t,s,o,l])}var NI=function(t,e){return NI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},NI(t,e)};function gQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");NI(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var vo=function(){return vo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vo.apply(this,arguments)};function of(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vQ(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function yQ(t,e){return function(n,r){e(n,r,t)}}function xQ(t,e,n,r,i,s){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=r.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f,h=!1,p=n.length-1;p>=0;p--){var m={};for(var g in r)m[g]=g==="access"?{}:r[g];for(var g in r.access)m.access[g]=r.access[g];m.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(v||null))};var y=(0,n[p])(l==="accessor"?{get:d.get,set:d.set}:d[c],m);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=o(y.get))&&(d.get=f),(f=o(y.set))&&(d.set=f),(f=o(y.init))&&i.unshift(f)}else(f=o(y))&&(l==="field"?i.unshift(f):d[c]=f)}u&&Object.defineProperty(u,r.name,d),h=!0}function bQ(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function wQ(t){return typeof t=="symbol"?t:"".concat(t)}function _Q(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function SQ(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function jt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})}function NQ(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var XA=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function jQ(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&XA(e,t,n)}function Pj(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m4(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function EQ(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m4(arguments[e]));return t}function AQ(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,l=s.length;o<l;o++,i++)r[i]=s[o];return r}function g4(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function ov(t){return this instanceof ov?(this.v=t,this):new ov(t)}function TQ(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(m){return Promise.resolve(m).then(p,f)}}function l(p,m){r[p]&&(i[p]=function(g){return new Promise(function(y,v){s.push([p,g,y,v])>1||c(p,g)})},m&&(i[p]=m(i[p])))}function c(p,m){try{u(r[p](m))}catch(g){h(s[0][3],g)}}function u(p){p.value instanceof ov?Promise.resolve(p.value.v).then(d,f):h(s[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function h(p,m){p(m),s.shift(),s.length&&c(s[0][0],s[0][1])}}function CQ(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:ov(t[i](o)),done:!1}:s?s(o):o}:s}}function MQ(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Pj=="function"?Pj(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(l,c){o=t[s](o),i(l,c,o.done,o.value)})}}function i(s,o,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},o)}}function PQ(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Cbe=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},jI=function(t){return jI=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},jI(t)};function RQ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=jI(t),r=0;r<n.length;r++)n[r]!=="default"&&XA(e,t,n[r]);return Cbe(e,t),e}function OQ(t){return t&&t.__esModule?t:{default:t}}function IQ(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function kQ(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function DQ(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function LQ(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Mbe=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function FQ(t){function e(s){t.error=t.hasError?new Mbe(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function UQ(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,o){return r?e?".jsx":".js":i&&(!s||!o)?n:i+s+"."+o.toLowerCase()+"js"}):t}const Pbe={__extends:gQ,__assign:vo,__rest:of,__decorate:vQ,__param:yQ,__esDecorate:xQ,__runInitializers:bQ,__propKey:wQ,__setFunctionName:_Q,__metadata:SQ,__awaiter:jt,__generator:NQ,__createBinding:XA,__exportStar:jQ,__values:Pj,__read:m4,__spread:EQ,__spreadArrays:AQ,__spreadArray:g4,__await:ov,__asyncGenerator:TQ,__asyncDelegator:CQ,__asyncValues:MQ,__makeTemplateObject:PQ,__importStar:RQ,__importDefault:OQ,__classPrivateFieldGet:IQ,__classPrivateFieldSet:kQ,__classPrivateFieldIn:DQ,__addDisposableResource:LQ,__disposeResources:FQ,__rewriteRelativeImportExtension:UQ},Rbe=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:LQ,get __assign(){return vo},__asyncDelegator:CQ,__asyncGenerator:TQ,__asyncValues:MQ,__await:ov,__awaiter:jt,__classPrivateFieldGet:IQ,__classPrivateFieldIn:DQ,__classPrivateFieldSet:kQ,__createBinding:XA,__decorate:vQ,__disposeResources:FQ,__esDecorate:xQ,__exportStar:jQ,__extends:gQ,__generator:NQ,__importDefault:OQ,__importStar:RQ,__makeTemplateObject:PQ,__metadata:SQ,__param:yQ,__propKey:wQ,__read:m4,__rest:of,__rewriteRelativeImportExtension:UQ,__runInitializers:bQ,__setFunctionName:_Q,__spread:EQ,__spreadArray:g4,__spreadArrays:AQ,__values:Pj,default:Pbe},Symbol.toStringTag,{value:"Module"})),Obe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class v4 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Ibe extends v4{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class v6 extends v4{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class y6 extends v4{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var EI;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(EI||(EI={}));class kbe{constructor(e,{headers:n={},customFetch:r,region:i=EI.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Obe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return jt(this,arguments,void 0,function*(n,r={}){var i;let s,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=r;let h={},{region:p}=r;p||(p=this.region);const m=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let y=d;f&&(o=new AbortController,s=setTimeout(()=>o.abort(),f),d?(y=o.signal,d.addEventListener("abort",()=>o.abort())):y=o.signal);const v=yield this.fetch(m.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:g,signal:y}).catch(j=>{throw new Ibe(j)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new v6(v);if(!v.ok)throw new y6(v);let b=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return b==="application/json"?S=yield v.json():b==="application/octet-stream"||b==="application/pdf"?S=yield v.blob():b==="text/event-stream"?S=v:b==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof y6||l instanceof v6?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var ia={};const iy=Rfe(Rbe);var O1={},I1={},k1={},D1={},L1={},F1={},x6;function BQ(){if(x6)return F1;x6=1,Object.defineProperty(F1,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return F1.default=t,F1}var b6;function zQ(){if(b6)return L1;b6=1,Object.defineProperty(L1,"__esModule",{value:!0});const e=iy.__importDefault(BQ());class n{constructor(i){var s,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let p=null,m=null,g=null,y=c.status,v=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?m=j:m=JSON.parse(j))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");b&&S&&S.length>1&&(g=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,y=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const b=await c.text();try{p=JSON.parse(b),Array.isArray(p)&&c.status===404&&(m=[],p=null,y=200,v="OK")}catch{c.status===404&&b===""?(y=204,v="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,y=200,v="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:m,count:g,status:y,statusText:v}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,f,h,p,m;let g="";const y=c==null?void 0:c.cause;if(y){const v=(u=y==null?void 0:y.message)!==null&&u!==void 0?u:"",w=(d=y==null?void 0:y.code)!==null&&d!==void 0?d:"";g=`${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"FetchError"}: ${c==null?void 0:c.message}`,g+=`

Caused by: ${(h=y==null?void 0:y.name)!==null&&h!==void 0?h:"Error"}: ${v}`,w&&(g+=` (${w})`),y!=null&&y.stack&&(g+=`
${y.stack}`)}else g=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"FetchError"}: ${c==null?void 0:c.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,s)}returns(){return this}overrideTypes(){return this}}return L1.default=n,L1}var w6;function $Q(){if(w6)return D1;w6=1,Object.defineProperty(D1,"__esModule",{value:!0});const e=iy.__importDefault(zQ());class n extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[i?"analyze":null,s?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return D1.default=n,D1}var _6;function y4(){if(_6)return k1;_6=1,Object.defineProperty(k1,"__esModule",{value:!0});const e=iy.__importDefault($Q()),n=new RegExp("[,()]");class r extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}regexMatch(s,o){return this.url.searchParams.append(s,`match.${o}`),this}regexIMatch(s,o){return this.url.searchParams.append(s,`imatch.${o}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}isDistinct(s,o){return this.url.searchParams.append(s,`isdistinct.${o}`),this}in(s,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${d}.${o}`),this}match(s){return Object.entries(s).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(s,o,l){return this.url.searchParams.append(s,`not.${o}.${l}`),this}or(s,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,o,l){return this.url.searchParams.append(s,`${o}.${l}`),this}}return k1.default=r,k1}var S6;function VQ(){if(S6)return I1;S6=1,Object.defineProperty(I1,"__esModule",{value:!0});const e=iy.__importDefault(y4());class n{constructor(i,{headers:s={},schema:o,fetch:l}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=l}select(i,s){const{head:o=!1,count:l}=s??{},c=o?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var o;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return I1.default=n,I1}var N6;function Dbe(){if(N6)return O1;N6=1,Object.defineProperty(O1,"__esModule",{value:!0});const t=iy,e=t.__importDefault(VQ()),n=t.__importDefault(y4());class r{constructor(s,{headers:o={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${s}`);let p;l||c?(f=l?"HEAD":"GET",Object.entries(o).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{h.searchParams.append(g,y)})):(f="POST",p=o);const m=new Headers(this.headers);return u&&m.set("Prefer",`count=${u}`),new n.default({method:f,url:h,headers:m,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return O1.default=r,O1}Object.defineProperty(ia,"__esModule",{value:!0});var HQ=ia.PostgrestError=eZ=ia.PostgrestBuilder=QQ=ia.PostgrestTransformBuilder=KQ=ia.PostgrestFilterBuilder=XQ=ia.PostgrestQueryBuilder=GQ=ia.PostgrestClient=void 0;const sy=iy,WQ=sy.__importDefault(Dbe());var GQ=ia.PostgrestClient=WQ.default;const qQ=sy.__importDefault(VQ());var XQ=ia.PostgrestQueryBuilder=qQ.default;const YQ=sy.__importDefault(y4());var KQ=ia.PostgrestFilterBuilder=YQ.default;const JQ=sy.__importDefault($Q());var QQ=ia.PostgrestTransformBuilder=JQ.default;const ZQ=sy.__importDefault(zQ());var eZ=ia.PostgrestBuilder=ZQ.default;const tZ=sy.__importDefault(BQ());HQ=ia.PostgrestError=tZ.default;var nZ=ia.default={PostgrestClient:WQ.default,PostgrestQueryBuilder:qQ.default,PostgrestFilterBuilder:YQ.default,PostgrestTransformBuilder:JQ.default,PostgrestBuilder:ZQ.default,PostgrestError:tZ.default};const Lbe=Object.freeze(Object.defineProperty({__proto__:null,get PostgrestBuilder(){return eZ},get PostgrestClient(){return GQ},get PostgrestError(){return HQ},get PostgrestFilterBuilder(){return KQ},get PostgrestQueryBuilder(){return XQ},get PostgrestTransformBuilder(){return QQ},default:nZ},Symbol.toStringTag,{value:"Module"})),{PostgrestClient:Fbe,PostgrestQueryBuilder:kdt,PostgrestFilterBuilder:Ddt,PostgrestTransformBuilder:Ldt,PostgrestBuilder:Fdt,PostgrestError:Udt}=nZ||Lbe;class Ube{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Bbe="2.86.0",zbe=`realtime-js/${Bbe}`,rZ="1.0.0",$be="2.0.0",j6=rZ,AI=1e4,Vbe=1e3,Hbe=100;var dh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(dh||(dh={}));var gi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(gi||(gi={}));var el;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(el||(el={}));var TI;(function(t){t.websocket="websocket"})(TI||(TI={}));var fh;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fh||(fh={}));class Wbe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var i,s;const o=e.topic,l=(i=e.ref)!==null&&i!==void 0?i:"",c=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(p),g=0;m.setUint8(g++,this.KINDS.userBroadcastPush),m.setUint8(g++,c.length),m.setUint8(g++,l.length),m.setUint8(g++,o.length),m.setUint8(g++,u.length),m.setUint8(g++,f.length),m.setUint8(g++,n),Array.from(c,v=>m.setUint8(g++,v.charCodeAt(0))),Array.from(l,v=>m.setUint8(g++,v.charCodeAt(0))),Array.from(o,v=>m.setUint8(g++,v.charCodeAt(0))),Array.from(u,v=>m.setUint8(g++,v.charCodeAt(0))),Array.from(f,v=>m.setUint8(g++,v.charCodeAt(0)));var y=new Uint8Array(p.byteLength+r.byteLength);return y.set(new Uint8Array(p),0),y.set(new Uint8Array(r),p.byteLength),y.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,o,l,c]=r;return n({join_ref:i,ref:s,topic:o,event:l,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(e.slice(c,c+i));c=c+i;const d=r.decode(e.slice(c,c+s));c=c+s;const f=r.decode(e.slice(c,c+o));c=c+o;const h=e.slice(c,e.byteLength),p=l===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,m={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(m.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class iZ{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(rr||(rr={}));const E6=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=Gbe(o,t,e,i),s),{}):{}},Gbe=(t,e,n,r)=>{const i=e.find(l=>l.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?sZ(s,o):CI(o)},sZ=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Kbe(e,n)}switch(t){case rr.bool:return qbe(e);case rr.float4:case rr.float8:case rr.int2:case rr.int4:case rr.int8:case rr.numeric:case rr.oid:return Xbe(e);case rr.json:case rr.jsonb:return Ybe(e);case rr.timestamp:return Jbe(e);case rr.abstime:case rr.date:case rr.daterange:case rr.int4range:case rr.int8range:case rr.money:case rr.reltime:case rr.text:case rr.time:case rr.timestamptz:case rr.timetz:case rr.tsrange:case rr.tstzrange:return CI(e);default:return CI(e)}},CI=t=>t,qbe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Xbe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ybe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Kbe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>sZ(e,l))}return t},Jbe=t=>typeof t=="string"?t.replace(" ","T"):t,aZ=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class P2{constructor(e,n,r={},i=AI){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var A6;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(A6||(A6={}));class a0{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=a0.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=a0.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=a0.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),l={},c={};return this.map(s,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=s[u];if(f){const h=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),m=d.filter(y=>p.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);m.length>0&&(l[u]=m),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[l].unshift(...h)}r(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var T6;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(T6||(T6={}));var o0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(o0||(o0={}));var Uc;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Uc||(Uc={}));class x4{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=gi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new P2(this,el.join,this.params,this.timeout),this.rejoinTimer=new iZ(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gi.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(el.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new a0(this),this.broadcastEndpointURL=aZ(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==gi.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[o0.PRESENCE]&&this.bindings[o0.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(Uc.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(Uc.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){e==null||e(Uc.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,v=[];for(let w=0;w<y;w++){const b=g[w],{filter:{event:S,schema:j,table:E,filter:T}}=b,P=p&&p[w];if(P&&P.event===S&&P.schema===j&&P.table===E&&P.filter===T)v.push(Object.assign(Object.assign({},b),{id:P.id}));else{this.unsubscribe(),this.state=gi.errored,e==null||e(Uc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Uc.SUBSCRIBED);return}}).receive("error",p=>{this.state=gi.errored,e==null||e(Uc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Uc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===gi.joined&&e===o0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=gi.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(el.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new P2(this,el.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gi.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new P2(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Hbe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=el;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,y;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var m,g,y,v,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(w=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:y,commit_timestamp:v,type:w,errors:b}=m;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:v,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===gi.closed}_isJoined(){return this.state===gi.joined}_isJoining(){return this.state===gi.joining}_isLeaving(){return this.state===gi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&x4.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(el.close,{},e)}_onError(e){this._on(el.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=E6(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=E6(e.columns,e.old_record)),n}}const R2=()=>{},U1={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qbe=[1e3,2e3,5e3,1e4],Zbe=1e4,ewe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class twe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=AI,this.transport=null,this.heartbeatIntervalMs=U1.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=R2,this.ref=0,this.reconnectTimer=null,this.vsn=j6,this.logger=R2,this.conn=null,this.sendBuffer=[],this.serializer=new Wbe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${TI.websocket}`,this.httpEndpoint=aZ(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ube.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case dh.connecting:return fh.Connecting;case dh.open:return fh.Open;case dh.closing:return fh.Closing;default:return fh.Closed}}isConnected(){return this.connectionState()===fh.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new x4(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Vbe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},U1.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,l=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${r} ${i} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===dh.open||this.conn.readyState===dh.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(el.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([ewe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:zbe};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(el.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new iZ(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},U1.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,l,c,u,d,f,h,p;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:AI,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:U1.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:R2,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:j6,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:m=>Qbe[m-1]||Zbe,this.vsn){case rZ:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(m,g)=>g(JSON.stringify(m)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(m,g)=>g(JSON.parse(m));break;case $be:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class YA extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Nr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class nwe extends YA{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class MI extends YA{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const b4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rwe=()=>Response,PI=t=>{if(Array.isArray(t))return t.map(n=>PI(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=PI(r)}),e},iwe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},swe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),O2=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},awe=(t,e,n)=>jt(void 0,void 0,void 0,function*(){const r=yield rwe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new nwe(O2(i),s,o))}).catch(i=>{e(new MI(O2(i),i))}):e(new MI(O2(t),t))}),owe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(iwe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Rw(t,e,n,r,i,s){return jt(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,owe(e,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>awe(c,l,r))})})}function eb(t,e,n,r){return jt(this,void 0,void 0,function*(){return Rw(t,"GET",e,n,r)})}function Yo(t,e,n,r,i){return jt(this,void 0,void 0,function*(){return Rw(t,"POST",e,r,i,n)})}function RI(t,e,n,r,i){return jt(this,void 0,void 0,function*(){return Rw(t,"PUT",e,r,i,n)})}function lwe(t,e,n,r){return jt(this,void 0,void 0,function*(){return Rw(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function w4(t,e,n,r,i){return jt(this,void 0,void 0,function*(){return Rw(t,"DELETE",e,r,i,n)})}class cwe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return jt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Nr(e))return{data:null,error:e};throw e}})}}var oZ;class uwe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[oZ]="BlobDownloadBuilder",this.promise=null}asStream(){return new cwe(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return jt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Nr(e))return{data:null,error:e};throw e}})}}oZ=Symbol.toStringTag;const dwe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},C6={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fwe{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=b4(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return jt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},C6),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),c&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(c))):(s=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(e=="PUT"?RI:Yo)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Nr(s))return{data:null,error:s};throw s}})}upload(e,n,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return jt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:C6.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield RI(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Nr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return jt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Yo(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new YA("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}update(e,n,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return jt(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nr(i))return{data:null,error:i};throw i}})}copy(e,n,r){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield Yo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return jt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Yo(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return jt(this,void 0,void 0,function*(){try{const i=yield Yo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nr(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"",l=this._getFinalPath(e),c=()=>eb(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new uwe(c,this.shouldThrowOnError)}info(e){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield eb(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:PI(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}exists(e){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield lwe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r)&&r instanceof MI){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return jt(this,void 0,void 0,function*(){try{return{data:yield w4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}list(e,n,r){return jt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},dwe),n),{prefix:e||""});return{data:yield Yo(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nr(i))return{data:null,error:i};throw i}})}listV2(e,n){return jt(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Yo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const lZ="2.86.0",cZ={"X-Client-Info":`storage-js/${lZ}`};class hwe{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cZ),n),this.fetch=b4(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return jt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield eb(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}getBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield eb(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}createBucket(e){return jt(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Yo(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nr(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return jt(this,void 0,void 0,function*(){try{return{data:yield RI(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield w4(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var tb=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pwe(t,e,n){const r=new URL(e,t);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function mwe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function gwe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:o}){const l=pwe(t.baseUrl,r,i),c=await mwe(t.auth),u=await e(l,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...c,...o},body:s?JSON.stringify(s):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,m=p==null?void 0:p.error;throw new tb((m==null?void 0:m.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function B1(t){return t.join("")}var vwe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:B1(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${B1(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${B1(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${B1(t.namespace)}`}),!0}catch(e){if(e instanceof tb&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof tb&&n.status===409)return;throw n}}};function sm(t){return t.join("")}var ywe=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sm(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sm(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sm(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sm(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sm(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sm(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof tb&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof tb&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},xwe=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=gwe({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new vwe(this.client,e),this.tableOps=new ywe(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class bwe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cZ),n),this.fetch=b4(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}listBuckets(e){return jt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield eb(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield w4(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}from(e){if(!swe(e))throw new YA("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new xwe({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>jt(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const _4={"X-Client-Info":`storage-js/${lZ}`,"Content-Type":"application/json"};class uZ extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ma(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class I2 extends uZ{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wwe extends uZ{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var M6;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(M6||(M6={}));const S4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_we=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},P6=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Swe=(t,e,n)=>jt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new I2(P6(o),i,l))}).catch(()=>{const o=i+"",l=s.statusText||`HTTP ${i} error`;e(new I2(l,i,o))});else{const o=i+"",l=s.statusText||`HTTP ${i} error`;e(new I2(l,i,o))}}else e(new wwe(P6(t),t))}),Nwe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(_we(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function jwe(t,e,n,r,i,s){return jt(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Nwe(e,r,i,s)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Swe(c,l,r))})})}function Pa(t,e,n,r,i){return jt(this,void 0,void 0,function*(){return jwe(t,"POST",e,r,i,n)})}class Ewe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_4),n),this.fetch=S4(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return jt(this,void 0,void 0,function*(){try{return{data:(yield Pa(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ma(n))return{data:null,error:n};throw n}})}getIndex(e,n){return jt(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ma(r))return{data:null,error:r};throw r}})}listIndexes(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ma(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return jt(this,void 0,void 0,function*(){try{return{data:(yield Pa(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ma(r))return{data:null,error:r};throw r}})}}class Awe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_4),n),this.fetch=S4(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return jt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Pa(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ma(n))return{data:null,error:n};throw n}})}getVectors(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ma(n))return{data:null,error:n};throw n}})}listVectors(e){return jt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Pa(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ma(n))return{data:null,error:n};throw n}})}queryVectors(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ma(n))return{data:null,error:n};throw n}})}deleteVectors(e){return jt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Pa(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ma(n))return{data:null,error:n};throw n}})}}class Twe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_4),n),this.fetch=S4(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:(yield Pa(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ma(n))return{data:null,error:n};throw n}})}getBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ma(n))return{data:null,error:n};throw n}})}listBuckets(){return jt(this,arguments,void 0,function*(e={}){try{return{data:yield Pa(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ma(n))return{data:null,error:n};throw n}})}deleteBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:(yield Pa(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ma(n))return{data:null,error:n};throw n}})}}class Cwe extends Twe{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Mwe(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return jt(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return jt(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return jt(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return jt(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class Mwe extends Ewe{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return jt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return jt(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return jt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return jt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Pwe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Pwe extends Awe{constructor(e,n,r,i,s){super(e,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return jt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return jt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return jt(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return jt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return jt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Rwe extends hwe{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new fwe(this.url,this.headers,e,this.fetch)}get vectors(){return new Cwe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bwe(this.url+"/iceberg",this.headers,this.fetch)}}const Owe="2.86.0";let $x="";typeof Deno<"u"?$x="deno":typeof document<"u"?$x="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$x="react-native":$x="node";const Iwe={"X-Client-Info":`supabase-js-${$x}/${Owe}`},kwe={headers:Iwe},Dwe={schema:"public"},Lwe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fwe={},Uwe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Bwe=()=>Headers,zwe=(t,e,n)=>{const r=Uwe(n),i=Bwe();return async(s,o)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},o),{headers:u}))}};function $we(t){return t.endsWith("/")?t:t+"/"}function Vwe(t,e){var n,r;const{db:i,auth:s,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Hwe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($we(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const dZ="2.86.0",Vm=30*1e3,OI=3,k2=OI*Vm,Wwe="http://localhost:9999",Gwe="supabase.auth.token",qwe={"X-Client-Info":`gotrue-js/${dZ}`},II="X-Supabase-Api-Version",fZ={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xwe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ywe=10*60*1e3;class nb extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Pt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Kwe extends nb{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Jwe(t){return Pt(t)&&t.name==="AuthApiError"}class hh extends nb{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class lf extends nb{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Sa extends lf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qwe(t){return Pt(t)&&t.name==="AuthSessionMissingError"}class am extends lf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class z1 extends lf{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $1 extends lf{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zwe(t){return Pt(t)&&t.name==="AuthImplicitGrantRedirectError"}class R6 extends lf{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kI extends lf{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function D2(t){return Pt(t)&&t.name==="AuthRetryableFetchError"}class O6 extends lf{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class DI extends lf{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rj="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),I6=` 	
\r=`.split(""),e_e=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<I6.length;e+=1)t[I6[e].charCodeAt(0)]=-2;for(let e=0;e<Rj.length;e+=1)t[Rj[e].charCodeAt(0)]=e;return t})();function k6(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Rj[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Rj[r]),e.queuedBits-=6}}function hZ(t,e,n){const r=e_e[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function D6(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{r_e(o,r,n)};for(let o=0;o<t.length;o+=1)hZ(t.charCodeAt(o),i,s);return e.join("")}function t_e(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function n_e(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}t_e(r,e)}}function r_e(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Pg(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)hZ(t.charCodeAt(i),n,r);return new Uint8Array(e)}function i_e(t){const e=[];return n_e(t,n=>e.push(n)),new Uint8Array(e)}function bh(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>k6(i,n,r)),k6(null,n,r),e.join("")}function s_e(t){return Math.round(Date.now()/1e3)+t}function a_e(){return Symbol("auth-callback")}const Wi=()=>typeof window<"u"&&typeof document<"u",kf={tested:!1,writable:!1},pZ=()=>{if(!Wi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(kf.tested)return kf.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),kf.tested=!0,kf.writable=!0}catch{kf.tested=!0,kf.writable=!1}return kf.writable};function o_e(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const mZ=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),l_e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Hm=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Df=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Bu=async(t,e)=>{await t.removeItem(e)};class KA{constructor(){this.promise=new KA.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}KA.promiseConstructor=Promise;function L2(t){const e=t.split(".");if(e.length!==3)throw new DI("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Xwe.test(e[r]))throw new DI("JWT not in base64url format");return{header:JSON.parse(D6(e[0])),payload:JSON.parse(D6(e[1])),signature:Pg(e[2]),raw:{header:e[0],payload:e[1]}}}async function c_e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function u_e(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function d_e(t){return("0"+t.toString(16)).substr(-2)}function f_e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,d_e).join("")}async function h_e(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function p_e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await h_e(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function om(t,e,n=!1){const r=f_e();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Hm(t,`${e}-code-verifier`,i);const s=await p_e(r);return[s,r===s?"plain":"s256"]}const m_e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function g_e(t){const e=t.headers.get(II);if(!e||!e.match(m_e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function v_e(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function y_e(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const x_e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lm(t){if(!x_e.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function F2(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function b_e(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function L6(t){return JSON.parse(JSON.stringify(t))}const eh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),w_e=[502,503,504];async function F6(t){var e;if(!l_e(t))throw new kI(eh(t),0);if(w_e.includes(t.status))throw new kI(eh(t),t.status);let n;try{n=await t.json()}catch(s){throw new hh(eh(s),s)}let r;const i=g_e(t);if(i&&i.getTime()>=fZ["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new O6(eh(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Sa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new O6(eh(n),t.status,n.weak_password.reasons);throw new Kwe(eh(n),t.status||500,r)}const __e=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Wt(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[II]||(s[II]=fZ["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await S_e(t,e,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function S_e(t,e,n,r,i,s){const o=__e(e,r,i,s);let l;try{l=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new kI(eh(c),0)}if(l.ok||await F6(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await F6(c)}}function Ho(t){var e;let n=null;E_e(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=s_e(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function U6(t){const e=Ho(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ad(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function N_e(t){return{data:t,error:null}}function j_e(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=of(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function B6(t){return t}function E_e(t){return t.access_token&&t.refresh_token&&t.expires_in}const U2=["global","local","others"];class A_e{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=mZ(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=U2[0]){if(U2.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${U2.join(", ")}`);try{return await Wt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ad})}catch(r){if(Pt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=of(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:j_e,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Pt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Wt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ad})}catch(n){if(Pt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:B6});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){lm(e);try{return await Wt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ad})}catch(n){if(Pt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){lm(e);try{return await Wt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ad})}catch(r){if(Pt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){lm(e);try{return await Wt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ad})}catch(r){if(Pt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){lm(e.userId);try{const{data:n,error:r}=await Wt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Pt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){lm(e.userId),lm(e.id);try{return{data:await Wt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Wt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:B6});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Wt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Wt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Wt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Wt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Wt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pt(n))return{data:null,error:n};throw n}}}function z6(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const cm={debug:!!(globalThis&&pZ()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gZ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class T_e extends gZ{}async function C_e(t,e,n){cm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),cm.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){cm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{cm.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw cm.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new T_e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(cm.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function M_e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function vZ(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function P_e(t){return parseInt(t,16)}function R_e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function O_e(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=vZ(t.address),m=d?`${d}://${r}`:r,g=t.statement?`${t.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${p}

${g}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let w=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);w+=`
- ${b}`}v+=w}return`${y}
${v}`}class li extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Oj extends li{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function I_e({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new li({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new li({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new li({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new li({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new li({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new li({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new li({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new li({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(yZ(o)){if(s.rp.id!==o)return new li({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new li({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new li({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new li({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new li({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function k_e({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new li({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new li({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(yZ(r)){if(n.rpId!==r)return new li({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new li({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new li({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new li({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class D_e{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const L_e=new D_e;function F_e(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=of(t,["challenge","user","excludeCredentials"]),s=Pg(e).buffer,o=Object.assign(Object.assign({},n),{id:Pg(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Pg(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function U_e(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=of(t,["challenge","allowCredentials"]),i=Pg(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Pg(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function B_e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:bh(new Uint8Array(t.response.attestationObject)),clientDataJSON:bh(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function z_e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:bh(new Uint8Array(i.authenticatorData)),clientDataJSON:bh(new Uint8Array(i.clientDataJSON)),signature:bh(new Uint8Array(i.signature)),userHandle:i.userHandle?bh(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yZ(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function $6(){var t,e;return!!(Wi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function $_e(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Oj("Browser returned unexpected credential type",e)}:{data:null,error:new Oj("Empty credential response",e)}}catch(e){return{data:null,error:I_e({error:e,options:t})}}}async function V_e(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Oj("Browser returned unexpected credential type",e)}:{data:null,error:new Oj("Empty credential response",e)}}catch(e){return{data:null,error:k_e({error:e,options:t})}}}const H_e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},W_e={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ij(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(e(o)){const l=r[s];e(l)?r[s]=Ij(l,o):r[s]=Ij(o)}else r[s]=o}return r}function G_e(t,e){return Ij(H_e,t,e||{})}function q_e(t,e){return Ij(W_e,t,e||{})}class X_e{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:l};const c=i??L_e.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=G_e(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await $_e({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=q_e(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await V_e(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Pt(o)?{data:null,error:o}:{data:null,error:new hh("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new nb("rpId is required for WebAuthn authentication")};try{if(!$6())return{data:null,error:new hh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return Pt(o)?{data:null,error:o}:{data:null,error:new hh("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new nb("rpId is required for WebAuthn registration")};try{if(!$6())return{data:null,error:new hh("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Pt(o)?{data:null,error:o}:{data:null,error:new hh("Unexpected error in register",o)}}}}M_e();const Y_e={url:Wwe,storageKey:Gwe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qwe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function V6(t,e,n){return await n()}const um={};class rb{get jwks(){var e,n;return(n=(e=um[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){um[this.storageKey]=Object.assign(Object.assign({},um[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=um[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){um[this.storageKey]=Object.assign(Object.assign({},um[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Y_e),e);if(this.storageKey=s.storageKey,this.instanceID=(n=rb.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,rb.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Wi()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new A_e({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=mZ(s.fetch),this.lock=s.lock||V6,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Wi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=C_e:this.lock=V6,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new X_e(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:pZ()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=z6(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=z6(this.memoryStorage)),Wi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dZ}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Wi()&&(n=o_e(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Wi()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Zwe(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Pt(n)?this._returnResult({error:n}):this._returnResult({error:new hh("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await Wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ho}),{data:o,error:l}=s;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Pt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await om(this.storage,this.storageKey)),s=await Wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Ho})}else if("phone"in e){const{phone:d,password:f,options:h}=e;s=await Wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ho})}else throw new z1("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Pt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:l}=e;n=await Wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:U6})}else if("phone"in e){const{phone:s,password:o,options:l}=e;n=await Wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:U6})}else throw new z1("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new am;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Pt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,o,l,c,u,d,f,h;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:g,wallet:y,statement:v,options:w}=e;let b;if(Wi())if(typeof y=="object")b=y;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")b=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),j=await b.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=vZ(j[0]);let T=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const C=await b.request({method:"eth_chainId"});T=P_e(C)}const P={domain:S.host,address:E,statement:v,uri:S.href,version:"1",chainId:T,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=O_e(P),m=await b.request({method:"personal_sign",params:[R_e(p),E]})}try{const{data:g,error:y}=await Wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ho});if(y)throw y;if(!g||!g.session||!g.user){const v=new am;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(Pt(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var n,r,i,s,o,l,c,u,d,f,h,p;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:y,wallet:v,statement:w,options:b}=e;let S;if(Wi())if(typeof v=="object")S=v;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const j=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),w?{statement:w}:null));let T;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")T=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)T=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)m=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),g=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:y,error:v}=await Wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:bh(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ho});if(v)throw v;if(!y||!y.session||!y.user){const w=new am;return this._returnResult({data:{user:null,session:null},error:w})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(Pt(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const n=await Df(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await Wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ho});if(await Bu(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const l=new am;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Pt(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,l=await Wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ho}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new am;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(Pt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await om(this.storage,this.storageKey));const{error:f}=await Wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new z1("You must provide either an email or phone number.")}catch(l){if(Pt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ho});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Pt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await om(this.storage,this.storageKey));const u=await Wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:N_e});return!((s=u.data)===null||s===void 0)&&s.url&&Wi()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(Pt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Sa;const{error:i}=await Wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Pt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await Wt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:l}=await Wt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new z1("You must provide either an email or phone number and a type")}catch(n){if(Pt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Df(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<k2:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Df(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=F2()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=b_e(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ad}):await this._useSession(async n=>{var r,i,s;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sa}:await Wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ad})})}catch(n){if(Pt(n))return Qwe(n)&&(await this._removeSession(),await Bu(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Sa;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await om(this.storage,this.storageKey));const{data:u,error:d}=await Wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ad});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(Pt(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Sa;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=L2(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(Pt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Sa;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Pt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Wi())throw new $1("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $1(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new R6("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $1("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new R6("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!o||!u)throw new $1("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Vm&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:y}=await this._getUser(s);if(y)throw y;const v={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(r){if(Pt(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Df(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Jwe(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Bu(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=a_e(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await om(this.storage,this.storageKey,!0));try{return await Wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Pt(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Pt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Wt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Wi()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Pt(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:l,token:c,access_token:u,nonce:d}=e,f=await Wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ho}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new am}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(Pt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await Wt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Pt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await u_e(async i=>(i>0&&await c_e(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ho})),(i,s)=>{const o=200*Math.pow(2,i);return s&&D2(s)&&Date.now()+o-r<Vm})}catch(r){if(this._debug(n,"error",r),Pt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Wi()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Df(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Df(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Hm(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:F2()}else if(i&&!i.user&&!i.user){const o=await Df(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Bu(this.storage,this.storageKey+"-user"),await Hm(this.storage,this.storageKey,i)):i.user=F2()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<k2;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${k2}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),D2(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Sa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new KA;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Sa;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Pt(s)){const o={data:null,error:s};return D2(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Hm(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=L6(i);await Hm(this.storage,this.storageKey,s)}else{const i=L6(n);await Hm(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Bu(this.storage,this.storageKey),await Bu(this.storage,this.storageKey+"-code-verifier"),await Bu(this.storage,this.storageKey+"-user"),this.userStorage&&await Bu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Wi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vm);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Vm);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Vm}ms, refresh threshold is ${OI} ticks`),i<=OI&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gZ)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await om(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await Wt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Pt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await Wt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Pt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?B_e(e.webauthn.credential_response):z_e(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Wt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(Pt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=await Wt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:F_e(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:U_e(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Pt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=L2(r.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Wt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Sa})})}catch(n){if(Pt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Sa});const o=await Wt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Wi()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Pt(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Sa});const o=await Wt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Wi()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(Pt(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Wt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Sa})})}catch(e){if(Pt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Wt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Sa})})}catch(n){if(Pt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Ywe>i)return r;const{data:s,error:o}=await Wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});r=p.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:c}}=L2(r);n!=null&&n.allowExpired||v_e(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:o},error:null}}const d=y_e(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,i_e(`${l}.${c}`)))throw new DI("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Pt(r))return this._returnResult({data:null,error:r});throw r}}}rb.nextInstanceID={};const K_e=rb;class J_e extends K_e{constructor(e){super(e)}}class Q_e{constructor(e,n,r){var i,s,o;this.supabaseUrl=e,this.supabaseKey=n;const l=Hwe(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Dwe,realtime:Fwe,auth:Object.assign(Object.assign({},Lwe),{storageKey:c}),global:kwe},d=Vwe(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=zwe(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new Fbe(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Rwe(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new kbe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new J_e({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:l,lock:c,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new twe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Z_e=(t,e,n)=>new Q_e(t,e,n);function e1e(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}e1e()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const t1e="https://ctzckttucdjlysiohlwh.supabase.co",n1e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",ue=Z_e(t1e,n1e,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),xZ=N.createContext(void 0);function r1e({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState(null),[s,o]=N.useState(null),[l,c]=N.useState(null),[u,d]=N.useState(!0);N.useEffect(()=>{const{data:{subscription:g}}=ue.auth.onAuthStateChange((y,v)=>{i(v),n((v==null?void 0:v.user)??null),v!=null&&v.user?setTimeout(()=>{f(v.user.id)},0):(o(null),c(null),d(!1))});return ue.auth.getSession().then(({data:{session:y}})=>{i(y),n((y==null?void 0:y.user)??null),y!=null&&y.user?f(y.user.id):d(!1)}),()=>g.unsubscribe()},[]);async function f(g){var y;try{const[v,w]=await Promise.all([ue.from("profiles").select("*").eq("user_id",g).maybeSingle(),ue.from("user_roles").select("role").eq("user_id",g).maybeSingle()]);o(v.data),c(((y=w.data)==null?void 0:y.role)||null)}catch(v){console.error("Error fetching user data:",v)}finally{d(!1)}}async function h(g,y,v,w,b,S){try{const j=`${window.location.origin}/`,{data:E,error:T}=await ue.auth.signUp({email:g,password:y,options:{emailRedirectTo:j,data:{first_name:w,last_name:b}}});if(T)throw T;if(!E.user)throw new Error("Signup failed");const P=E.user.id;let C=null;if(v==="agency_owner"&&S){const{data:D,error:V}=await ue.from("agencies").insert({name:S,owner_id:P,email:g}).select().single();if(V)throw V;C=D.id}const{error:R}=await ue.from("profiles").insert({user_id:P,first_name:w,last_name:b,email:g,agency_id:C});if(R)throw R;const{error:I}=await ue.from("user_roles").insert({user_id:P,role:v});if(I)throw I;return{error:null}}catch(j){return{error:j}}}async function p(g,y){const{error:v}=await ue.auth.signInWithPassword({email:g,password:y});return{error:v}}async function m(){await ue.auth.signOut(),n(null),i(null),o(null),c(null)}return a.jsx(xZ.Provider,{value:{user:e,session:r,profile:s,role:l,loading:u,signUp:h,signIn:p,signOut:m},children:t})}function ln(){const t=N.useContext(xZ);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const LI={company_name:"Credit AI",primary_color:"142 76% 36%",secondary_color:"215 28% 17%",accent_color:"142 71% 45%",hide_powered_by:!1,sidebar_style:"default",button_style:"rounded"},bZ=N.createContext({brand:LI,isLoading:!0}),Ow=()=>N.useContext(bZ);function i1e({children:t}){const[e,n]=N.useState(LI),[r,i]=N.useState(!0),{profile:s}=ln();return N.useEffect(()=>{(async()=>{const c=new URLSearchParams(window.location.search).get("subdomain");if(console.log(" BrandProvider: Checking for subdomain...",{subdomainParam:c,url:window.location.href}),c){console.log(" BrandProvider: Fetching white-label config for subdomain:",c);try{const{data:u,error:d}=await ue.rpc("get_brand_settings_by_subdomain",{p_subdomain:c});if(console.log(" BrandProvider: Got white-label data:",{data:u,error:d}),!d&&u&&u.length>0){const f=u[0],h={company_name:f.company_name||"Credit AI",logo_url:f.logo_url||void 0,favicon_url:f.favicon_url||void 0,primary_color:f.primary_color||"142 76% 36%",secondary_color:f.secondary_color||"215 28% 17%",accent_color:f.accent_color||"142 71% 45%",support_email:f.support_email||void 0,support_phone:f.support_phone||void 0,footer_text:f.footer_text||void 0,login_background_url:f.login_background_url||void 0,login_tagline:f.login_tagline||void 0,terms_url:f.terms_url||void 0,privacy_url:f.privacy_url||void 0,hide_powered_by:f.hide_powered_by||!1,custom_css:f.custom_css||void 0,welcome_message:f.welcome_message||void 0,sidebar_style:f.sidebar_style||"default",button_style:f.button_style||"rounded"};console.log(" BrandProvider: Applying white-label branding:",h),n(h),B2(h.primary_color,h.secondary_color,h.accent_color),z2(h.custom_css),h.favicon_url&&V2(h.favicon_url),h.company_name&&(document.title=h.company_name),$2(h.button_style),i(!1);return}else console.warn(" BrandProvider: No white-label config found for subdomain:",c)}catch(u){console.error(" BrandProvider: Error fetching white-label config:",u)}}if(!(s!=null&&s.agency_id)){n(LI),i(!1);return}try{const{data:u,error:d}=await ue.from("brand_settings").select("*").eq("agency_id",s.agency_id).maybeSingle();if(d)throw d;if(u){const f={company_name:u.company_name||"Credit AI",logo_url:u.logo_url||void 0,favicon_url:u.favicon_url||void 0,primary_color:u.primary_color||"142 76% 36%",secondary_color:u.secondary_color||"215 28% 17%",accent_color:u.accent_color||"142 71% 45%",support_email:u.support_email||void 0,support_phone:u.support_phone||void 0,footer_text:u.footer_text||void 0,login_background_url:u.login_background_url||void 0,login_tagline:u.login_tagline||void 0,terms_url:u.terms_url||void 0,privacy_url:u.privacy_url||void 0,hide_powered_by:u.hide_powered_by||!1,custom_css:u.custom_css||void 0,welcome_message:u.welcome_message||void 0,sidebar_style:u.sidebar_style||"default",button_style:u.button_style||"rounded"};n(f),B2(u.primary_color,u.secondary_color,u.accent_color),z2(f.custom_css),u.favicon_url&&V2(u.favicon_url),u.company_name&&(document.title=u.company_name),$2(f.button_style)}}catch(u){console.error("Error fetching brand settings:",u)}finally{i(!1)}})()},[s==null?void 0:s.agency_id]),N.useEffect(()=>{if(s!=null&&s.agency_id){const o=ue.channel(`brand_settings_${s.agency_id}`).on("postgres_changes",{event:"*",schema:"public",table:"brand_settings",filter:`agency_id=eq.${s.agency_id}`},l=>{if(console.log("Brand settings changed (real-time):",l),l.eventType==="UPDATE"||l.eventType==="INSERT"){const c=l.new,u={company_name:c.company_name||"Credit AI",logo_url:c.logo_url||void 0,favicon_url:c.favicon_url||void 0,primary_color:c.primary_color||"142 76% 36%",secondary_color:c.secondary_color||"215 28% 17%",accent_color:c.accent_color||"142 71% 45%",support_email:c.support_email||void 0,support_phone:c.support_phone||void 0,footer_text:c.footer_text||void 0,login_background_url:c.login_background_url||void 0,login_tagline:c.login_tagline||void 0,terms_url:c.terms_url||void 0,privacy_url:c.privacy_url||void 0,hide_powered_by:c.hide_powered_by||!1,custom_css:c.custom_css||void 0,welcome_message:c.welcome_message||void 0,sidebar_style:c.sidebar_style||"default",button_style:c.button_style||"rounded"};n(u),B2(c.primary_color,c.secondary_color,c.accent_color),z2(u.custom_css),c.favicon_url&&V2(c.favicon_url),c.company_name&&(document.title=c.company_name),$2(u.button_style)}}).subscribe();return()=>{console.log("Cleaning up brand settings realtime subscription (context)"),ue.removeChannel(o)}}},[s==null?void 0:s.agency_id]),a.jsx(bZ.Provider,{value:{brand:e,isLoading:r},children:t})}function B2(t,e,n){const r=document.documentElement;t&&r.style.setProperty("--primary",t),e&&r.style.setProperty("--secondary",e),n&&r.style.setProperty("--accent",n)}function z2(t){const e=document.getElementById("brand-custom-css");if(e&&e.remove(),t){const n=document.createElement("style");n.id="brand-custom-css",n.textContent=t,document.head.appendChild(n)}}function $2(t){const e=document.documentElement;e.classList.remove("button-rounded","button-square","button-pill"),t&&e.classList.add(`button-${t}`)}function V2(t){const e=document.querySelector("link[rel*='icon']");if(e)e.href=t;else{const n=document.createElement("link");n.rel="icon",n.href=t,document.head.appendChild(n)}}const wZ=N.createContext(void 0);function s1e({children:t}){const[e,n]=N.useState(!1),r=()=>n(i=>!i);return a.jsx(wZ.Provider,{value:{collapsed:e,setCollapsed:n,toggleCollapsed:r},children:t})}function Iw(){const t=N.useContext(wZ);if(!t)throw new Error("useSidebarContext must be used within a SidebarProvider");return t}function wn({children:t,allowedRoles:e}){const{user:n,role:r,loading:i}=ln(),s=vc();if(i||n&&r===null)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Dn,{className:"w-8 h-8 animate-spin text-primary"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!n)return a.jsx(Mg,{to:"/auth",state:{from:s},replace:!0});if(e&&r&&!e.includes(r)){const o=r==="client"?"/client-dashboard":r==="va_staff"?"/va-dashboard":"/";return a.jsx(Mg,{to:o,replace:!0})}return a.jsx(a.Fragment,{children:t})}class a1e{constructor(){l1(this,"isDevelopment",!1);l1(this,"logLevel","warn")}shouldLog(e){const n=["debug","info","warn","error"];return n.indexOf(e)>=n.indexOf(this.logLevel)}formatMessage(e,n,r){const i=new Date().toISOString(),s=r?` ${JSON.stringify(r)}`:"";return`[${i}] [${e.toUpperCase()}] ${n}${s}`}sendToMonitoring(e,n,r,i){}debug(e,n){this.shouldLog("debug")&&this.isDevelopment&&console.debug(this.formatMessage("debug",e,n))}info(e,n){this.shouldLog("info")&&(this.isDevelopment&&console.info(this.formatMessage("info",e,n)),this.sendToMonitoring("info",e,n))}warn(e,n){this.shouldLog("warn")&&(this.isDevelopment&&console.warn(this.formatMessage("warn",e,n)),this.sendToMonitoring("warn",e,n))}error(e,n,r){if(!this.shouldLog("error"))return;const i={...r,errorMessage:n==null?void 0:n.message,errorStack:n==null?void 0:n.stack,errorName:n==null?void 0:n.name};this.isDevelopment&&(console.error(this.formatMessage("error",e,i)),n&&console.error(n)),this.sendToMonitoring("error",e,i,n)}time(e){this.isDevelopment&&console.time(e)}timeEnd(e){this.isDevelopment&&console.timeEnd(e)}}const Rg=new a1e,o1e=Aw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ge=N.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?dme:"button";return a.jsx(o,{className:je(o1e({variant:e,size:n,className:t})),ref:s,...i})});ge.displayName="Button";let l1e=class extends N.Component{constructor(n){super(n);l1(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){Rg.error("React error boundary caught error",n,{componentStack:r.componentStack}),this.setState({error:n,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:a.jsxs("div",{className:"max-w-md w-full space-y-6 text-center",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"rounded-full bg-destructive/10 p-3",children:a.jsx(Bi,{className:"h-8 w-8 text-destructive"})})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Something went wrong"}),a.jsx("p",{className:"text-muted-foreground",children:"We encountered an unexpected error. Please try refreshing the page."})]}),!1,a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsxs(ge,{onClick:()=>window.location.reload(),variant:"default",children:[a.jsx(tf,{className:"mr-2 h-4 w-4"}),"Reload Page"]}),!1]})]})}):this.props.children}};function c1e(){const e=new URLSearchParams(window.location.search).get("subdomain");if(e)return e;const n=window.location.hostname;if(n==="localhost"||n==="127.0.0.1"||n==="credit-ai.online"||n==="www.credit-ai.online")return null;if(n.endsWith(".credit-ai.online")){const s=n.split(".");if(s.length>=3){const o=s[0];return["www","app","api","admin","dashboard"].includes(o)?null:o}}if(n.includes("lovable.app")||n.includes("lovable.dev"))return null;const r=n.split(".");if(r.length<3)return null;const i=r[0];return["www","app","api","admin","dashboard"].includes(i)?null:i}function u1e(){const[t,e]=N.useState(!0),[n,r]=N.useState(null),[i,s]=N.useState(null),[o,l]=N.useState(null),c=c1e(),u=N.useCallback(async()=>{if(!c){e(!1);return}try{const{data:d,error:f}=await ue.rpc("get_brand_settings_by_subdomain",{p_subdomain:c});if(f)throw f;if(d&&d.length>0){const h=d[0],p={id:h.id,company_name:h.company_name,logo_url:h.logo_url||void 0,favicon_url:h.favicon_url||void 0,primary_color:h.primary_color||void 0,secondary_color:h.secondary_color||void 0,accent_color:h.accent_color||void 0,support_email:h.support_email||void 0,support_phone:h.support_phone||void 0,footer_text:h.footer_text||void 0,login_background_url:h.login_background_url||void 0,login_tagline:h.login_tagline||void 0,terms_url:h.terms_url||void 0,privacy_url:h.privacy_url||void 0,hide_powered_by:h.hide_powered_by||!1,welcome_message:h.welcome_message||void 0,button_style:h.button_style||void 0,enabled_features:h.enabled_features||void 0,client_portal_config:h.client_portal_config||void 0};r(p),ue.from("brand_settings").select("agency_id").eq("subdomain",c).single().then(({data:m})=>{m!=null&&m.agency_id&&l(m.agency_id)})}else{e(!1);return}}catch(d){console.error("Error fetching white-label config:",d)}finally{e(!1)}},[c]);return N.useEffect(()=>{u()},[c]),N.useEffect(()=>{const d=ue.channel("whitelabel_realtime").on("postgres_changes",{event:"*",schema:"public",table:"brand_settings"},f=>{if(console.log("Brand settings changed (white-label):",f),f.eventType==="UPDATE"||f.eventType==="INSERT"){const h=f.new,p=c&&h.subdomain===c,m=h.subdomain&&!c&&window.location.search.includes(`subdomain=${h.subdomain}`);if(p||m){const g={id:h.id,company_name:h.company_name,logo_url:h.logo_url||void 0,favicon_url:h.favicon_url||void 0,primary_color:h.primary_color||void 0,secondary_color:h.secondary_color||void 0,accent_color:h.accent_color||void 0,support_email:h.support_email||void 0,support_phone:h.support_phone||void 0,footer_text:h.footer_text||void 0,login_background_url:h.login_background_url||void 0,login_tagline:h.login_tagline||void 0,terms_url:h.terms_url||void 0,privacy_url:h.privacy_url||void 0,hide_powered_by:h.hide_powered_by||!1,welcome_message:h.welcome_message||void 0,button_style:h.button_style||void 0,enabled_features:h.enabled_features||void 0,client_portal_config:h.client_portal_config||void 0};r(g),h.agency_id&&l(h.agency_id),console.log("Applying white-label config in real-time:",g),_Z(g)}}if(f.eventType==="DELETE"){const h=f.old;c&&h.subdomain===c&&(r(null),l(null),s("White-label configuration removed"))}}).subscribe();return()=>{console.log("Cleaning up whitelabel realtime subscription"),ue.removeChannel(d)}},[c]),{isWhiteLabeled:!!c&&!!n,subdomain:c,config:n,isLoading:t,error:i,agencyId:o}}function _Z(t){const e=document.documentElement;if(t.primary_color&&e.style.setProperty("--primary",t.primary_color),t.secondary_color&&e.style.setProperty("--secondary",t.secondary_color),t.accent_color&&e.style.setProperty("--accent",t.accent_color),t.favicon_url){const n=document.querySelector("link[rel*='icon']");if(n)n.href=t.favicon_url;else{const r=document.createElement("link");r.rel="icon",r.href=t.favicon_url,document.head.appendChild(r)}}t.company_name&&(document.title=t.company_name),t.button_style&&e.setAttribute("data-button-style",t.button_style)}const le=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));le.displayName="Card";const Ye=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:je("flex flex-col space-y-1.5 p-6",t),...e}));Ye.displayName="CardHeader";const Xe=N.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:je("text-2xl font-semibold leading-none tracking-tight",t),...e}));Xe.displayName="CardTitle";const Zt=N.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:je("text-sm text-muted-foreground",t),...e}));Zt.displayName="CardDescription";const Ne=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:je("p-6 pt-0",t),...e}));Ne.displayName="CardContent";const d1e=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:je("flex items-center p-6 pt-0",t),...e}));d1e.displayName="CardFooter";const f1e=Aw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function De({className:t,variant:e,...n}){return a.jsx("div",{className:je(f1e({variant:e}),t),...n})}const N4=N.createContext({});function ay(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const JA=N.createContext(null),kw=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class h1e extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function p1e({children:t,isPresent:e}){const n=N.useId(),r=N.useRef(null),i=N.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=N.useContext(kw);return N.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(e||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),a.jsx(h1e,{isPresent:e,childRef:r,sizeRef:i,children:N.cloneElement(t,{ref:r})})}const m1e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=ay(g1e),c=N.useId(),u=N.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;r&&r()},[l,r]),d=N.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),s?[Math.random(),u]:[n,u]);return N.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),N.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=a.jsx(p1e,{isPresent:n,children:t})),a.jsx(JA.Provider,{value:d,children:t})};function g1e(){return new Map}function SZ(t=!0){const e=N.useContext(JA);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=N.useId();N.useEffect(()=>{t&&i(s)},[t]);const o=N.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const V1=t=>t.key||"";function H6(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const j4=typeof window<"u",Dw=j4?N.useLayoutEffect:N.useEffect,ib=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[l,c]=SZ(o),u=N.useMemo(()=>H6(t),[t]),d=o&&!l?[]:u.map(V1),f=N.useRef(!0),h=N.useRef(u),p=ay(()=>new Map),[m,g]=N.useState(u),[y,v]=N.useState(u);Dw(()=>{f.current=!1,h.current=u;for(let S=0;S<y.length;S++){const j=V1(y[S]);d.includes(j)?p.delete(j):p.get(j)!==!0&&p.set(j,!1)}},[y,d.length,d.join("-")]);const w=[];if(u!==m){let S=[...u];for(let j=0;j<y.length;j++){const E=y[j],T=V1(E);d.includes(T)||(S.splice(j,0,E),w.push(E))}s==="wait"&&w.length&&(S=w),v(H6(S)),g(u);return}const{forceRender:b}=N.useContext(N4);return a.jsx(a.Fragment,{children:y.map(S=>{const j=V1(S),E=o&&!l?!1:u===y||d.includes(j),T=()=>{if(p.has(j))p.set(j,!0);else return;let P=!0;p.forEach(C=>{C||(P=!1)}),P&&(b==null||b(),v(h.current),o&&(c==null||c()),r&&r())};return a.jsx(m1e,{isPresent:E,initial:!f.current||n?void 0:!1,custom:E?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:E?void 0:T,children:S},j)})})},Us=t=>t;let v1e=Us,NZ=Us;function E4(t){let e;return()=>(e===void 0&&(e=t()),e)}const up=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},nu=t=>t*1e3,ru=t=>t/1e3,y1e={useManualTiming:!1};function x1e(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const p=f&&r?e:n;return d&&s.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,i&&(i=!1,c.process(u))}};return c}const H1=["read","resolveKeyframes","update","preRender","render","postRender"],b1e=40;function jZ(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=H1.reduce((v,w)=>(v[w]=x1e(s),v),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,p=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,b1e),1),i.timestamp=v,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},m=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:H1.reduce((v,w)=>{const b=o[w];return v[w]=(S,j=!1,E=!1)=>(n||m(),b.schedule(S,j,E)),v},{}),cancel:v=>{for(let w=0;w<H1.length;w++)o[H1[w]].cancel(v)},state:i,steps:o}}const{schedule:On,cancel:yl,state:vi,steps:H2}=jZ(typeof requestAnimationFrame<"u"?requestAnimationFrame:Us,!0),EZ=N.createContext({strict:!1}),W6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lv={};for(const t in W6)lv[t]={isEnabled:e=>W6[t].some(n=>!!e[n])};function w1e(t){for(const e in t)lv[e]={...lv[e],...t[e]}}const _1e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kj(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_1e.has(t)}let AZ=t=>!kj(t);function S1e(t){t&&(AZ=e=>e.startsWith("on")?!kj(e):t(e))}try{S1e(require("@emotion/is-prop-valid").default)}catch{}function N1e(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(AZ(i)||n===!0&&kj(i)||!e&&!kj(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function j1e(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const QA=N.createContext({});function sb(t){return typeof t=="string"||Array.isArray(t)}function ZA(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const A4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],T4=["initial",...A4];function eT(t){return ZA(t.animate)||T4.some(e=>sb(t[e]))}function TZ(t){return!!(eT(t)||t.variants)}function E1e(t,e){if(eT(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sb(n)?n:void 0,animate:sb(r)?r:void 0}}return t.inherit!==!1?e:{}}function A1e(t){const{initial:e,animate:n}=E1e(t,N.useContext(QA));return N.useMemo(()=>({initial:e,animate:n}),[G6(e),G6(n)])}function G6(t){return Array.isArray(t)?t.join(" "):t}const T1e=Symbol.for("motionComponentSymbol");function sg(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function C1e(t,e,n){return N.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):sg(n)&&(n.current=r))},[e])}const C4=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),M1e="framerAppearId",CZ="data-"+C4(M1e),{schedule:M4}=jZ(queueMicrotask,!1),MZ=N.createContext({});function P1e(t,e,n,r,i){var s,o;const{visualElement:l}=N.useContext(QA),c=N.useContext(EZ),u=N.useContext(JA),d=N.useContext(kw).reducedMotion,f=N.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=N.useContext(MZ);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&R1e(f.current,n,i,p);const m=N.useRef(!1);N.useInsertionEffect(()=>{h&&m.current&&h.update(n,u)});const g=n[CZ],y=N.useRef(!!g&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return Dw(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),M4.render(h.render),y.current&&h.animationState&&h.animationState.animateChanges())}),N.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,g)}),y.current=!1))}),h}function R1e(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:PZ(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&sg(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function PZ(t){if(t)return t.options.allowProjection!==!1?t.projection:PZ(t.parent)}function O1e({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&w1e(t);function l(u,d){let f;const h={...N.useContext(kw),...u,layoutId:I1e(u)},{isStatic:p}=h,m=A1e(u),g=r(u,p);if(!p&&j4){k1e();const y=D1e(h);f=y.MeasureLayout,m.visualElement=P1e(i,g,h,e,y.ProjectionNode)}return a.jsxs(QA.Provider,{value:m,children:[f&&m.visualElement?a.jsx(f,{visualElement:m.visualElement,...h}):null,n(i,u,C1e(g,m.visualElement,d),g,p,m.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=N.forwardRef(l);return c[T1e]=i,c}function I1e({layoutId:t}){const e=N.useContext(N4).id;return e&&t!==void 0?e+"-"+t:t}function k1e(t,e){N.useContext(EZ).strict}function D1e(t){const{drag:e,layout:n}=lv;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const L1e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P4(t){return typeof t!="string"||t.includes("-")?!1:!!(L1e.indexOf(t)>-1||/[A-Z]/u.test(t))}function q6(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function R4(t,e,n,r){if(typeof e=="function"){const[i,s]=q6(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=q6(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const FI=t=>Array.isArray(t),F1e=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),U1e=t=>FI(t)?t[t.length-1]||0:t,Fi=t=>!!(t&&t.getVelocity);function IN(t){const e=Fi(t)?t.get():t;return F1e(e)?e.toValue():e}function B1e({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:z1e(r,i,s,t),renderState:e()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const RZ=t=>(e,n)=>{const r=N.useContext(QA),i=N.useContext(JA),s=()=>B1e(t,e,r,i);return n?s():ay(s)};function z1e(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=IN(s[h]);let{initial:o,animate:l}=t;const c=eT(t),u=TZ(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!ZA(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const m=R4(t,h[p]);if(m){const{transitionEnd:g,transition:y,...v}=m;for(const w in v){let b=v[w];if(Array.isArray(b)){const S=d?b.length-1:0;b=b[S]}b!==null&&(i[w]=b)}for(const w in g)i[w]=g[w]}}}return i}const oy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tp=new Set(oy),OZ=t=>e=>typeof e=="string"&&e.startsWith(t),IZ=OZ("--"),$1e=OZ("var(--"),O4=t=>$1e(t)?V1e.test(t.split("/*")[0].trim()):!1,V1e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kZ=(t,e)=>e&&typeof t=="number"?e.transform(t):t,dc=(t,e,n)=>n>e?e:n<t?t:n,ly={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ab={...ly,transform:t=>dc(0,1,t)},W1={...ly,default:1},Lw=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ju=Lw("deg"),Zl=Lw("%"),Gt=Lw("px"),H1e=Lw("vh"),W1e=Lw("vw"),X6={...Zl,parse:t=>Zl.parse(t)/100,transform:t=>Zl.transform(t*100)},G1e={borderWidth:Gt,borderTopWidth:Gt,borderRightWidth:Gt,borderBottomWidth:Gt,borderLeftWidth:Gt,borderRadius:Gt,radius:Gt,borderTopLeftRadius:Gt,borderTopRightRadius:Gt,borderBottomRightRadius:Gt,borderBottomLeftRadius:Gt,width:Gt,maxWidth:Gt,height:Gt,maxHeight:Gt,top:Gt,right:Gt,bottom:Gt,left:Gt,padding:Gt,paddingTop:Gt,paddingRight:Gt,paddingBottom:Gt,paddingLeft:Gt,margin:Gt,marginTop:Gt,marginRight:Gt,marginBottom:Gt,marginLeft:Gt,backgroundPositionX:Gt,backgroundPositionY:Gt},q1e={rotate:Ju,rotateX:Ju,rotateY:Ju,rotateZ:Ju,scale:W1,scaleX:W1,scaleY:W1,scaleZ:W1,skew:Ju,skewX:Ju,skewY:Ju,distance:Gt,translateX:Gt,translateY:Gt,translateZ:Gt,x:Gt,y:Gt,z:Gt,perspective:Gt,transformPerspective:Gt,opacity:ab,originX:X6,originY:X6,originZ:Gt},Y6={...ly,transform:Math.round},I4={...G1e,...q1e,zIndex:Y6,size:Gt,fillOpacity:ab,strokeOpacity:ab,numOctaves:Y6},X1e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Y1e=oy.length;function K1e(t,e,n){let r="",i=!0;for(let s=0;s<Y1e;s++){const o=oy[s],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=kZ(l,I4[o]);if(!c){i=!1;const d=X1e[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function k4(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(Tp.has(c)){o=!0;continue}else if(IZ(c)){i[c]=u;continue}else{const d=kZ(u,I4[c]);c.startsWith("origin")?(l=!0,s[c]=d):r[c]=d}}if(e.transform||(o||n?r.transform=K1e(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${u} ${d}`}}const J1e={offset:"stroke-dashoffset",array:"stroke-dasharray"},Q1e={offset:"strokeDashoffset",array:"strokeDasharray"};function Z1e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?J1e:Q1e;t[s.offset]=Gt.transform(-r);const o=Gt.transform(e),l=Gt.transform(n);t[s.array]=`${o} ${l}`}function K6(t,e,n){return typeof t=="string"?t:Gt.transform(e+n*t)}function eSe(t,e,n){const r=K6(e,t.x,t.width),i=K6(n,t.y,t.height);return`${r} ${i}`}function D4(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(k4(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:m}=t;h.transform&&(m&&(p.transform=h.transform),delete h.transform),m&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=eSe(m,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&Z1e(h,o,l,c,!1)}const L4=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),DZ=()=>({...L4(),attrs:{}}),F4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function LZ(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const FZ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UZ(t,e,n,r){LZ(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(FZ.has(i)?i:C4(i),e.attrs[i])}const Dj={};function tSe(t){Object.assign(Dj,t)}function BZ(t,{layout:e,layoutId:n}){return Tp.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Dj[t]||t==="opacity")}function U4(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Fi(i[o])||e.style&&Fi(e.style[o])||BZ(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function zZ(t,e,n){const r=U4(t,e,n);for(const i in t)if(Fi(t[i])||Fi(e[i])){const s=oy.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function nSe(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const J6=["x","y","width","height","cx","cy","r"],rSe={useVisualState:RZ({scrapeMotionValuesFromProps:zZ,createRenderState:DZ,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const l in i)if(Tp.has(l)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let l=0;l<J6.length;l++){const c=J6[l];t[c]!==e[c]&&(o=!0)}o&&On.read(()=>{nSe(n,r),On.render(()=>{D4(r,i,F4(n.tagName),t.transformTemplate),UZ(n,r)})})}})},iSe={useVisualState:RZ({scrapeMotionValuesFromProps:U4,createRenderState:L4})};function $Z(t,e,n){for(const r in e)!Fi(e[r])&&!BZ(r,n)&&(t[r]=e[r])}function sSe({transformTemplate:t},e){return N.useMemo(()=>{const n=L4();return k4(n,e,t),Object.assign({},n.vars,n.style)},[e])}function aSe(t,e){const n=t.style||{},r={};return $Z(r,n,t),Object.assign(r,sSe(t,e)),r}function oSe(t,e){const n={},r=aSe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function lSe(t,e,n,r){const i=N.useMemo(()=>{const s=DZ();return D4(s,e,F4(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};$Z(s,t.style,t),i.style={...s,...i.style}}return i}function cSe(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(P4(n)?lSe:oSe)(r,s,o,n),u=N1e(r,typeof n=="string",t),d=n!==N.Fragment?{...u,...c,ref:i}:{},{children:f}=r,h=N.useMemo(()=>Fi(f)?f.get():f,[f]);return N.createElement(n,{...d,children:h})}}function uSe(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...P4(r)?rSe:iSe,preloadedFeatures:t,useRender:cSe(i),createVisualElement:e,Component:r};return O1e(o)}}function VZ(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function tT(t,e,n){const r=t.getProps();return R4(r,e,n!==void 0?n:r.custom,t)}const HZ=E4(()=>window.ScrollTimeline!==void 0);class dSe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(HZ()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class fSe extends dSe{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function B4(t,e){return t?t[e]||t.default||t:void 0}const UI=2e4;function WZ(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<UI;)e+=n,r=t.next(e);return e>=UI?1/0:e}function z4(t){return typeof t=="function"}function Q6(t,e){t.timeline=e,t.onfinish=null}const $4=t=>Array.isArray(t)&&typeof t[0]=="number",hSe={linearEasing:void 0};function pSe(t,e){const n=E4(t);return()=>{var r;return(r=hSe[e])!==null&&r!==void 0?r:n()}}const Lj=pSe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),GZ=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(up(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function qZ(t){return!!(typeof t=="function"&&Lj()||!t||typeof t=="string"&&(t in BI||Lj())||$4(t)||Array.isArray(t)&&t.every(qZ))}const Vx=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,BI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vx([0,.65,.55,1]),circOut:Vx([.55,0,1,.45]),backIn:Vx([.31,.01,.66,-.59]),backOut:Vx([.33,1.53,.69,.99])};function XZ(t,e){if(t)return typeof t=="function"&&Lj()?GZ(t,e):$4(t)?Vx(t):Array.isArray(t)?t.map(n=>XZ(n,e)||BI.easeOut):BI[t]}const Wo={x:!1,y:!1};function YZ(){return Wo.x||Wo.y}function V4(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function KZ(t,e){const n=V4(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Z6(t){return e=>{e.pointerType==="touch"||YZ()||t(e)}}function mSe(t,e,n={}){const[r,i,s]=KZ(t,n),o=Z6(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=Z6(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const JZ=(t,e)=>e?t===e?!0:JZ(t,e.parentElement):!1,H4=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,gSe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vSe(t){return gSe.has(t.tagName)||t.tabIndex!==-1}const Hx=new WeakSet;function eV(t){return e=>{e.key==="Enter"&&t(e)}}function W2(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ySe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=eV(()=>{if(Hx.has(n))return;W2(n,"down");const i=eV(()=>{W2(n,"up")}),s=()=>W2(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function tV(t){return H4(t)&&!YZ()}function xSe(t,e,n={}){const[r,i,s]=KZ(t,n),o=l=>{const c=l.currentTarget;if(!tV(l)||Hx.has(c))return;Hx.add(c);const u=e(l),d=(p,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!tV(p)||!Hx.has(c))&&(Hx.delete(c),typeof u=="function"&&u(p,{success:m}))},f=p=>{d(p,n.useGlobalTarget||JZ(c,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(l=>{!vSe(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>ySe(u,i),i)}),s}function bSe(t){return t==="x"||t==="y"?Wo[t]?null:(Wo[t]=!0,()=>{Wo[t]=!1}):Wo.x||Wo.y?null:(Wo.x=Wo.y=!0,()=>{Wo.x=Wo.y=!1})}const QZ=new Set(["width","height","top","left","right","bottom",...oy]);let kN;function wSe(){kN=void 0}const ec={now:()=>(kN===void 0&&ec.set(vi.isProcessing||y1e.useManualTiming?vi.timestamp:performance.now()),kN),set:t=>{kN=t,queueMicrotask(wSe)}};function W4(t,e){t.indexOf(e)===-1&&t.push(e)}function G4(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class q4{constructor(){this.subscriptions=[]}add(e){return W4(this.subscriptions,e),()=>G4(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function X4(t,e){return e?t*(1e3/e):0}const nV=30,_Se=t=>!isNaN(parseFloat(t)),l0={current:void 0};class SSe{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ec.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ec.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_Se(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new q4);const r=this.events[e].add(n);return e==="change"?()=>{r(),On.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return l0.current&&l0.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ec.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nV)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nV);return X4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gl(t,e){return new SSe(t,e)}function NSe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Gl(n))}function jSe(t,e){const n=tT(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=U1e(s[o]);NSe(t,o,l)}}function ESe(t){return!!(Fi(t)&&t.add)}function zI(t,e){const n=t.getValue("willChange");if(ESe(n))return n.add(e)}function ZZ(t){return t.props[CZ]}const eee=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ASe=1e-7,TSe=12;function CSe(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=eee(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>ASe&&++l<TSe);return o}function Fw(t,e,n,r){if(t===e&&n===r)return Us;const i=s=>CSe(s,0,1,t,n);return s=>s===0||s===1?s:eee(i(s),e,r)}const tee=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nee=t=>e=>1-t(1-e),ree=Fw(.33,1.53,.69,.99),Y4=nee(ree),iee=tee(Y4),see=t=>(t*=2)<1?.5*Y4(t):.5*(2-Math.pow(2,-10*(t-1))),K4=t=>1-Math.sin(Math.acos(t)),aee=nee(K4),oee=tee(K4),lee=t=>/^0[^.\s]+$/u.test(t);function MSe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lee(t):!0}const c0=t=>Math.round(t*1e5)/1e5,J4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PSe(t){return t==null}const RSe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Q4=(t,e)=>n=>!!(typeof n=="string"&&RSe.test(n)&&n.startsWith(t)||e&&!PSe(n)&&Object.prototype.hasOwnProperty.call(n,e)),cee=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(J4);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},OSe=t=>dc(0,255,t),G2={...ly,transform:t=>Math.round(OSe(t))},wh={test:Q4("rgb","red"),parse:cee("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+G2.transform(t)+", "+G2.transform(e)+", "+G2.transform(n)+", "+c0(ab.transform(r))+")"};function ISe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const $I={test:Q4("#"),parse:ISe,transform:wh.transform},ag={test:Q4("hsl","hue"),parse:cee("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zl.transform(c0(e))+", "+Zl.transform(c0(n))+", "+c0(ab.transform(r))+")"},fs={test:t=>wh.test(t)||$I.test(t)||ag.test(t),parse:t=>wh.test(t)?wh.parse(t):ag.test(t)?ag.parse(t):$I.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wh.transform(t):ag.transform(t)},kSe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DSe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(J4))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(kSe))===null||n===void 0?void 0:n.length)||0)>0}const uee="number",dee="color",LSe="var",FSe="var(",rV="${}",USe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ob(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(USe,c=>(fs.test(c)?(r.color.push(s),i.push(dee),n.push(fs.parse(c))):c.startsWith(FSe)?(r.var.push(s),i.push(LSe),n.push(c)):(r.number.push(s),i.push(uee),n.push(parseFloat(c))),++s,rV)).split(rV);return{values:n,split:l,indexes:r,types:i}}function fee(t){return ob(t).values}function hee(t){const{split:e,types:n}=ob(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=n[o];l===uee?s+=c0(i[o]):l===dee?s+=fs.transform(i[o]):s+=i[o]}return s}}const BSe=t=>typeof t=="number"?0:t;function zSe(t){const e=fee(t);return hee(t)(e.map(BSe))}const Wd={test:DSe,parse:fee,createTransformer:hee,getAnimatableNone:zSe},$Se=new Set(["brightness","contrast","saturate","opacity"]);function VSe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(J4)||[];if(!r)return t;const i=n.replace(r,"");let s=$Se.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const HSe=/\b([a-z-]*)\(.*?\)/gu,VI={...Wd,getAnimatableNone:t=>{const e=t.match(HSe);return e?e.map(VSe).join(" "):t}},WSe={...I4,color:fs,backgroundColor:fs,outlineColor:fs,fill:fs,stroke:fs,borderColor:fs,borderTopColor:fs,borderRightColor:fs,borderBottomColor:fs,borderLeftColor:fs,filter:VI,WebkitFilter:VI},Z4=t=>WSe[t];function pee(t,e){let n=Z4(t);return n!==VI&&(n=Wd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const GSe=new Set(["auto","none","0"]);function qSe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!GSe.has(s)&&ob(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=pee(n,i)}const iV=t=>t===ly||t===Gt,sV=(t,e)=>parseFloat(t.split(", ")[e]),aV=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return sV(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?sV(s[1],t):0}},XSe=new Set(["x","y","z"]),YSe=oy.filter(t=>!XSe.has(t));function KSe(t){const e=[];return YSe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const cv={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:aV(4,13),y:aV(5,14)};cv.translateX=cv.x;cv.translateY=cv.y;const Wh=new Set;let HI=!1,WI=!1;function mee(){if(WI){const t=Array.from(Wh).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=KSe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}WI=!1,HI=!1,Wh.forEach(t=>t.complete()),Wh.clear()}function gee(){Wh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(WI=!0)})}function JSe(){gee(),mee()}class e5{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Wh.add(this),HI||(HI=!0,On.read(gee),On.resolveKeyframes(mee))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Wh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Wh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const vee=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),QSe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZSe(t){const e=QSe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function yee(t,e,n=1){const[r,i]=ZSe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return vee(o)?parseFloat(o):o}return O4(i)?yee(i,e,n+1):i}const xee=t=>e=>e.test(t),eNe={test:t=>t==="auto",parse:t=>t},bee=[ly,Gt,Zl,Ju,W1e,H1e,eNe],oV=t=>bee.find(xee(t));class wee extends e5{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),O4(u))){const d=yee(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!QZ.has(r)||e.length!==2)return;const[i,s]=e,o=oV(i),l=oV(s);if(o!==l)if(iV(o)&&iV(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)MSe(e[i])&&r.push(i);r.length&&qSe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cv[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=cv[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const lV=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wd.test(t)||t==="0")&&!t.startsWith("url("));function tNe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function nNe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=lV(i,e),l=lV(s,e);return!o||!l?!1:tNe(t)||(n==="spring"||z4(n))&&r}const rNe=t=>t!==null;function nT(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(rNe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const iNe=40;class _ee{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ec.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>iNe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&JSe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ec.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!nNe(e,r,i,s))if(o)this.options.duration=0;else{c&&c(nT(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Er=(t,e,n)=>t+(e-t)*n;function q2(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function sNe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=q2(c,l,t+1/3),s=q2(c,l,t),o=q2(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Fj(t,e){return n=>n>0?e:t}const X2=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},aNe=[$I,wh,ag],oNe=t=>aNe.find(e=>e.test(t));function cV(t){const e=oNe(t);if(!e)return!1;let n=e.parse(t);return e===ag&&(n=sNe(n)),n}const uV=(t,e)=>{const n=cV(t),r=cV(e);if(!n||!r)return Fj(t,e);const i={...n};return s=>(i.red=X2(n.red,r.red,s),i.green=X2(n.green,r.green,s),i.blue=X2(n.blue,r.blue,s),i.alpha=Er(n.alpha,r.alpha,s),wh.transform(i))},lNe=(t,e)=>n=>e(t(n)),Uw=(...t)=>t.reduce(lNe),GI=new Set(["none","hidden"]);function cNe(t,e){return GI.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uNe(t,e){return n=>Er(t,e,n)}function t5(t){return typeof t=="number"?uNe:typeof t=="string"?O4(t)?Fj:fs.test(t)?uV:hNe:Array.isArray(t)?See:typeof t=="object"?fs.test(t)?uV:dNe:Fj}function See(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>t5(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function dNe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=t5(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function fNe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][i[o]],c=(n=t.values[l])!==null&&n!==void 0?n:0;r[s]=c,i[o]++}return r}const hNe=(t,e)=>{const n=Wd.createTransformer(e),r=ob(t),i=ob(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?GI.has(t)&&!i.values.length||GI.has(e)&&!r.values.length?cNe(t,e):Uw(See(fNe(r,i),i.values),n):Fj(t,e)};function Nee(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Er(t,e,n):t5(t)(t,e)}const pNe=5;function jee(t,e,n){const r=Math.max(e-pNe,0);return X4(n-t(r),e-r)}const kr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Y2=.001;function mNe({duration:t=kr.duration,bounce:e=kr.bounce,velocity:n=kr.velocity,mass:r=kr.mass}){let i,s,o=1-e;o=dc(kr.minDamping,kr.maxDamping,o),t=dc(kr.minDuration,kr.maxDuration,ru(t)),o<1?(i=u=>{const d=u*o,f=d*t,h=d-n,p=qI(u,o),m=Math.exp(-f);return Y2-h/p*m},s=u=>{const f=u*o*t,h=f*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-f),g=qI(Math.pow(u,2),o);return(-i(u)+Y2>0?-1:1)*((h-p)*m)/g}):(i=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-Y2+d*f},s=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=vNe(i,s,l);if(t=nu(t),isNaN(c))return{stiffness:kr.stiffness,damping:kr.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const gNe=12;function vNe(t,e,n){let r=n;for(let i=1;i<gNe;i++)r=r-t(r)/e(r);return r}function qI(t,e){return t*Math.sqrt(1-e*e)}const yNe=["duration","bounce"],xNe=["stiffness","damping","mass"];function dV(t,e){return e.some(n=>t[n]!==void 0)}function bNe(t){let e={velocity:kr.velocity,stiffness:kr.stiffness,damping:kr.damping,mass:kr.mass,isResolvedFromDuration:!1,...t};if(!dV(t,xNe)&&dV(t,yNe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*dc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:kr.mass,stiffness:i,damping:s}}else{const n=mNe(t);e={...e,...n,mass:kr.mass},e.isResolvedFromDuration=!0}return e}function Eee(t=kr.visualDuration,e=kr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=bNe({...n,velocity:-ru(n.velocity||0)}),m=h||0,g=u/(2*Math.sqrt(c*d)),y=o-s,v=ru(Math.sqrt(c/d)),w=Math.abs(y)<5;r||(r=w?kr.restSpeed.granular:kr.restSpeed.default),i||(i=w?kr.restDelta.granular:kr.restDelta.default);let b;if(g<1){const j=qI(v,g);b=E=>{const T=Math.exp(-g*v*E);return o-T*((m+g*v*y)/j*Math.sin(j*E)+y*Math.cos(j*E))}}else if(g===1)b=j=>o-Math.exp(-v*j)*(y+(m+v*y)*j);else{const j=v*Math.sqrt(g*g-1);b=E=>{const T=Math.exp(-g*v*E),P=Math.min(j*E,300);return o-T*((m+g*v*y)*Math.sinh(P)+j*y*Math.cosh(P))/j}}const S={calculatedDuration:p&&f||null,next:j=>{const E=b(j);if(p)l.done=j>=f;else{let T=0;g<1&&(T=j===0?nu(m):jee(b,j,E));const P=Math.abs(T)<=r,C=Math.abs(o-E)<=i;l.done=P&&C}return l.value=l.done?o:E,l},toString:()=>{const j=Math.min(WZ(S),UI),E=GZ(T=>S.next(j*T).value,j,30);return j+"ms "+E}};return S}function fV({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},p=P=>l!==void 0&&P<l||c!==void 0&&P>c,m=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let g=n*e;const y=f+g,v=o===void 0?y:o(y);v!==y&&(g=v-f);const w=P=>-g*Math.exp(-P/r),b=P=>v+w(P),S=P=>{const C=w(P),R=b(P);h.done=Math.abs(C)<=u,h.value=h.done?v:R};let j,E;const T=P=>{p(h.value)&&(j=P,E=Eee({keyframes:[h.value,m(h.value)],velocity:jee(b,P,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:P=>{let C=!1;return!E&&j===void 0&&(C=!0,S(P),T(P)),j!==void 0&&P>=j?E.next(P-j):(!C&&S(P),h)}}}const wNe=Fw(.42,0,1,1),_Ne=Fw(0,0,.58,1),Aee=Fw(.42,0,.58,1),SNe=t=>Array.isArray(t)&&typeof t[0]!="number",NNe={linear:Us,easeIn:wNe,easeInOut:Aee,easeOut:_Ne,circIn:K4,circInOut:oee,circOut:aee,backIn:Y4,backInOut:iee,backOut:ree,anticipate:see},hV=t=>{if($4(t)){NZ(t.length===4);const[e,n,r,i]=t;return Fw(e,n,r,i)}else if(typeof t=="string")return NNe[t];return t};function jNe(t,e,n){const r=[],i=n||Nee,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Us:e;l=Uw(c,l)}r.push(l)}return r}function n5(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(NZ(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=jNe(e,r,i),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=up(t[f],t[f+1],d);return l[f](h)};return n?d=>u(dc(t[0],t[s-1],d)):u}function ENe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=up(0,e,r);t.push(Er(n,1,i))}}function Tee(t){const e=[0];return ENe(e,t.length-1),e}function ANe(t,e){return t.map(n=>n*e)}function TNe(t,e){return t.map(()=>e||Aee).splice(0,t.length-1)}function Uj({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=SNe(r)?r.map(hV):hV(r),s={done:!1,value:e[0]},o=ANe(n&&n.length===e.length?n:Tee(e),t),l=n5(o,e,{ease:Array.isArray(i)?i:TNe(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const CNe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>On.update(e,!0),stop:()=>yl(e),now:()=>vi.isProcessing?vi.timestamp:ec.now()}},MNe={decay:fV,inertia:fV,tween:Uj,keyframes:Uj,spring:Eee},PNe=t=>t/100;class rT extends _ee{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||e5,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,l,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,l=z4(n)?n:MNe[n]||Uj;let c,u;l!==Uj&&typeof e[0]!="number"&&(c=Uw(PNe,Nee(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});s==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=WZ(d));const{calculatedDuration:f}=d,h=f+i,p=h*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:p,repeatType:m,repeatDelay:g,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,S=s;if(p){const P=Math.min(this.currentTime,d)/f;let C=Math.floor(P),R=P%1;!R&&P>=1&&(R=1),R===1&&C--,C=Math.min(C,p+1),!!(C%2)&&(m==="reverse"?(R=1-R,g&&(R-=g/f)):m==="mirror"&&(S=o)),b=dc(0,1,R)*f}const j=w?{done:!1,value:c[0]}:S.next(b);l&&(j.value=l(j.value));let{done:E}=j;!w&&u!==null&&(E=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return T&&i!==void 0&&(j.value=nT(c,this.options,i)),y&&y(j.value),T&&this.finish(),j}get duration(){const{resolved:e}=this;return e?ru(e.calculatedDuration):0}get time(){return ru(this.currentTime)}set time(e){e=nu(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ru(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=CNe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}function RNe(t){return new rT(t)}const ONe=new Set(["opacity","clipPath","filter","transform"]);function INe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=XZ(l,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const kNe=E4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bj=10,DNe=2e4;function LNe(t){return z4(t.type)||t.type==="spring"||!qZ(t.ease)}function FNe(t,e){const n=new rT({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<DNe;)r=n.sample(s),i.push(r.value),s+=Bj;return{times:void 0,keyframes:i,duration:s-Bj,ease:"linear"}}const Cee={anticipate:see,backInOut:iee,circInOut:oee};function UNe(t){return t in Cee}class pV extends _ee{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new wee(s,(o,l)=>this.onKeyframesResolved(o,l),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&Lj()&&UNe(s)&&(s=Cee[s]),LNe(this.options)){const{onComplete:f,onUpdate:h,motionValue:p,element:m,...g}=this.options,y=FNe(e,g);e=y.keyframes,e.length===1&&(e[1]=e[0]),r=y.duration,i=y.times,s=y.ease,o="keyframes"}const d=INe(l.owner.current,c,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Q6(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(nT(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ru(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ru(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=nu(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Us;const{animation:r}=n;Q6(r,e)}return Us}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...p}=this.options,m=new rT({...p,keyframes:r,duration:i,type:s,ease:o,times:l,isGenerator:!0}),g=nu(this.time);u.setWithVelocity(m.sample(g-Bj).value,m.sample(g).value,Bj)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return kNe()&&r&&ONe.has(r)&&!c&&!u&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}}const BNe={type:"spring",stiffness:500,damping:25,restSpeed:10},zNe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$Ne={type:"keyframes",duration:.8},VNe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HNe=(t,{keyframes:e})=>e.length>2?$Ne:Tp.has(t)?t.startsWith("scale")?zNe(e[1]):BNe:VNe;function WNe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const r5=(t,e,n,r={},i,s)=>o=>{const l=B4(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-nu(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:h=>{e.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};WNe(l)||(d={...d,...HNe(t,d)}),d.duration&&(d.duration=nu(d.duration)),d.repeatDelay&&(d.repeatDelay=nu(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const h=nT(d.keyframes,l);if(h!==void 0)return On.update(()=>{d.onUpdate(h),d.onComplete()}),new fSe([])}return!s&&pV.supports(d)?new pV(d):new rT(d)};function GNe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Mee(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const h=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),p=c[f];if(p===void 0||d&&GNe(d,f))continue;const m={delay:n,...B4(o||{},f)};let g=!1;if(window.MotionHandoffAnimation){const v=ZZ(t);if(v){const w=window.MotionHandoffAnimation(v,f,On);w!==null&&(m.startTime=w,g=!0)}}zI(t,f),h.start(r5(f,h,p,t.shouldReduceMotion&&QZ.has(f)?{type:!1}:m,t,g));const y=h.animation;y&&u.push(y)}return l&&Promise.all(u).then(()=>{On.update(()=>{l&&jSe(t,l)})}),u}function XI(t,e,n={}){var r;const i=tT(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(Mee(t,i,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return qNe(t,e,d+u,f,h,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function qNe(t,e,n=0,r=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(XNe).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(XI(u,e,{...s,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function XNe(t,e){return t.sortNodePosition(e)}function YNe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>XI(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=XI(t,e,n);else{const i=typeof e=="function"?tT(t,e,n.custom):e;r=Promise.all(Mee(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const KNe=T4.length;function Pee(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Pee(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<KNe;n++){const r=T4[n],i=t.props[r];(sb(i)||i===!1)&&(e[r]=i)}return e}const JNe=[...A4].reverse(),QNe=A4.length;function ZNe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>YNe(t,n,r)))}function eje(t){let e=ZNe(t),n=mV(),r=!0;const i=c=>(u,d)=>{var f;const h=tT(t,d,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:m,...g}=h;u={...u,...g,...m}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,d=Pee(t.parent)||{},f=[],h=new Set;let p={},m=1/0;for(let y=0;y<QNe;y++){const v=JNe[y],w=n[v],b=u[v]!==void 0?u[v]:d[v],S=sb(b),j=v===c?w.isActive:null;j===!1&&(m=y);let E=b===d[v]&&b!==u[v]&&S;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...p},!w.isActive&&j===null||!b&&!w.prevProp||ZA(b)||typeof b=="boolean")continue;const T=tje(w.prevProp,b);let P=T||v===c&&w.isActive&&!E&&S||y>m&&S,C=!1;const R=Array.isArray(b)?b:[b];let I=R.reduce(i(v),{});j===!1&&(I={});const{prevResolvedValues:D={}}=w,V={...D,...I},U=W=>{P=!0,h.has(W)&&(C=!0,h.delete(W)),w.needsAnimating[W]=!0;const k=t.getValue(W);k&&(k.liveStyle=!1)};for(const W in V){const k=I[W],L=D[W];if(p.hasOwnProperty(W))continue;let H=!1;FI(k)&&FI(L)?H=!VZ(k,L):H=k!==L,H?k!=null?U(W):h.add(W):k!==void 0&&h.has(W)?U(W):w.protectedKeys[W]=!0}w.prevProp=b,w.prevResolvedValues=I,w.isActive&&(p={...p,...I}),r&&t.blockInitialAnimation&&(P=!1),P&&(!(E&&T)||C)&&f.push(...R.map(W=>({animation:W,options:{type:v}})))}if(h.size){const y={};h.forEach(v=>{const w=t.getBaseTarget(v),b=t.getValue(v);b&&(b.liveStyle=!0),y[v]=w??null}),f.push({animation:y})}let g=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(f):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=mV(),r=!0}}}function tje(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VZ(e,t):!1}function Lf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mV(){return{animate:Lf(!0),whileInView:Lf(),whileHover:Lf(),whileTap:Lf(),whileDrag:Lf(),whileFocus:Lf(),exit:Lf()}}class cf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nje extends cf{constructor(e){super(e),e.animationState||(e.animationState=eje(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ZA(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let rje=0;class ije extends cf{constructor(){super(...arguments),this.id=rje++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const sje={animation:{Feature:nje},exit:{Feature:ije}};function lb(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Bw(t){return{point:{x:t.pageX,y:t.pageY}}}const aje=t=>e=>H4(e)&&t(e,Bw(e));function u0(t,e,n,r){return lb(t,e,aje(n),r)}const gV=(t,e)=>Math.abs(t-e);function oje(t,e){const n=gV(t.x,e.x),r=gV(t.y,e.y);return Math.sqrt(n**2+r**2)}class Ree{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=J2(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=oje(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=f,{timestamp:g}=vi;this.history.push({...m,timestamp:g});const{onStart:y,onMove:v}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=K2(h,this.transformPagePoint),On.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=J2(f.type==="pointercancel"?this.lastMoveEventInfo:K2(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),m&&m(f,y)},!H4(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Bw(e),l=K2(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=vi;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,J2(l,this.history)),this.removeListeners=Uw(u0(this.contextWindow,"pointermove",this.handlePointerMove),u0(this.contextWindow,"pointerup",this.handlePointerUp),u0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),yl(this.updatePoint)}}function K2(t,e){return e?{point:e(t.point)}:t}function vV(t,e){return{x:t.x-e.x,y:t.y-e.y}}function J2({point:t},e){return{point:t,delta:vV(t,Oee(e)),offset:vV(t,lje(e)),velocity:cje(e,.1)}}function lje(t){return t[0]}function Oee(t){return t[t.length-1]}function cje(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Oee(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>nu(e)));)n--;if(!r)return{x:0,y:0};const s=ru(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Iee=1e-4,uje=1-Iee,dje=1+Iee,kee=.01,fje=0-kee,hje=0+kee;function Ga(t){return t.max-t.min}function pje(t,e,n){return Math.abs(t-e)<=n}function yV(t,e,n,r=.5){t.origin=r,t.originPoint=Er(e.min,e.max,t.origin),t.scale=Ga(n)/Ga(e),t.translate=Er(n.min,n.max,t.origin)-t.originPoint,(t.scale>=uje&&t.scale<=dje||isNaN(t.scale))&&(t.scale=1),(t.translate>=fje&&t.translate<=hje||isNaN(t.translate))&&(t.translate=0)}function d0(t,e,n,r){yV(t.x,e.x,n.x,r?r.originX:void 0),yV(t.y,e.y,n.y,r?r.originY:void 0)}function xV(t,e,n){t.min=n.min+e.min,t.max=t.min+Ga(e)}function mje(t,e,n){xV(t.x,e.x,n.x),xV(t.y,e.y,n.y)}function bV(t,e,n){t.min=e.min-n.min,t.max=t.min+Ga(e)}function f0(t,e,n){bV(t.x,e.x,n.x),bV(t.y,e.y,n.y)}function gje(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Er(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Er(n,t,r.max):Math.min(t,n)),t}function wV(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function vje(t,{top:e,left:n,bottom:r,right:i}){return{x:wV(t.x,n,i),y:wV(t.y,e,r)}}function _V(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function yje(t,e){return{x:_V(t.x,e.x),y:_V(t.y,e.y)}}function xje(t,e){let n=.5;const r=Ga(t),i=Ga(e);return i>r?n=up(e.min,e.max-r,t.min):r>i&&(n=up(t.min,t.max-i,e.min)),dc(0,1,n)}function bje(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const YI=.35;function wje(t=YI){return t===!1?t=0:t===!0&&(t=YI),{x:SV(t,"left","right"),y:SV(t,"top","bottom")}}function SV(t,e,n){return{min:NV(t,e),max:NV(t,n)}}function NV(t,e){return typeof t=="number"?t:t[e]||0}const jV=()=>({translate:0,scale:1,origin:0,originPoint:0}),og=()=>({x:jV(),y:jV()}),EV=()=>({min:0,max:0}),Xr=()=>({x:EV(),y:EV()});function fo(t){return[t("x"),t("y")]}function Dee({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function _je({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Sje(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Q2(t){return t===void 0||t===1}function KI({scale:t,scaleX:e,scaleY:n}){return!Q2(t)||!Q2(e)||!Q2(n)}function th(t){return KI(t)||Lee(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Lee(t){return AV(t.x)||AV(t.y)}function AV(t){return t&&t!=="0%"}function zj(t,e,n){const r=t-n,i=e*r;return n+i}function TV(t,e,n,r,i){return i!==void 0&&(t=zj(t,i,r)),zj(t,n,r)+e}function JI(t,e=0,n=1,r,i){t.min=TV(t.min,e,n,r,i),t.max=TV(t.max,e,n,r,i)}function Fee(t,{x:e,y:n}){JI(t.x,e.translate,e.scale,e.originPoint),JI(t.y,n.translate,n.scale,n.originPoint)}const CV=.999999999999,MV=1.0000000000001;function Nje(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&cg(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Fee(t,o)),r&&th(s.latestValues)&&cg(t,s.latestValues))}e.x<MV&&e.x>CV&&(e.x=1),e.y<MV&&e.y>CV&&(e.y=1)}function lg(t,e){t.min=t.min+e,t.max=t.max+e}function PV(t,e,n,r,i=.5){const s=Er(t.min,t.max,i);JI(t,e,n,s,r)}function cg(t,e){PV(t.x,e.x,e.scaleX,e.scale,e.originX),PV(t.y,e.y,e.scaleY,e.scale,e.originY)}function Uee(t,e){return Dee(Sje(t.getBoundingClientRect(),e))}function jje(t,e,n){const r=Uee(t,n),{scroll:i}=e;return i&&(lg(r.x,i.offset.x),lg(r.y,i.offset.y)),r}const Bee=({current:t})=>t?t.ownerDocument.defaultView:null,Eje=new WeakMap;class Aje{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bw(d).point)},s=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bSe(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fo(y=>{let v=this.getAxisMotionValue(y).get()||0;if(Zl.test(v)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[y];b&&(v=Ga(b)*(parseFloat(v)/100))}}this.originPoint[y]=v}),m&&On.postRender(()=>m(d,f)),zI(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=Tje(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},l=(d,f)=>this.stop(d,f),c=()=>fo(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Ree(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Bee(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&On.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!G1(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=gje(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&sg(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=vje(i.layoutBox,n):this.constraints=!1,this.elastic=wje(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&fo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=bje(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sg(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=jje(r,i.root,this.visualElement.getTransformPagePoint());let o=yje(i.layout.layoutBox,s);if(n){const l=n(_je(o));this.hasMutatedConstraints=!!l,l&&(o=Dee(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=fo(d=>{if(!G1(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return zI(this.visualElement,e),r.start(r5(e,r,0,n,this.visualElement,!1))}stopAnimation(){fo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fo(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fo(n=>{const{drag:r}=this.getProps();if(!G1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-Er(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sg(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};fo(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=xje({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fo(o=>{if(!G1(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Er(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Eje.set(this.visualElement,this);const e=this.visualElement.current,n=u0(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();sg(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),On.read(r);const o=lb(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(fo(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=YI,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function G1(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Tje(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Cje extends cf{constructor(e){super(e),this.removeGroupControls=Us,this.removeListeners=Us,this.controls=new Aje(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Us}unmount(){this.removeGroupControls(),this.removeListeners()}}const RV=t=>(e,n)=>{t&&On.postRender(()=>t(e,n))};class Mje extends cf{constructor(){super(...arguments),this.removePointerDownListener=Us}onPointerDown(e){this.session=new Ree(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Bee(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:RV(e),onStart:RV(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&On.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=u0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const DN={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OV(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ix={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Gt.test(t))t=parseFloat(t);else return t;const n=OV(t,e.target.x),r=OV(t,e.target.y);return`${n}% ${r}%`}},Pje={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Wd.parse(t);if(i.length>5)return r;const s=Wd.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const u=Er(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Rje extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;tSe(Oje),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),DN.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||On.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),M4.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zee(t){const[e,n]=SZ(),r=N.useContext(N4);return a.jsx(Rje,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(MZ),isPresent:e,safeToRemove:n})}const Oje={borderRadius:{...ix,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ix,borderTopRightRadius:ix,borderBottomLeftRadius:ix,borderBottomRightRadius:ix,boxShadow:Pje};function Ije(t,e,n){const r=Fi(t)?t:Gl(t);return r.start(r5("",r,e,n)),r.animation}function kje(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Dje=(t,e)=>t.depth-e.depth;class Lje{constructor(){this.children=[],this.isDirty=!1}add(e){W4(this.children,e),this.isDirty=!0}remove(e){G4(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Dje),this.isDirty=!1,this.children.forEach(e)}}function Fje(t,e){const n=ec.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(yl(r),t(s-e))};return On.read(r,!0),()=>yl(r)}const $ee=["TopLeft","TopRight","BottomLeft","BottomRight"],Uje=$ee.length,IV=t=>typeof t=="string"?parseFloat(t):t,kV=t=>typeof t=="number"||Gt.test(t);function Bje(t,e,n,r,i,s){i?(t.opacity=Er(0,n.opacity!==void 0?n.opacity:1,zje(r)),t.opacityExit=Er(e.opacity!==void 0?e.opacity:1,0,$je(r))):s&&(t.opacity=Er(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Uje;o++){const l=`border${$ee[o]}Radius`;let c=DV(e,l),u=DV(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||kV(c)===kV(u)?(t[l]=Math.max(Er(IV(c),IV(u),r),0),(Zl.test(u)||Zl.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Er(e.rotate||0,n.rotate||0,r))}function DV(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zje=Vee(0,.5,aee),$je=Vee(.5,.95,Us);function Vee(t,e,n){return r=>r<t?0:r>e?1:n(up(t,e,r))}function LV(t,e){t.min=e.min,t.max=e.max}function ao(t,e){LV(t.x,e.x),LV(t.y,e.y)}function FV(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function UV(t,e,n,r,i){return t-=e,t=zj(t,1/n,r),i!==void 0&&(t=zj(t,1/i,r)),t}function Vje(t,e=0,n=1,r=.5,i,s=t,o=t){if(Zl.test(e)&&(e=parseFloat(e),e=Er(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Er(s.min,s.max,r);t===s&&(l-=e),t.min=UV(t.min,e,n,l,i),t.max=UV(t.max,e,n,l,i)}function BV(t,e,[n,r,i],s,o){Vje(t,e[n],e[r],e[i],e.scale,s,o)}const Hje=["x","scaleX","originX"],Wje=["y","scaleY","originY"];function zV(t,e,n,r){BV(t.x,e,Hje,n?n.x:void 0,r?r.x:void 0),BV(t.y,e,Wje,n?n.y:void 0,r?r.y:void 0)}function $V(t){return t.translate===0&&t.scale===1}function Hee(t){return $V(t.x)&&$V(t.y)}function VV(t,e){return t.min===e.min&&t.max===e.max}function Gje(t,e){return VV(t.x,e.x)&&VV(t.y,e.y)}function HV(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Wee(t,e){return HV(t.x,e.x)&&HV(t.y,e.y)}function WV(t){return Ga(t.x)/Ga(t.y)}function GV(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class qje{constructor(){this.members=[]}add(e){W4(this.members,e),e.scheduleRender()}remove(e){if(G4(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xje(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:m}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const nh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Wx=typeof window<"u"&&window.MotionDebug!==void 0,Z2=["","X","Y","Z"],Yje={visibility:"hidden"},qV=1e3;let Kje=0;function eP(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Gee(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ZZ(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",On,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Gee(r)}function qee({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Kje++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wx&&(nh.totalNodes=nh.resolvedTargetDeltas=nh.recalculatedProjection=0),this.nodes.forEach(Zje),this.nodes.forEach(iEe),this.nodes.forEach(sEe),this.nodes.forEach(eEe),Wx&&window.MotionDebug.record(nh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lje)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new q4),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kje(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Fje(h,250),DN.hasAnimatedSinceResize&&(DN.hasAnimatedSinceResize=!1,this.nodes.forEach(YV))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||uEe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=d.getProps(),w=!this.targetLayout||!Wee(this.targetLayout,m)||p,b=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const S={...B4(g,"layout"),onPlay:y,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||YV(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,yl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aEe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Gee(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XV);return}this.isUpdating||this.nodes.forEach(nEe),this.isUpdating=!1,this.nodes.forEach(rEe),this.nodes.forEach(Jje),this.nodes.forEach(Qje),this.clearAllSnapshots();const l=ec.now();vi.delta=dc(0,1e3/60,l-vi.timestamp),vi.timestamp=l,vi.isProcessing=!0,H2.update.process(vi),H2.preRender.process(vi),H2.render.process(vi),vi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,M4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tEe),this.sharedNodes.forEach(oEe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,On.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){On.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Hee(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||th(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),dEe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Xr();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(fEe))){const{scroll:d}=this.root;d&&(lg(c.x,d.offset.x),lg(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Xr();if(ao(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ao(c,o),lg(c.x,f.offset.x),lg(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=Xr();ao(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&cg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),th(d.latestValues)&&cg(c,d.latestValues)}return th(this.latestValues)&&cg(c,this.latestValues),c}removeTransform(o){const l=Xr();ao(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!th(u.latestValues))continue;KI(u.latestValues)&&u.updateSnapshot();const d=Xr(),f=u.measurePageBox();ao(d,f),zV(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return th(this.latestValues)&&zV(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=vi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xr(),this.relativeTargetOrigin=Xr(),f0(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ao(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xr(),this.targetWithTransforms=Xr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mje(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ao(this.target,this.layout.layoutBox),Fee(this.target,this.targetDelta)):ao(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xr(),this.relativeTargetOrigin=Xr(),f0(this.relativeTargetOrigin,this.target,p.target),ao(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wx&&nh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||KI(this.parent.latestValues)||Lee(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===vi.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ao(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Nje(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Xr());const{target:m}=l;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(FV(this.prevProjectionDelta.x,this.projectionDelta.x),FV(this.prevProjectionDelta.y,this.projectionDelta.y)),d0(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!GV(this.projectionDelta.x,this.prevProjectionDelta.x)||!GV(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Wx&&nh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=og(),this.projectionDelta=og(),this.projectionDeltaWithTransform=og()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=og();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Xr(),p=c?c.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,y=this.getStack(),v=!y||y.members.length<=1,w=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(cEe));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const j=S/1e3;KV(f.x,o.x,j),KV(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(f0(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lEe(this.relativeTarget,this.relativeTargetOrigin,h,j),b&&Gje(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Xr()),ao(b,this.relativeTarget)),g&&(this.animationValues=d,Bje(d,u,this.latestValues,j,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(yl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=On.update(()=>{DN.hasAnimatedSinceResize=!0,this.currentAnimation=Ije(0,qV,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Xee(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Xr();const f=Ga(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Ga(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}ao(l,c),cg(l,d),d0(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qje),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&eP("z",o,u,this.animationValues);for(let d=0;d<Z2.length;d++)eP(`rotate${Z2[d]}`,o,u,this.animationValues),eP(`skew${Z2[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Yje;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=IN(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=IN(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!th(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Xje(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:m}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Dj){if(h[g]===void 0)continue;const{correct:y,applyTo:v}=Dj[g],w=u.transform==="none"?h[g]:y(h[g],f);if(v){const b=v.length;for(let S=0;S<b;S++)u[v[S]]=w}else u[g]=w}return this.options.layoutId&&(u.pointerEvents=f===this?IN(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(XV),this.root.sharedNodes.clear()}}}function Jje(t){t.updateLayout()}function Qje(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?fo(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=Ga(h);h.min=r[f].min,h.max=h.min+p}):Xee(s,n.layoutBox,r)&&fo(f=>{const h=o?n.measuredBox[f]:n.layoutBox[f],p=Ga(r[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const l=og();d0(l,r,n.layoutBox);const c=og();o?d0(c,t.applyTransform(i,!0),n.measuredBox):d0(c,r,n.layoutBox);const u=!Hee(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=Xr();f0(m,n.layoutBox,h.layoutBox);const g=Xr();f0(g,r,p.layoutBox),Wee(m,g)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Zje(t){Wx&&nh.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eEe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tEe(t){t.clearSnapshot()}function XV(t){t.clearMeasurements()}function nEe(t){t.isLayoutDirty=!1}function rEe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function YV(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iEe(t){t.resolveTargetDelta()}function sEe(t){t.calcProjection()}function aEe(t){t.resetSkewAndRotation()}function oEe(t){t.removeLeadSnapshot()}function KV(t,e,n){t.translate=Er(e.translate,0,n),t.scale=Er(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function JV(t,e,n,r){t.min=Er(e.min,n.min,r),t.max=Er(e.max,n.max,r)}function lEe(t,e,n,r){JV(t.x,e.x,n.x,r),JV(t.y,e.y,n.y,r)}function cEe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uEe={duration:.45,ease:[.4,0,.1,1]},QV=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ZV=QV("applewebkit/")&&!QV("chrome/")?Math.round:Us;function e8(t){t.min=ZV(t.min),t.max=ZV(t.max)}function dEe(t){e8(t.x),e8(t.y)}function Xee(t,e,n){return t==="position"||t==="preserve-aspect"&&!pje(WV(e),WV(n),.2)}function fEe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const hEe=qee({attachResizeListener:(t,e)=>lb(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tP={current:void 0},Yee=qee({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tP.current){const t=new hEe({});t.mount(window),t.setOptions({layoutScroll:!0}),tP.current=t}return tP.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pEe={pan:{Feature:Mje},drag:{Feature:Cje,ProjectionNode:Yee,MeasureLayout:zee}};function t8(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&On.postRender(()=>s(e,Bw(e)))}class mEe extends cf{mount(){const{current:e}=this.node;e&&(this.unmount=mSe(e,n=>(t8(this.node,n,"Start"),r=>t8(this.node,r,"End"))))}unmount(){}}class gEe extends cf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uw(lb(this.node.current,"focus",()=>this.onFocus()),lb(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function n8(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&On.postRender(()=>s(e,Bw(e)))}class vEe extends cf{mount(){const{current:e}=this.node;e&&(this.unmount=xSe(e,n=>(n8(this.node,n,"Start"),(r,{success:i})=>n8(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const QI=new WeakMap,nP=new WeakMap,yEe=t=>{const e=QI.get(t.target);e&&e(t)},xEe=t=>{t.forEach(yEe)};function bEe({root:t,...e}){const n=t||document;nP.has(n)||nP.set(n,{});const r=nP.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(xEe,{root:t,...e})),r[i]}function wEe(t,e,n){const r=bEe(e);return QI.set(t,n),r.observe(t),()=>{QI.delete(t),r.unobserve(t)}}const _Ee={some:0,all:1};class SEe extends cf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:_Ee[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return wEe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(NEe(e,n))&&this.startObserver()}unmount(){}}function NEe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const jEe={inView:{Feature:SEe},tap:{Feature:vEe},focus:{Feature:gEe},hover:{Feature:mEe}},EEe={layout:{ProjectionNode:Yee,MeasureLayout:zee}},ZI={current:null},Kee={current:!1};function AEe(){if(Kee.current=!0,!!j4)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ZI.current=t.matches;t.addListener(e),e()}else ZI.current=!1}const TEe=[...bee,fs,Wd],CEe=t=>TEe.find(xee(t)),r8=new WeakMap;function MEe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Fi(i))t.addValue(r,i);else if(Fi(s))t.addValue(r,Gl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Gl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const i8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PEe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=e5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ec.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,On.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=eT(n),this.isVariantNode=TZ(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const m=h[p];c[p]!==void 0&&Fi(m)&&m.set(c[p],!1)}}mount(e){this.current=e,r8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Kee.current||AEe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ZI.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){r8.delete(this.current),this.projection&&this.projection.unmount(),yl(this.notifyUpdate),yl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Tp.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&On.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in lv){const n=lv[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<i8.length;r++){const i=i8[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=MEe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Gl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(vee(i)||lee(i))?i=parseFloat(i):!CEe(i)&&Wd.test(n)&&(i=pee(e,n)),this.setBaseTarget(e,Fi(i)?i.get():i)),Fi(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=R4(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Fi(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new q4),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Jee extends PEe{constructor(){super(...arguments),this.KeyframeResolver=wee}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function REe(t){return window.getComputedStyle(t)}class OEe extends Jee{constructor(){super(...arguments),this.type="html",this.renderInstance=LZ}readValueFromInstance(e,n){if(Tp.has(n)){const r=Z4(n);return r&&r.default||0}else{const r=REe(e),i=(IZ(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Uee(e,n)}build(e,n,r){k4(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return U4(e,n,r)}}class IEe extends Jee{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Tp.has(n)){const r=Z4(n);return r&&r.default||0}return n=FZ.has(n)?n:C4(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return zZ(e,n,r)}build(e,n,r){D4(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){UZ(e,n,r,i)}mount(e){this.isSVGTag=F4(e.tagName),super.mount(e)}}const kEe=(t,e)=>P4(t)?new IEe(e):new OEe(e,{allowProjection:t!==N.Fragment}),DEe=uSe({...sje,...jEe,...pEe,...EEe},kEe),Me=j1e(DEe);function Qee(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return On.update(r,!0),()=>yl(r)}const LN=new WeakMap;let Qu;function LEe(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function FEe({target:t,contentRect:e,borderBoxSize:n}){var r;(r=LN.get(t))===null||r===void 0||r.forEach(i=>{i({target:t,contentSize:e,get size(){return LEe(t,n)}})})}function UEe(t){t.forEach(FEe)}function BEe(){typeof ResizeObserver>"u"||(Qu=new ResizeObserver(UEe))}function zEe(t,e){Qu||BEe();const n=V4(t);return n.forEach(r=>{let i=LN.get(r);i||(i=new Set,LN.set(r,i)),i.add(e),Qu==null||Qu.observe(r)}),()=>{n.forEach(r=>{const i=LN.get(r);i==null||i.delete(e),i!=null&&i.size||Qu==null||Qu.unobserve(r)})}}const FN=new Set;let h0;function $Ee(){h0=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};FN.forEach(n=>n(e))},window.addEventListener("resize",h0)}function VEe(t){return FN.add(t),h0||$Ee(),()=>{FN.delete(t),!FN.size&&h0&&(h0=void 0)}}function HEe(t,e){return typeof t=="function"?VEe(t):zEe(t,e)}const WEe=50,s8=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),GEe=()=>({time:0,x:s8(),y:s8()}),qEe={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function a8(t,e,n,r){const i=n[e],{length:s,position:o}=qEe[e],l=i.current,c=n.time;i.current=t[`scroll${o}`],i.scrollLength=t[`scroll${s}`]-t[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=up(0,i.scrollLength,i.current);const u=r-c;i.velocity=u>WEe?0:X4(i.current-l,u)}function XEe(t,e,n){a8(t,"x",e,n),a8(t,"y",e,n),e.time=n}function YEe(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const s=r.getBoundingClientRect();n.x+=i.left-s.left,n.y+=i.top-s.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:s}=r.getBBox();n.x+=i,n.y+=s;let o=null,l=r.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=r.parentNode;r=o}else break;return n}const ek={start:0,center:.5,end:1};function o8(t,e,n=0){let r=0;if(t in ek&&(t=ek[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const KEe=[0,0];function JEe(t,e,n,r){let i=Array.isArray(t)?t:KEe,s=0,o=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,ek[t]?t:"0"]),s=o8(i[0],n,r),o=o8(i[1],e),s-o}const QEe={All:[[0,0],[1,1]]},ZEe={x:0,y:0};function eAe(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function tAe(t,e,n){const{offset:r=QEe.All}=n,{target:i=t,axis:s="y"}=n,o=s==="y"?"height":"width",l=i!==t?YEe(i,t):ZEe,c=i===t?{width:t.scrollWidth,height:t.scrollHeight}:eAe(i),u={width:t.clientWidth,height:t.clientHeight};e[s].offset.length=0;let d=!e[s].interpolate;const f=r.length;for(let h=0;h<f;h++){const p=JEe(r[h],u[o],c[o],l[s]);!d&&p!==e[s].interpolatorOffsets[h]&&(d=!0),e[s].offset[h]=p}d&&(e[s].interpolate=n5(e[s].offset,Tee(r),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=dc(0,1,e[s].interpolate(e[s].current))}function nAe(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function rAe(t,e,n,r={}){return{measure:()=>nAe(t,r.target,n),update:i=>{XEe(t,n,i),(r.offset||r.target)&&tAe(t,n,r)},notify:()=>e(n)}}const sx=new WeakMap,l8=new WeakMap,rP=new WeakMap,c8=t=>t===document.documentElement?window:t;function i5(t,{container:e=document.documentElement,...n}={}){let r=rP.get(e);r||(r=new Set,rP.set(e,r));const i=GEe(),s=rAe(e,t,i,n);if(r.add(s),!sx.has(e)){const l=()=>{for(const h of r)h.measure()},c=()=>{for(const h of r)h.update(vi.timestamp)},u=()=>{for(const h of r)h.notify()},d=()=>{On.read(l,!1,!0),On.read(c,!1,!0),On.update(u,!1,!0)};sx.set(e,d);const f=c8(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&l8.set(e,HEe(e,d)),f.addEventListener("scroll",d,{passive:!0})}const o=sx.get(e);return On.read(o,!1,!0),()=>{var l;yl(o);const c=rP.get(e);if(!c||(c.delete(s),c.size))return;const u=sx.get(e);sx.delete(e),u&&(c8(e).removeEventListener("scroll",u),(l=l8.get(e))===null||l===void 0||l(),window.removeEventListener("resize",u))}}function iAe({source:t,container:e,axis:n="y"}){t&&(e=t);const r={value:0},i=i5(s=>{r.value=s[n].progress*100},{container:e,axis:n});return{currentTime:r,cancel:i}}const iP=new Map;function Zee({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),iP.has(e)||iP.set(e,{});const r=iP.get(e);return r[n]||(r[n]=HZ()?new ScrollTimeline({source:e,axis:n}):iAe({source:e,axis:n})),r[n]}function sAe(t){return t.length===2}function ete(t){return t&&(t.target||t.offset)}function aAe(t,e){return sAe(t)||ete(e)?i5(n=>{t(n[e.axis].progress,n)},e):Qee(t,Zee(e))}function oAe(t,e){if(t.flatten(),ete(e))return t.pause(),i5(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=Zee(e);return t.attachTimeline?t.attachTimeline(n,r=>(r.pause(),Qee(i=>{r.time=r.duration*i},n))):Us}}function lAe(t,{axis:e="y",...n}={}){const r={axis:e,...n};return typeof t=="function"?aAe(t,r):oAe(t,r)}function u8(t,e){v1e(!!(!e||e.current))}const cAe=()=>({scrollX:Gl(0),scrollY:Gl(0),scrollXProgress:Gl(0),scrollYProgress:Gl(0)});function uAe({container:t,target:e,layoutEffect:n=!0,...r}={}){const i=ay(cAe);return(n?Dw:N.useEffect)(()=>(u8("target",e),u8("container",t),lAe((o,{x:l,y:c})=>{i.scrollX.set(l.current),i.scrollXProgress.set(l.progress),i.scrollY.set(c.current),i.scrollYProgress.set(c.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),i}function $j(t){const e=ay(()=>Gl(t)),{isStatic:n}=N.useContext(kw);if(n){const[,r]=N.useState(t);N.useEffect(()=>e.on("change",r),[])}return e}function tte(t,e){const n=$j(e()),r=()=>n.set(e());return r(),Dw(()=>{const i=()=>On.preRender(r,!1,!0),s=t.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),yl(r)}}),n}function d8(t){return typeof t=="number"?t:parseFloat(t)}function f8(t,e={}){const{isStatic:n}=N.useContext(kw),r=N.useRef(null),i=$j(Fi(t)?d8(t.get()):t),s=N.useRef(i.get()),o=N.useRef(()=>{}),l=()=>{const u=r.current;u&&u.time===0&&u.sample(vi.delta),c(),r.current=RNe({keyframes:[i.get(),s.current],velocity:i.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:o.current})},c=()=>{r.current&&r.current.stop()};return N.useInsertionEffect(()=>i.attach((u,d)=>n?d(u):(s.current=u,o.current=d,On.update(l),i.get()),c),[JSON.stringify(e)]),Dw(()=>{if(Fi(t))return t.on("change",u=>i.set(d8(u)))},[i]),i}const dAe=t=>t&&typeof t=="object"&&t.mix,fAe=t=>dAe(t)?t.mix:void 0;function hAe(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],o=t[3+n],l=n5(i,s,{mixer:fAe(s[0]),...o});return e?l(r):l}function pAe(t){l0.current=[],t();const e=tte(l0.current,t);return l0.current=void 0,e}function sP(t,e,n,r){if(typeof t=="function")return pAe(t);const i=typeof e=="function"?e:hAe(e,n,r);return Array.isArray(t)?h8(t,i):h8([t],([s])=>i(s))}function h8(t,e){const n=ay(()=>[]);return tte(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}const mAe={some:0,all:1};function gAe(t,e,{root:n,margin:r,amount:i="some"}={}){const s=V4(t),o=new WeakMap,l=u=>{u.forEach(d=>{const f=o.get(d.target);if(d.isIntersecting!==!!f)if(d.isIntersecting){const h=e(d);typeof h=="function"?o.set(d.target,h):c.unobserve(d.target)}else typeof f=="function"&&(f(d),o.delete(d.target))})},c=new IntersectionObserver(l,{root:n,rootMargin:r,threshold:typeof i=="number"?i:mAe[i]});return s.forEach(u=>c.observe(u)),()=>c.disconnect()}function nte(t,{root:e,margin:n,amount:r,once:i=!1}={}){const[s,o]=N.useState(!1);return N.useEffect(()=>{if(!t.current||i&&s)return;const l=()=>(o(!0),i?void 0:()=>o(!1)),c={root:e&&e.current||void 0,margin:n,amount:r};return gAe(t.current,l,c)},[e,t,n,i,r]),s}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const iT="160",rh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ih={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},rte=0,tk=1,ite=2,vAe=3,ste=0,sT=1,p0=2,Ko=3,pu=0,Bs=1,Hl=2,yAe=2,iu=0,Gh=1,nk=2,rk=3,ik=4,ate=5,od=100,ote=101,lte=102,sk=103,ak=104,cte=200,ute=201,dte=202,fte=203,Vj=204,Hj=205,hte=206,pte=207,mte=208,gte=209,vte=210,yte=211,xte=212,bte=213,wte=214,_te=0,Ste=1,Nte=2,cb=3,jte=4,Ete=5,Ate=6,Tte=7,zw=0,Cte=1,Mte=2,tc=0,Pte=1,Rte=2,Ote=3,s5=4,Ite=5,kte=6,ok="attached",Dte="detached",aT=300,mu=301,Gd=302,ub=303,db=304,cy=306,fb=1e3,gs=1001,hb=1002,Yr=1003,Wj=1004,xAe=1004,m0=1005,bAe=1005,Jr=1006,a5=1007,wAe=1007,qd=1008,_Ae=1008,nc=1009,Lte=1010,Fte=1011,oT=1012,o5=1013,qc=1014,ol=1015,uv=1016,l5=1017,c5=1018,Od=1020,Ute=1021,Rs=1023,Bte=1024,zte=1025,Id=1026,dp=1027,$te=1028,u5=1029,Vte=1030,d5=1031,f5=1033,UN=33776,BN=33777,zN=33778,$N=33779,lk=35840,ck=35841,uk=35842,dk=35843,h5=36196,fk=37492,hk=37496,pk=37808,mk=37809,gk=37810,vk=37811,yk=37812,xk=37813,bk=37814,wk=37815,_k=37816,Sk=37817,Nk=37818,jk=37819,Ek=37820,Ak=37821,VN=36492,Tk=36494,Ck=36495,Hte=36283,Mk=36284,Pk=36285,Rk=36286,Wte=2200,Gte=2201,qte=2202,pb=2300,mb=2301,HN=2302,_h=2400,Sh=2401,gb=2402,lT=2500,p5=2501,SAe=0,NAe=1,jAe=2,m5=3e3,kd=3001,Xte=3200,Yte=3201,uf=0,Kte=1,Ra="",xi="srgb",fc="srgb-linear",cT="display-p3",$w="display-p3-linear",vb="linear",ir="srgb",yb="rec709",xb="p3",EAe=0,sh=7680,AAe=7681,TAe=7682,CAe=7683,MAe=34055,PAe=34056,RAe=5386,OAe=512,IAe=513,kAe=514,DAe=515,LAe=516,FAe=517,UAe=518,Ok=519,Jte=512,Qte=513,Zte=514,g5=515,ene=516,tne=517,nne=518,rne=519,bb=35044,BAe=35048,zAe=35040,$Ae=35045,VAe=35049,HAe=35041,WAe=35046,GAe=35050,qAe=35042,XAe="100",Ik="300 es",Gj=1035,ll=2e3,dv=2001;let Su=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const ls=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let p8=1234567;const qh=Math.PI/180,fv=180/Math.PI;function Ua(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ls[t&255]+ls[t>>8&255]+ls[t>>16&255]+ls[t>>24&255]+"-"+ls[e&255]+ls[e>>8&255]+"-"+ls[e>>16&15|64]+ls[e>>24&255]+"-"+ls[n&63|128]+ls[n>>8&255]+"-"+ls[n>>16&255]+ls[n>>24&255]+ls[r&255]+ls[r>>8&255]+ls[r>>16&255]+ls[r>>24&255]).toLowerCase()}function Fr(t,e,n){return Math.max(e,Math.min(n,t))}function v5(t,e){return(t%e+e)%e}function YAe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function KAe(t,e,n){return t!==e?(n-t)/(e-t):0}function g0(t,e,n){return(1-n)*t+n*e}function JAe(t,e,n,r){return g0(t,e,1-Math.exp(-n*r))}function QAe(t,e=1){return e-Math.abs(v5(t,e*2)-e)}function ZAe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function eTe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function tTe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function nTe(t,e){return t+Math.random()*(e-t)}function rTe(t){return t*(.5-Math.random())}function iTe(t){t!==void 0&&(p8=t);let e=p8+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function sTe(t){return t*qh}function aTe(t){return t*fv}function kk(t){return(t&t-1)===0&&t!==0}function oTe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function qj(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function lTe(t,e,n,r,i){const s=Math.cos,o=Math.sin,l=s(n/2),c=o(n/2),u=s((e+r)/2),d=o((e+r)/2),f=s((e-r)/2),h=o((e-r)/2),p=s((r-e)/2),m=o((r-e)/2);switch(i){case"XYX":t.set(l*d,c*f,c*h,l*u);break;case"YZY":t.set(c*h,l*d,c*f,l*u);break;case"ZXZ":t.set(c*f,c*h,l*d,l*u);break;case"XZX":t.set(l*d,c*m,c*p,l*u);break;case"YXY":t.set(c*p,l*d,c*m,l*u);break;case"ZYZ":t.set(c*m,c*p,l*d,l*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function aa(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function fn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const ine={DEG2RAD:qh,RAD2DEG:fv,generateUUID:Ua,clamp:Fr,euclideanModulo:v5,mapLinear:YAe,inverseLerp:KAe,lerp:g0,damp:JAe,pingpong:QAe,smoothstep:ZAe,smootherstep:eTe,randInt:tTe,randFloat:nTe,randFloatSpread:rTe,seededRandom:iTe,degToRad:sTe,radToDeg:aTe,isPowerOfTwo:kk,ceilPowerOfTwo:oTe,floorPowerOfTwo:qj,setQuaternionFromProperEuler:lTe,normalize:fn,denormalize:aa};class Fe{constructor(e=0,n=0){Fe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Fr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class mn{constructor(e,n,r,i,s,o,l,c,u){mn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,l,c,u)}set(e,n,r,i,s,o,l,c,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=l,d[3]=n,d[4]=s,d[5]=c,d[6]=r,d[7]=o,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],l=r[3],c=r[6],u=r[1],d=r[4],f=r[7],h=r[2],p=r[5],m=r[8],g=i[0],y=i[3],v=i[6],w=i[1],b=i[4],S=i[7],j=i[2],E=i[5],T=i[8];return s[0]=o*g+l*w+c*j,s[3]=o*y+l*b+c*E,s[6]=o*v+l*S+c*T,s[1]=u*g+d*w+f*j,s[4]=u*y+d*b+f*E,s[7]=u*v+d*S+f*T,s[2]=h*g+p*w+m*j,s[5]=h*y+p*b+m*E,s[8]=h*v+p*S+m*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],u=e[7],d=e[8];return n*o*d-n*l*u-r*s*d+r*l*c+i*s*u-i*o*c}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=d*o-l*u,h=l*c-d*s,p=u*s-o*c,m=n*f+r*h+i*p;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return e[0]=f*g,e[1]=(i*u-d*r)*g,e[2]=(l*r-i*o)*g,e[3]=h*g,e[4]=(d*n-i*c)*g,e[5]=(i*s-l*n)*g,e[6]=p*g,e[7]=(r*c-u*n)*g,e[8]=(o*n-r*s)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,l){const c=Math.cos(s),u=Math.sin(s);return this.set(r*c,r*u,-r*(c*o+u*l)+o+e,-i*u,i*c,-i*(-u*o+c*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(aP.makeScale(e,n)),this}rotate(e){return this.premultiply(aP.makeRotation(-e)),this}translate(e,n){return this.premultiply(aP.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const aP=new mn;function sne(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const cTe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ug(t,e){return new cTe[t](e)}function wb(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function ane(){const t=wb("canvas");return t.style.display="block",t}const m8={};function v0(t){t in m8||(m8[t]=!0,console.warn(t))}const g8=new mn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),v8=new mn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),q1={[fc]:{transfer:vb,primaries:yb,toReference:t=>t,fromReference:t=>t},[xi]:{transfer:ir,primaries:yb,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[$w]:{transfer:vb,primaries:xb,toReference:t=>t.applyMatrix3(v8),fromReference:t=>t.applyMatrix3(g8)},[cT]:{transfer:ir,primaries:xb,toReference:t=>t.convertSRGBToLinear().applyMatrix3(v8),fromReference:t=>t.applyMatrix3(g8).convertLinearToSRGB()}},uTe=new Set([fc,$w]),Vn={enabled:!0,_workingColorSpace:fc,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!uTe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=q1[e].toReference,i=q1[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return q1[t].primaries},getTransfer:function(t){return t===Ra?vb:q1[t].transfer}};function Og(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function oP(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let dm;class y5{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{dm===void 0&&(dm=wb("canvas")),dm.width=e.width,dm.height=e.height;const r=dm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=dm}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=wb("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Og(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Og(n[r]/255)*255):n[r]=Og(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let dTe=0;class Nh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:dTe++}),this.uuid=Ua(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,l=i.length;o<l;o++)i[o].isDataTexture?s.push(lP(i[o].image)):s.push(lP(i[o]))}else s=lP(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function lP(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?y5.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let fTe=0;class ti extends Su{constructor(e=ti.DEFAULT_IMAGE,n=ti.DEFAULT_MAPPING,r=gs,i=gs,s=Jr,o=qd,l=Rs,c=nc,u=ti.DEFAULT_ANISOTROPY,d=Ra){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:fTe++}),this.uuid=Ua(),this.name="",this.source=new Nh(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Fe(0,0),this.repeat=new Fe(1,1),this.center=new Fe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new mn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof d=="string"?this.colorSpace=d:(v0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===kd?xi:Ra),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==aT)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case fb:e.x=e.x-Math.floor(e.x);break;case gs:e.x=e.x<0?0:1;break;case hb:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case fb:e.y=e.y-Math.floor(e.y);break;case gs:e.y=e.y<0?0:1;break;case hb:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return v0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===xi?kd:m5}set encoding(e){v0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===kd?xi:Ra}}ti.DEFAULT_IMAGE=null;ti.DEFAULT_MAPPING=aT;ti.DEFAULT_ANISOTROPY=1;class Hn{constructor(e=0,n=0,r=0,i=1){Hn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const c=e.elements,u=c[0],d=c[4],f=c[8],h=c[1],p=c[5],m=c[9],g=c[2],y=c[6],v=c[10];if(Math.abs(d-h)<.01&&Math.abs(f-g)<.01&&Math.abs(m-y)<.01){if(Math.abs(d+h)<.1&&Math.abs(f+g)<.1&&Math.abs(m+y)<.1&&Math.abs(u+p+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(u+1)/2,S=(p+1)/2,j=(v+1)/2,E=(d+h)/4,T=(f+g)/4,P=(m+y)/4;return b>S&&b>j?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=E/r,s=T/r):S>j?S<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(S),r=E/i,s=P/i):j<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(j),r=T/s,i=P/s),this.set(r,i,s,n),this}let w=Math.sqrt((y-m)*(y-m)+(f-g)*(f-g)+(h-d)*(h-d));return Math.abs(w)<.001&&(w=1),this.x=(y-m)/w,this.y=(f-g)/w,this.z=(h-d)/w,this.w=Math.acos((u+p+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class one extends Su{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Hn(0,0,e,n),this.scissorTest=!1,this.viewport=new Hn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(v0("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===kd?xi:Ra),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Jr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new ti(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Nh(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class xl extends one{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class uT extends ti{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Yr,this.minFilter=Yr,this.wrapR=gs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hTe extends xl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new uT(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class x5 extends ti{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Yr,this.minFilter=Yr,this.wrapR=gs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class pTe extends xl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new x5(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class mTe extends xl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class vs{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,l){let c=r[i+0],u=r[i+1],d=r[i+2],f=r[i+3];const h=s[o+0],p=s[o+1],m=s[o+2],g=s[o+3];if(l===0){e[n+0]=c,e[n+1]=u,e[n+2]=d,e[n+3]=f;return}if(l===1){e[n+0]=h,e[n+1]=p,e[n+2]=m,e[n+3]=g;return}if(f!==g||c!==h||u!==p||d!==m){let y=1-l;const v=c*h+u*p+d*m+f*g,w=v>=0?1:-1,b=1-v*v;if(b>Number.EPSILON){const j=Math.sqrt(b),E=Math.atan2(j,v*w);y=Math.sin(y*E)/j,l=Math.sin(l*E)/j}const S=l*w;if(c=c*y+h*S,u=u*y+p*S,d=d*y+m*S,f=f*y+g*S,y===1-l){const j=1/Math.sqrt(c*c+u*u+d*d+f*f);c*=j,u*=j,d*=j,f*=j}}e[n]=c,e[n+1]=u,e[n+2]=d,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const l=r[i],c=r[i+1],u=r[i+2],d=r[i+3],f=s[o],h=s[o+1],p=s[o+2],m=s[o+3];return e[n]=l*m+d*f+c*p-u*h,e[n+1]=c*m+d*h+u*f-l*p,e[n+2]=u*m+d*p+l*h-c*f,e[n+3]=d*m-l*f-c*h-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,l=Math.cos,c=Math.sin,u=l(r/2),d=l(i/2),f=l(s/2),h=c(r/2),p=c(i/2),m=c(s/2);switch(o){case"XYZ":this._x=h*d*f+u*p*m,this._y=u*p*f-h*d*m,this._z=u*d*m+h*p*f,this._w=u*d*f-h*p*m;break;case"YXZ":this._x=h*d*f+u*p*m,this._y=u*p*f-h*d*m,this._z=u*d*m-h*p*f,this._w=u*d*f+h*p*m;break;case"ZXY":this._x=h*d*f-u*p*m,this._y=u*p*f+h*d*m,this._z=u*d*m+h*p*f,this._w=u*d*f-h*p*m;break;case"ZYX":this._x=h*d*f-u*p*m,this._y=u*p*f+h*d*m,this._z=u*d*m-h*p*f,this._w=u*d*f+h*p*m;break;case"YZX":this._x=h*d*f+u*p*m,this._y=u*p*f+h*d*m,this._z=u*d*m-h*p*f,this._w=u*d*f-h*p*m;break;case"XZY":this._x=h*d*f-u*p*m,this._y=u*p*f-h*d*m,this._z=u*d*m+h*p*f,this._w=u*d*f+h*p*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],l=n[5],c=n[9],u=n[2],d=n[6],f=n[10],h=r+l+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(d-c)*p,this._y=(s-u)*p,this._z=(o-i)*p}else if(r>l&&r>f){const p=2*Math.sqrt(1+r-l-f);this._w=(d-c)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+u)/p}else if(l>f){const p=2*Math.sqrt(1+l-r-f);this._w=(s-u)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(c+d)/p}else{const p=2*Math.sqrt(1+f-r-l);this._w=(o-i)/p,this._x=(s+u)/p,this._y=(c+d)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Fr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,l=n._x,c=n._y,u=n._z,d=n._w;return this._x=r*d+o*l+i*u-s*c,this._y=i*d+o*c+s*l-r*u,this._z=s*d+o*u+r*c-i*l,this._w=o*d-r*l-i*c-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let l=o*e._w+r*e._x+i*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const c=1-l*l;if(c<=Number.EPSILON){const p=1-n;return this._w=p*o+n*this._w,this._x=p*r+n*this._x,this._y=p*i+n*this._y,this._z=p*s+n*this._z,this.normalize(),this}const u=Math.sqrt(c),d=Math.atan2(u,l),f=Math.sin((1-n)*d)/u,h=Math.sin(n*d)/u;return this._w=o*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ne{constructor(e=0,n=0,r=0){ne.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(y8.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(y8.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,l=e.z,c=e.w,u=2*(o*i-l*r),d=2*(l*n-s*i),f=2*(s*r-o*n);return this.x=n+c*u+o*f-l*d,this.y=r+c*d+l*u-s*f,this.z=i+c*f+s*d-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,l=n.y,c=n.z;return this.x=i*c-s*l,this.y=s*o-r*c,this.z=r*l-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return cP.copy(this).projectOnVector(e),this.sub(cP)}reflect(e){return this.sub(cP.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Fr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const cP=new ne,y8=new vs;class zs{constructor(e=new ne(1/0,1/0,1/0),n=new ne(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Bo.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Bo.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Bo.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=s.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,Bo):Bo.fromBufferAttribute(s,o),Bo.applyMatrix4(e.matrixWorld),this.expandByPoint(Bo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),X1.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),X1.copy(r.boundingBox)),X1.applyMatrix4(e.matrixWorld),this.union(X1)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Bo),Bo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ax),Y1.subVectors(this.max,ax),fm.subVectors(e.a,ax),hm.subVectors(e.b,ax),pm.subVectors(e.c,ax),zu.subVectors(hm,fm),$u.subVectors(pm,hm),Ff.subVectors(fm,pm);let n=[0,-zu.z,zu.y,0,-$u.z,$u.y,0,-Ff.z,Ff.y,zu.z,0,-zu.x,$u.z,0,-$u.x,Ff.z,0,-Ff.x,-zu.y,zu.x,0,-$u.y,$u.x,0,-Ff.y,Ff.x,0];return!uP(n,fm,hm,pm,Y1)||(n=[1,0,0,0,1,0,0,0,1],!uP(n,fm,hm,pm,Y1))?!1:(K1.crossVectors(zu,$u),n=[K1.x,K1.y,K1.z],uP(n,fm,hm,pm,Y1))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Bo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Bo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Mc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Mc=[new ne,new ne,new ne,new ne,new ne,new ne,new ne,new ne],Bo=new ne,X1=new zs,fm=new ne,hm=new ne,pm=new ne,zu=new ne,$u=new ne,Ff=new ne,ax=new ne,Y1=new ne,K1=new ne,Uf=new ne;function uP(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Uf.fromArray(t,s);const l=i.x*Math.abs(Uf.x)+i.y*Math.abs(Uf.y)+i.z*Math.abs(Uf.z),c=e.dot(Uf),u=n.dot(Uf),d=r.dot(Uf);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>l)return!1}return!0}const gTe=new zs,ox=new ne,dP=new ne;let ys=class{constructor(e=new ne,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):gTe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ox.subVectors(e,this.center);const n=ox.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(ox,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(dP.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ox.copy(e.center).add(dP)),this.expandByPoint(ox.copy(e.center).sub(dP))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Pc=new ne,fP=new ne,J1=new ne,Vu=new ne,hP=new ne,Q1=new ne,pP=new ne;class Cp{constructor(e=new ne,n=new ne(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Pc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Pc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Pc.copy(this.origin).addScaledVector(this.direction,n),Pc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){fP.copy(e).add(n).multiplyScalar(.5),J1.copy(n).sub(e).normalize(),Vu.copy(this.origin).sub(fP);const s=e.distanceTo(n)*.5,o=-this.direction.dot(J1),l=Vu.dot(this.direction),c=-Vu.dot(J1),u=Vu.lengthSq(),d=Math.abs(1-o*o);let f,h,p,m;if(d>0)if(f=o*c-l,h=o*l-c,m=s*d,f>=0)if(h>=-m)if(h<=m){const g=1/d;f*=g,h*=g,p=f*(f+o*h+2*l)+h*(o*f+h+2*c)+u}else h=s,f=Math.max(0,-(o*h+l)),p=-f*f+h*(h+2*c)+u;else h=-s,f=Math.max(0,-(o*h+l)),p=-f*f+h*(h+2*c)+u;else h<=-m?(f=Math.max(0,-(-o*s+l)),h=f>0?-s:Math.min(Math.max(-s,-c),s),p=-f*f+h*(h+2*c)+u):h<=m?(f=0,h=Math.min(Math.max(-s,-c),s),p=h*(h+2*c)+u):(f=Math.max(0,-(o*s+l)),h=f>0?s:Math.min(Math.max(-s,-c),s),p=-f*f+h*(h+2*c)+u);else h=o>0?-s:s,f=Math.max(0,-(o*h+l)),p=-f*f+h*(h+2*c)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(fP).addScaledVector(J1,h),p}intersectSphere(e,n){Pc.subVectors(e.center,this.origin);const r=Pc.dot(this.direction),i=Pc.dot(Pc)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),l=r-o,c=r+o;return c<0?null:l<0?this.at(c,n):this.at(l,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,l,c;const u=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),d>=0?(s=(e.min.y-h.y)*d,o=(e.max.y-h.y)*d):(s=(e.max.y-h.y)*d,o=(e.min.y-h.y)*d),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(l=(e.min.z-h.z)*f,c=(e.max.z-h.z)*f):(l=(e.max.z-h.z)*f,c=(e.min.z-h.z)*f),r>c||l>i)||((l>r||r!==r)&&(r=l),(c<i||i!==i)&&(i=c),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Pc)!==null}intersectTriangle(e,n,r,i,s){hP.subVectors(n,e),Q1.subVectors(r,e),pP.crossVectors(hP,Q1);let o=this.direction.dot(pP),l;if(o>0){if(i)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Vu.subVectors(this.origin,e);const c=l*this.direction.dot(Q1.crossVectors(Vu,Q1));if(c<0)return null;const u=l*this.direction.dot(hP.cross(Vu));if(u<0||c+u>o)return null;const d=-l*Vu.dot(pP);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Jt{constructor(e,n,r,i,s,o,l,c,u,d,f,h,p,m,g,y){Jt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,l,c,u,d,f,h,p,m,g,y)}set(e,n,r,i,s,o,l,c,u,d,f,h,p,m,g,y){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=s,v[5]=o,v[9]=l,v[13]=c,v[2]=u,v[6]=d,v[10]=f,v[14]=h,v[3]=p,v[7]=m,v[11]=g,v[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Jt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/mm.setFromMatrixColumn(e,0).length(),s=1/mm.setFromMatrixColumn(e,1).length(),o=1/mm.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=o*d,p=o*f,m=l*d,g=l*f;n[0]=c*d,n[4]=-c*f,n[8]=u,n[1]=p+m*u,n[5]=h-g*u,n[9]=-l*c,n[2]=g-h*u,n[6]=m+p*u,n[10]=o*c}else if(e.order==="YXZ"){const h=c*d,p=c*f,m=u*d,g=u*f;n[0]=h+g*l,n[4]=m*l-p,n[8]=o*u,n[1]=o*f,n[5]=o*d,n[9]=-l,n[2]=p*l-m,n[6]=g+h*l,n[10]=o*c}else if(e.order==="ZXY"){const h=c*d,p=c*f,m=u*d,g=u*f;n[0]=h-g*l,n[4]=-o*f,n[8]=m+p*l,n[1]=p+m*l,n[5]=o*d,n[9]=g-h*l,n[2]=-o*u,n[6]=l,n[10]=o*c}else if(e.order==="ZYX"){const h=o*d,p=o*f,m=l*d,g=l*f;n[0]=c*d,n[4]=m*u-p,n[8]=h*u+g,n[1]=c*f,n[5]=g*u+h,n[9]=p*u-m,n[2]=-u,n[6]=l*c,n[10]=o*c}else if(e.order==="YZX"){const h=o*c,p=o*u,m=l*c,g=l*u;n[0]=c*d,n[4]=g-h*f,n[8]=m*f+p,n[1]=f,n[5]=o*d,n[9]=-l*d,n[2]=-u*d,n[6]=p*f+m,n[10]=h-g*f}else if(e.order==="XZY"){const h=o*c,p=o*u,m=l*c,g=l*u;n[0]=c*d,n[4]=-f,n[8]=u*d,n[1]=h*f+g,n[5]=o*d,n[9]=p*f-m,n[2]=m*f-p,n[6]=l*d,n[10]=g*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(vTe,e,yTe)}lookAt(e,n,r){const i=this.elements;return wa.subVectors(e,n),wa.lengthSq()===0&&(wa.z=1),wa.normalize(),Hu.crossVectors(r,wa),Hu.lengthSq()===0&&(Math.abs(r.z)===1?wa.x+=1e-4:wa.z+=1e-4,wa.normalize(),Hu.crossVectors(r,wa)),Hu.normalize(),Z1.crossVectors(wa,Hu),i[0]=Hu.x,i[4]=Z1.x,i[8]=wa.x,i[1]=Hu.y,i[5]=Z1.y,i[9]=wa.y,i[2]=Hu.z,i[6]=Z1.z,i[10]=wa.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],l=r[4],c=r[8],u=r[12],d=r[1],f=r[5],h=r[9],p=r[13],m=r[2],g=r[6],y=r[10],v=r[14],w=r[3],b=r[7],S=r[11],j=r[15],E=i[0],T=i[4],P=i[8],C=i[12],R=i[1],I=i[5],D=i[9],V=i[13],U=i[2],$=i[6],z=i[10],W=i[14],k=i[3],L=i[7],H=i[11],G=i[15];return s[0]=o*E+l*R+c*U+u*k,s[4]=o*T+l*I+c*$+u*L,s[8]=o*P+l*D+c*z+u*H,s[12]=o*C+l*V+c*W+u*G,s[1]=d*E+f*R+h*U+p*k,s[5]=d*T+f*I+h*$+p*L,s[9]=d*P+f*D+h*z+p*H,s[13]=d*C+f*V+h*W+p*G,s[2]=m*E+g*R+y*U+v*k,s[6]=m*T+g*I+y*$+v*L,s[10]=m*P+g*D+y*z+v*H,s[14]=m*C+g*V+y*W+v*G,s[3]=w*E+b*R+S*U+j*k,s[7]=w*T+b*I+S*$+j*L,s[11]=w*P+b*D+S*z+j*H,s[15]=w*C+b*V+S*W+j*G,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],l=e[5],c=e[9],u=e[13],d=e[2],f=e[6],h=e[10],p=e[14],m=e[3],g=e[7],y=e[11],v=e[15];return m*(+s*c*f-i*u*f-s*l*h+r*u*h+i*l*p-r*c*p)+g*(+n*c*p-n*u*h+s*o*h-i*o*p+i*u*d-s*c*d)+y*(+n*u*f-n*l*p-s*o*f+r*o*p+s*l*d-r*u*d)+v*(-i*l*d-n*c*f+n*l*h+i*o*f-r*o*h+r*c*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=e[9],h=e[10],p=e[11],m=e[12],g=e[13],y=e[14],v=e[15],w=f*y*u-g*h*u+g*c*p-l*y*p-f*c*v+l*h*v,b=m*h*u-d*y*u-m*c*p+o*y*p+d*c*v-o*h*v,S=d*g*u-m*f*u+m*l*p-o*g*p-d*l*v+o*f*v,j=m*f*c-d*g*c-m*l*h+o*g*h+d*l*y-o*f*y,E=n*w+r*b+i*S+s*j;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/E;return e[0]=w*T,e[1]=(g*h*s-f*y*s-g*i*p+r*y*p+f*i*v-r*h*v)*T,e[2]=(l*y*s-g*c*s+g*i*u-r*y*u-l*i*v+r*c*v)*T,e[3]=(f*c*s-l*h*s-f*i*u+r*h*u+l*i*p-r*c*p)*T,e[4]=b*T,e[5]=(d*y*s-m*h*s+m*i*p-n*y*p-d*i*v+n*h*v)*T,e[6]=(m*c*s-o*y*s-m*i*u+n*y*u+o*i*v-n*c*v)*T,e[7]=(o*h*s-d*c*s+d*i*u-n*h*u-o*i*p+n*c*p)*T,e[8]=S*T,e[9]=(m*f*s-d*g*s-m*r*p+n*g*p+d*r*v-n*f*v)*T,e[10]=(o*g*s-m*l*s+m*r*u-n*g*u-o*r*v+n*l*v)*T,e[11]=(d*l*s-o*f*s-d*r*u+n*f*u+o*r*p-n*l*p)*T,e[12]=j*T,e[13]=(d*g*i-m*f*i+m*r*h-n*g*h-d*r*y+n*f*y)*T,e[14]=(m*l*i-o*g*i-m*r*c+n*g*c+o*r*y-n*l*y)*T,e[15]=(o*f*i-d*l*i+d*r*c-n*f*c-o*r*h+n*l*h)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,l=e.y,c=e.z,u=s*o,d=s*l;return this.set(u*o+r,u*l-i*c,u*c+i*l,0,u*l+i*c,d*l+r,d*c-i*o,0,u*c-i*l,d*c+i*o,s*c*c+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,l=n._z,c=n._w,u=s+s,d=o+o,f=l+l,h=s*u,p=s*d,m=s*f,g=o*d,y=o*f,v=l*f,w=c*u,b=c*d,S=c*f,j=r.x,E=r.y,T=r.z;return i[0]=(1-(g+v))*j,i[1]=(p+S)*j,i[2]=(m-b)*j,i[3]=0,i[4]=(p-S)*E,i[5]=(1-(h+v))*E,i[6]=(y+w)*E,i[7]=0,i[8]=(m+b)*T,i[9]=(y-w)*T,i[10]=(1-(h+g))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=mm.set(i[0],i[1],i[2]).length();const o=mm.set(i[4],i[5],i[6]).length(),l=mm.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],zo.copy(this);const u=1/s,d=1/o,f=1/l;return zo.elements[0]*=u,zo.elements[1]*=u,zo.elements[2]*=u,zo.elements[4]*=d,zo.elements[5]*=d,zo.elements[6]*=d,zo.elements[8]*=f,zo.elements[9]*=f,zo.elements[10]*=f,n.setFromRotationMatrix(zo),r.x=s,r.y=o,r.z=l,this}makePerspective(e,n,r,i,s,o,l=ll){const c=this.elements,u=2*s/(n-e),d=2*s/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let p,m;if(l===ll)p=-(o+s)/(o-s),m=-2*o*s/(o-s);else if(l===dv)p=-o/(o-s),m=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=u,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=d,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=p,c[14]=m,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,s,o,l=ll){const c=this.elements,u=1/(n-e),d=1/(r-i),f=1/(o-s),h=(n+e)*u,p=(r+i)*d;let m,g;if(l===ll)m=(o+s)*f,g=-2*f;else if(l===dv)m=s*f,g=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-h,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-p,c[2]=0,c[6]=0,c[10]=g,c[14]=-m,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const mm=new ne,zo=new Jt,vTe=new ne(0,0,0),yTe=new ne(1,1,1),Hu=new ne,Z1=new ne,wa=new ne,x8=new Jt,b8=new vs;class Vw{constructor(e=0,n=0,r=0,i=Vw.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],l=i[8],c=i[1],u=i[5],d=i[9],f=i[2],h=i[6],p=i[10];switch(n){case"XYZ":this._y=Math.asin(Fr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Fr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Fr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Fr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Fr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-Fr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return x8.makeRotationFromQuaternion(e),this.setFromRotationMatrix(x8,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return b8.setFromEuler(this),this.setFromQuaternion(b8,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Vw.DEFAULT_ORDER="XYZ";class Xh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let xTe=0;const w8=new ne,gm=new vs,Rc=new Jt,eS=new ne,lx=new ne,bTe=new ne,wTe=new vs,_8=new ne(1,0,0),S8=new ne(0,1,0),N8=new ne(0,0,1),_Te={type:"added"},STe={type:"removed"};class In extends Su{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:xTe++}),this.uuid=Ua(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=In.DEFAULT_UP.clone();const e=new ne,n=new Vw,r=new vs,i=new ne(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Jt},normalMatrix:{value:new mn}}),this.matrix=new Jt,this.matrixWorld=new Jt,this.matrixAutoUpdate=In.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=In.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Xh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return gm.setFromAxisAngle(e,n),this.quaternion.multiply(gm),this}rotateOnWorldAxis(e,n){return gm.setFromAxisAngle(e,n),this.quaternion.premultiply(gm),this}rotateX(e){return this.rotateOnAxis(_8,e)}rotateY(e){return this.rotateOnAxis(S8,e)}rotateZ(e){return this.rotateOnAxis(N8,e)}translateOnAxis(e,n){return w8.copy(e).applyQuaternion(this.quaternion),this.position.add(w8.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(_8,e)}translateY(e){return this.translateOnAxis(S8,e)}translateZ(e){return this.translateOnAxis(N8,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Rc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?eS.copy(e):eS.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),lx.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Rc.lookAt(lx,eS,this.up):Rc.lookAt(eS,lx,this.up),this.quaternion.setFromRotationMatrix(Rc),i&&(Rc.extractRotation(i.matrixWorld),gm.setFromRotationMatrix(Rc),this.quaternion.premultiply(gm.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(_Te)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(STe)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Rc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Rc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Rc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lx,e,bTe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lx,wTe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const l=i[s];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++){const f=c[u];s(e.shapes,f)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(s(e.materials,this.material[c]));i.material=l}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];i.animations.push(s(e.animations,c))}}if(n){const l=o(e.geometries),c=o(e.materials),u=o(e.textures),d=o(e.images),f=o(e.shapes),h=o(e.skeletons),p=o(e.animations),m=o(e.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=i,r;function o(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}In.DEFAULT_UP=new ne(0,1,0);In.DEFAULT_MATRIX_AUTO_UPDATE=!0;In.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const $o=new ne,Oc=new ne,mP=new ne,Ic=new ne,vm=new ne,ym=new ne,j8=new ne,gP=new ne,vP=new ne,yP=new ne;let tS=!1;class sa{constructor(e=new ne,n=new ne,r=new ne){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),$o.subVectors(e,n),i.cross($o);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){$o.subVectors(i,n),Oc.subVectors(r,n),mP.subVectors(e,n);const o=$o.dot($o),l=$o.dot(Oc),c=$o.dot(mP),u=Oc.dot(Oc),d=Oc.dot(mP),f=o*u-l*l;if(f===0)return s.set(0,0,0),null;const h=1/f,p=(u*c-l*d)*h,m=(o*d-l*c)*h;return s.set(1-p-m,m,p)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Ic)===null?!1:Ic.x>=0&&Ic.y>=0&&Ic.x+Ic.y<=1}static getUV(e,n,r,i,s,o,l,c){return tS===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),tS=!0),this.getInterpolation(e,n,r,i,s,o,l,c)}static getInterpolation(e,n,r,i,s,o,l,c){return this.getBarycoord(e,n,r,i,Ic)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(s,Ic.x),c.addScaledVector(o,Ic.y),c.addScaledVector(l,Ic.z),c)}static isFrontFacing(e,n,r,i){return $o.subVectors(r,n),Oc.subVectors(e,n),$o.cross(Oc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return $o.subVectors(this.c,this.b),Oc.subVectors(this.a,this.b),$o.cross(Oc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return sa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return sa.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return tS===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),tS=!0),sa.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return sa.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return sa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return sa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,l;vm.subVectors(i,r),ym.subVectors(s,r),gP.subVectors(e,r);const c=vm.dot(gP),u=ym.dot(gP);if(c<=0&&u<=0)return n.copy(r);vP.subVectors(e,i);const d=vm.dot(vP),f=ym.dot(vP);if(d>=0&&f<=d)return n.copy(i);const h=c*f-d*u;if(h<=0&&c>=0&&d<=0)return o=c/(c-d),n.copy(r).addScaledVector(vm,o);yP.subVectors(e,s);const p=vm.dot(yP),m=ym.dot(yP);if(m>=0&&p<=m)return n.copy(s);const g=p*u-c*m;if(g<=0&&u>=0&&m<=0)return l=u/(u-m),n.copy(r).addScaledVector(ym,l);const y=d*m-p*f;if(y<=0&&f-d>=0&&p-m>=0)return j8.subVectors(s,i),l=(f-d)/(f-d+(p-m)),n.copy(i).addScaledVector(j8,l);const v=1/(y+g+h);return o=g*v,l=h*v,n.copy(r).addScaledVector(vm,o).addScaledVector(ym,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const lne={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Wu={h:0,s:0,l:0},nS={h:0,s:0,l:0};function xP(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let gt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=xi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Vn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Vn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Vn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Vn.workingColorSpace){if(e=v5(e,1),n=Fr(n,0,1),r=Fr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=xP(o,s,e+1/3),this.g=xP(o,s,e),this.b=xP(o,s,e-1/3)}return Vn.toWorkingColorSpace(this,i),this}setStyle(e,n=xi){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],l=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=xi){const r=lne[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Og(e.r),this.g=Og(e.g),this.b=Og(e.b),this}copyLinearToSRGB(e){return this.r=oP(e.r),this.g=oP(e.g),this.b=oP(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=xi){return Vn.fromWorkingColorSpace(cs.copy(this),e),Math.round(Fr(cs.r*255,0,255))*65536+Math.round(Fr(cs.g*255,0,255))*256+Math.round(Fr(cs.b*255,0,255))}getHexString(e=xi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Vn.workingColorSpace){Vn.fromWorkingColorSpace(cs.copy(this),n);const r=cs.r,i=cs.g,s=cs.b,o=Math.max(r,i,s),l=Math.min(r,i,s);let c,u;const d=(l+o)/2;if(l===o)c=0,u=0;else{const f=o-l;switch(u=d<=.5?f/(o+l):f/(2-o-l),o){case r:c=(i-s)/f+(i<s?6:0);break;case i:c=(s-r)/f+2;break;case s:c=(r-i)/f+4;break}c/=6}return e.h=c,e.s=u,e.l=d,e}getRGB(e,n=Vn.workingColorSpace){return Vn.fromWorkingColorSpace(cs.copy(this),n),e.r=cs.r,e.g=cs.g,e.b=cs.b,e}getStyle(e=xi){Vn.fromWorkingColorSpace(cs.copy(this),e);const n=cs.r,r=cs.g,i=cs.b;return e!==xi?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Wu),this.setHSL(Wu.h+e,Wu.s+n,Wu.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Wu),e.getHSL(nS);const r=g0(Wu.h,nS.h,n),i=g0(Wu.s,nS.s,n),s=g0(Wu.l,nS.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const cs=new gt;gt.NAMES=lne;let NTe=0;class Ss extends Su{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:NTe++}),this.uuid=Ua(),this.name="",this.type="Material",this.blending=Gh,this.side=pu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Vj,this.blendDst=Hj,this.blendEquation=od,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new gt(0,0,0),this.blendAlpha=0,this.depthFunc=cb,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Ok,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=sh,this.stencilZFail=sh,this.stencilZPass=sh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Gh&&(r.blending=this.blending),this.side!==pu&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Vj&&(r.blendSrc=this.blendSrc),this.blendDst!==Hj&&(r.blendDst=this.blendDst),this.blendEquation!==od&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==cb&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Ok&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==sh&&(r.stencilFail=this.stencilFail),this.stencilZFail!==sh&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==sh&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const l in s){const c=s[l];delete c.metadata,o.push(c)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class df extends Ss{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new gt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Hc=jTe();function jTe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let c=0;c<256;++c){const u=c-127;u<-27?(r[c]=0,r[c|256]=32768,i[c]=24,i[c|256]=24):u<-14?(r[c]=1024>>-u-14,r[c|256]=1024>>-u-14|32768,i[c]=-u-1,i[c|256]=-u-1):u<=15?(r[c]=u+15<<10,r[c|256]=u+15<<10|32768,i[c]=13,i[c|256]=13):u<128?(r[c]=31744,r[c|256]=64512,i[c]=24,i[c|256]=24):(r[c]=31744,r[c|256]=64512,i[c]=13,i[c|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let c=1;c<1024;++c){let u=c<<13,d=0;for(;!(u&8388608);)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[c]=u|d}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)o[c]=c<<23;o[31]=1199570944,o[32]=2147483648;for(let c=33;c<63;++c)o[c]=2147483648+(c-32<<23);o[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(l[c]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:l}}function Zs(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Fr(t,-65504,65504),Hc.floatView[0]=t;const e=Hc.uint32View[0],n=e>>23&511;return Hc.baseTable[n]+((e&8388607)>>Hc.shiftTable[n])}function Gx(t){const e=t>>10;return Hc.uint32View[0]=Hc.mantissaTable[Hc.offsetTable[e]+(t&1023)]+Hc.exponentTable[e],Hc.floatView[0]}const ETe={toHalfFloat:Zs,fromHalfFloat:Gx},ai=new ne,rS=new Fe;class Gn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=bb,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ol,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)rS.fromBufferAttribute(this,n),rS.applyMatrix3(e),this.setXY(n,rS.x,rS.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.applyMatrix3(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.applyMatrix4(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.applyNormalMatrix(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.transformDirection(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=aa(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=fn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=aa(n,this.array)),n}setX(e,n){return this.normalized&&(n=fn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=aa(n,this.array)),n}setY(e,n){return this.normalized&&(n=fn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=aa(n,this.array)),n}setZ(e,n){return this.normalized&&(n=fn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=aa(n,this.array)),n}setW(e,n){return this.normalized&&(n=fn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=fn(n,this.array),r=fn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=fn(n,this.array),r=fn(r,this.array),i=fn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=fn(n,this.array),r=fn(r,this.array),i=fn(i,this.array),s=fn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==bb&&(e.usage=this.usage),e}}class ATe extends Gn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class TTe extends Gn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class CTe extends Gn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class MTe extends Gn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class b5 extends Gn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class PTe extends Gn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class w5 extends Gn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class RTe extends Gn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Gx(this.array[e*this.itemSize]);return this.normalized&&(n=aa(n,this.array)),n}setX(e,n){return this.normalized&&(n=fn(n,this.array)),this.array[e*this.itemSize]=Zs(n),this}getY(e){let n=Gx(this.array[e*this.itemSize+1]);return this.normalized&&(n=aa(n,this.array)),n}setY(e,n){return this.normalized&&(n=fn(n,this.array)),this.array[e*this.itemSize+1]=Zs(n),this}getZ(e){let n=Gx(this.array[e*this.itemSize+2]);return this.normalized&&(n=aa(n,this.array)),n}setZ(e,n){return this.normalized&&(n=fn(n,this.array)),this.array[e*this.itemSize+2]=Zs(n),this}getW(e){let n=Gx(this.array[e*this.itemSize+3]);return this.normalized&&(n=aa(n,this.array)),n}setW(e,n){return this.normalized&&(n=fn(n,this.array)),this.array[e*this.itemSize+3]=Zs(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=fn(n,this.array),r=fn(r,this.array)),this.array[e+0]=Zs(n),this.array[e+1]=Zs(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=fn(n,this.array),r=fn(r,this.array),i=fn(i,this.array)),this.array[e+0]=Zs(n),this.array[e+1]=Zs(r),this.array[e+2]=Zs(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=fn(n,this.array),r=fn(r,this.array),i=fn(i,this.array),s=fn(s,this.array)),this.array[e+0]=Zs(n),this.array[e+1]=Zs(r),this.array[e+2]=Zs(i),this.array[e+3]=Zs(s),this}}class Tt extends Gn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class OTe extends Gn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let ITe=0;const oo=new Jt,bP=new In,xm=new ne,_a=new zs,cx=new zs,Oi=new ne;class vn extends Su{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ITe++}),this.uuid=Ua(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(sne(e)?w5:b5)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new mn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return oo.makeRotationFromQuaternion(e),this.applyMatrix4(oo),this}rotateX(e){return oo.makeRotationX(e),this.applyMatrix4(oo),this}rotateY(e){return oo.makeRotationY(e),this.applyMatrix4(oo),this}rotateZ(e){return oo.makeRotationZ(e),this.applyMatrix4(oo),this}translate(e,n,r){return oo.makeTranslation(e,n,r),this.applyMatrix4(oo),this}scale(e,n,r){return oo.makeScale(e,n,r),this.applyMatrix4(oo),this}lookAt(e){return bP.lookAt(e),bP.updateMatrix(),this.applyMatrix4(bP.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(xm).negate(),this.translate(xm.x,xm.y,xm.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Tt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ne(-1/0,-1/0,-1/0),new ne(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];_a.setFromBufferAttribute(s),this.morphTargetsRelative?(Oi.addVectors(this.boundingBox.min,_a.min),this.boundingBox.expandByPoint(Oi),Oi.addVectors(this.boundingBox.max,_a.max),this.boundingBox.expandByPoint(Oi)):(this.boundingBox.expandByPoint(_a.min),this.boundingBox.expandByPoint(_a.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ys);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ne,1/0);return}if(e){const r=this.boundingSphere.center;if(_a.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const l=n[s];cx.setFromBufferAttribute(l),this.morphTargetsRelative?(Oi.addVectors(_a.min,cx.min),_a.expandByPoint(Oi),Oi.addVectors(_a.max,cx.max),_a.expandByPoint(Oi)):(_a.expandByPoint(cx.min),_a.expandByPoint(cx.max))}_a.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Oi.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Oi));if(n)for(let s=0,o=n.length;s<o;s++){const l=n[s],c=this.morphTargetsRelative;for(let u=0,d=l.count;u<d;u++)Oi.fromBufferAttribute(l,u),c&&(xm.fromBufferAttribute(e,u),Oi.add(xm)),i=Math.max(i,r.distanceToSquared(Oi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,l=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Gn(new Float32Array(4*l),4));const c=this.getAttribute("tangent").array,u=[],d=[];for(let R=0;R<l;R++)u[R]=new ne,d[R]=new ne;const f=new ne,h=new ne,p=new ne,m=new Fe,g=new Fe,y=new Fe,v=new ne,w=new ne;function b(R,I,D){f.fromArray(i,R*3),h.fromArray(i,I*3),p.fromArray(i,D*3),m.fromArray(o,R*2),g.fromArray(o,I*2),y.fromArray(o,D*2),h.sub(f),p.sub(f),g.sub(m),y.sub(m);const V=1/(g.x*y.y-y.x*g.y);isFinite(V)&&(v.copy(h).multiplyScalar(y.y).addScaledVector(p,-g.y).multiplyScalar(V),w.copy(p).multiplyScalar(g.x).addScaledVector(h,-y.x).multiplyScalar(V),u[R].add(v),u[I].add(v),u[D].add(v),d[R].add(w),d[I].add(w),d[D].add(w))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let R=0,I=S.length;R<I;++R){const D=S[R],V=D.start,U=D.count;for(let $=V,z=V+U;$<z;$+=3)b(r[$+0],r[$+1],r[$+2])}const j=new ne,E=new ne,T=new ne,P=new ne;function C(R){T.fromArray(s,R*3),P.copy(T);const I=u[R];j.copy(I),j.sub(T.multiplyScalar(T.dot(I))).normalize(),E.crossVectors(P,I);const V=E.dot(d[R])<0?-1:1;c[R*4]=j.x,c[R*4+1]=j.y,c[R*4+2]=j.z,c[R*4+3]=V}for(let R=0,I=S.length;R<I;++R){const D=S[R],V=D.start,U=D.count;for(let $=V,z=V+U;$<z;$+=3)C(r[$+0]),C(r[$+1]),C(r[$+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Gn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,p=r.count;h<p;h++)r.setXYZ(h,0,0,0);const i=new ne,s=new ne,o=new ne,l=new ne,c=new ne,u=new ne,d=new ne,f=new ne;if(e)for(let h=0,p=e.count;h<p;h+=3){const m=e.getX(h+0),g=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(n,m),s.fromBufferAttribute(n,g),o.fromBufferAttribute(n,y),d.subVectors(o,s),f.subVectors(i,s),d.cross(f),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,g),u.fromBufferAttribute(r,y),l.add(d),c.add(d),u.add(d),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(g,c.x,c.y,c.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let h=0,p=n.count;h<p;h+=3)i.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),d.subVectors(o,s),f.subVectors(i,s),d.cross(f),r.setXYZ(h+0,d.x,d.y,d.z),r.setXYZ(h+1,d.x,d.y,d.z),r.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Oi.fromBufferAttribute(e,n),Oi.normalize(),e.setXYZ(n,Oi.x,Oi.y,Oi.z)}toNonIndexed(){function e(l,c){const u=l.array,d=l.itemSize,f=l.normalized,h=new u.constructor(c.length*d);let p=0,m=0;for(let g=0,y=c.length;g<y;g++){l.isInterleavedBufferAttribute?p=c[g]*l.data.stride+l.offset:p=c[g]*d;for(let v=0;v<d;v++)h[m++]=u[p++]}return new Gn(h,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new vn,r=this.index.array,i=this.attributes;for(const l in i){const c=i[l],u=e(c,r);n.setAttribute(l,u)}const s=this.morphAttributes;for(const l in s){const c=[],u=s[l];for(let d=0,f=u.length;d<f;d++){const h=u[d],p=e(h,r);c.push(p)}n.morphAttributes[l]=c}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,c=o.length;l<c;l++){const u=o[l];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const c in r){const u=r[c];e.data.attributes[c]=u.toJSON(e.data)}const i={};let s=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],d=[];for(let f=0,h=u.length;f<h;f++){const p=u[f];d.push(p.toJSON(e.data))}d.length>0&&(i[c]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(n))}const s=e.morphAttributes;for(const u in s){const d=[],f=s[u];for(let h=0,p=f.length;h<p;h++)d.push(f[h].clone(n));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,d=o.length;u<d;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const E8=new Jt,Bf=new Cp,iS=new ys,A8=new ne,bm=new ne,wm=new ne,_m=new ne,wP=new ne,sS=new ne,aS=new Fe,oS=new Fe,lS=new Fe,T8=new ne,C8=new ne,M8=new ne,cS=new ne,uS=new ne;class Si extends In{constructor(e=new vn,n=new df){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const l=this.morphTargetInfluences;if(s&&l){sS.set(0,0,0);for(let c=0,u=s.length;c<u;c++){const d=l[c],f=s[c];d!==0&&(wP.fromBufferAttribute(f,e),o?sS.addScaledVector(wP,d):sS.addScaledVector(wP.sub(n),d))}n.add(sS)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),iS.copy(r.boundingSphere),iS.applyMatrix4(s),Bf.copy(e.ray).recast(e.near),!(iS.containsPoint(Bf.origin)===!1&&(Bf.intersectSphere(iS,A8)===null||Bf.origin.distanceToSquared(A8)>(e.far-e.near)**2))&&(E8.copy(s).invert(),Bf.copy(e.ray).applyMatrix4(E8),!(r.boundingBox!==null&&Bf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Bf)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,l=s.index,c=s.attributes.position,u=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,h=s.groups,p=s.drawRange;if(l!==null)if(Array.isArray(o))for(let m=0,g=h.length;m<g;m++){const y=h[m],v=o[y.materialIndex],w=Math.max(y.start,p.start),b=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let S=w,j=b;S<j;S+=3){const E=l.getX(S),T=l.getX(S+1),P=l.getX(S+2);i=dS(this,v,e,r,u,d,f,E,T,P),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const m=Math.max(0,p.start),g=Math.min(l.count,p.start+p.count);for(let y=m,v=g;y<v;y+=3){const w=l.getX(y),b=l.getX(y+1),S=l.getX(y+2);i=dS(this,o,e,r,u,d,f,w,b,S),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(c!==void 0)if(Array.isArray(o))for(let m=0,g=h.length;m<g;m++){const y=h[m],v=o[y.materialIndex],w=Math.max(y.start,p.start),b=Math.min(c.count,Math.min(y.start+y.count,p.start+p.count));for(let S=w,j=b;S<j;S+=3){const E=S,T=S+1,P=S+2;i=dS(this,v,e,r,u,d,f,E,T,P),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const m=Math.max(0,p.start),g=Math.min(c.count,p.start+p.count);for(let y=m,v=g;y<v;y+=3){const w=y,b=y+1,S=y+2;i=dS(this,o,e,r,u,d,f,w,b,S),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function kTe(t,e,n,r,i,s,o,l){let c;if(e.side===Bs?c=r.intersectTriangle(o,s,i,!0,l):c=r.intersectTriangle(i,s,o,e.side===pu,l),c===null)return null;uS.copy(l),uS.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(uS);return u<n.near||u>n.far?null:{distance:u,point:uS.clone(),object:t}}function dS(t,e,n,r,i,s,o,l,c,u){t.getVertexPosition(l,bm),t.getVertexPosition(c,wm),t.getVertexPosition(u,_m);const d=kTe(t,e,n,r,bm,wm,_m,cS);if(d){i&&(aS.fromBufferAttribute(i,l),oS.fromBufferAttribute(i,c),lS.fromBufferAttribute(i,u),d.uv=sa.getInterpolation(cS,bm,wm,_m,aS,oS,lS,new Fe)),s&&(aS.fromBufferAttribute(s,l),oS.fromBufferAttribute(s,c),lS.fromBufferAttribute(s,u),d.uv1=sa.getInterpolation(cS,bm,wm,_m,aS,oS,lS,new Fe),d.uv2=d.uv1),o&&(T8.fromBufferAttribute(o,l),C8.fromBufferAttribute(o,c),M8.fromBufferAttribute(o,u),d.normal=sa.getInterpolation(cS,bm,wm,_m,T8,C8,M8,new ne),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const f={a:l,b:c,c:u,normal:new ne,materialIndex:0};sa.getNormal(bm,wm,_m,f.normal),d.face=f}return d}class Mp extends vn{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const l=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const c=[],u=[],d=[],f=[];let h=0,p=0;m("z","y","x",-1,-1,r,n,e,o,s,0),m("z","y","x",1,-1,r,n,-e,o,s,1),m("x","z","y",1,1,e,r,n,i,o,2),m("x","z","y",1,-1,e,r,-n,i,o,3),m("x","y","z",1,-1,e,n,r,i,s,4),m("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(c),this.setAttribute("position",new Tt(u,3)),this.setAttribute("normal",new Tt(d,3)),this.setAttribute("uv",new Tt(f,2));function m(g,y,v,w,b,S,j,E,T,P,C){const R=S/T,I=j/P,D=S/2,V=j/2,U=E/2,$=T+1,z=P+1;let W=0,k=0;const L=new ne;for(let H=0;H<z;H++){const G=H*I-V;for(let X=0;X<$;X++){const Z=X*R-D;L[g]=Z*w,L[y]=G*b,L[v]=U,u.push(L.x,L.y,L.z),L[g]=0,L[y]=0,L[v]=E>0?1:-1,d.push(L.x,L.y,L.z),f.push(X/T),f.push(1-H/P),W+=1}}for(let H=0;H<P;H++)for(let G=0;G<T;G++){const X=h+G+$*H,Z=h+G+$*(H+1),B=h+(G+1)+$*(H+1),te=h+(G+1)+$*H;c.push(X,Z,te),c.push(Z,B,te),k+=6}l.addGroup(p,k,C),p+=k,h+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function hv(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Ts(t){const e={};for(let n=0;n<t.length;n++){const r=hv(t[n]);for(const i in r)e[i]=r[i]}return e}function DTe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function cne(t){return t.getRenderTarget()===null?t.outputColorSpace:Vn.workingColorSpace}const une={clone:hv,merge:Ts};var LTe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,FTe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class hc extends Ss{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=LTe,this.fragmentShader=FTe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=hv(e.uniforms),this.uniformsGroups=DTe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Hw extends In{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Jt,this.projectionMatrix=new Jt,this.projectionMatrixInverse=new Jt,this.coordinateSystem=ll}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Qr extends Hw{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=fv*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(qh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return fv*2*Math.atan(Math.tan(qh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(qh*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/c,n-=o.offsetY*r/u,i*=o.width/c,r*=o.height/u}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Sm=-90,Nm=1;class dne extends In{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Qr(Sm,Nm,e,n);i.layers=this.layers,this.add(i);const s=new Qr(Sm,Nm,e,n);s.layers=this.layers,this.add(s);const o=new Qr(Sm,Nm,e,n);o.layers=this.layers,this.add(o);const l=new Qr(Sm,Nm,e,n);l.layers=this.layers,this.add(l);const c=new Qr(Sm,Nm,e,n);c.layers=this.layers,this.add(c);const u=new Qr(Sm,Nm,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,l,c]=n;for(const u of n)this.remove(u);if(e===ll)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===dv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,l,c,u,d]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,l),e.setRenderTarget(r,3,i),e.render(n,c),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=g,e.setRenderTarget(r,5,i),e.render(n,d),e.setRenderTarget(f,h,p),e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class Ww extends ti{constructor(e,n,r,i,s,o,l,c,u,d){e=e!==void 0?e:[],n=n!==void 0?n:mu,super(e,n,r,i,s,o,l,c,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class fne extends xl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(v0("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===kd?xi:Ra),this.texture=new Ww(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Jr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Mp(5,5,5),s=new hc({name:"CubemapFromEquirect",uniforms:hv(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Bs,blending:iu});s.uniforms.tEquirect.value=n;const o=new Si(i,s),l=n.minFilter;return n.minFilter===qd&&(n.minFilter=Jr),new dne(1,10,this).update(e,o),n.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const _P=new ne,UTe=new ne,BTe=new mn;class $c{constructor(e=new ne(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=_P.subVectors(r,n).cross(UTe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(_P),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||BTe.getNormalMatrix(e),i=this.coplanarPoint(_P).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const zf=new ys,fS=new ne;class Gw{constructor(e=new $c,n=new $c,r=new $c,i=new $c,s=new $c,o=new $c){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(r),l[3].copy(i),l[4].copy(s),l[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=ll){const r=this.planes,i=e.elements,s=i[0],o=i[1],l=i[2],c=i[3],u=i[4],d=i[5],f=i[6],h=i[7],p=i[8],m=i[9],g=i[10],y=i[11],v=i[12],w=i[13],b=i[14],S=i[15];if(r[0].setComponents(c-s,h-u,y-p,S-v).normalize(),r[1].setComponents(c+s,h+u,y+p,S+v).normalize(),r[2].setComponents(c+o,h+d,y+m,S+w).normalize(),r[3].setComponents(c-o,h-d,y-m,S-w).normalize(),r[4].setComponents(c-l,h-f,y-g,S-b).normalize(),n===ll)r[5].setComponents(c+l,h+f,y+g,S+b).normalize();else if(n===dv)r[5].setComponents(l,f,g,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),zf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),zf.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(zf)}intersectsSprite(e){return zf.center.set(0,0,0),zf.radius=.7071067811865476,zf.applyMatrix4(e.matrixWorld),this.intersectsSphere(zf)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(fS.x=i.normal.x>0?e.max.x:e.min.x,fS.y=i.normal.y>0?e.max.y:e.min.y,fS.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(fS)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function hne(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function zTe(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,d){const f=u.array,h=u.usage,p=f.byteLength,m=t.createBuffer();t.bindBuffer(d,m),t.bufferData(d,f,h),u.onUploadCallback();let g;if(f instanceof Float32Array)g=t.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)g=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)g=t.SHORT;else if(f instanceof Uint32Array)g=t.UNSIGNED_INT;else if(f instanceof Int32Array)g=t.INT;else if(f instanceof Int8Array)g=t.BYTE;else if(f instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version,size:p}}function s(u,d,f){const h=d.array,p=d._updateRange,m=d.updateRanges;if(t.bindBuffer(f,u),p.count===-1&&m.length===0&&t.bufferSubData(f,0,h),m.length!==0){for(let g=0,y=m.length;g<y;g++){const v=m[g];n?t.bufferSubData(f,v.start*h.BYTES_PER_ELEMENT,h,v.start,v.count):t.bufferSubData(f,v.start*h.BYTES_PER_ELEMENT,h.subarray(v.start,v.start+v.count))}d.clearUpdateRanges()}p.count!==-1&&(n?t.bufferSubData(f,p.offset*h.BYTES_PER_ELEMENT,h,p.offset,p.count):t.bufferSubData(f,p.offset*h.BYTES_PER_ELEMENT,h.subarray(p.offset,p.offset+p.count)),p.count=-1),d.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function l(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d&&(t.deleteBuffer(d.buffer),r.delete(u))}function c(u,d){if(u.isGLBufferAttribute){const h=r.get(u);(!h||h.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);if(f===void 0)r.set(u,i(u,d));else if(f.version<u.version){if(f.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(f.buffer,u,d),f.version=u.version}}return{get:o,remove:l,update:c}}class qw extends vn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,l=Math.floor(r),c=Math.floor(i),u=l+1,d=c+1,f=e/l,h=n/c,p=[],m=[],g=[],y=[];for(let v=0;v<d;v++){const w=v*h-o;for(let b=0;b<u;b++){const S=b*f-s;m.push(S,-w,0),g.push(0,0,1),y.push(b/l),y.push(1-v/c)}}for(let v=0;v<c;v++)for(let w=0;w<l;w++){const b=w+u*v,S=w+u*(v+1),j=w+1+u*(v+1),E=w+1+u*v;p.push(b,S,E),p.push(S,j,E)}this.setIndex(p),this.setAttribute("position",new Tt(m,3)),this.setAttribute("normal",new Tt(g,3)),this.setAttribute("uv",new Tt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qw(e.width,e.height,e.widthSegments,e.heightSegments)}}var $Te=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,VTe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,HTe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,WTe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,GTe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,qTe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,XTe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,YTe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,KTe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,JTe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,QTe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ZTe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,eCe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,tCe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,nCe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,rCe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,iCe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,sCe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,aCe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,oCe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,lCe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,cCe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,uCe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,dCe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,fCe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,hCe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,pCe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,mCe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,gCe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,vCe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,yCe="gl_FragColor = linearToOutputTexel( gl_FragColor );",xCe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,bCe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,wCe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,_Ce=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,SCe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,NCe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,jCe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,ECe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ACe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,TCe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,CCe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,MCe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,PCe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,RCe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,OCe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,ICe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,kCe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,DCe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,LCe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,FCe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,UCe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,BCe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,zCe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$Ce=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,VCe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,HCe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,WCe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,GCe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,qCe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,XCe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,YCe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,KCe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,JCe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,QCe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ZCe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,eMe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,tMe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,nMe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,rMe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,iMe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,sMe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,aMe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,oMe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lMe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cMe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,uMe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,dMe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,fMe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,hMe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,pMe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,mMe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,gMe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,vMe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,yMe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,xMe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,bMe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,wMe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_Me=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,SMe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,NMe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,jMe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,EMe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,AMe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,TMe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,CMe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,MMe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,PMe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,RMe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,OMe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,IMe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,kMe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,DMe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,LMe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,FMe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,UMe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,BMe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const zMe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,$Me=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,VMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,HMe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,WMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,GMe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qMe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,XMe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,YMe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,KMe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,JMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,QMe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ZMe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,e2e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,t2e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,n2e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,r2e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,i2e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,s2e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,a2e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,o2e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,l2e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,c2e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,u2e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,d2e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,f2e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,h2e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,p2e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,m2e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,g2e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,v2e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,y2e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,x2e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,b2e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,dn={alphahash_fragment:$Te,alphahash_pars_fragment:VTe,alphamap_fragment:HTe,alphamap_pars_fragment:WTe,alphatest_fragment:GTe,alphatest_pars_fragment:qTe,aomap_fragment:XTe,aomap_pars_fragment:YTe,batching_pars_vertex:KTe,batching_vertex:JTe,begin_vertex:QTe,beginnormal_vertex:ZTe,bsdfs:eCe,iridescence_fragment:tCe,bumpmap_pars_fragment:nCe,clipping_planes_fragment:rCe,clipping_planes_pars_fragment:iCe,clipping_planes_pars_vertex:sCe,clipping_planes_vertex:aCe,color_fragment:oCe,color_pars_fragment:lCe,color_pars_vertex:cCe,color_vertex:uCe,common:dCe,cube_uv_reflection_fragment:fCe,defaultnormal_vertex:hCe,displacementmap_pars_vertex:pCe,displacementmap_vertex:mCe,emissivemap_fragment:gCe,emissivemap_pars_fragment:vCe,colorspace_fragment:yCe,colorspace_pars_fragment:xCe,envmap_fragment:bCe,envmap_common_pars_fragment:wCe,envmap_pars_fragment:_Ce,envmap_pars_vertex:SCe,envmap_physical_pars_fragment:kCe,envmap_vertex:NCe,fog_vertex:jCe,fog_pars_vertex:ECe,fog_fragment:ACe,fog_pars_fragment:TCe,gradientmap_pars_fragment:CCe,lightmap_fragment:MCe,lightmap_pars_fragment:PCe,lights_lambert_fragment:RCe,lights_lambert_pars_fragment:OCe,lights_pars_begin:ICe,lights_toon_fragment:DCe,lights_toon_pars_fragment:LCe,lights_phong_fragment:FCe,lights_phong_pars_fragment:UCe,lights_physical_fragment:BCe,lights_physical_pars_fragment:zCe,lights_fragment_begin:$Ce,lights_fragment_maps:VCe,lights_fragment_end:HCe,logdepthbuf_fragment:WCe,logdepthbuf_pars_fragment:GCe,logdepthbuf_pars_vertex:qCe,logdepthbuf_vertex:XCe,map_fragment:YCe,map_pars_fragment:KCe,map_particle_fragment:JCe,map_particle_pars_fragment:QCe,metalnessmap_fragment:ZCe,metalnessmap_pars_fragment:eMe,morphcolor_vertex:tMe,morphnormal_vertex:nMe,morphtarget_pars_vertex:rMe,morphtarget_vertex:iMe,normal_fragment_begin:sMe,normal_fragment_maps:aMe,normal_pars_fragment:oMe,normal_pars_vertex:lMe,normal_vertex:cMe,normalmap_pars_fragment:uMe,clearcoat_normal_fragment_begin:dMe,clearcoat_normal_fragment_maps:fMe,clearcoat_pars_fragment:hMe,iridescence_pars_fragment:pMe,opaque_fragment:mMe,packing:gMe,premultiplied_alpha_fragment:vMe,project_vertex:yMe,dithering_fragment:xMe,dithering_pars_fragment:bMe,roughnessmap_fragment:wMe,roughnessmap_pars_fragment:_Me,shadowmap_pars_fragment:SMe,shadowmap_pars_vertex:NMe,shadowmap_vertex:jMe,shadowmask_pars_fragment:EMe,skinbase_vertex:AMe,skinning_pars_vertex:TMe,skinning_vertex:CMe,skinnormal_vertex:MMe,specularmap_fragment:PMe,specularmap_pars_fragment:RMe,tonemapping_fragment:OMe,tonemapping_pars_fragment:IMe,transmission_fragment:kMe,transmission_pars_fragment:DMe,uv_pars_fragment:LMe,uv_pars_vertex:FMe,uv_vertex:UMe,worldpos_vertex:BMe,background_vert:zMe,background_frag:$Me,backgroundCube_vert:VMe,backgroundCube_frag:HMe,cube_vert:WMe,cube_frag:GMe,depth_vert:qMe,depth_frag:XMe,distanceRGBA_vert:YMe,distanceRGBA_frag:KMe,equirect_vert:JMe,equirect_frag:QMe,linedashed_vert:ZMe,linedashed_frag:e2e,meshbasic_vert:t2e,meshbasic_frag:n2e,meshlambert_vert:r2e,meshlambert_frag:i2e,meshmatcap_vert:s2e,meshmatcap_frag:a2e,meshnormal_vert:o2e,meshnormal_frag:l2e,meshphong_vert:c2e,meshphong_frag:u2e,meshphysical_vert:d2e,meshphysical_frag:f2e,meshtoon_vert:h2e,meshtoon_frag:p2e,points_vert:m2e,points_frag:g2e,shadow_vert:v2e,shadow_frag:y2e,sprite_vert:x2e,sprite_frag:b2e},st={common:{diffuse:{value:new gt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new mn},alphaMap:{value:null},alphaMapTransform:{value:new mn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new mn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new mn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new mn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new mn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new mn},normalScale:{value:new Fe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new mn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new mn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new mn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new mn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new gt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new gt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new mn},alphaTest:{value:0},uvTransform:{value:new mn}},sprite:{diffuse:{value:new gt(16777215)},opacity:{value:1},center:{value:new Fe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new mn},alphaMap:{value:null},alphaMapTransform:{value:new mn},alphaTest:{value:0}}},il={basic:{uniforms:Ts([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.fog]),vertexShader:dn.meshbasic_vert,fragmentShader:dn.meshbasic_frag},lambert:{uniforms:Ts([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new gt(0)}}]),vertexShader:dn.meshlambert_vert,fragmentShader:dn.meshlambert_frag},phong:{uniforms:Ts([st.common,st.specularmap,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.fog,st.lights,{emissive:{value:new gt(0)},specular:{value:new gt(1118481)},shininess:{value:30}}]),vertexShader:dn.meshphong_vert,fragmentShader:dn.meshphong_frag},standard:{uniforms:Ts([st.common,st.envmap,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.roughnessmap,st.metalnessmap,st.fog,st.lights,{emissive:{value:new gt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:dn.meshphysical_vert,fragmentShader:dn.meshphysical_frag},toon:{uniforms:Ts([st.common,st.aomap,st.lightmap,st.emissivemap,st.bumpmap,st.normalmap,st.displacementmap,st.gradientmap,st.fog,st.lights,{emissive:{value:new gt(0)}}]),vertexShader:dn.meshtoon_vert,fragmentShader:dn.meshtoon_frag},matcap:{uniforms:Ts([st.common,st.bumpmap,st.normalmap,st.displacementmap,st.fog,{matcap:{value:null}}]),vertexShader:dn.meshmatcap_vert,fragmentShader:dn.meshmatcap_frag},points:{uniforms:Ts([st.points,st.fog]),vertexShader:dn.points_vert,fragmentShader:dn.points_frag},dashed:{uniforms:Ts([st.common,st.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:dn.linedashed_vert,fragmentShader:dn.linedashed_frag},depth:{uniforms:Ts([st.common,st.displacementmap]),vertexShader:dn.depth_vert,fragmentShader:dn.depth_frag},normal:{uniforms:Ts([st.common,st.bumpmap,st.normalmap,st.displacementmap,{opacity:{value:1}}]),vertexShader:dn.meshnormal_vert,fragmentShader:dn.meshnormal_frag},sprite:{uniforms:Ts([st.sprite,st.fog]),vertexShader:dn.sprite_vert,fragmentShader:dn.sprite_frag},background:{uniforms:{uvTransform:{value:new mn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:dn.background_vert,fragmentShader:dn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:dn.backgroundCube_vert,fragmentShader:dn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:dn.cube_vert,fragmentShader:dn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:dn.equirect_vert,fragmentShader:dn.equirect_frag},distanceRGBA:{uniforms:Ts([st.common,st.displacementmap,{referencePosition:{value:new ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:dn.distanceRGBA_vert,fragmentShader:dn.distanceRGBA_frag},shadow:{uniforms:Ts([st.lights,st.fog,{color:{value:new gt(0)},opacity:{value:1}}]),vertexShader:dn.shadow_vert,fragmentShader:dn.shadow_frag}};il.physical={uniforms:Ts([il.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new mn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new mn},clearcoatNormalScale:{value:new Fe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new mn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new mn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new mn},sheen:{value:0},sheenColor:{value:new gt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new mn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new mn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new mn},transmissionSamplerSize:{value:new Fe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new mn},attenuationDistance:{value:0},attenuationColor:{value:new gt(0)},specularColor:{value:new gt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new mn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new mn},anisotropyVector:{value:new Fe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new mn}}]),vertexShader:dn.meshphysical_vert,fragmentShader:dn.meshphysical_frag};const hS={r:0,b:0,g:0};function w2e(t,e,n,r,i,s,o){const l=new gt(0);let c=s===!0?0:1,u,d,f=null,h=0,p=null;function m(y,v){let w=!1,b=v.isScene===!0?v.background:null;b&&b.isTexture&&(b=(v.backgroundBlurriness>0?n:e).get(b)),b===null?g(l,c):b&&b.isColor&&(g(b,1),w=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?r.buffers.color.setClear(0,0,0,1,o):S==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),b&&(b.isCubeTexture||b.mapping===cy)?(d===void 0&&(d=new Si(new Mp(1,1,1),new hc({name:"BackgroundCubeMaterial",uniforms:hv(il.backgroundCube.uniforms),vertexShader:il.backgroundCube.vertexShader,fragmentShader:il.backgroundCube.fragmentShader,side:Bs,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(j,E,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),d.material.uniforms.envMap.value=b,d.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,d.material.toneMapped=Vn.getTransfer(b.colorSpace)!==ir,(f!==b||h!==b.version||p!==t.toneMapping)&&(d.material.needsUpdate=!0,f=b,h=b.version,p=t.toneMapping),d.layers.enableAll(),y.unshift(d,d.geometry,d.material,0,0,null)):b&&b.isTexture&&(u===void 0&&(u=new Si(new qw(2,2),new hc({name:"BackgroundMaterial",uniforms:hv(il.background.uniforms),vertexShader:il.background.vertexShader,fragmentShader:il.background.fragmentShader,side:pu,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=b,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=Vn.getTransfer(b.colorSpace)!==ir,b.matrixAutoUpdate===!0&&b.updateMatrix(),u.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||h!==b.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,f=b,h=b.version,p=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function g(y,v){y.getRGB(hS,cne(t)),r.buffers.color.setClear(hS.r,hS.g,hS.b,v,o)}return{getClearColor:function(){return l},setClearColor:function(y,v=1){l.set(y),c=v,g(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(y){c=y,g(l,c)},render:m}}function _2e(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,l={},c=y(null);let u=c,d=!1;function f(U,$,z,W,k){let L=!1;if(o){const H=g(W,z,$);u!==H&&(u=H,p(u.object)),L=v(U,W,z,k),L&&w(U,W,z,k)}else{const H=$.wireframe===!0;(u.geometry!==W.id||u.program!==z.id||u.wireframe!==H)&&(u.geometry=W.id,u.program=z.id,u.wireframe=H,L=!0)}k!==null&&n.update(k,t.ELEMENT_ARRAY_BUFFER),(L||d)&&(d=!1,P(U,$,z,W),k!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(k).buffer))}function h(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function p(U){return r.isWebGL2?t.bindVertexArray(U):s.bindVertexArrayOES(U)}function m(U){return r.isWebGL2?t.deleteVertexArray(U):s.deleteVertexArrayOES(U)}function g(U,$,z){const W=z.wireframe===!0;let k=l[U.id];k===void 0&&(k={},l[U.id]=k);let L=k[$.id];L===void 0&&(L={},k[$.id]=L);let H=L[W];return H===void 0&&(H=y(h()),L[W]=H),H}function y(U){const $=[],z=[],W=[];for(let k=0;k<i;k++)$[k]=0,z[k]=0,W[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:z,attributeDivisors:W,object:U,attributes:{},index:null}}function v(U,$,z,W){const k=u.attributes,L=$.attributes;let H=0;const G=z.getAttributes();for(const X in G)if(G[X].location>=0){const B=k[X];let te=L[X];if(te===void 0&&(X==="instanceMatrix"&&U.instanceMatrix&&(te=U.instanceMatrix),X==="instanceColor"&&U.instanceColor&&(te=U.instanceColor)),B===void 0||B.attribute!==te||te&&B.data!==te.data)return!0;H++}return u.attributesNum!==H||u.index!==W}function w(U,$,z,W){const k={},L=$.attributes;let H=0;const G=z.getAttributes();for(const X in G)if(G[X].location>=0){let B=L[X];B===void 0&&(X==="instanceMatrix"&&U.instanceMatrix&&(B=U.instanceMatrix),X==="instanceColor"&&U.instanceColor&&(B=U.instanceColor));const te={};te.attribute=B,B&&B.data&&(te.data=B.data),k[X]=te,H++}u.attributes=k,u.attributesNum=H,u.index=W}function b(){const U=u.newAttributes;for(let $=0,z=U.length;$<z;$++)U[$]=0}function S(U){j(U,0)}function j(U,$){const z=u.newAttributes,W=u.enabledAttributes,k=u.attributeDivisors;z[U]=1,W[U]===0&&(t.enableVertexAttribArray(U),W[U]=1),k[U]!==$&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](U,$),k[U]=$)}function E(){const U=u.newAttributes,$=u.enabledAttributes;for(let z=0,W=$.length;z<W;z++)$[z]!==U[z]&&(t.disableVertexAttribArray(z),$[z]=0)}function T(U,$,z,W,k,L,H){H===!0?t.vertexAttribIPointer(U,$,z,k,L):t.vertexAttribPointer(U,$,z,W,k,L)}function P(U,$,z,W){if(r.isWebGL2===!1&&(U.isInstancedMesh||W.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const k=W.attributes,L=z.getAttributes(),H=$.defaultAttributeValues;for(const G in L){const X=L[G];if(X.location>=0){let Z=k[G];if(Z===void 0&&(G==="instanceMatrix"&&U.instanceMatrix&&(Z=U.instanceMatrix),G==="instanceColor"&&U.instanceColor&&(Z=U.instanceColor)),Z!==void 0){const B=Z.normalized,te=Z.itemSize,ie=n.get(Z);if(ie===void 0)continue;const ae=ie.buffer,be=ie.type,ce=ie.bytesPerElement,Se=r.isWebGL2===!0&&(be===t.INT||be===t.UNSIGNED_INT||Z.gpuType===o5);if(Z.isInterleavedBufferAttribute){const Te=Z.data,Y=Te.stride,Ee=Z.offset;if(Te.isInstancedInterleavedBuffer){for(let ve=0;ve<X.locationSize;ve++)j(X.location+ve,Te.meshPerAttribute);U.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Te.meshPerAttribute*Te.count)}else for(let ve=0;ve<X.locationSize;ve++)S(X.location+ve);t.bindBuffer(t.ARRAY_BUFFER,ae);for(let ve=0;ve<X.locationSize;ve++)T(X.location+ve,te/X.locationSize,be,B,Y*ce,(Ee+te/X.locationSize*ve)*ce,Se)}else{if(Z.isInstancedBufferAttribute){for(let Te=0;Te<X.locationSize;Te++)j(X.location+Te,Z.meshPerAttribute);U.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Z.meshPerAttribute*Z.count)}else for(let Te=0;Te<X.locationSize;Te++)S(X.location+Te);t.bindBuffer(t.ARRAY_BUFFER,ae);for(let Te=0;Te<X.locationSize;Te++)T(X.location+Te,te/X.locationSize,be,B,te*ce,te/X.locationSize*Te*ce,Se)}}else if(H!==void 0){const B=H[G];if(B!==void 0)switch(B.length){case 2:t.vertexAttrib2fv(X.location,B);break;case 3:t.vertexAttrib3fv(X.location,B);break;case 4:t.vertexAttrib4fv(X.location,B);break;default:t.vertexAttrib1fv(X.location,B)}}}}E()}function C(){D();for(const U in l){const $=l[U];for(const z in $){const W=$[z];for(const k in W)m(W[k].object),delete W[k];delete $[z]}delete l[U]}}function R(U){if(l[U.id]===void 0)return;const $=l[U.id];for(const z in $){const W=$[z];for(const k in W)m(W[k].object),delete W[k];delete $[z]}delete l[U.id]}function I(U){for(const $ in l){const z=l[$];if(z[U.id]===void 0)continue;const W=z[U.id];for(const k in W)m(W[k].object),delete W[k];delete z[U.id]}}function D(){V(),d=!0,u!==c&&(u=c,p(u.object))}function V(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:f,reset:D,resetDefaultState:V,dispose:C,releaseStatesOfGeometry:R,releaseStatesOfProgram:I,initAttributes:b,enableAttribute:S,disableUnusedAttributes:E}}function S2e(t,e,n,r){const i=r.isWebGL2;let s;function o(d){s=d}function l(d,f){t.drawArrays(s,d,f),n.update(f,s,1)}function c(d,f,h){if(h===0)return;let p,m;if(i)p=t,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,d,f,h),n.update(f,s,h)}function u(d,f,h){if(h===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let m=0;m<h;m++)this.render(d[m],f[m]);else{p.multiDrawArraysWEBGL(s,d,0,f,0,h);let m=0;for(let g=0;g<h;g++)m+=f[g];n.update(m,s,1)}}this.setMode=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u}function N2e(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let l=n.precision!==void 0?n.precision:"highp";const c=s(l);c!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",c,"instead."),l=c);const u=o||e.has("WEBGL_draw_buffers"),d=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_TEXTURE_SIZE),m=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),b=h>0,S=o||e.has("OES_texture_float"),j=b&&S,E=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:l,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:h,maxTextureSize:p,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:y,maxVaryings:v,maxFragmentUniforms:w,vertexTextures:b,floatFragmentTextures:S,floatVertexTextures:j,maxSamples:E}}function j2e(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new $c,l=new mn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const p=f.length!==0||h||r!==0||i;return i=h,r=f.length,p},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){n=d(f,h,0)},this.setState=function(f,h,p){const m=f.clippingPlanes,g=f.clipIntersection,y=f.clipShadows,v=t.get(f);if(!i||m===null||m.length===0||s&&!y)s?d(null):u();else{const w=s?0:r,b=w*4;let S=v.clippingState||null;c.value=S,S=d(m,h,b,p);for(let j=0;j!==b;++j)S[j]=n[j];v.clippingState=S,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=w}};function u(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(f,h,p,m){const g=f!==null?f.length:0;let y=null;if(g!==0){if(y=c.value,m!==!0||y===null){const v=p+g*4,w=h.matrixWorldInverse;l.getNormalMatrix(w),(y===null||y.length<v)&&(y=new Float32Array(v));for(let b=0,S=p;b!==g;++b,S+=4)o.copy(f[b]).applyMatrix4(w,l),o.normal.toArray(y,S),y[S+3]=o.constant}c.value=y,c.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,y}}function E2e(t){let e=new WeakMap;function n(o,l){return l===ub?o.mapping=mu:l===db&&(o.mapping=Gd),o}function r(o){if(o&&o.isTexture){const l=o.mapping;if(l===ub||l===db)if(e.has(o)){const c=e.get(o).texture;return n(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const u=new fne(c.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const l=o.target;l.removeEventListener("dispose",i);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Dd extends Hw{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,l=i+n,c=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,l-=d*this.view.offsetY,c=l-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const dg=4,P8=[.125,.215,.35,.446,.526,.582],ph=20,SP=new Dd,R8=new gt;let NP=null,jP=0,EP=0;const ah=(1+Math.sqrt(5))/2,jm=1/ah,O8=[new ne(1,1,1),new ne(-1,1,1),new ne(1,1,-1),new ne(-1,1,-1),new ne(0,ah,jm),new ne(0,ah,-jm),new ne(jm,0,ah),new ne(-jm,0,ah),new ne(ah,jm,0),new ne(-ah,jm,0)];class Dk{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){NP=this._renderer.getRenderTarget(),jP=this._renderer.getActiveCubeFace(),EP=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=D8(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=k8(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(NP,jP,EP),e.scissorTest=!1,pS(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===mu||e.mapping===Gd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),NP=this._renderer.getRenderTarget(),jP=this._renderer.getActiveCubeFace(),EP=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Jr,minFilter:Jr,generateMipmaps:!1,type:uv,format:Rs,colorSpace:fc,depthBuffer:!1},i=I8(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=I8(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=A2e(s)),this._blurMaterial=T2e(s,e,n)}return i}_compileMaterial(e){const n=new Si(this._lodPlanes[0],e);this._renderer.compile(n,SP)}_sceneToCubeUV(e,n,r,i){const l=new Qr(90,1,n,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,h=d.toneMapping;d.getClearColor(R8),d.toneMapping=tc,d.autoClear=!1;const p=new df({name:"PMREM.Background",side:Bs,depthWrite:!1,depthTest:!1}),m=new Si(new Mp,p);let g=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,g=!0):(p.color.copy(R8),g=!0);for(let v=0;v<6;v++){const w=v%3;w===0?(l.up.set(0,c[v],0),l.lookAt(u[v],0,0)):w===1?(l.up.set(0,0,c[v]),l.lookAt(0,u[v],0)):(l.up.set(0,c[v],0),l.lookAt(0,0,u[v]));const b=this._cubeSize;pS(i,w*b,v>2?b:0,b,b),d.setRenderTarget(i),g&&d.render(m,l),d.render(e,l)}m.geometry.dispose(),m.material.dispose(),d.toneMapping=h,d.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===mu||e.mapping===Gd;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=D8()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=k8());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Si(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const c=this._cubeSize;pS(n,0,0,3*c,2*c),r.setRenderTarget(n),r.render(o,SP)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=O8[(i-1)%O8.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,l){const c=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new Si(this._lodPlanes[i],u),h=u.uniforms,p=this._sizeLods[r]-1,m=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*ph-1),g=s/m,y=isFinite(s)?1+Math.floor(d*g):ph;y>ph&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${ph}`);const v=[];let w=0;for(let T=0;T<ph;++T){const P=T/g,C=Math.exp(-P*P/2);v.push(C),T===0?w+=C:T<y&&(w+=2*C)}for(let T=0;T<v.length;T++)v[T]=v[T]/w;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=v,h.latitudinal.value=o==="latitudinal",l&&(h.poleAxis.value=l);const{_lodMax:b}=this;h.dTheta.value=m,h.mipInt.value=b-r;const S=this._sizeLods[i],j=3*S*(i>b-dg?i-b+dg:0),E=4*(this._cubeSize-S);pS(n,j,E,3*S,2*S),c.setRenderTarget(n),c.render(f,SP)}}function A2e(t){const e=[],n=[],r=[];let i=t;const s=t-dg+1+P8.length;for(let o=0;o<s;o++){const l=Math.pow(2,i);n.push(l);let c=1/l;o>t-dg?c=P8[o-t+dg-1]:o===0&&(c=0),r.push(c);const u=1/(l-2),d=-u,f=1+u,h=[d,d,f,d,f,f,d,d,f,f,d,f],p=6,m=6,g=3,y=2,v=1,w=new Float32Array(g*m*p),b=new Float32Array(y*m*p),S=new Float32Array(v*m*p);for(let E=0;E<p;E++){const T=E%3*2/3-1,P=E>2?0:-1,C=[T,P,0,T+2/3,P,0,T+2/3,P+1,0,T,P,0,T+2/3,P+1,0,T,P+1,0];w.set(C,g*m*E),b.set(h,y*m*E);const R=[E,E,E,E,E,E];S.set(R,v*m*E)}const j=new vn;j.setAttribute("position",new Gn(w,g)),j.setAttribute("uv",new Gn(b,y)),j.setAttribute("faceIndex",new Gn(S,v)),e.push(j),i>dg&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function I8(t,e,n){const r=new xl(t,e,n);return r.texture.mapping=cy,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function pS(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function T2e(t,e,n){const r=new Float32Array(ph),i=new ne(0,1,0);return new hc({name:"SphericalGaussianBlur",defines:{n:ph,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:_5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:iu,depthTest:!1,depthWrite:!1})}function k8(){return new hc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:iu,depthTest:!1,depthWrite:!1})}function D8(){return new hc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:iu,depthTest:!1,depthWrite:!1})}function _5(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function C2e(t){let e=new WeakMap,n=null;function r(l){if(l&&l.isTexture){const c=l.mapping,u=c===ub||c===db,d=c===mu||c===Gd;if(u||d)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let f=e.get(l);return n===null&&(n=new Dk(t)),f=u?n.fromEquirectangular(l,f):n.fromCubemap(l,f),e.set(l,f),f.texture}else{if(e.has(l))return e.get(l).texture;{const f=l.image;if(u&&f&&f.height>0||d&&f&&i(f)){n===null&&(n=new Dk(t));const h=u?n.fromEquirectangular(l):n.fromCubemap(l);return e.set(l,h),l.addEventListener("dispose",s),h.texture}else return null}}}return l}function i(l){let c=0;const u=6;for(let d=0;d<u;d++)l[d]!==void 0&&c++;return c===u}function s(l){const c=l.target;c.removeEventListener("dispose",s);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function M2e(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function P2e(t,e,n,r){const i={},s=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const m in h.attributes)e.remove(h.attributes[m]);for(const m in h.morphAttributes){const g=h.morphAttributes[m];for(let y=0,v=g.length;y<v;y++)e.remove(g[y])}h.removeEventListener("dispose",o),delete i[h.id];const p=s.get(h);p&&(e.remove(p),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function l(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function c(f){const h=f.attributes;for(const m in h)e.update(h[m],t.ARRAY_BUFFER);const p=f.morphAttributes;for(const m in p){const g=p[m];for(let y=0,v=g.length;y<v;y++)e.update(g[y],t.ARRAY_BUFFER)}}function u(f){const h=[],p=f.index,m=f.attributes.position;let g=0;if(p!==null){const w=p.array;g=p.version;for(let b=0,S=w.length;b<S;b+=3){const j=w[b+0],E=w[b+1],T=w[b+2];h.push(j,E,E,T,T,j)}}else if(m!==void 0){const w=m.array;g=m.version;for(let b=0,S=w.length/3-1;b<S;b+=3){const j=b+0,E=b+1,T=b+2;h.push(j,E,E,T,T,j)}}else return;const y=new(sne(h)?w5:b5)(h,1);y.version=g;const v=s.get(f);v&&e.remove(v),s.set(f,y)}function d(f){const h=s.get(f);if(h){const p=f.index;p!==null&&h.version<p.version&&u(f)}else u(f);return s.get(f)}return{get:l,update:c,getWireframeAttribute:d}}function R2e(t,e,n,r){const i=r.isWebGL2;let s;function o(p){s=p}let l,c;function u(p){l=p.type,c=p.bytesPerElement}function d(p,m){t.drawElements(s,m,l,p*c),n.update(m,s,1)}function f(p,m,g){if(g===0)return;let y,v;if(i)y=t,v="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[v](s,m,l,p*c,g),n.update(m,s,g)}function h(p,m,g){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let v=0;v<g;v++)this.render(p[v]/c,m[v]);else{y.multiDrawElementsWEBGL(s,m,0,l,p,0,g);let v=0;for(let w=0;w<g;w++)v+=m[w];n.update(v,s,1)}}this.setMode=o,this.setIndex=u,this.render=d,this.renderInstances=f,this.renderMultiDraw=h}function O2e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,l){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=l*(s/3);break;case t.LINES:n.lines+=l*(s/2);break;case t.LINE_STRIP:n.lines+=l*(s-1);break;case t.LINE_LOOP:n.lines+=l*s;break;case t.POINTS:n.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function I2e(t,e){return t[0]-e[0]}function k2e(t,e){return Math.abs(e[1])-Math.abs(t[1])}function D2e(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new Hn,l=[];for(let u=0;u<8;u++)l[u]=[u,0];function c(u,d,f){const h=u.morphTargetInfluences;if(e.isWebGL2===!0){const m=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,g=m!==void 0?m.length:0;let y=s.get(d);if(y===void 0||y.count!==g){let $=function(){V.dispose(),s.delete(d),d.removeEventListener("dispose",$)};var p=$;y!==void 0&&y.texture.dispose();const b=d.morphAttributes.position!==void 0,S=d.morphAttributes.normal!==void 0,j=d.morphAttributes.color!==void 0,E=d.morphAttributes.position||[],T=d.morphAttributes.normal||[],P=d.morphAttributes.color||[];let C=0;b===!0&&(C=1),S===!0&&(C=2),j===!0&&(C=3);let R=d.attributes.position.count*C,I=1;R>e.maxTextureSize&&(I=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const D=new Float32Array(R*I*4*g),V=new uT(D,R,I,g);V.type=ol,V.needsUpdate=!0;const U=C*4;for(let z=0;z<g;z++){const W=E[z],k=T[z],L=P[z],H=R*I*4*z;for(let G=0;G<W.count;G++){const X=G*U;b===!0&&(o.fromBufferAttribute(W,G),D[H+X+0]=o.x,D[H+X+1]=o.y,D[H+X+2]=o.z,D[H+X+3]=0),S===!0&&(o.fromBufferAttribute(k,G),D[H+X+4]=o.x,D[H+X+5]=o.y,D[H+X+6]=o.z,D[H+X+7]=0),j===!0&&(o.fromBufferAttribute(L,G),D[H+X+8]=o.x,D[H+X+9]=o.y,D[H+X+10]=o.z,D[H+X+11]=L.itemSize===4?o.w:1)}}y={count:g,texture:V,size:new Fe(R,I)},s.set(d,y),d.addEventListener("dispose",$)}let v=0;for(let b=0;b<h.length;b++)v+=h[b];const w=d.morphTargetsRelative?1:1-v;f.getUniforms().setValue(t,"morphTargetBaseInfluence",w),f.getUniforms().setValue(t,"morphTargetInfluences",h),f.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const m=h===void 0?0:h.length;let g=r[d.id];if(g===void 0||g.length!==m){g=[];for(let S=0;S<m;S++)g[S]=[S,0];r[d.id]=g}for(let S=0;S<m;S++){const j=g[S];j[0]=S,j[1]=h[S]}g.sort(k2e);for(let S=0;S<8;S++)S<m&&g[S][1]?(l[S][0]=g[S][0],l[S][1]=g[S][1]):(l[S][0]=Number.MAX_SAFE_INTEGER,l[S][1]=0);l.sort(I2e);const y=d.morphAttributes.position,v=d.morphAttributes.normal;let w=0;for(let S=0;S<8;S++){const j=l[S],E=j[0],T=j[1];E!==Number.MAX_SAFE_INTEGER&&T?(y&&d.getAttribute("morphTarget"+S)!==y[E]&&d.setAttribute("morphTarget"+S,y[E]),v&&d.getAttribute("morphNormal"+S)!==v[E]&&d.setAttribute("morphNormal"+S,v[E]),i[S]=T,w+=T):(y&&d.hasAttribute("morphTarget"+S)===!0&&d.deleteAttribute("morphTarget"+S),v&&d.hasAttribute("morphNormal"+S)===!0&&d.deleteAttribute("morphNormal"+S),i[S]=0)}const b=d.morphTargetsRelative?1:1-w;f.getUniforms().setValue(t,"morphTargetBaseInfluence",b),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:c}}function L2e(t,e,n,r){let i=new WeakMap;function s(c){const u=r.render.frame,d=c.geometry,f=e.get(c,d);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),i.get(c)!==u&&(n.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&n.update(c.instanceColor,t.ARRAY_BUFFER),i.set(c,u))),c.isSkinnedMesh){const h=c.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return f}function o(){i=new WeakMap}function l(c){const u=c.target;u.removeEventListener("dispose",l),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}class S5 extends ti{constructor(e,n,r,i,s,o,l,c,u,d){if(d=d!==void 0?d:Id,d!==Id&&d!==dp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===Id&&(r=qc),r===void 0&&d===dp&&(r=Od),super(null,i,s,o,l,c,d,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=l!==void 0?l:Yr,this.minFilter=c!==void 0?c:Yr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const pne=new ti,mne=new S5(1,1);mne.compareFunction=g5;const gne=new uT,vne=new x5,yne=new Ww,L8=[],F8=[],U8=new Float32Array(16),B8=new Float32Array(9),z8=new Float32Array(4);function uy(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=L8[i];if(s===void 0&&(s=new Float32Array(i),L8[i]=s),e!==0){r.toArray(s,0);for(let o=1,l=0;o!==e;++o)l+=n,t[o].toArray(s,l)}return s}function ji(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ei(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function dT(t,e){let n=F8[e];n===void 0&&(n=new Int32Array(e),F8[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function F2e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function U2e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ji(n,e))return;t.uniform2fv(this.addr,e),Ei(n,e)}}function B2e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ji(n,e))return;t.uniform3fv(this.addr,e),Ei(n,e)}}function z2e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ji(n,e))return;t.uniform4fv(this.addr,e),Ei(n,e)}}function $2e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ji(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ei(n,e)}else{if(ji(n,r))return;z8.set(r),t.uniformMatrix2fv(this.addr,!1,z8),Ei(n,r)}}function V2e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ji(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ei(n,e)}else{if(ji(n,r))return;B8.set(r),t.uniformMatrix3fv(this.addr,!1,B8),Ei(n,r)}}function H2e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ji(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ei(n,e)}else{if(ji(n,r))return;U8.set(r),t.uniformMatrix4fv(this.addr,!1,U8),Ei(n,r)}}function W2e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function G2e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ji(n,e))return;t.uniform2iv(this.addr,e),Ei(n,e)}}function q2e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ji(n,e))return;t.uniform3iv(this.addr,e),Ei(n,e)}}function X2e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ji(n,e))return;t.uniform4iv(this.addr,e),Ei(n,e)}}function Y2e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function K2e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ji(n,e))return;t.uniform2uiv(this.addr,e),Ei(n,e)}}function J2e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ji(n,e))return;t.uniform3uiv(this.addr,e),Ei(n,e)}}function Q2e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ji(n,e))return;t.uniform4uiv(this.addr,e),Ei(n,e)}}function Z2e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const s=this.type===t.SAMPLER_2D_SHADOW?mne:pne;n.setTexture2D(e||s,i)}function ePe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||vne,i)}function tPe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||yne,i)}function nPe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||gne,i)}function rPe(t){switch(t){case 5126:return F2e;case 35664:return U2e;case 35665:return B2e;case 35666:return z2e;case 35674:return $2e;case 35675:return V2e;case 35676:return H2e;case 5124:case 35670:return W2e;case 35667:case 35671:return G2e;case 35668:case 35672:return q2e;case 35669:case 35673:return X2e;case 5125:return Y2e;case 36294:return K2e;case 36295:return J2e;case 36296:return Q2e;case 35678:case 36198:case 36298:case 36306:case 35682:return Z2e;case 35679:case 36299:case 36307:return ePe;case 35680:case 36300:case 36308:case 36293:return tPe;case 36289:case 36303:case 36311:case 36292:return nPe}}function iPe(t,e){t.uniform1fv(this.addr,e)}function sPe(t,e){const n=uy(e,this.size,2);t.uniform2fv(this.addr,n)}function aPe(t,e){const n=uy(e,this.size,3);t.uniform3fv(this.addr,n)}function oPe(t,e){const n=uy(e,this.size,4);t.uniform4fv(this.addr,n)}function lPe(t,e){const n=uy(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function cPe(t,e){const n=uy(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function uPe(t,e){const n=uy(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function dPe(t,e){t.uniform1iv(this.addr,e)}function fPe(t,e){t.uniform2iv(this.addr,e)}function hPe(t,e){t.uniform3iv(this.addr,e)}function pPe(t,e){t.uniform4iv(this.addr,e)}function mPe(t,e){t.uniform1uiv(this.addr,e)}function gPe(t,e){t.uniform2uiv(this.addr,e)}function vPe(t,e){t.uniform3uiv(this.addr,e)}function yPe(t,e){t.uniform4uiv(this.addr,e)}function xPe(t,e,n){const r=this.cache,i=e.length,s=dT(n,i);ji(r,s)||(t.uniform1iv(this.addr,s),Ei(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||pne,s[o])}function bPe(t,e,n){const r=this.cache,i=e.length,s=dT(n,i);ji(r,s)||(t.uniform1iv(this.addr,s),Ei(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||vne,s[o])}function wPe(t,e,n){const r=this.cache,i=e.length,s=dT(n,i);ji(r,s)||(t.uniform1iv(this.addr,s),Ei(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||yne,s[o])}function _Pe(t,e,n){const r=this.cache,i=e.length,s=dT(n,i);ji(r,s)||(t.uniform1iv(this.addr,s),Ei(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||gne,s[o])}function SPe(t){switch(t){case 5126:return iPe;case 35664:return sPe;case 35665:return aPe;case 35666:return oPe;case 35674:return lPe;case 35675:return cPe;case 35676:return uPe;case 5124:case 35670:return dPe;case 35667:case 35671:return fPe;case 35668:case 35672:return hPe;case 35669:case 35673:return pPe;case 5125:return mPe;case 36294:return gPe;case 36295:return vPe;case 36296:return yPe;case 35678:case 36198:case 36298:case 36306:case 35682:return xPe;case 35679:case 36299:case 36307:return bPe;case 35680:case 36300:case 36308:case 36293:return wPe;case 36289:case 36303:case 36311:case 36292:return _Pe}}class NPe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=rPe(n.type)}}class jPe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=SPe(n.type)}}class EPe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const l=i[s];l.setValue(e,n[l.id],r)}}}const AP=/(\w+)(\])?(\[|\.)?/g;function $8(t,e){t.seq.push(e),t.map[e.id]=e}function APe(t,e,n){const r=t.name,i=r.length;for(AP.lastIndex=0;;){const s=AP.exec(r),o=AP.lastIndex;let l=s[1];const c=s[2]==="]",u=s[3];if(c&&(l=l|0),u===void 0||u==="["&&o+2===i){$8(n,u===void 0?new NPe(l,t,e):new jPe(l,t,e));break}else{let f=n.map[l];f===void 0&&(f=new EPe(l),$8(n,f)),n=f}}}class WN{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);APe(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const l=n[s],c=r[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function V8(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const TPe=37297;let CPe=0;function MPe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const l=o+1;r.push(`${l===e?">":" "} ${l}: ${n[o]}`)}return r.join(`
`)}function PPe(t){const e=Vn.getPrimaries(Vn.workingColorSpace),n=Vn.getPrimaries(t);let r;switch(e===n?r="":e===xb&&n===yb?r="LinearDisplayP3ToLinearSRGB":e===yb&&n===xb&&(r="LinearSRGBToLinearDisplayP3"),t){case fc:case $w:return[r,"LinearTransferOETF"];case xi:case cT:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function H8(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+MPe(t.getShaderSource(e),o)}else return i}function RPe(t,e){const n=PPe(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function OPe(t,e){let n;switch(e){case Pte:n="Linear";break;case Rte:n="Reinhard";break;case Ote:n="OptimizedCineon";break;case s5:n="ACESFilmic";break;case kte:n="AgX";break;case Ite:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function IPe(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(fg).join(`
`)}function kPe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(fg).join(`
`)}function DPe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function LPe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let l=1;s.type===t.FLOAT_MAT2&&(l=2),s.type===t.FLOAT_MAT3&&(l=3),s.type===t.FLOAT_MAT4&&(l=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:l}}return n}function fg(t){return t!==""}function W8(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function G8(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const FPe=/^[ \t]*#include +<([\w\d./]+)>/gm;function Lk(t){return t.replace(FPe,BPe)}const UPe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function BPe(t,e){let n=dn[e];if(n===void 0){const r=UPe.get(e);if(r!==void 0)n=dn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return Lk(n)}const zPe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function q8(t){return t.replace(zPe,$Pe)}function $Pe(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function X8(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function VPe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===sT?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===p0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Ko&&(e="SHADOWMAP_TYPE_VSM"),e}function HPe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case mu:case Gd:e="ENVMAP_TYPE_CUBE";break;case cy:e="ENVMAP_TYPE_CUBE_UV";break}return e}function WPe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Gd:e="ENVMAP_MODE_REFRACTION";break}return e}function GPe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case zw:e="ENVMAP_BLENDING_MULTIPLY";break;case Cte:e="ENVMAP_BLENDING_MIX";break;case Mte:e="ENVMAP_BLENDING_ADD";break}return e}function qPe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function XPe(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,l=n.fragmentShader;const c=VPe(n),u=HPe(n),d=WPe(n),f=GPe(n),h=qPe(n),p=n.isWebGL2?"":IPe(n),m=kPe(n),g=DPe(s),y=i.createProgram();let v,w,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(fg).join(`
`),v.length>0&&(v+=`
`),w=[p,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(fg).join(`
`),w.length>0&&(w+=`
`)):(v=[X8(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(fg).join(`
`),w=[p,X8(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==tc?"#define TONE_MAPPING":"",n.toneMapping!==tc?dn.tonemapping_pars_fragment:"",n.toneMapping!==tc?OPe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",dn.colorspace_pars_fragment,RPe("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(fg).join(`
`)),o=Lk(o),o=W8(o,n),o=G8(o,n),l=Lk(l),l=W8(l,n),l=G8(l,n),o=q8(o),l=q8(l),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,v=[m,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,w=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===Ik?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Ik?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const S=b+v+o,j=b+w+l,E=V8(i,i.VERTEX_SHADER,S),T=V8(i,i.FRAGMENT_SHADER,j);i.attachShader(y,E),i.attachShader(y,T),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function P(D){if(t.debug.checkShaderErrors){const V=i.getProgramInfoLog(y).trim(),U=i.getShaderInfoLog(E).trim(),$=i.getShaderInfoLog(T).trim();let z=!0,W=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(z=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,E,T);else{const k=H8(i,E,"vertex"),L=H8(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Program Info Log: `+V+`
`+k+`
`+L)}else V!==""?console.warn("THREE.WebGLProgram: Program Info Log:",V):(U===""||$==="")&&(W=!1);W&&(D.diagnostics={runnable:z,programLog:V,vertexShader:{log:U,prefix:v},fragmentShader:{log:$,prefix:w}})}i.deleteShader(E),i.deleteShader(T),C=new WN(i,y),R=LPe(i,y)}let C;this.getUniforms=function(){return C===void 0&&P(this),C};let R;this.getAttributes=function(){return R===void 0&&P(this),R};let I=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=i.getProgramParameter(y,TPe)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=CPe++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=T,this}let YPe=0;class KPe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new JPe(e),n.set(e,r)),r}}class JPe{constructor(e){this.id=YPe++,this.code=e,this.usedTimes=0}}function QPe(t,e,n,r,i,s,o){const l=new Xh,c=new KPe,u=[],d=i.isWebGL2,f=i.logarithmicDepthBuffer,h=i.vertexTextures;let p=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(C){return C===0?"uv":`uv${C}`}function y(C,R,I,D,V){const U=D.fog,$=V.geometry,z=C.isMeshStandardMaterial?D.environment:null,W=(C.isMeshStandardMaterial?n:e).get(C.envMap||z),k=W&&W.mapping===cy?W.image.height:null,L=m[C.type];C.precision!==null&&(p=i.getMaxPrecision(C.precision),p!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",p,"instead."));const H=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,G=H!==void 0?H.length:0;let X=0;$.morphAttributes.position!==void 0&&(X=1),$.morphAttributes.normal!==void 0&&(X=2),$.morphAttributes.color!==void 0&&(X=3);let Z,B,te,ie;if(L){const yn=il[L];Z=yn.vertexShader,B=yn.fragmentShader}else Z=C.vertexShader,B=C.fragmentShader,c.update(C),te=c.getVertexShaderID(C),ie=c.getFragmentShaderID(C);const ae=t.getRenderTarget(),be=V.isInstancedMesh===!0,ce=V.isBatchedMesh===!0,Se=!!C.map,Te=!!C.matcap,Y=!!W,Ee=!!C.aoMap,ve=!!C.lightMap,Re=!!C.bumpMap,we=!!C.normalMap,rt=!!C.displacementMap,qe=!!C.emissiveMap,Q=!!C.metalnessMap,q=!!C.roughnessMap,pe=C.anisotropy>0,ze=C.clearcoat>0,Ue=C.iridescence>0,ke=C.sheen>0,dt=C.transmission>0,We=pe&&!!C.anisotropyMap,tt=ze&&!!C.clearcoatMap,Et=ze&&!!C.clearcoatNormalMap,Vt=ze&&!!C.clearcoatRoughnessMap,$e=Ue&&!!C.iridescenceMap,on=Ue&&!!C.iridescenceThicknessMap,Kt=ke&&!!C.sheenColorMap,Dt=ke&&!!C.sheenRoughnessMap,mt=!!C.specularMap,it=!!C.specularColorMap,se=!!C.specularIntensityMap,Be=dt&&!!C.transmissionMap,at=dt&&!!C.thicknessMap,ot=!!C.gradientMap,Ve=!!C.alphaMap,oe=C.alphaTest>0,Ze=!!C.alphaHash,Qe=!!C.extensions,Lt=!!$.attributes.uv1,He=!!$.attributes.uv2,nt=!!$.attributes.uv3;let vt=tc;return C.toneMapped&&(ae===null||ae.isXRRenderTarget===!0)&&(vt=t.toneMapping),{isWebGL2:d,shaderID:L,shaderType:C.type,shaderName:C.name,vertexShader:Z,fragmentShader:B,defines:C.defines,customVertexShaderID:te,customFragmentShaderID:ie,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:p,batching:ce,instancing:be,instancingColor:be&&V.instanceColor!==null,supportsVertexTextures:h,outputColorSpace:ae===null?t.outputColorSpace:ae.isXRRenderTarget===!0?ae.texture.colorSpace:fc,map:Se,matcap:Te,envMap:Y,envMapMode:Y&&W.mapping,envMapCubeUVHeight:k,aoMap:Ee,lightMap:ve,bumpMap:Re,normalMap:we,displacementMap:h&&rt,emissiveMap:qe,normalMapObjectSpace:we&&C.normalMapType===Kte,normalMapTangentSpace:we&&C.normalMapType===uf,metalnessMap:Q,roughnessMap:q,anisotropy:pe,anisotropyMap:We,clearcoat:ze,clearcoatMap:tt,clearcoatNormalMap:Et,clearcoatRoughnessMap:Vt,iridescence:Ue,iridescenceMap:$e,iridescenceThicknessMap:on,sheen:ke,sheenColorMap:Kt,sheenRoughnessMap:Dt,specularMap:mt,specularColorMap:it,specularIntensityMap:se,transmission:dt,transmissionMap:Be,thicknessMap:at,gradientMap:ot,opaque:C.transparent===!1&&C.blending===Gh,alphaMap:Ve,alphaTest:oe,alphaHash:Ze,combine:C.combine,mapUv:Se&&g(C.map.channel),aoMapUv:Ee&&g(C.aoMap.channel),lightMapUv:ve&&g(C.lightMap.channel),bumpMapUv:Re&&g(C.bumpMap.channel),normalMapUv:we&&g(C.normalMap.channel),displacementMapUv:rt&&g(C.displacementMap.channel),emissiveMapUv:qe&&g(C.emissiveMap.channel),metalnessMapUv:Q&&g(C.metalnessMap.channel),roughnessMapUv:q&&g(C.roughnessMap.channel),anisotropyMapUv:We&&g(C.anisotropyMap.channel),clearcoatMapUv:tt&&g(C.clearcoatMap.channel),clearcoatNormalMapUv:Et&&g(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Vt&&g(C.clearcoatRoughnessMap.channel),iridescenceMapUv:$e&&g(C.iridescenceMap.channel),iridescenceThicknessMapUv:on&&g(C.iridescenceThicknessMap.channel),sheenColorMapUv:Kt&&g(C.sheenColorMap.channel),sheenRoughnessMapUv:Dt&&g(C.sheenRoughnessMap.channel),specularMapUv:mt&&g(C.specularMap.channel),specularColorMapUv:it&&g(C.specularColorMap.channel),specularIntensityMapUv:se&&g(C.specularIntensityMap.channel),transmissionMapUv:Be&&g(C.transmissionMap.channel),thicknessMapUv:at&&g(C.thicknessMap.channel),alphaMapUv:Ve&&g(C.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(we||pe),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,vertexUv1s:Lt,vertexUv2s:He,vertexUv3s:nt,pointsUvs:V.isPoints===!0&&!!$.attributes.uv&&(Se||Ve),fog:!!U,useFog:C.fog===!0,fogExp2:U&&U.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:V.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:X,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:t.shadowMap.enabled&&I.length>0,shadowMapType:t.shadowMap.type,toneMapping:vt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Se&&C.map.isVideoTexture===!0&&Vn.getTransfer(C.map.colorSpace)===ir,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===Hl,flipSided:C.side===Bs,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:Qe&&C.extensions.derivatives===!0,extensionFragDepth:Qe&&C.extensions.fragDepth===!0,extensionDrawBuffers:Qe&&C.extensions.drawBuffers===!0,extensionShaderTextureLOD:Qe&&C.extensions.shaderTextureLOD===!0,extensionClipCullDistance:Qe&&C.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:d||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:C.customProgramCacheKey()}}function v(C){const R=[];if(C.shaderID?R.push(C.shaderID):(R.push(C.customVertexShaderID),R.push(C.customFragmentShaderID)),C.defines!==void 0)for(const I in C.defines)R.push(I),R.push(C.defines[I]);return C.isRawShaderMaterial===!1&&(w(R,C),b(R,C),R.push(t.outputColorSpace)),R.push(C.customProgramCacheKey),R.join()}function w(C,R){C.push(R.precision),C.push(R.outputColorSpace),C.push(R.envMapMode),C.push(R.envMapCubeUVHeight),C.push(R.mapUv),C.push(R.alphaMapUv),C.push(R.lightMapUv),C.push(R.aoMapUv),C.push(R.bumpMapUv),C.push(R.normalMapUv),C.push(R.displacementMapUv),C.push(R.emissiveMapUv),C.push(R.metalnessMapUv),C.push(R.roughnessMapUv),C.push(R.anisotropyMapUv),C.push(R.clearcoatMapUv),C.push(R.clearcoatNormalMapUv),C.push(R.clearcoatRoughnessMapUv),C.push(R.iridescenceMapUv),C.push(R.iridescenceThicknessMapUv),C.push(R.sheenColorMapUv),C.push(R.sheenRoughnessMapUv),C.push(R.specularMapUv),C.push(R.specularColorMapUv),C.push(R.specularIntensityMapUv),C.push(R.transmissionMapUv),C.push(R.thicknessMapUv),C.push(R.combine),C.push(R.fogExp2),C.push(R.sizeAttenuation),C.push(R.morphTargetsCount),C.push(R.morphAttributeCount),C.push(R.numDirLights),C.push(R.numPointLights),C.push(R.numSpotLights),C.push(R.numSpotLightMaps),C.push(R.numHemiLights),C.push(R.numRectAreaLights),C.push(R.numDirLightShadows),C.push(R.numPointLightShadows),C.push(R.numSpotLightShadows),C.push(R.numSpotLightShadowsWithMaps),C.push(R.numLightProbes),C.push(R.shadowMapType),C.push(R.toneMapping),C.push(R.numClippingPlanes),C.push(R.numClipIntersection),C.push(R.depthPacking)}function b(C,R){l.disableAll(),R.isWebGL2&&l.enable(0),R.supportsVertexTextures&&l.enable(1),R.instancing&&l.enable(2),R.instancingColor&&l.enable(3),R.matcap&&l.enable(4),R.envMap&&l.enable(5),R.normalMapObjectSpace&&l.enable(6),R.normalMapTangentSpace&&l.enable(7),R.clearcoat&&l.enable(8),R.iridescence&&l.enable(9),R.alphaTest&&l.enable(10),R.vertexColors&&l.enable(11),R.vertexAlphas&&l.enable(12),R.vertexUv1s&&l.enable(13),R.vertexUv2s&&l.enable(14),R.vertexUv3s&&l.enable(15),R.vertexTangents&&l.enable(16),R.anisotropy&&l.enable(17),R.alphaHash&&l.enable(18),R.batching&&l.enable(19),C.push(l.mask),l.disableAll(),R.fog&&l.enable(0),R.useFog&&l.enable(1),R.flatShading&&l.enable(2),R.logarithmicDepthBuffer&&l.enable(3),R.skinning&&l.enable(4),R.morphTargets&&l.enable(5),R.morphNormals&&l.enable(6),R.morphColors&&l.enable(7),R.premultipliedAlpha&&l.enable(8),R.shadowMapEnabled&&l.enable(9),R.useLegacyLights&&l.enable(10),R.doubleSided&&l.enable(11),R.flipSided&&l.enable(12),R.useDepthPacking&&l.enable(13),R.dithering&&l.enable(14),R.transmission&&l.enable(15),R.sheen&&l.enable(16),R.opaque&&l.enable(17),R.pointsUvs&&l.enable(18),R.decodeVideoTexture&&l.enable(19),C.push(l.mask)}function S(C){const R=m[C.type];let I;if(R){const D=il[R];I=une.clone(D.uniforms)}else I=C.uniforms;return I}function j(C,R){let I;for(let D=0,V=u.length;D<V;D++){const U=u[D];if(U.cacheKey===R){I=U,++I.usedTimes;break}}return I===void 0&&(I=new XPe(t,R,C,s),u.push(I)),I}function E(C){if(--C.usedTimes===0){const R=u.indexOf(C);u[R]=u[u.length-1],u.pop(),C.destroy()}}function T(C){c.remove(C)}function P(){c.dispose()}return{getParameters:y,getProgramCacheKey:v,getUniforms:S,acquireProgram:j,releaseProgram:E,releaseShaderCache:T,programs:u,dispose:P}}function ZPe(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,l){t.get(s)[o]=l}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function eRe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Y8(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function K8(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,h,p,m,g,y){let v=t[e];return v===void 0?(v={id:f.id,object:f,geometry:h,material:p,groupOrder:m,renderOrder:f.renderOrder,z:g,group:y},t[e]=v):(v.id=f.id,v.object=f,v.geometry=h,v.material=p,v.groupOrder=m,v.renderOrder=f.renderOrder,v.z=g,v.group=y),e++,v}function l(f,h,p,m,g,y){const v=o(f,h,p,m,g,y);p.transmission>0?r.push(v):p.transparent===!0?i.push(v):n.push(v)}function c(f,h,p,m,g,y){const v=o(f,h,p,m,g,y);p.transmission>0?r.unshift(v):p.transparent===!0?i.unshift(v):n.unshift(v)}function u(f,h){n.length>1&&n.sort(f||eRe),r.length>1&&r.sort(h||Y8),i.length>1&&i.sort(h||Y8)}function d(){for(let f=e,h=t.length;f<h;f++){const p=t[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:l,unshift:c,finish:d,sort:u}}function tRe(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new K8,t.set(r,[o])):i>=s.length?(o=new K8,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function nRe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ne,color:new gt};break;case"SpotLight":n={position:new ne,direction:new ne,color:new gt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ne,color:new gt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ne,skyColor:new gt,groundColor:new gt};break;case"RectAreaLight":n={color:new gt,position:new ne,halfWidth:new ne,halfHeight:new ne};break}return t[e.id]=n,n}}}function rRe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let iRe=0;function sRe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function aRe(t,e){const n=new nRe,r=rRe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)i.probe.push(new ne);const s=new ne,o=new Jt,l=new Jt;function c(d,f){let h=0,p=0,m=0;for(let D=0;D<9;D++)i.probe[D].set(0,0,0);let g=0,y=0,v=0,w=0,b=0,S=0,j=0,E=0,T=0,P=0,C=0;d.sort(sRe);const R=f===!0?Math.PI:1;for(let D=0,V=d.length;D<V;D++){const U=d[D],$=U.color,z=U.intensity,W=U.distance,k=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)h+=$.r*z*R,p+=$.g*z*R,m+=$.b*z*R;else if(U.isLightProbe){for(let L=0;L<9;L++)i.probe[L].addScaledVector(U.sh.coefficients[L],z);C++}else if(U.isDirectionalLight){const L=n.get(U);if(L.color.copy(U.color).multiplyScalar(U.intensity*R),U.castShadow){const H=U.shadow,G=r.get(U);G.shadowBias=H.bias,G.shadowNormalBias=H.normalBias,G.shadowRadius=H.radius,G.shadowMapSize=H.mapSize,i.directionalShadow[g]=G,i.directionalShadowMap[g]=k,i.directionalShadowMatrix[g]=U.shadow.matrix,S++}i.directional[g]=L,g++}else if(U.isSpotLight){const L=n.get(U);L.position.setFromMatrixPosition(U.matrixWorld),L.color.copy($).multiplyScalar(z*R),L.distance=W,L.coneCos=Math.cos(U.angle),L.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),L.decay=U.decay,i.spot[v]=L;const H=U.shadow;if(U.map&&(i.spotLightMap[T]=U.map,T++,H.updateMatrices(U),U.castShadow&&P++),i.spotLightMatrix[v]=H.matrix,U.castShadow){const G=r.get(U);G.shadowBias=H.bias,G.shadowNormalBias=H.normalBias,G.shadowRadius=H.radius,G.shadowMapSize=H.mapSize,i.spotShadow[v]=G,i.spotShadowMap[v]=k,E++}v++}else if(U.isRectAreaLight){const L=n.get(U);L.color.copy($).multiplyScalar(z),L.halfWidth.set(U.width*.5,0,0),L.halfHeight.set(0,U.height*.5,0),i.rectArea[w]=L,w++}else if(U.isPointLight){const L=n.get(U);if(L.color.copy(U.color).multiplyScalar(U.intensity*R),L.distance=U.distance,L.decay=U.decay,U.castShadow){const H=U.shadow,G=r.get(U);G.shadowBias=H.bias,G.shadowNormalBias=H.normalBias,G.shadowRadius=H.radius,G.shadowMapSize=H.mapSize,G.shadowCameraNear=H.camera.near,G.shadowCameraFar=H.camera.far,i.pointShadow[y]=G,i.pointShadowMap[y]=k,i.pointShadowMatrix[y]=U.shadow.matrix,j++}i.point[y]=L,y++}else if(U.isHemisphereLight){const L=n.get(U);L.skyColor.copy(U.color).multiplyScalar(z*R),L.groundColor.copy(U.groundColor).multiplyScalar(z*R),i.hemi[b]=L,b++}}w>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=st.LTC_FLOAT_1,i.rectAreaLTC2=st.LTC_FLOAT_2):(i.rectAreaLTC1=st.LTC_HALF_1,i.rectAreaLTC2=st.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=st.LTC_FLOAT_1,i.rectAreaLTC2=st.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=st.LTC_HALF_1,i.rectAreaLTC2=st.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=p,i.ambient[2]=m;const I=i.hash;(I.directionalLength!==g||I.pointLength!==y||I.spotLength!==v||I.rectAreaLength!==w||I.hemiLength!==b||I.numDirectionalShadows!==S||I.numPointShadows!==j||I.numSpotShadows!==E||I.numSpotMaps!==T||I.numLightProbes!==C)&&(i.directional.length=g,i.spot.length=v,i.rectArea.length=w,i.point.length=y,i.hemi.length=b,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=j,i.pointShadowMap.length=j,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=j,i.spotLightMatrix.length=E+T-P,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=P,i.numLightProbes=C,I.directionalLength=g,I.pointLength=y,I.spotLength=v,I.rectAreaLength=w,I.hemiLength=b,I.numDirectionalShadows=S,I.numPointShadows=j,I.numSpotShadows=E,I.numSpotMaps=T,I.numLightProbes=C,i.version=iRe++)}function u(d,f){let h=0,p=0,m=0,g=0,y=0;const v=f.matrixWorldInverse;for(let w=0,b=d.length;w<b;w++){const S=d[w];if(S.isDirectionalLight){const j=i.directional[h];j.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),j.direction.sub(s),j.direction.transformDirection(v),h++}else if(S.isSpotLight){const j=i.spot[m];j.position.setFromMatrixPosition(S.matrixWorld),j.position.applyMatrix4(v),j.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),j.direction.sub(s),j.direction.transformDirection(v),m++}else if(S.isRectAreaLight){const j=i.rectArea[g];j.position.setFromMatrixPosition(S.matrixWorld),j.position.applyMatrix4(v),l.identity(),o.copy(S.matrixWorld),o.premultiply(v),l.extractRotation(o),j.halfWidth.set(S.width*.5,0,0),j.halfHeight.set(0,S.height*.5,0),j.halfWidth.applyMatrix4(l),j.halfHeight.applyMatrix4(l),g++}else if(S.isPointLight){const j=i.point[p];j.position.setFromMatrixPosition(S.matrixWorld),j.position.applyMatrix4(v),p++}else if(S.isHemisphereLight){const j=i.hemi[y];j.direction.setFromMatrixPosition(S.matrixWorld),j.direction.transformDirection(v),y++}}}return{setup:c,setupView:u,state:i}}function J8(t,e){const n=new aRe(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function l(f){i.push(f)}function c(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:c,setupLightsView:u,pushLight:o,pushShadow:l}}function oRe(t,e){let n=new WeakMap;function r(s,o=0){const l=n.get(s);let c;return l===void 0?(c=new J8(t,e),n.set(s,[c])):o>=l.length?(c=new J8(t,e),l.push(c)):c=l[o],c}function i(){n=new WeakMap}return{get:r,dispose:i}}class N5 extends Ss{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Xte,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class j5 extends Ss{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const lRe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,cRe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function uRe(t,e,n){let r=new Gw;const i=new Fe,s=new Fe,o=new Hn,l=new N5({depthPacking:Yte}),c=new j5,u={},d=n.maxTextureSize,f={[pu]:Bs,[Bs]:pu,[Hl]:Hl},h=new hc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Fe},radius:{value:4}},vertexShader:lRe,fragmentShader:cRe}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const m=new vn;m.setAttribute("position",new Gn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Si(m,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=sT;let v=this.type;this.render=function(E,T,P){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||E.length===0)return;const C=t.getRenderTarget(),R=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),D=t.state;D.setBlending(iu),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const V=v!==Ko&&this.type===Ko,U=v===Ko&&this.type!==Ko;for(let $=0,z=E.length;$<z;$++){const W=E[$],k=W.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;i.copy(k.mapSize);const L=k.getFrameExtents();if(i.multiply(L),s.copy(k.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/L.x),i.x=s.x*L.x,k.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/L.y),i.y=s.y*L.y,k.mapSize.y=s.y)),k.map===null||V===!0||U===!0){const G=this.type!==Ko?{minFilter:Yr,magFilter:Yr}:{};k.map!==null&&k.map.dispose(),k.map=new xl(i.x,i.y,G),k.map.texture.name=W.name+".shadowMap",k.camera.updateProjectionMatrix()}t.setRenderTarget(k.map),t.clear();const H=k.getViewportCount();for(let G=0;G<H;G++){const X=k.getViewport(G);o.set(s.x*X.x,s.y*X.y,s.x*X.z,s.y*X.w),D.viewport(o),k.updateMatrices(W,G),r=k.getFrustum(),S(T,P,k.camera,W,this.type)}k.isPointLightShadow!==!0&&this.type===Ko&&w(k,P),k.needsUpdate=!1}v=this.type,y.needsUpdate=!1,t.setRenderTarget(C,R,I)};function w(E,T){const P=e.update(g);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,p.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new xl(i.x,i.y)),h.uniforms.shadow_pass.value=E.map.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(T,null,P,h,g,null),p.uniforms.shadow_pass.value=E.mapPass.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(T,null,P,p,g,null)}function b(E,T,P,C){let R=null;const I=P.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(I!==void 0)R=I;else if(R=P.isPointLight===!0?c:l,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const D=R.uuid,V=T.uuid;let U=u[D];U===void 0&&(U={},u[D]=U);let $=U[V];$===void 0&&($=R.clone(),U[V]=$,T.addEventListener("dispose",j)),R=$}if(R.visible=T.visible,R.wireframe=T.wireframe,C===Ko?R.side=T.shadowSide!==null?T.shadowSide:T.side:R.side=T.shadowSide!==null?T.shadowSide:f[T.side],R.alphaMap=T.alphaMap,R.alphaTest=T.alphaTest,R.map=T.map,R.clipShadows=T.clipShadows,R.clippingPlanes=T.clippingPlanes,R.clipIntersection=T.clipIntersection,R.displacementMap=T.displacementMap,R.displacementScale=T.displacementScale,R.displacementBias=T.displacementBias,R.wireframeLinewidth=T.wireframeLinewidth,R.linewidth=T.linewidth,P.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const D=t.properties.get(R);D.light=P}return R}function S(E,T,P,C,R){if(E.visible===!1)return;if(E.layers.test(T.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&R===Ko)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,E.matrixWorld);const V=e.update(E),U=E.material;if(Array.isArray(U)){const $=V.groups;for(let z=0,W=$.length;z<W;z++){const k=$[z],L=U[k.materialIndex];if(L&&L.visible){const H=b(E,L,C,R);E.onBeforeShadow(t,E,T,P,V,H,k),t.renderBufferDirect(P,null,V,H,E,k),E.onAfterShadow(t,E,T,P,V,H,k)}}}else if(U.visible){const $=b(E,U,C,R);E.onBeforeShadow(t,E,T,P,V,$,null),t.renderBufferDirect(P,null,V,$,E,null),E.onAfterShadow(t,E,T,P,V,$,null)}}const D=E.children;for(let V=0,U=D.length;V<U;V++)S(D[V],T,P,C,R)}function j(E){E.target.removeEventListener("dispose",j);for(const P in u){const C=u[P],R=E.target.uuid;R in C&&(C[R].dispose(),delete C[R])}}}function dRe(t,e,n){const r=n.isWebGL2;function i(){let oe=!1;const Ze=new Hn;let Qe=null;const Lt=new Hn(0,0,0,0);return{setMask:function(He){Qe!==He&&!oe&&(t.colorMask(He,He,He,He),Qe=He)},setLocked:function(He){oe=He},setClear:function(He,nt,vt,cn,yn){yn===!0&&(He*=cn,nt*=cn,vt*=cn),Ze.set(He,nt,vt,cn),Lt.equals(Ze)===!1&&(t.clearColor(He,nt,vt,cn),Lt.copy(Ze))},reset:function(){oe=!1,Qe=null,Lt.set(-1,0,0,0)}}}function s(){let oe=!1,Ze=null,Qe=null,Lt=null;return{setTest:function(He){He?ce(t.DEPTH_TEST):Se(t.DEPTH_TEST)},setMask:function(He){Ze!==He&&!oe&&(t.depthMask(He),Ze=He)},setFunc:function(He){if(Qe!==He){switch(He){case _te:t.depthFunc(t.NEVER);break;case Ste:t.depthFunc(t.ALWAYS);break;case Nte:t.depthFunc(t.LESS);break;case cb:t.depthFunc(t.LEQUAL);break;case jte:t.depthFunc(t.EQUAL);break;case Ete:t.depthFunc(t.GEQUAL);break;case Ate:t.depthFunc(t.GREATER);break;case Tte:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Qe=He}},setLocked:function(He){oe=He},setClear:function(He){Lt!==He&&(t.clearDepth(He),Lt=He)},reset:function(){oe=!1,Ze=null,Qe=null,Lt=null}}}function o(){let oe=!1,Ze=null,Qe=null,Lt=null,He=null,nt=null,vt=null,cn=null,yn=null;return{setTest:function(Qt){oe||(Qt?ce(t.STENCIL_TEST):Se(t.STENCIL_TEST))},setMask:function(Qt){Ze!==Qt&&!oe&&(t.stencilMask(Qt),Ze=Qt)},setFunc:function(Qt,Yn,Jn){(Qe!==Qt||Lt!==Yn||He!==Jn)&&(t.stencilFunc(Qt,Yn,Jn),Qe=Qt,Lt=Yn,He=Jn)},setOp:function(Qt,Yn,Jn){(nt!==Qt||vt!==Yn||cn!==Jn)&&(t.stencilOp(Qt,Yn,Jn),nt=Qt,vt=Yn,cn=Jn)},setLocked:function(Qt){oe=Qt},setClear:function(Qt){yn!==Qt&&(t.clearStencil(Qt),yn=Qt)},reset:function(){oe=!1,Ze=null,Qe=null,Lt=null,He=null,nt=null,vt=null,cn=null,yn=null}}}const l=new i,c=new s,u=new o,d=new WeakMap,f=new WeakMap;let h={},p={},m=new WeakMap,g=[],y=null,v=!1,w=null,b=null,S=null,j=null,E=null,T=null,P=null,C=new gt(0,0,0),R=0,I=!1,D=null,V=null,U=null,$=null,z=null;const W=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,L=0;const H=t.getParameter(t.VERSION);H.indexOf("WebGL")!==-1?(L=parseFloat(/^WebGL (\d)/.exec(H)[1]),k=L>=1):H.indexOf("OpenGL ES")!==-1&&(L=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),k=L>=2);let G=null,X={};const Z=t.getParameter(t.SCISSOR_BOX),B=t.getParameter(t.VIEWPORT),te=new Hn().fromArray(Z),ie=new Hn().fromArray(B);function ae(oe,Ze,Qe,Lt){const He=new Uint8Array(4),nt=t.createTexture();t.bindTexture(oe,nt),t.texParameteri(oe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(oe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let vt=0;vt<Qe;vt++)r&&(oe===t.TEXTURE_3D||oe===t.TEXTURE_2D_ARRAY)?t.texImage3D(Ze,0,t.RGBA,1,1,Lt,0,t.RGBA,t.UNSIGNED_BYTE,He):t.texImage2D(Ze+vt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,He);return nt}const be={};be[t.TEXTURE_2D]=ae(t.TEXTURE_2D,t.TEXTURE_2D,1),be[t.TEXTURE_CUBE_MAP]=ae(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(be[t.TEXTURE_2D_ARRAY]=ae(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),be[t.TEXTURE_3D]=ae(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),l.setClear(0,0,0,1),c.setClear(1),u.setClear(0),ce(t.DEPTH_TEST),c.setFunc(cb),qe(!1),Q(tk),ce(t.CULL_FACE),we(iu);function ce(oe){h[oe]!==!0&&(t.enable(oe),h[oe]=!0)}function Se(oe){h[oe]!==!1&&(t.disable(oe),h[oe]=!1)}function Te(oe,Ze){return p[oe]!==Ze?(t.bindFramebuffer(oe,Ze),p[oe]=Ze,r&&(oe===t.DRAW_FRAMEBUFFER&&(p[t.FRAMEBUFFER]=Ze),oe===t.FRAMEBUFFER&&(p[t.DRAW_FRAMEBUFFER]=Ze)),!0):!1}function Y(oe,Ze){let Qe=g,Lt=!1;if(oe)if(Qe=m.get(Ze),Qe===void 0&&(Qe=[],m.set(Ze,Qe)),oe.isWebGLMultipleRenderTargets){const He=oe.texture;if(Qe.length!==He.length||Qe[0]!==t.COLOR_ATTACHMENT0){for(let nt=0,vt=He.length;nt<vt;nt++)Qe[nt]=t.COLOR_ATTACHMENT0+nt;Qe.length=He.length,Lt=!0}}else Qe[0]!==t.COLOR_ATTACHMENT0&&(Qe[0]=t.COLOR_ATTACHMENT0,Lt=!0);else Qe[0]!==t.BACK&&(Qe[0]=t.BACK,Lt=!0);Lt&&(n.isWebGL2?t.drawBuffers(Qe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Qe))}function Ee(oe){return y!==oe?(t.useProgram(oe),y=oe,!0):!1}const ve={[od]:t.FUNC_ADD,[ote]:t.FUNC_SUBTRACT,[lte]:t.FUNC_REVERSE_SUBTRACT};if(r)ve[sk]=t.MIN,ve[ak]=t.MAX;else{const oe=e.get("EXT_blend_minmax");oe!==null&&(ve[sk]=oe.MIN_EXT,ve[ak]=oe.MAX_EXT)}const Re={[cte]:t.ZERO,[ute]:t.ONE,[dte]:t.SRC_COLOR,[Vj]:t.SRC_ALPHA,[vte]:t.SRC_ALPHA_SATURATE,[mte]:t.DST_COLOR,[hte]:t.DST_ALPHA,[fte]:t.ONE_MINUS_SRC_COLOR,[Hj]:t.ONE_MINUS_SRC_ALPHA,[gte]:t.ONE_MINUS_DST_COLOR,[pte]:t.ONE_MINUS_DST_ALPHA,[yte]:t.CONSTANT_COLOR,[xte]:t.ONE_MINUS_CONSTANT_COLOR,[bte]:t.CONSTANT_ALPHA,[wte]:t.ONE_MINUS_CONSTANT_ALPHA};function we(oe,Ze,Qe,Lt,He,nt,vt,cn,yn,Qt){if(oe===iu){v===!0&&(Se(t.BLEND),v=!1);return}if(v===!1&&(ce(t.BLEND),v=!0),oe!==ate){if(oe!==w||Qt!==I){if((b!==od||E!==od)&&(t.blendEquation(t.FUNC_ADD),b=od,E=od),Qt)switch(oe){case Gh:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case nk:t.blendFunc(t.ONE,t.ONE);break;case rk:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ik:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}else switch(oe){case Gh:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case nk:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case rk:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case ik:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}S=null,j=null,T=null,P=null,C.set(0,0,0),R=0,w=oe,I=Qt}return}He=He||Ze,nt=nt||Qe,vt=vt||Lt,(Ze!==b||He!==E)&&(t.blendEquationSeparate(ve[Ze],ve[He]),b=Ze,E=He),(Qe!==S||Lt!==j||nt!==T||vt!==P)&&(t.blendFuncSeparate(Re[Qe],Re[Lt],Re[nt],Re[vt]),S=Qe,j=Lt,T=nt,P=vt),(cn.equals(C)===!1||yn!==R)&&(t.blendColor(cn.r,cn.g,cn.b,yn),C.copy(cn),R=yn),w=oe,I=!1}function rt(oe,Ze){oe.side===Hl?Se(t.CULL_FACE):ce(t.CULL_FACE);let Qe=oe.side===Bs;Ze&&(Qe=!Qe),qe(Qe),oe.blending===Gh&&oe.transparent===!1?we(iu):we(oe.blending,oe.blendEquation,oe.blendSrc,oe.blendDst,oe.blendEquationAlpha,oe.blendSrcAlpha,oe.blendDstAlpha,oe.blendColor,oe.blendAlpha,oe.premultipliedAlpha),c.setFunc(oe.depthFunc),c.setTest(oe.depthTest),c.setMask(oe.depthWrite),l.setMask(oe.colorWrite);const Lt=oe.stencilWrite;u.setTest(Lt),Lt&&(u.setMask(oe.stencilWriteMask),u.setFunc(oe.stencilFunc,oe.stencilRef,oe.stencilFuncMask),u.setOp(oe.stencilFail,oe.stencilZFail,oe.stencilZPass)),pe(oe.polygonOffset,oe.polygonOffsetFactor,oe.polygonOffsetUnits),oe.alphaToCoverage===!0?ce(t.SAMPLE_ALPHA_TO_COVERAGE):Se(t.SAMPLE_ALPHA_TO_COVERAGE)}function qe(oe){D!==oe&&(oe?t.frontFace(t.CW):t.frontFace(t.CCW),D=oe)}function Q(oe){oe!==rte?(ce(t.CULL_FACE),oe!==V&&(oe===tk?t.cullFace(t.BACK):oe===ite?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Se(t.CULL_FACE),V=oe}function q(oe){oe!==U&&(k&&t.lineWidth(oe),U=oe)}function pe(oe,Ze,Qe){oe?(ce(t.POLYGON_OFFSET_FILL),($!==Ze||z!==Qe)&&(t.polygonOffset(Ze,Qe),$=Ze,z=Qe)):Se(t.POLYGON_OFFSET_FILL)}function ze(oe){oe?ce(t.SCISSOR_TEST):Se(t.SCISSOR_TEST)}function Ue(oe){oe===void 0&&(oe=t.TEXTURE0+W-1),G!==oe&&(t.activeTexture(oe),G=oe)}function ke(oe,Ze,Qe){Qe===void 0&&(G===null?Qe=t.TEXTURE0+W-1:Qe=G);let Lt=X[Qe];Lt===void 0&&(Lt={type:void 0,texture:void 0},X[Qe]=Lt),(Lt.type!==oe||Lt.texture!==Ze)&&(G!==Qe&&(t.activeTexture(Qe),G=Qe),t.bindTexture(oe,Ze||be[oe]),Lt.type=oe,Lt.texture=Ze)}function dt(){const oe=X[G];oe!==void 0&&oe.type!==void 0&&(t.bindTexture(oe.type,null),oe.type=void 0,oe.texture=void 0)}function We(){try{t.compressedTexImage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function tt(){try{t.compressedTexImage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Et(){try{t.texSubImage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Vt(){try{t.texSubImage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function $e(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function on(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Kt(){try{t.texStorage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Dt(){try{t.texStorage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function mt(){try{t.texImage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function it(){try{t.texImage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function se(oe){te.equals(oe)===!1&&(t.scissor(oe.x,oe.y,oe.z,oe.w),te.copy(oe))}function Be(oe){ie.equals(oe)===!1&&(t.viewport(oe.x,oe.y,oe.z,oe.w),ie.copy(oe))}function at(oe,Ze){let Qe=f.get(Ze);Qe===void 0&&(Qe=new WeakMap,f.set(Ze,Qe));let Lt=Qe.get(oe);Lt===void 0&&(Lt=t.getUniformBlockIndex(Ze,oe.name),Qe.set(oe,Lt))}function ot(oe,Ze){const Lt=f.get(Ze).get(oe);d.get(Ze)!==Lt&&(t.uniformBlockBinding(Ze,Lt,oe.__bindingPointIndex),d.set(Ze,Lt))}function Ve(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},G=null,X={},p={},m=new WeakMap,g=[],y=null,v=!1,w=null,b=null,S=null,j=null,E=null,T=null,P=null,C=new gt(0,0,0),R=0,I=!1,D=null,V=null,U=null,$=null,z=null,te.set(0,0,t.canvas.width,t.canvas.height),ie.set(0,0,t.canvas.width,t.canvas.height),l.reset(),c.reset(),u.reset()}return{buffers:{color:l,depth:c,stencil:u},enable:ce,disable:Se,bindFramebuffer:Te,drawBuffers:Y,useProgram:Ee,setBlending:we,setMaterial:rt,setFlipSided:qe,setCullFace:Q,setLineWidth:q,setPolygonOffset:pe,setScissorTest:ze,activeTexture:Ue,bindTexture:ke,unbindTexture:dt,compressedTexImage2D:We,compressedTexImage3D:tt,texImage2D:mt,texImage3D:it,updateUBOMapping:at,uniformBlockBinding:ot,texStorage2D:Kt,texStorage3D:Dt,texSubImage2D:Et,texSubImage3D:Vt,compressedTexSubImage2D:$e,compressedTexSubImage3D:on,scissor:se,viewport:Be,reset:Ve}}function fRe(t,e,n,r,i,s,o){const l=i.isWebGL2,c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new WeakMap;let f;const h=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(Q,q){return p?new OffscreenCanvas(Q,q):wb("canvas")}function g(Q,q,pe,ze){let Ue=1;if((Q.width>ze||Q.height>ze)&&(Ue=ze/Math.max(Q.width,Q.height)),Ue<1||q===!0)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){const ke=q?qj:Math.floor,dt=ke(Ue*Q.width),We=ke(Ue*Q.height);f===void 0&&(f=m(dt,We));const tt=pe?m(dt,We):f;return tt.width=dt,tt.height=We,tt.getContext("2d").drawImage(Q,0,0,dt,We),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+dt+"x"+We+")."),tt}else return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q;return Q}function y(Q){return kk(Q.width)&&kk(Q.height)}function v(Q){return l?!1:Q.wrapS!==gs||Q.wrapT!==gs||Q.minFilter!==Yr&&Q.minFilter!==Jr}function w(Q,q){return Q.generateMipmaps&&q&&Q.minFilter!==Yr&&Q.minFilter!==Jr}function b(Q){t.generateMipmap(Q)}function S(Q,q,pe,ze,Ue=!1){if(l===!1)return q;if(Q!==null){if(t[Q]!==void 0)return t[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let ke=q;if(q===t.RED&&(pe===t.FLOAT&&(ke=t.R32F),pe===t.HALF_FLOAT&&(ke=t.R16F),pe===t.UNSIGNED_BYTE&&(ke=t.R8)),q===t.RED_INTEGER&&(pe===t.UNSIGNED_BYTE&&(ke=t.R8UI),pe===t.UNSIGNED_SHORT&&(ke=t.R16UI),pe===t.UNSIGNED_INT&&(ke=t.R32UI),pe===t.BYTE&&(ke=t.R8I),pe===t.SHORT&&(ke=t.R16I),pe===t.INT&&(ke=t.R32I)),q===t.RG&&(pe===t.FLOAT&&(ke=t.RG32F),pe===t.HALF_FLOAT&&(ke=t.RG16F),pe===t.UNSIGNED_BYTE&&(ke=t.RG8)),q===t.RGBA){const dt=Ue?vb:Vn.getTransfer(ze);pe===t.FLOAT&&(ke=t.RGBA32F),pe===t.HALF_FLOAT&&(ke=t.RGBA16F),pe===t.UNSIGNED_BYTE&&(ke=dt===ir?t.SRGB8_ALPHA8:t.RGBA8),pe===t.UNSIGNED_SHORT_4_4_4_4&&(ke=t.RGBA4),pe===t.UNSIGNED_SHORT_5_5_5_1&&(ke=t.RGB5_A1)}return(ke===t.R16F||ke===t.R32F||ke===t.RG16F||ke===t.RG32F||ke===t.RGBA16F||ke===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ke}function j(Q,q,pe){return w(Q,pe)===!0||Q.isFramebufferTexture&&Q.minFilter!==Yr&&Q.minFilter!==Jr?Math.log2(Math.max(q.width,q.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?q.mipmaps.length:1}function E(Q){return Q===Yr||Q===Wj||Q===m0?t.NEAREST:t.LINEAR}function T(Q){const q=Q.target;q.removeEventListener("dispose",T),C(q),q.isVideoTexture&&d.delete(q)}function P(Q){const q=Q.target;q.removeEventListener("dispose",P),I(q)}function C(Q){const q=r.get(Q);if(q.__webglInit===void 0)return;const pe=Q.source,ze=h.get(pe);if(ze){const Ue=ze[q.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&R(Q),Object.keys(ze).length===0&&h.delete(pe)}r.remove(Q)}function R(Q){const q=r.get(Q);t.deleteTexture(q.__webglTexture);const pe=Q.source,ze=h.get(pe);delete ze[q.__cacheKey],o.memory.textures--}function I(Q){const q=Q.texture,pe=r.get(Q),ze=r.get(q);if(ze.__webglTexture!==void 0&&(t.deleteTexture(ze.__webglTexture),o.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let Ue=0;Ue<6;Ue++){if(Array.isArray(pe.__webglFramebuffer[Ue]))for(let ke=0;ke<pe.__webglFramebuffer[Ue].length;ke++)t.deleteFramebuffer(pe.__webglFramebuffer[Ue][ke]);else t.deleteFramebuffer(pe.__webglFramebuffer[Ue]);pe.__webglDepthbuffer&&t.deleteRenderbuffer(pe.__webglDepthbuffer[Ue])}else{if(Array.isArray(pe.__webglFramebuffer))for(let Ue=0;Ue<pe.__webglFramebuffer.length;Ue++)t.deleteFramebuffer(pe.__webglFramebuffer[Ue]);else t.deleteFramebuffer(pe.__webglFramebuffer);if(pe.__webglDepthbuffer&&t.deleteRenderbuffer(pe.__webglDepthbuffer),pe.__webglMultisampledFramebuffer&&t.deleteFramebuffer(pe.__webglMultisampledFramebuffer),pe.__webglColorRenderbuffer)for(let Ue=0;Ue<pe.__webglColorRenderbuffer.length;Ue++)pe.__webglColorRenderbuffer[Ue]&&t.deleteRenderbuffer(pe.__webglColorRenderbuffer[Ue]);pe.__webglDepthRenderbuffer&&t.deleteRenderbuffer(pe.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let Ue=0,ke=q.length;Ue<ke;Ue++){const dt=r.get(q[Ue]);dt.__webglTexture&&(t.deleteTexture(dt.__webglTexture),o.memory.textures--),r.remove(q[Ue])}r.remove(q),r.remove(Q)}let D=0;function V(){D=0}function U(){const Q=D;return Q>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+i.maxTextures),D+=1,Q}function $(Q){const q=[];return q.push(Q.wrapS),q.push(Q.wrapT),q.push(Q.wrapR||0),q.push(Q.magFilter),q.push(Q.minFilter),q.push(Q.anisotropy),q.push(Q.internalFormat),q.push(Q.format),q.push(Q.type),q.push(Q.generateMipmaps),q.push(Q.premultiplyAlpha),q.push(Q.flipY),q.push(Q.unpackAlignment),q.push(Q.colorSpace),q.join()}function z(Q,q){const pe=r.get(Q);if(Q.isVideoTexture&&rt(Q),Q.isRenderTargetTexture===!1&&Q.version>0&&pe.__version!==Q.version){const ze=Q.image;if(ze===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ze.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{te(pe,Q,q);return}}n.bindTexture(t.TEXTURE_2D,pe.__webglTexture,t.TEXTURE0+q)}function W(Q,q){const pe=r.get(Q);if(Q.version>0&&pe.__version!==Q.version){te(pe,Q,q);return}n.bindTexture(t.TEXTURE_2D_ARRAY,pe.__webglTexture,t.TEXTURE0+q)}function k(Q,q){const pe=r.get(Q);if(Q.version>0&&pe.__version!==Q.version){te(pe,Q,q);return}n.bindTexture(t.TEXTURE_3D,pe.__webglTexture,t.TEXTURE0+q)}function L(Q,q){const pe=r.get(Q);if(Q.version>0&&pe.__version!==Q.version){ie(pe,Q,q);return}n.bindTexture(t.TEXTURE_CUBE_MAP,pe.__webglTexture,t.TEXTURE0+q)}const H={[fb]:t.REPEAT,[gs]:t.CLAMP_TO_EDGE,[hb]:t.MIRRORED_REPEAT},G={[Yr]:t.NEAREST,[Wj]:t.NEAREST_MIPMAP_NEAREST,[m0]:t.NEAREST_MIPMAP_LINEAR,[Jr]:t.LINEAR,[a5]:t.LINEAR_MIPMAP_NEAREST,[qd]:t.LINEAR_MIPMAP_LINEAR},X={[Jte]:t.NEVER,[rne]:t.ALWAYS,[Qte]:t.LESS,[g5]:t.LEQUAL,[Zte]:t.EQUAL,[nne]:t.GEQUAL,[ene]:t.GREATER,[tne]:t.NOTEQUAL};function Z(Q,q,pe){if(pe?(t.texParameteri(Q,t.TEXTURE_WRAP_S,H[q.wrapS]),t.texParameteri(Q,t.TEXTURE_WRAP_T,H[q.wrapT]),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,H[q.wrapR]),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,G[q.magFilter]),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,G[q.minFilter])):(t.texParameteri(Q,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(Q,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(Q===t.TEXTURE_3D||Q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Q,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(q.wrapS!==gs||q.wrapT!==gs)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Q,t.TEXTURE_MAG_FILTER,E(q.magFilter)),t.texParameteri(Q,t.TEXTURE_MIN_FILTER,E(q.minFilter)),q.minFilter!==Yr&&q.minFilter!==Jr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),q.compareFunction&&(t.texParameteri(Q,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Q,t.TEXTURE_COMPARE_FUNC,X[q.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const ze=e.get("EXT_texture_filter_anisotropic");if(q.magFilter===Yr||q.minFilter!==m0&&q.minFilter!==qd||q.type===ol&&e.has("OES_texture_float_linear")===!1||l===!1&&q.type===uv&&e.has("OES_texture_half_float_linear")===!1)return;(q.anisotropy>1||r.get(q).__currentAnisotropy)&&(t.texParameterf(Q,ze.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,i.getMaxAnisotropy())),r.get(q).__currentAnisotropy=q.anisotropy)}}function B(Q,q){let pe=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,q.addEventListener("dispose",T));const ze=q.source;let Ue=h.get(ze);Ue===void 0&&(Ue={},h.set(ze,Ue));const ke=$(q);if(ke!==Q.__cacheKey){Ue[ke]===void 0&&(Ue[ke]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,pe=!0),Ue[ke].usedTimes++;const dt=Ue[Q.__cacheKey];dt!==void 0&&(Ue[Q.__cacheKey].usedTimes--,dt.usedTimes===0&&R(q)),Q.__cacheKey=ke,Q.__webglTexture=Ue[ke].texture}return pe}function te(Q,q,pe){let ze=t.TEXTURE_2D;(q.isDataArrayTexture||q.isCompressedArrayTexture)&&(ze=t.TEXTURE_2D_ARRAY),q.isData3DTexture&&(ze=t.TEXTURE_3D);const Ue=B(Q,q),ke=q.source;n.bindTexture(ze,Q.__webglTexture,t.TEXTURE0+pe);const dt=r.get(ke);if(ke.version!==dt.__version||Ue===!0){n.activeTexture(t.TEXTURE0+pe);const We=Vn.getPrimaries(Vn.workingColorSpace),tt=q.colorSpace===Ra?null:Vn.getPrimaries(q.colorSpace),Et=q.colorSpace===Ra||We===tt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Et);const Vt=v(q)&&y(q.image)===!1;let $e=g(q.image,Vt,!1,i.maxTextureSize);$e=qe(q,$e);const on=y($e)||l,Kt=s.convert(q.format,q.colorSpace);let Dt=s.convert(q.type),mt=S(q.internalFormat,Kt,Dt,q.colorSpace,q.isVideoTexture);Z(ze,q,on);let it;const se=q.mipmaps,Be=l&&q.isVideoTexture!==!0&&mt!==h5,at=dt.__version===void 0||Ue===!0,ot=j(q,$e,on);if(q.isDepthTexture)mt=t.DEPTH_COMPONENT,l?q.type===ol?mt=t.DEPTH_COMPONENT32F:q.type===qc?mt=t.DEPTH_COMPONENT24:q.type===Od?mt=t.DEPTH24_STENCIL8:mt=t.DEPTH_COMPONENT16:q.type===ol&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),q.format===Id&&mt===t.DEPTH_COMPONENT&&q.type!==oT&&q.type!==qc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),q.type=qc,Dt=s.convert(q.type)),q.format===dp&&mt===t.DEPTH_COMPONENT&&(mt=t.DEPTH_STENCIL,q.type!==Od&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),q.type=Od,Dt=s.convert(q.type))),at&&(Be?n.texStorage2D(t.TEXTURE_2D,1,mt,$e.width,$e.height):n.texImage2D(t.TEXTURE_2D,0,mt,$e.width,$e.height,0,Kt,Dt,null));else if(q.isDataTexture)if(se.length>0&&on){Be&&at&&n.texStorage2D(t.TEXTURE_2D,ot,mt,se[0].width,se[0].height);for(let Ve=0,oe=se.length;Ve<oe;Ve++)it=se[Ve],Be?n.texSubImage2D(t.TEXTURE_2D,Ve,0,0,it.width,it.height,Kt,Dt,it.data):n.texImage2D(t.TEXTURE_2D,Ve,mt,it.width,it.height,0,Kt,Dt,it.data);q.generateMipmaps=!1}else Be?(at&&n.texStorage2D(t.TEXTURE_2D,ot,mt,$e.width,$e.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,$e.width,$e.height,Kt,Dt,$e.data)):n.texImage2D(t.TEXTURE_2D,0,mt,$e.width,$e.height,0,Kt,Dt,$e.data);else if(q.isCompressedTexture)if(q.isCompressedArrayTexture){Be&&at&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ot,mt,se[0].width,se[0].height,$e.depth);for(let Ve=0,oe=se.length;Ve<oe;Ve++)it=se[Ve],q.format!==Rs?Kt!==null?Be?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ve,0,0,0,it.width,it.height,$e.depth,Kt,it.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ve,mt,it.width,it.height,$e.depth,0,it.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Be?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ve,0,0,0,it.width,it.height,$e.depth,Kt,Dt,it.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ve,mt,it.width,it.height,$e.depth,0,Kt,Dt,it.data)}else{Be&&at&&n.texStorage2D(t.TEXTURE_2D,ot,mt,se[0].width,se[0].height);for(let Ve=0,oe=se.length;Ve<oe;Ve++)it=se[Ve],q.format!==Rs?Kt!==null?Be?n.compressedTexSubImage2D(t.TEXTURE_2D,Ve,0,0,it.width,it.height,Kt,it.data):n.compressedTexImage2D(t.TEXTURE_2D,Ve,mt,it.width,it.height,0,it.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Be?n.texSubImage2D(t.TEXTURE_2D,Ve,0,0,it.width,it.height,Kt,Dt,it.data):n.texImage2D(t.TEXTURE_2D,Ve,mt,it.width,it.height,0,Kt,Dt,it.data)}else if(q.isDataArrayTexture)Be?(at&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ot,mt,$e.width,$e.height,$e.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,$e.width,$e.height,$e.depth,Kt,Dt,$e.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,mt,$e.width,$e.height,$e.depth,0,Kt,Dt,$e.data);else if(q.isData3DTexture)Be?(at&&n.texStorage3D(t.TEXTURE_3D,ot,mt,$e.width,$e.height,$e.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,$e.width,$e.height,$e.depth,Kt,Dt,$e.data)):n.texImage3D(t.TEXTURE_3D,0,mt,$e.width,$e.height,$e.depth,0,Kt,Dt,$e.data);else if(q.isFramebufferTexture){if(at)if(Be)n.texStorage2D(t.TEXTURE_2D,ot,mt,$e.width,$e.height);else{let Ve=$e.width,oe=$e.height;for(let Ze=0;Ze<ot;Ze++)n.texImage2D(t.TEXTURE_2D,Ze,mt,Ve,oe,0,Kt,Dt,null),Ve>>=1,oe>>=1}}else if(se.length>0&&on){Be&&at&&n.texStorage2D(t.TEXTURE_2D,ot,mt,se[0].width,se[0].height);for(let Ve=0,oe=se.length;Ve<oe;Ve++)it=se[Ve],Be?n.texSubImage2D(t.TEXTURE_2D,Ve,0,0,Kt,Dt,it):n.texImage2D(t.TEXTURE_2D,Ve,mt,Kt,Dt,it);q.generateMipmaps=!1}else Be?(at&&n.texStorage2D(t.TEXTURE_2D,ot,mt,$e.width,$e.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Kt,Dt,$e)):n.texImage2D(t.TEXTURE_2D,0,mt,Kt,Dt,$e);w(q,on)&&b(ze),dt.__version=ke.version,q.onUpdate&&q.onUpdate(q)}Q.__version=q.version}function ie(Q,q,pe){if(q.image.length!==6)return;const ze=B(Q,q),Ue=q.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Q.__webglTexture,t.TEXTURE0+pe);const ke=r.get(Ue);if(Ue.version!==ke.__version||ze===!0){n.activeTexture(t.TEXTURE0+pe);const dt=Vn.getPrimaries(Vn.workingColorSpace),We=q.colorSpace===Ra?null:Vn.getPrimaries(q.colorSpace),tt=q.colorSpace===Ra||dt===We?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,tt);const Et=q.isCompressedTexture||q.image[0].isCompressedTexture,Vt=q.image[0]&&q.image[0].isDataTexture,$e=[];for(let Ve=0;Ve<6;Ve++)!Et&&!Vt?$e[Ve]=g(q.image[Ve],!1,!0,i.maxCubemapSize):$e[Ve]=Vt?q.image[Ve].image:q.image[Ve],$e[Ve]=qe(q,$e[Ve]);const on=$e[0],Kt=y(on)||l,Dt=s.convert(q.format,q.colorSpace),mt=s.convert(q.type),it=S(q.internalFormat,Dt,mt,q.colorSpace),se=l&&q.isVideoTexture!==!0,Be=ke.__version===void 0||ze===!0;let at=j(q,on,Kt);Z(t.TEXTURE_CUBE_MAP,q,Kt);let ot;if(Et){se&&Be&&n.texStorage2D(t.TEXTURE_CUBE_MAP,at,it,on.width,on.height);for(let Ve=0;Ve<6;Ve++){ot=$e[Ve].mipmaps;for(let oe=0;oe<ot.length;oe++){const Ze=ot[oe];q.format!==Rs?Dt!==null?se?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,oe,0,0,Ze.width,Ze.height,Dt,Ze.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,oe,it,Ze.width,Ze.height,0,Ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):se?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,oe,0,0,Ze.width,Ze.height,Dt,mt,Ze.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,oe,it,Ze.width,Ze.height,0,Dt,mt,Ze.data)}}}else{ot=q.mipmaps,se&&Be&&(ot.length>0&&at++,n.texStorage2D(t.TEXTURE_CUBE_MAP,at,it,$e[0].width,$e[0].height));for(let Ve=0;Ve<6;Ve++)if(Vt){se?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,0,0,$e[Ve].width,$e[Ve].height,Dt,mt,$e[Ve].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,it,$e[Ve].width,$e[Ve].height,0,Dt,mt,$e[Ve].data);for(let oe=0;oe<ot.length;oe++){const Qe=ot[oe].image[Ve].image;se?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,oe+1,0,0,Qe.width,Qe.height,Dt,mt,Qe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,oe+1,it,Qe.width,Qe.height,0,Dt,mt,Qe.data)}}else{se?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,0,0,Dt,mt,$e[Ve]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,it,Dt,mt,$e[Ve]);for(let oe=0;oe<ot.length;oe++){const Ze=ot[oe];se?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,oe+1,0,0,Dt,mt,Ze.image[Ve]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,oe+1,it,Dt,mt,Ze.image[Ve])}}}w(q,Kt)&&b(t.TEXTURE_CUBE_MAP),ke.__version=Ue.version,q.onUpdate&&q.onUpdate(q)}Q.__version=q.version}function ae(Q,q,pe,ze,Ue,ke){const dt=s.convert(pe.format,pe.colorSpace),We=s.convert(pe.type),tt=S(pe.internalFormat,dt,We,pe.colorSpace);if(!r.get(q).__hasExternalTextures){const Vt=Math.max(1,q.width>>ke),$e=Math.max(1,q.height>>ke);Ue===t.TEXTURE_3D||Ue===t.TEXTURE_2D_ARRAY?n.texImage3D(Ue,ke,tt,Vt,$e,q.depth,0,dt,We,null):n.texImage2D(Ue,ke,tt,Vt,$e,0,dt,We,null)}n.bindFramebuffer(t.FRAMEBUFFER,Q),we(q)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ze,Ue,r.get(pe).__webglTexture,0,Re(q)):(Ue===t.TEXTURE_2D||Ue>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ue<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,ze,Ue,r.get(pe).__webglTexture,ke),n.bindFramebuffer(t.FRAMEBUFFER,null)}function be(Q,q,pe){if(t.bindRenderbuffer(t.RENDERBUFFER,Q),q.depthBuffer&&!q.stencilBuffer){let ze=l===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(pe||we(q)){const Ue=q.depthTexture;Ue&&Ue.isDepthTexture&&(Ue.type===ol?ze=t.DEPTH_COMPONENT32F:Ue.type===qc&&(ze=t.DEPTH_COMPONENT24));const ke=Re(q);we(q)?c.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ke,ze,q.width,q.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,ke,ze,q.width,q.height)}else t.renderbufferStorage(t.RENDERBUFFER,ze,q.width,q.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,Q)}else if(q.depthBuffer&&q.stencilBuffer){const ze=Re(q);pe&&we(q)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ze,t.DEPTH24_STENCIL8,q.width,q.height):we(q)?c.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ze,t.DEPTH24_STENCIL8,q.width,q.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,q.width,q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,Q)}else{const ze=q.isWebGLMultipleRenderTargets===!0?q.texture:[q.texture];for(let Ue=0;Ue<ze.length;Ue++){const ke=ze[Ue],dt=s.convert(ke.format,ke.colorSpace),We=s.convert(ke.type),tt=S(ke.internalFormat,dt,We,ke.colorSpace),Et=Re(q);pe&&we(q)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Et,tt,q.width,q.height):we(q)?c.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Et,tt,q.width,q.height):t.renderbufferStorage(t.RENDERBUFFER,tt,q.width,q.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ce(Q,q){if(q&&q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Q),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(q.depthTexture).__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),z(q.depthTexture,0);const ze=r.get(q.depthTexture).__webglTexture,Ue=Re(q);if(q.depthTexture.format===Id)we(q)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ze,0,Ue):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ze,0);else if(q.depthTexture.format===dp)we(q)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ze,0,Ue):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ze,0);else throw new Error("Unknown depthTexture format")}function Se(Q){const q=r.get(Q),pe=Q.isWebGLCubeRenderTarget===!0;if(Q.depthTexture&&!q.__autoAllocateDepthBuffer){if(pe)throw new Error("target.depthTexture not supported in Cube render targets");ce(q.__webglFramebuffer,Q)}else if(pe){q.__webglDepthbuffer=[];for(let ze=0;ze<6;ze++)n.bindFramebuffer(t.FRAMEBUFFER,q.__webglFramebuffer[ze]),q.__webglDepthbuffer[ze]=t.createRenderbuffer(),be(q.__webglDepthbuffer[ze],Q,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,q.__webglFramebuffer),q.__webglDepthbuffer=t.createRenderbuffer(),be(q.__webglDepthbuffer,Q,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Te(Q,q,pe){const ze=r.get(Q);q!==void 0&&ae(ze.__webglFramebuffer,Q,Q.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),pe!==void 0&&Se(Q)}function Y(Q){const q=Q.texture,pe=r.get(Q),ze=r.get(q);Q.addEventListener("dispose",P),Q.isWebGLMultipleRenderTargets!==!0&&(ze.__webglTexture===void 0&&(ze.__webglTexture=t.createTexture()),ze.__version=q.version,o.memory.textures++);const Ue=Q.isWebGLCubeRenderTarget===!0,ke=Q.isWebGLMultipleRenderTargets===!0,dt=y(Q)||l;if(Ue){pe.__webglFramebuffer=[];for(let We=0;We<6;We++)if(l&&q.mipmaps&&q.mipmaps.length>0){pe.__webglFramebuffer[We]=[];for(let tt=0;tt<q.mipmaps.length;tt++)pe.__webglFramebuffer[We][tt]=t.createFramebuffer()}else pe.__webglFramebuffer[We]=t.createFramebuffer()}else{if(l&&q.mipmaps&&q.mipmaps.length>0){pe.__webglFramebuffer=[];for(let We=0;We<q.mipmaps.length;We++)pe.__webglFramebuffer[We]=t.createFramebuffer()}else pe.__webglFramebuffer=t.createFramebuffer();if(ke)if(i.drawBuffers){const We=Q.texture;for(let tt=0,Et=We.length;tt<Et;tt++){const Vt=r.get(We[tt]);Vt.__webglTexture===void 0&&(Vt.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&Q.samples>0&&we(Q)===!1){const We=ke?q:[q];pe.__webglMultisampledFramebuffer=t.createFramebuffer(),pe.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,pe.__webglMultisampledFramebuffer);for(let tt=0;tt<We.length;tt++){const Et=We[tt];pe.__webglColorRenderbuffer[tt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,pe.__webglColorRenderbuffer[tt]);const Vt=s.convert(Et.format,Et.colorSpace),$e=s.convert(Et.type),on=S(Et.internalFormat,Vt,$e,Et.colorSpace,Q.isXRRenderTarget===!0),Kt=Re(Q);t.renderbufferStorageMultisample(t.RENDERBUFFER,Kt,on,Q.width,Q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+tt,t.RENDERBUFFER,pe.__webglColorRenderbuffer[tt])}t.bindRenderbuffer(t.RENDERBUFFER,null),Q.depthBuffer&&(pe.__webglDepthRenderbuffer=t.createRenderbuffer(),be(pe.__webglDepthRenderbuffer,Q,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ue){n.bindTexture(t.TEXTURE_CUBE_MAP,ze.__webglTexture),Z(t.TEXTURE_CUBE_MAP,q,dt);for(let We=0;We<6;We++)if(l&&q.mipmaps&&q.mipmaps.length>0)for(let tt=0;tt<q.mipmaps.length;tt++)ae(pe.__webglFramebuffer[We][tt],Q,q,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+We,tt);else ae(pe.__webglFramebuffer[We],Q,q,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+We,0);w(q,dt)&&b(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ke){const We=Q.texture;for(let tt=0,Et=We.length;tt<Et;tt++){const Vt=We[tt],$e=r.get(Vt);n.bindTexture(t.TEXTURE_2D,$e.__webglTexture),Z(t.TEXTURE_2D,Vt,dt),ae(pe.__webglFramebuffer,Q,Vt,t.COLOR_ATTACHMENT0+tt,t.TEXTURE_2D,0),w(Vt,dt)&&b(t.TEXTURE_2D)}n.unbindTexture()}else{let We=t.TEXTURE_2D;if((Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(l?We=Q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(We,ze.__webglTexture),Z(We,q,dt),l&&q.mipmaps&&q.mipmaps.length>0)for(let tt=0;tt<q.mipmaps.length;tt++)ae(pe.__webglFramebuffer[tt],Q,q,t.COLOR_ATTACHMENT0,We,tt);else ae(pe.__webglFramebuffer,Q,q,t.COLOR_ATTACHMENT0,We,0);w(q,dt)&&b(We),n.unbindTexture()}Q.depthBuffer&&Se(Q)}function Ee(Q){const q=y(Q)||l,pe=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let ze=0,Ue=pe.length;ze<Ue;ze++){const ke=pe[ze];if(w(ke,q)){const dt=Q.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,We=r.get(ke).__webglTexture;n.bindTexture(dt,We),b(dt),n.unbindTexture()}}}function ve(Q){if(l&&Q.samples>0&&we(Q)===!1){const q=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],pe=Q.width,ze=Q.height;let Ue=t.COLOR_BUFFER_BIT;const ke=[],dt=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,We=r.get(Q),tt=Q.isWebGLMultipleRenderTargets===!0;if(tt)for(let Et=0;Et<q.length;Et++)n.bindFramebuffer(t.FRAMEBUFFER,We.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Et,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,We.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Et,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,We.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,We.__webglFramebuffer);for(let Et=0;Et<q.length;Et++){ke.push(t.COLOR_ATTACHMENT0+Et),Q.depthBuffer&&ke.push(dt);const Vt=We.__ignoreDepthValues!==void 0?We.__ignoreDepthValues:!1;if(Vt===!1&&(Q.depthBuffer&&(Ue|=t.DEPTH_BUFFER_BIT),Q.stencilBuffer&&(Ue|=t.STENCIL_BUFFER_BIT)),tt&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,We.__webglColorRenderbuffer[Et]),Vt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[dt]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[dt])),tt){const $e=r.get(q[Et]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,$e,0)}t.blitFramebuffer(0,0,pe,ze,0,0,pe,ze,Ue,t.NEAREST),u&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ke)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),tt)for(let Et=0;Et<q.length;Et++){n.bindFramebuffer(t.FRAMEBUFFER,We.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Et,t.RENDERBUFFER,We.__webglColorRenderbuffer[Et]);const Vt=r.get(q[Et]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,We.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Et,t.TEXTURE_2D,Vt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,We.__webglMultisampledFramebuffer)}}function Re(Q){return Math.min(i.maxSamples,Q.samples)}function we(Q){const q=r.get(Q);return l&&Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&q.__useRenderToTexture!==!1}function rt(Q){const q=o.render.frame;d.get(Q)!==q&&(d.set(Q,q),Q.update())}function qe(Q,q){const pe=Q.colorSpace,ze=Q.format,Ue=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||Q.format===Gj||pe!==fc&&pe!==Ra&&(Vn.getTransfer(pe)===ir?l===!1?e.has("EXT_sRGB")===!0&&ze===Rs?(Q.format=Gj,Q.minFilter=Jr,Q.generateMipmaps=!1):q=y5.sRGBToLinear(q):(ze!==Rs||Ue!==nc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",pe)),q}this.allocateTextureUnit=U,this.resetTextureUnits=V,this.setTexture2D=z,this.setTexture2DArray=W,this.setTexture3D=k,this.setTextureCube=L,this.rebindTextures=Te,this.setupRenderTarget=Y,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=ve,this.setupDepthRenderbuffer=Se,this.setupFrameBufferTexture=ae,this.useMultisampledRTT=we}function xne(t,e,n){const r=n.isWebGL2;function i(s,o=Ra){let l;const c=Vn.getTransfer(o);if(s===nc)return t.UNSIGNED_BYTE;if(s===l5)return t.UNSIGNED_SHORT_4_4_4_4;if(s===c5)return t.UNSIGNED_SHORT_5_5_5_1;if(s===Lte)return t.BYTE;if(s===Fte)return t.SHORT;if(s===oT)return t.UNSIGNED_SHORT;if(s===o5)return t.INT;if(s===qc)return t.UNSIGNED_INT;if(s===ol)return t.FLOAT;if(s===uv)return r?t.HALF_FLOAT:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(s===Ute)return t.ALPHA;if(s===Rs)return t.RGBA;if(s===Bte)return t.LUMINANCE;if(s===zte)return t.LUMINANCE_ALPHA;if(s===Id)return t.DEPTH_COMPONENT;if(s===dp)return t.DEPTH_STENCIL;if(s===Gj)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(s===$te)return t.RED;if(s===u5)return t.RED_INTEGER;if(s===Vte)return t.RG;if(s===d5)return t.RG_INTEGER;if(s===f5)return t.RGBA_INTEGER;if(s===UN||s===BN||s===zN||s===$N)if(c===ir)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(s===UN)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===BN)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===zN)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===$N)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(s===UN)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===BN)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===zN)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===$N)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===lk||s===ck||s===uk||s===dk)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(s===lk)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===ck)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===uk)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===dk)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===h5)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===fk||s===hk)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(s===fk)return c===ir?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(s===hk)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===pk||s===mk||s===gk||s===vk||s===yk||s===xk||s===bk||s===wk||s===_k||s===Sk||s===Nk||s===jk||s===Ek||s===Ak)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(s===pk)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===mk)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===gk)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===vk)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===yk)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===xk)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===bk)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===wk)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===_k)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Sk)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Nk)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===jk)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Ek)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===Ak)return c===ir?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===VN||s===Tk||s===Ck)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(s===VN)return c===ir?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===Tk)return l.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===Ck)return l.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===Hte||s===Mk||s===Pk||s===Rk)if(l=e.get("EXT_texture_compression_rgtc"),l!==null){if(s===VN)return l.COMPRESSED_RED_RGTC1_EXT;if(s===Mk)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===Pk)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Rk)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Od?r?t.UNSIGNED_INT_24_8:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class bne extends Qr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}let hg=class extends In{constructor(){super(),this.isGroup=!0,this.type="Group"}};const hRe={type:"move"};class TP{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new hg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new hg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ne),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new hg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ne),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const l=this._targetRay,c=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const g of e.hand.values()){const y=n.getJointPose(g,r),v=this._getHandJoint(u,g);y!==null&&(v.matrix.fromArray(y.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=y.radius),v.visible=y!==null}const d=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=d.position.distanceTo(f.position),p=.02,m=.005;u.inputState.pinching&&h>p+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=p-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(hRe)))}return l!==null&&(l.visible=i!==null),c!==null&&(c.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new hg;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class pRe extends Su{constructor(e,n){super();const r=this;let i=null,s=1,o=null,l="local-floor",c=1,u=null,d=null,f=null,h=null,p=null,m=null;const g=n.getContextAttributes();let y=null,v=null;const w=[],b=[],S=new Fe;let j=null;const E=new Qr;E.layers.enable(1),E.viewport=new Hn;const T=new Qr;T.layers.enable(2),T.viewport=new Hn;const P=[E,T],C=new bne;C.layers.enable(1),C.layers.enable(2);let R=null,I=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let B=w[Z];return B===void 0&&(B=new TP,w[Z]=B),B.getTargetRaySpace()},this.getControllerGrip=function(Z){let B=w[Z];return B===void 0&&(B=new TP,w[Z]=B),B.getGripSpace()},this.getHand=function(Z){let B=w[Z];return B===void 0&&(B=new TP,w[Z]=B),B.getHandSpace()};function D(Z){const B=b.indexOf(Z.inputSource);if(B===-1)return;const te=w[B];te!==void 0&&(te.update(Z.inputSource,Z.frame,u||o),te.dispatchEvent({type:Z.type,data:Z.inputSource}))}function V(){i.removeEventListener("select",D),i.removeEventListener("selectstart",D),i.removeEventListener("selectend",D),i.removeEventListener("squeeze",D),i.removeEventListener("squeezestart",D),i.removeEventListener("squeezeend",D),i.removeEventListener("end",V),i.removeEventListener("inputsourceschange",U);for(let Z=0;Z<w.length;Z++){const B=b[Z];B!==null&&(b[Z]=null,w[Z].disconnect(B))}R=null,I=null,e.setRenderTarget(y),p=null,h=null,f=null,i=null,v=null,X.stop(),r.isPresenting=!1,e.setPixelRatio(j),e.setSize(S.width,S.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Z){s=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){l=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(Z){u=Z},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(Z){if(i=Z,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",D),i.addEventListener("selectstart",D),i.addEventListener("selectend",D),i.addEventListener("squeeze",D),i.addEventListener("squeezestart",D),i.addEventListener("squeezeend",D),i.addEventListener("end",V),i.addEventListener("inputsourceschange",U),g.xrCompatible!==!0&&await n.makeXRCompatible(),j=e.getPixelRatio(),e.getSize(S),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const B={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,n,B),i.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),v=new xl(p.framebufferWidth,p.framebufferHeight,{format:Rs,type:nc,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}else{let B=null,te=null,ie=null;g.depth&&(ie=g.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,B=g.stencil?dp:Id,te=g.stencil?Od:qc);const ae={colorFormat:n.RGBA8,depthFormat:ie,scaleFactor:s};f=new XRWebGLBinding(i,n),h=f.createProjectionLayer(ae),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),v=new xl(h.textureWidth,h.textureHeight,{format:Rs,type:nc,depthTexture:new S5(h.textureWidth,h.textureHeight,te,void 0,void 0,void 0,void 0,void 0,void 0,B),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0});const be=e.properties.get(v);be.__ignoreDepthValues=h.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(c),u=null,o=await i.requestReferenceSpace(l),X.setContext(i),X.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function U(Z){for(let B=0;B<Z.removed.length;B++){const te=Z.removed[B],ie=b.indexOf(te);ie>=0&&(b[ie]=null,w[ie].disconnect(te))}for(let B=0;B<Z.added.length;B++){const te=Z.added[B];let ie=b.indexOf(te);if(ie===-1){for(let be=0;be<w.length;be++)if(be>=b.length){b.push(te),ie=be;break}else if(b[be]===null){b[be]=te,ie=be;break}if(ie===-1)break}const ae=w[ie];ae&&ae.connect(te)}}const $=new ne,z=new ne;function W(Z,B,te){$.setFromMatrixPosition(B.matrixWorld),z.setFromMatrixPosition(te.matrixWorld);const ie=$.distanceTo(z),ae=B.projectionMatrix.elements,be=te.projectionMatrix.elements,ce=ae[14]/(ae[10]-1),Se=ae[14]/(ae[10]+1),Te=(ae[9]+1)/ae[5],Y=(ae[9]-1)/ae[5],Ee=(ae[8]-1)/ae[0],ve=(be[8]+1)/be[0],Re=ce*Ee,we=ce*ve,rt=ie/(-Ee+ve),qe=rt*-Ee;B.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(qe),Z.translateZ(rt),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert();const Q=ce+rt,q=Se+rt,pe=Re-qe,ze=we+(ie-qe),Ue=Te*Se/q*Q,ke=Y*Se/q*Q;Z.projectionMatrix.makePerspective(pe,ze,Ue,ke,Q,q),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert()}function k(Z,B){B===null?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(B.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(i===null)return;C.near=T.near=E.near=Z.near,C.far=T.far=E.far=Z.far,(R!==C.near||I!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),R=C.near,I=C.far);const B=Z.parent,te=C.cameras;k(C,B);for(let ie=0;ie<te.length;ie++)k(te[ie],B);te.length===2?W(C,E,T):C.projectionMatrix.copy(E.projectionMatrix),L(Z,C,B)};function L(Z,B,te){te===null?Z.matrix.copy(B.matrixWorld):(Z.matrix.copy(te.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(B.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0),Z.projectionMatrix.copy(B.projectionMatrix),Z.projectionMatrixInverse.copy(B.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=fv*2*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(h===null&&p===null))return c},this.setFoveation=function(Z){c=Z,h!==null&&(h.fixedFoveation=Z),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=Z)};let H=null;function G(Z,B){if(d=B.getViewerPose(u||o),m=B,d!==null){const te=d.views;p!==null&&(e.setRenderTargetFramebuffer(v,p.framebuffer),e.setRenderTarget(v));let ie=!1;te.length!==C.cameras.length&&(C.cameras.length=0,ie=!0);for(let ae=0;ae<te.length;ae++){const be=te[ae];let ce=null;if(p!==null)ce=p.getViewport(be);else{const Te=f.getViewSubImage(h,be);ce=Te.viewport,ae===0&&(e.setRenderTargetTextures(v,Te.colorTexture,h.ignoreDepthValues?void 0:Te.depthStencilTexture),e.setRenderTarget(v))}let Se=P[ae];Se===void 0&&(Se=new Qr,Se.layers.enable(ae),Se.viewport=new Hn,P[ae]=Se),Se.matrix.fromArray(be.transform.matrix),Se.matrix.decompose(Se.position,Se.quaternion,Se.scale),Se.projectionMatrix.fromArray(be.projectionMatrix),Se.projectionMatrixInverse.copy(Se.projectionMatrix).invert(),Se.viewport.set(ce.x,ce.y,ce.width,ce.height),ae===0&&(C.matrix.copy(Se.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),ie===!0&&C.cameras.push(Se)}}for(let te=0;te<w.length;te++){const ie=b[te],ae=w[te];ie!==null&&ae!==void 0&&ae.update(ie,B,u||o)}H&&H(Z,B),B.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:B}),m=null}const X=new hne;X.setAnimationLoop(G),this.setAnimationLoop=function(Z){H=Z},this.dispose=function(){}}}function mRe(t,e){function n(y,v){y.matrixAutoUpdate===!0&&y.updateMatrix(),v.value.copy(y.matrix)}function r(y,v){v.color.getRGB(y.fogColor.value,cne(t)),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function i(y,v,w,b,S){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(y,v):v.isMeshToonMaterial?(s(y,v),f(y,v)):v.isMeshPhongMaterial?(s(y,v),d(y,v)):v.isMeshStandardMaterial?(s(y,v),h(y,v),v.isMeshPhysicalMaterial&&p(y,v,S)):v.isMeshMatcapMaterial?(s(y,v),m(y,v)):v.isMeshDepthMaterial?s(y,v):v.isMeshDistanceMaterial?(s(y,v),g(y,v)):v.isMeshNormalMaterial?s(y,v):v.isLineBasicMaterial?(o(y,v),v.isLineDashedMaterial&&l(y,v)):v.isPointsMaterial?c(y,v,w,b):v.isSpriteMaterial?u(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(y,v){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.bumpMap&&(y.bumpMap.value=v.bumpMap,n(v.bumpMap,y.bumpMapTransform),y.bumpScale.value=v.bumpScale,v.side===Bs&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,n(v.normalMap,y.normalMapTransform),y.normalScale.value.copy(v.normalScale),v.side===Bs&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,n(v.displacementMap,y.displacementMapTransform),y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,y.emissiveMapTransform)),v.specularMap&&(y.specularMap.value=v.specularMap,n(v.specularMap,y.specularMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);const w=e.get(v).envMap;if(w&&(y.envMap.value=w,y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=v.reflectivity,y.ior.value=v.ior,y.refractionRatio.value=v.refractionRatio),v.lightMap){y.lightMap.value=v.lightMap;const b=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=v.lightMapIntensity*b,n(v.lightMap,y.lightMapTransform)}v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,y.aoMapTransform))}function o(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform))}function l(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function c(y,v,w,b){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*w,y.scale.value=b*.5,v.map&&(y.map.value=v.map,n(v.map,y.uvTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function u(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function d(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4)}function f(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap)}function h(y,v){y.metalness.value=v.metalness,v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,y.metalnessMapTransform)),y.roughness.value=v.roughness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,y.roughnessMapTransform)),e.get(v).envMap&&(y.envMapIntensity.value=v.envMapIntensity)}function p(y,v,w){y.ior.value=v.ior,v.sheen>0&&(y.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),y.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(y.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,y.sheenColorMapTransform)),v.sheenRoughnessMap&&(y.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,y.sheenRoughnessMapTransform))),v.clearcoat>0&&(y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,y.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(y.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Bs&&y.clearcoatNormalScale.value.negate())),v.iridescence>0&&(y.iridescence.value=v.iridescence,y.iridescenceIOR.value=v.iridescenceIOR,y.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(y.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,y.iridescenceMapTransform)),v.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),v.transmission>0&&(y.transmission.value=v.transmission,y.transmissionSamplerMap.value=w.texture,y.transmissionSamplerSize.value.set(w.width,w.height),v.transmissionMap&&(y.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,y.transmissionMapTransform)),y.thickness.value=v.thickness,v.thicknessMap&&(y.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=v.attenuationDistance,y.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(y.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(y.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=v.specularIntensity,y.specularColor.value.copy(v.specularColor),v.specularColorMap&&(y.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,y.specularColorMapTransform)),v.specularIntensityMap&&(y.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,y.specularIntensityMapTransform))}function m(y,v){v.matcap&&(y.matcap.value=v.matcap)}function g(y,v){const w=e.get(v).light;y.referencePosition.value.setFromMatrixPosition(w.matrixWorld),y.nearDistance.value=w.shadow.camera.near,y.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function gRe(t,e,n,r){let i={},s={},o=[];const l=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function c(w,b){const S=b.program;r.uniformBlockBinding(w,S)}function u(w,b){let S=i[w.id];S===void 0&&(m(w),S=d(w),i[w.id]=S,w.addEventListener("dispose",y));const j=b.program;r.updateUBOMapping(w,j);const E=e.render.frame;s[w.id]!==E&&(h(w),s[w.id]=E)}function d(w){const b=f();w.__bindingPointIndex=b;const S=t.createBuffer(),j=w.__size,E=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,j,E),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,S),S}function f(){for(let w=0;w<l;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(w){const b=i[w.id],S=w.uniforms,j=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let E=0,T=S.length;E<T;E++){const P=Array.isArray(S[E])?S[E]:[S[E]];for(let C=0,R=P.length;C<R;C++){const I=P[C];if(p(I,E,C,j)===!0){const D=I.__offset,V=Array.isArray(I.value)?I.value:[I.value];let U=0;for(let $=0;$<V.length;$++){const z=V[$],W=g(z);typeof z=="number"||typeof z=="boolean"?(I.__data[0]=z,t.bufferSubData(t.UNIFORM_BUFFER,D+U,I.__data)):z.isMatrix3?(I.__data[0]=z.elements[0],I.__data[1]=z.elements[1],I.__data[2]=z.elements[2],I.__data[3]=0,I.__data[4]=z.elements[3],I.__data[5]=z.elements[4],I.__data[6]=z.elements[5],I.__data[7]=0,I.__data[8]=z.elements[6],I.__data[9]=z.elements[7],I.__data[10]=z.elements[8],I.__data[11]=0):(z.toArray(I.__data,U),U+=W.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,D,I.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(w,b,S,j){const E=w.value,T=b+"_"+S;if(j[T]===void 0)return typeof E=="number"||typeof E=="boolean"?j[T]=E:j[T]=E.clone(),!0;{const P=j[T];if(typeof E=="number"||typeof E=="boolean"){if(P!==E)return j[T]=E,!0}else if(P.equals(E)===!1)return P.copy(E),!0}return!1}function m(w){const b=w.uniforms;let S=0;const j=16;for(let T=0,P=b.length;T<P;T++){const C=Array.isArray(b[T])?b[T]:[b[T]];for(let R=0,I=C.length;R<I;R++){const D=C[R],V=Array.isArray(D.value)?D.value:[D.value];for(let U=0,$=V.length;U<$;U++){const z=V[U],W=g(z),k=S%j;k!==0&&j-k<W.boundary&&(S+=j-k),D.__data=new Float32Array(W.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=S,S+=W.storage}}}const E=S%j;return E>0&&(S+=j-E),w.__size=S,w.__cache={},this}function g(w){const b={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(b.boundary=4,b.storage=4):w.isVector2?(b.boundary=8,b.storage=8):w.isVector3||w.isColor?(b.boundary=16,b.storage=12):w.isVector4?(b.boundary=16,b.storage=16):w.isMatrix3?(b.boundary=48,b.storage=48):w.isMatrix4?(b.boundary=64,b.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),b}function y(w){const b=w.target;b.removeEventListener("dispose",y);const S=o.indexOf(b.__bindingPointIndex);o.splice(S,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function v(){for(const w in i)t.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:c,update:u,dispose:v}}class E5{constructor(e={}){const{canvas:n=ane(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let h;r!==null?h=r.getContextAttributes().alpha:h=o;const p=new Uint32Array(4),m=new Int32Array(4);let g=null,y=null;const v=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=xi,this._useLegacyLights=!1,this.toneMapping=tc,this.toneMappingExposure=1;const b=this;let S=!1,j=0,E=0,T=null,P=-1,C=null;const R=new Hn,I=new Hn;let D=null;const V=new gt(0);let U=0,$=n.width,z=n.height,W=1,k=null,L=null;const H=new Hn(0,0,$,z),G=new Hn(0,0,$,z);let X=!1;const Z=new Gw;let B=!1,te=!1,ie=null;const ae=new Jt,be=new Fe,ce=new ne,Se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Te(){return T===null?W:1}let Y=r;function Ee(ee,ye){for(let Ae=0;Ae<ee.length;Ae++){const de=ee[Ae],K=n.getContext(de,ye);if(K!==null)return K}return null}try{const ee={alpha:!0,depth:i,stencil:s,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${iT}`),n.addEventListener("webglcontextlost",Ve,!1),n.addEventListener("webglcontextrestored",oe,!1),n.addEventListener("webglcontextcreationerror",Ze,!1),Y===null){const ye=["webgl2","webgl","experimental-webgl"];if(b.isWebGL1Renderer===!0&&ye.shift(),Y=Ee(ye,ee),Y===null)throw Ee(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Y instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ee){throw console.error("THREE.WebGLRenderer: "+ee.message),ee}let ve,Re,we,rt,qe,Q,q,pe,ze,Ue,ke,dt,We,tt,Et,Vt,$e,on,Kt,Dt,mt,it,se,Be;function at(){ve=new M2e(Y),Re=new N2e(Y,ve,e),ve.init(Re),it=new xne(Y,ve,Re),we=new dRe(Y,ve,Re),rt=new O2e(Y),qe=new ZPe,Q=new fRe(Y,ve,we,qe,Re,it,rt),q=new E2e(b),pe=new C2e(b),ze=new zTe(Y,Re),se=new _2e(Y,ve,ze,Re),Ue=new P2e(Y,ze,rt,se),ke=new L2e(Y,Ue,ze,rt),Kt=new D2e(Y,Re,Q),Vt=new j2e(qe),dt=new QPe(b,q,pe,ve,Re,se,Vt),We=new mRe(b,qe),tt=new tRe,Et=new oRe(ve,Re),on=new w2e(b,q,pe,we,ke,h,c),$e=new uRe(b,ke,Re),Be=new gRe(Y,rt,Re,we),Dt=new S2e(Y,ve,rt,Re),mt=new R2e(Y,ve,rt,Re),rt.programs=dt.programs,b.capabilities=Re,b.extensions=ve,b.properties=qe,b.renderLists=tt,b.shadowMap=$e,b.state=we,b.info=rt}at();const ot=new pRe(b,Y);this.xr=ot,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const ee=ve.get("WEBGL_lose_context");ee&&ee.loseContext()},this.forceContextRestore=function(){const ee=ve.get("WEBGL_lose_context");ee&&ee.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(ee){ee!==void 0&&(W=ee,this.setSize($,z,!1))},this.getSize=function(ee){return ee.set($,z)},this.setSize=function(ee,ye,Ae=!0){if(ot.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=ee,z=ye,n.width=Math.floor(ee*W),n.height=Math.floor(ye*W),Ae===!0&&(n.style.width=ee+"px",n.style.height=ye+"px"),this.setViewport(0,0,ee,ye)},this.getDrawingBufferSize=function(ee){return ee.set($*W,z*W).floor()},this.setDrawingBufferSize=function(ee,ye,Ae){$=ee,z=ye,W=Ae,n.width=Math.floor(ee*Ae),n.height=Math.floor(ye*Ae),this.setViewport(0,0,ee,ye)},this.getCurrentViewport=function(ee){return ee.copy(R)},this.getViewport=function(ee){return ee.copy(H)},this.setViewport=function(ee,ye,Ae,de){ee.isVector4?H.set(ee.x,ee.y,ee.z,ee.w):H.set(ee,ye,Ae,de),we.viewport(R.copy(H).multiplyScalar(W).floor())},this.getScissor=function(ee){return ee.copy(G)},this.setScissor=function(ee,ye,Ae,de){ee.isVector4?G.set(ee.x,ee.y,ee.z,ee.w):G.set(ee,ye,Ae,de),we.scissor(I.copy(G).multiplyScalar(W).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function(ee){we.setScissorTest(X=ee)},this.setOpaqueSort=function(ee){k=ee},this.setTransparentSort=function(ee){L=ee},this.getClearColor=function(ee){return ee.copy(on.getClearColor())},this.setClearColor=function(){on.setClearColor.apply(on,arguments)},this.getClearAlpha=function(){return on.getClearAlpha()},this.setClearAlpha=function(){on.setClearAlpha.apply(on,arguments)},this.clear=function(ee=!0,ye=!0,Ae=!0){let de=0;if(ee){let K=!1;if(T!==null){const xe=T.texture.format;K=xe===f5||xe===d5||xe===u5}if(K){const xe=T.texture.type,Le=xe===nc||xe===qc||xe===oT||xe===Od||xe===l5||xe===c5,lt=on.getClearColor(),yt=on.getClearAlpha(),xt=lt.r,At=lt.g,Ft=lt.b;Le?(p[0]=xt,p[1]=At,p[2]=Ft,p[3]=yt,Y.clearBufferuiv(Y.COLOR,0,p)):(m[0]=xt,m[1]=At,m[2]=Ft,m[3]=yt,Y.clearBufferiv(Y.COLOR,0,m))}else de|=Y.COLOR_BUFFER_BIT}ye&&(de|=Y.DEPTH_BUFFER_BIT),Ae&&(de|=Y.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Y.clear(de)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ve,!1),n.removeEventListener("webglcontextrestored",oe,!1),n.removeEventListener("webglcontextcreationerror",Ze,!1),tt.dispose(),Et.dispose(),qe.dispose(),q.dispose(),pe.dispose(),ke.dispose(),se.dispose(),Be.dispose(),dt.dispose(),ot.dispose(),ot.removeEventListener("sessionstart",yn),ot.removeEventListener("sessionend",Qt),ie&&(ie.dispose(),ie=null),Yn.stop()};function Ve(ee){ee.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function oe(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const ee=rt.autoReset,ye=$e.enabled,Ae=$e.autoUpdate,de=$e.needsUpdate,K=$e.type;at(),rt.autoReset=ee,$e.enabled=ye,$e.autoUpdate=Ae,$e.needsUpdate=de,$e.type=K}function Ze(ee){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ee.statusMessage)}function Qe(ee){const ye=ee.target;ye.removeEventListener("dispose",Qe),Lt(ye)}function Lt(ee){He(ee),qe.remove(ee)}function He(ee){const ye=qe.get(ee).programs;ye!==void 0&&(ye.forEach(function(Ae){dt.releaseProgram(Ae)}),ee.isShaderMaterial&&dt.releaseShaderCache(ee))}this.renderBufferDirect=function(ee,ye,Ae,de,K,xe){ye===null&&(ye=Se);const Le=K.isMesh&&K.matrixWorld.determinant()<0,lt=ma(ee,ye,Ae,de,K);we.setMaterial(de,Le);let yt=Ae.index,xt=1;if(de.wireframe===!0){if(yt=Ue.getWireframeAttribute(Ae),yt===void 0)return;xt=2}const At=Ae.drawRange,Ft=Ae.attributes.position;let Fn=At.start*xt,Vr=(At.start+At.count)*xt;xe!==null&&(Fn=Math.max(Fn,xe.start*xt),Vr=Math.min(Vr,(xe.start+xe.count)*xt)),yt!==null?(Fn=Math.max(Fn,0),Vr=Math.min(Vr,yt.count)):Ft!=null&&(Fn=Math.max(Fn,0),Vr=Math.min(Vr,Ft.count));const rn=Vr-Fn;if(rn<0||rn===1/0)return;se.setup(K,de,lt,Ae,yt);let Hr,Ut=Dt;if(yt!==null&&(Hr=ze.get(yt),Ut=mt,Ut.setIndex(Hr)),K.isMesh)de.wireframe===!0?(we.setLineWidth(de.wireframeLinewidth*Te()),Ut.setMode(Y.LINES)):Ut.setMode(Y.TRIANGLES);else if(K.isLine){let _t=de.linewidth;_t===void 0&&(_t=1),we.setLineWidth(_t*Te()),K.isLineSegments?Ut.setMode(Y.LINES):K.isLineLoop?Ut.setMode(Y.LINE_LOOP):Ut.setMode(Y.LINE_STRIP)}else K.isPoints?Ut.setMode(Y.POINTS):K.isSprite&&Ut.setMode(Y.TRIANGLES);if(K.isBatchedMesh)Ut.renderMultiDraw(K._multiDrawStarts,K._multiDrawCounts,K._multiDrawCount);else if(K.isInstancedMesh)Ut.renderInstances(Fn,rn,K.count);else if(Ae.isInstancedBufferGeometry){const _t=Ae._maxInstanceCount!==void 0?Ae._maxInstanceCount:1/0,Ka=Math.min(Ae.instanceCount,_t);Ut.renderInstances(Fn,rn,Ka)}else Ut.render(Fn,rn)};function nt(ee,ye,Ae){ee.transparent===!0&&ee.side===Hl&&ee.forceSinglePass===!1?(ee.side=Bs,ee.needsUpdate=!0,_c(ee,ye,Ae),ee.side=pu,ee.needsUpdate=!0,_c(ee,ye,Ae),ee.side=Hl):_c(ee,ye,Ae)}this.compile=function(ee,ye,Ae=null){Ae===null&&(Ae=ee),y=Et.get(Ae),y.init(),w.push(y),Ae.traverseVisible(function(K){K.isLight&&K.layers.test(ye.layers)&&(y.pushLight(K),K.castShadow&&y.pushShadow(K))}),ee!==Ae&&ee.traverseVisible(function(K){K.isLight&&K.layers.test(ye.layers)&&(y.pushLight(K),K.castShadow&&y.pushShadow(K))}),y.setupLights(b._useLegacyLights);const de=new Set;return ee.traverse(function(K){const xe=K.material;if(xe)if(Array.isArray(xe))for(let Le=0;Le<xe.length;Le++){const lt=xe[Le];nt(lt,Ae,K),de.add(lt)}else nt(xe,Ae,K),de.add(xe)}),w.pop(),y=null,de},this.compileAsync=function(ee,ye,Ae=null){const de=this.compile(ee,ye,Ae);return new Promise(K=>{function xe(){if(de.forEach(function(Le){qe.get(Le).currentProgram.isReady()&&de.delete(Le)}),de.size===0){K(ee);return}setTimeout(xe,10)}ve.get("KHR_parallel_shader_compile")!==null?xe():setTimeout(xe,10)})};let vt=null;function cn(ee){vt&&vt(ee)}function yn(){Yn.stop()}function Qt(){Yn.start()}const Yn=new hne;Yn.setAnimationLoop(cn),typeof self<"u"&&Yn.setContext(self),this.setAnimationLoop=function(ee){vt=ee,ot.setAnimationLoop(ee),ee===null?Yn.stop():Yn.start()},ot.addEventListener("sessionstart",yn),ot.addEventListener("sessionend",Qt),this.render=function(ee,ye){if(ye!==void 0&&ye.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),ot.enabled===!0&&ot.isPresenting===!0&&(ot.cameraAutoUpdate===!0&&ot.updateCamera(ye),ye=ot.getCamera()),ee.isScene===!0&&ee.onBeforeRender(b,ee,ye,T),y=Et.get(ee,w.length),y.init(),w.push(y),ae.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),Z.setFromProjectionMatrix(ae),te=this.localClippingEnabled,B=Vt.init(this.clippingPlanes,te),g=tt.get(ee,v.length),g.init(),v.push(g),Jn(ee,ye,0,b.sortObjects),g.finish(),b.sortObjects===!0&&g.sort(k,L),this.info.render.frame++,B===!0&&Vt.beginShadows();const Ae=y.state.shadowsArray;if($e.render(Ae,ee,ye),B===!0&&Vt.endShadows(),this.info.autoReset===!0&&this.info.reset(),on.render(g,ee),y.setupLights(b._useLegacyLights),ye.isArrayCamera){const de=ye.cameras;for(let K=0,xe=de.length;K<xe;K++){const Le=de[K];es(g,ee,Le,Le.viewport)}}else es(g,ee,ye);T!==null&&(Q.updateMultisampleRenderTarget(T),Q.updateRenderTargetMipmap(T)),ee.isScene===!0&&ee.onAfterRender(b,ee,ye),se.resetDefaultState(),P=-1,C=null,w.pop(),w.length>0?y=w[w.length-1]:y=null,v.pop(),v.length>0?g=v[v.length-1]:g=null};function Jn(ee,ye,Ae,de){if(ee.visible===!1)return;if(ee.layers.test(ye.layers)){if(ee.isGroup)Ae=ee.renderOrder;else if(ee.isLOD)ee.autoUpdate===!0&&ee.update(ye);else if(ee.isLight)y.pushLight(ee),ee.castShadow&&y.pushShadow(ee);else if(ee.isSprite){if(!ee.frustumCulled||Z.intersectsSprite(ee)){de&&ce.setFromMatrixPosition(ee.matrixWorld).applyMatrix4(ae);const Le=ke.update(ee),lt=ee.material;lt.visible&&g.push(ee,Le,lt,Ae,ce.z,null)}}else if((ee.isMesh||ee.isLine||ee.isPoints)&&(!ee.frustumCulled||Z.intersectsObject(ee))){const Le=ke.update(ee),lt=ee.material;if(de&&(ee.boundingSphere!==void 0?(ee.boundingSphere===null&&ee.computeBoundingSphere(),ce.copy(ee.boundingSphere.center)):(Le.boundingSphere===null&&Le.computeBoundingSphere(),ce.copy(Le.boundingSphere.center)),ce.applyMatrix4(ee.matrixWorld).applyMatrix4(ae)),Array.isArray(lt)){const yt=Le.groups;for(let xt=0,At=yt.length;xt<At;xt++){const Ft=yt[xt],Fn=lt[Ft.materialIndex];Fn&&Fn.visible&&g.push(ee,Le,Fn,Ae,ce.z,Ft)}}else lt.visible&&g.push(ee,Le,lt,Ae,ce.z,null)}}const xe=ee.children;for(let Le=0,lt=xe.length;Le<lt;Le++)Jn(xe[Le],ye,Ae,de)}function es(ee,ye,Ae,de){const K=ee.opaque,xe=ee.transmissive,Le=ee.transparent;y.setupLightsView(Ae),B===!0&&Vt.setGlobalState(b.clippingPlanes,Ae),xe.length>0&&ts(K,xe,ye,Ae),de&&we.viewport(R.copy(de)),K.length>0&&Ys(K,ye,Ae),xe.length>0&&Ys(xe,ye,Ae),Le.length>0&&Ys(Le,ye,Ae),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function ts(ee,ye,Ae,de){if((Ae.isScene===!0?Ae.overrideMaterial:null)!==null)return;const xe=Re.isWebGL2;ie===null&&(ie=new xl(1,1,{generateMipmaps:!0,type:ve.has("EXT_color_buffer_half_float")?uv:nc,minFilter:qd,samples:xe?4:0})),b.getDrawingBufferSize(be),xe?ie.setSize(be.x,be.y):ie.setSize(qj(be.x),qj(be.y));const Le=b.getRenderTarget();b.setRenderTarget(ie),b.getClearColor(V),U=b.getClearAlpha(),U<1&&b.setClearColor(16777215,.5),b.clear();const lt=b.toneMapping;b.toneMapping=tc,Ys(ee,Ae,de),Q.updateMultisampleRenderTarget(ie),Q.updateRenderTargetMipmap(ie);let yt=!1;for(let xt=0,At=ye.length;xt<At;xt++){const Ft=ye[xt],Fn=Ft.object,Vr=Ft.geometry,rn=Ft.material,Hr=Ft.group;if(rn.side===Hl&&Fn.layers.test(de.layers)){const Ut=rn.side;rn.side=Bs,rn.needsUpdate=!0,ko(Fn,Ae,de,Vr,rn,Hr),rn.side=Ut,rn.needsUpdate=!0,yt=!0}}yt===!0&&(Q.updateMultisampleRenderTarget(ie),Q.updateRenderTargetMipmap(ie)),b.setRenderTarget(Le),b.setClearColor(V,U),b.toneMapping=lt}function Ys(ee,ye,Ae){const de=ye.isScene===!0?ye.overrideMaterial:null;for(let K=0,xe=ee.length;K<xe;K++){const Le=ee[K],lt=Le.object,yt=Le.geometry,xt=de===null?Le.material:de,At=Le.group;lt.layers.test(Ae.layers)&&ko(lt,ye,Ae,yt,xt,At)}}function ko(ee,ye,Ae,de,K,xe){ee.onBeforeRender(b,ye,Ae,de,K,xe),ee.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,ee.matrixWorld),ee.normalMatrix.getNormalMatrix(ee.modelViewMatrix),K.onBeforeRender(b,ye,Ae,de,ee,xe),K.transparent===!0&&K.side===Hl&&K.forceSinglePass===!1?(K.side=Bs,K.needsUpdate=!0,b.renderBufferDirect(Ae,ye,de,K,ee,xe),K.side=pu,K.needsUpdate=!0,b.renderBufferDirect(Ae,ye,de,K,ee,xe),K.side=Hl):b.renderBufferDirect(Ae,ye,de,K,ee,xe),ee.onAfterRender(b,ye,Ae,de,K,xe)}function _c(ee,ye,Ae){ye.isScene!==!0&&(ye=Se);const de=qe.get(ee),K=y.state.lights,xe=y.state.shadowsArray,Le=K.state.version,lt=dt.getParameters(ee,K.state,xe,ye,Ae),yt=dt.getProgramCacheKey(lt);let xt=de.programs;de.environment=ee.isMeshStandardMaterial?ye.environment:null,de.fog=ye.fog,de.envMap=(ee.isMeshStandardMaterial?pe:q).get(ee.envMap||de.environment),xt===void 0&&(ee.addEventListener("dispose",Qe),xt=new Map,de.programs=xt);let At=xt.get(yt);if(At!==void 0){if(de.currentProgram===At&&de.lightsStateVersion===Le)return jf(ee,lt),At}else lt.uniforms=dt.getUniforms(ee),ee.onBuild(Ae,lt,b),ee.onBeforeCompile(lt,b),At=dt.acquireProgram(lt,yt),xt.set(yt,At),de.uniforms=lt.uniforms;const Ft=de.uniforms;return(!ee.isShaderMaterial&&!ee.isRawShaderMaterial||ee.clipping===!0)&&(Ft.clippingPlanes=Vt.uniform),jf(ee,lt),de.needsLights=Vp(ee),de.lightsStateVersion=Le,de.needsLights&&(Ft.ambientLightColor.value=K.state.ambient,Ft.lightProbe.value=K.state.probe,Ft.directionalLights.value=K.state.directional,Ft.directionalLightShadows.value=K.state.directionalShadow,Ft.spotLights.value=K.state.spot,Ft.spotLightShadows.value=K.state.spotShadow,Ft.rectAreaLights.value=K.state.rectArea,Ft.ltc_1.value=K.state.rectAreaLTC1,Ft.ltc_2.value=K.state.rectAreaLTC2,Ft.pointLights.value=K.state.point,Ft.pointLightShadows.value=K.state.pointShadow,Ft.hemisphereLights.value=K.state.hemi,Ft.directionalShadowMap.value=K.state.directionalShadowMap,Ft.directionalShadowMatrix.value=K.state.directionalShadowMatrix,Ft.spotShadowMap.value=K.state.spotShadowMap,Ft.spotLightMatrix.value=K.state.spotLightMatrix,Ft.spotLightMap.value=K.state.spotLightMap,Ft.pointShadowMap.value=K.state.pointShadowMap,Ft.pointShadowMatrix.value=K.state.pointShadowMatrix),de.currentProgram=At,de.uniformsList=null,At}function Tu(ee){if(ee.uniformsList===null){const ye=ee.currentProgram.getUniforms();ee.uniformsList=WN.seqWithValue(ye.seq,ee.uniforms)}return ee.uniformsList}function jf(ee,ye){const Ae=qe.get(ee);Ae.outputColorSpace=ye.outputColorSpace,Ae.batching=ye.batching,Ae.instancing=ye.instancing,Ae.instancingColor=ye.instancingColor,Ae.skinning=ye.skinning,Ae.morphTargets=ye.morphTargets,Ae.morphNormals=ye.morphNormals,Ae.morphColors=ye.morphColors,Ae.morphTargetsCount=ye.morphTargetsCount,Ae.numClippingPlanes=ye.numClippingPlanes,Ae.numIntersection=ye.numClipIntersection,Ae.vertexAlphas=ye.vertexAlphas,Ae.vertexTangents=ye.vertexTangents,Ae.toneMapping=ye.toneMapping}function ma(ee,ye,Ae,de,K){ye.isScene!==!0&&(ye=Se),Q.resetTextureUnits();const xe=ye.fog,Le=de.isMeshStandardMaterial?ye.environment:null,lt=T===null?b.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:fc,yt=(de.isMeshStandardMaterial?pe:q).get(de.envMap||Le),xt=de.vertexColors===!0&&!!Ae.attributes.color&&Ae.attributes.color.itemSize===4,At=!!Ae.attributes.tangent&&(!!de.normalMap||de.anisotropy>0),Ft=!!Ae.morphAttributes.position,Fn=!!Ae.morphAttributes.normal,Vr=!!Ae.morphAttributes.color;let rn=tc;de.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(rn=b.toneMapping);const Hr=Ae.morphAttributes.position||Ae.morphAttributes.normal||Ae.morphAttributes.color,Ut=Hr!==void 0?Hr.length:0,_t=qe.get(de),Ka=y.state.lights;if(B===!0&&(te===!0||ee!==C)){const Vi=ee===C&&de.id===P;Vt.setState(de,ee,Vi)}let xn=!1;de.version===_t.__version?(_t.needsLights&&_t.lightsStateVersion!==Ka.state.version||_t.outputColorSpace!==lt||K.isBatchedMesh&&_t.batching===!1||!K.isBatchedMesh&&_t.batching===!0||K.isInstancedMesh&&_t.instancing===!1||!K.isInstancedMesh&&_t.instancing===!0||K.isSkinnedMesh&&_t.skinning===!1||!K.isSkinnedMesh&&_t.skinning===!0||K.isInstancedMesh&&_t.instancingColor===!0&&K.instanceColor===null||K.isInstancedMesh&&_t.instancingColor===!1&&K.instanceColor!==null||_t.envMap!==yt||de.fog===!0&&_t.fog!==xe||_t.numClippingPlanes!==void 0&&(_t.numClippingPlanes!==Vt.numPlanes||_t.numIntersection!==Vt.numIntersection)||_t.vertexAlphas!==xt||_t.vertexTangents!==At||_t.morphTargets!==Ft||_t.morphNormals!==Fn||_t.morphColors!==Vr||_t.toneMapping!==rn||Re.isWebGL2===!0&&_t.morphTargetsCount!==Ut)&&(xn=!0):(xn=!0,_t.__version=de.version);let Pr=_t.currentProgram;xn===!0&&(Pr=_c(de,ye,K));let Al=!1,Ja=!1,Ci=!1;const Wr=Pr.getUniforms(),Tl=_t.uniforms;if(we.useProgram(Pr.program)&&(Al=!0,Ja=!0,Ci=!0),de.id!==P&&(P=de.id,Ja=!0),Al||C!==ee){Wr.setValue(Y,"projectionMatrix",ee.projectionMatrix),Wr.setValue(Y,"viewMatrix",ee.matrixWorldInverse);const Vi=Wr.map.cameraPosition;Vi!==void 0&&Vi.setValue(Y,ce.setFromMatrixPosition(ee.matrixWorld)),Re.logarithmicDepthBuffer&&Wr.setValue(Y,"logDepthBufFC",2/(Math.log(ee.far+1)/Math.LN2)),(de.isMeshPhongMaterial||de.isMeshToonMaterial||de.isMeshLambertMaterial||de.isMeshBasicMaterial||de.isMeshStandardMaterial||de.isShaderMaterial)&&Wr.setValue(Y,"isOrthographic",ee.isOrthographicCamera===!0),C!==ee&&(C=ee,Ja=!0,Ci=!0)}if(K.isSkinnedMesh){Wr.setOptional(Y,K,"bindMatrix"),Wr.setOptional(Y,K,"bindMatrixInverse");const Vi=K.skeleton;Vi&&(Re.floatVertexTextures?(Vi.boneTexture===null&&Vi.computeBoneTexture(),Wr.setValue(Y,"boneTexture",Vi.boneTexture,Q)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}K.isBatchedMesh&&(Wr.setOptional(Y,K,"batchingTexture"),Wr.setValue(Y,"batchingTexture",K._matricesTexture,Q));const Hp=Ae.morphAttributes;if((Hp.position!==void 0||Hp.normal!==void 0||Hp.color!==void 0&&Re.isWebGL2===!0)&&Kt.update(K,Ae,Pr),(Ja||_t.receiveShadow!==K.receiveShadow)&&(_t.receiveShadow=K.receiveShadow,Wr.setValue(Y,"receiveShadow",K.receiveShadow)),de.isMeshGouraudMaterial&&de.envMap!==null&&(Tl.envMap.value=yt,Tl.flipEnvMap.value=yt.isCubeTexture&&yt.isRenderTargetTexture===!1?-1:1),Ja&&(Wr.setValue(Y,"toneMappingExposure",b.toneMappingExposure),_t.needsLights&&$p(Tl,Ci),xe&&de.fog===!0&&We.refreshFogUniforms(Tl,xe),We.refreshMaterialUniforms(Tl,de,W,z,ie),WN.upload(Y,Tu(_t),Tl,Q)),de.isShaderMaterial&&de.uniformsNeedUpdate===!0&&(WN.upload(Y,Tu(_t),Tl,Q),de.uniformsNeedUpdate=!1),de.isSpriteMaterial&&Wr.setValue(Y,"center",K.center),Wr.setValue(Y,"modelViewMatrix",K.modelViewMatrix),Wr.setValue(Y,"normalMatrix",K.normalMatrix),Wr.setValue(Y,"modelMatrix",K.matrixWorld),de.isShaderMaterial||de.isRawShaderMaterial){const Vi=de.uniformsGroups;for(let Wp=0,ga=Vi.length;Wp<ga;Wp++)if(Re.isWebGL2){const m_=Vi[Wp];Be.update(m_,Pr),Be.bind(m_,Pr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Pr}function $p(ee,ye){ee.ambientLightColor.needsUpdate=ye,ee.lightProbe.needsUpdate=ye,ee.directionalLights.needsUpdate=ye,ee.directionalLightShadows.needsUpdate=ye,ee.pointLights.needsUpdate=ye,ee.pointLightShadows.needsUpdate=ye,ee.spotLights.needsUpdate=ye,ee.spotLightShadows.needsUpdate=ye,ee.rectAreaLights.needsUpdate=ye,ee.hemisphereLights.needsUpdate=ye}function Vp(ee){return ee.isMeshLambertMaterial||ee.isMeshToonMaterial||ee.isMeshPhongMaterial||ee.isMeshStandardMaterial||ee.isShadowMaterial||ee.isShaderMaterial&&ee.lights===!0}this.getActiveCubeFace=function(){return j},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(ee,ye,Ae){qe.get(ee.texture).__webglTexture=ye,qe.get(ee.depthTexture).__webglTexture=Ae;const de=qe.get(ee);de.__hasExternalTextures=!0,de.__hasExternalTextures&&(de.__autoAllocateDepthBuffer=Ae===void 0,de.__autoAllocateDepthBuffer||ve.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),de.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ee,ye){const Ae=qe.get(ee);Ae.__webglFramebuffer=ye,Ae.__useDefaultFramebuffer=ye===void 0},this.setRenderTarget=function(ee,ye=0,Ae=0){T=ee,j=ye,E=Ae;let de=!0,K=null,xe=!1,Le=!1;if(ee){const yt=qe.get(ee);yt.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(Y.FRAMEBUFFER,null),de=!1):yt.__webglFramebuffer===void 0?Q.setupRenderTarget(ee):yt.__hasExternalTextures&&Q.rebindTextures(ee,qe.get(ee.texture).__webglTexture,qe.get(ee.depthTexture).__webglTexture);const xt=ee.texture;(xt.isData3DTexture||xt.isDataArrayTexture||xt.isCompressedArrayTexture)&&(Le=!0);const At=qe.get(ee).__webglFramebuffer;ee.isWebGLCubeRenderTarget?(Array.isArray(At[ye])?K=At[ye][Ae]:K=At[ye],xe=!0):Re.isWebGL2&&ee.samples>0&&Q.useMultisampledRTT(ee)===!1?K=qe.get(ee).__webglMultisampledFramebuffer:Array.isArray(At)?K=At[Ae]:K=At,R.copy(ee.viewport),I.copy(ee.scissor),D=ee.scissorTest}else R.copy(H).multiplyScalar(W).floor(),I.copy(G).multiplyScalar(W).floor(),D=X;if(we.bindFramebuffer(Y.FRAMEBUFFER,K)&&Re.drawBuffers&&de&&we.drawBuffers(ee,K),we.viewport(R),we.scissor(I),we.setScissorTest(D),xe){const yt=qe.get(ee.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+ye,yt.__webglTexture,Ae)}else if(Le){const yt=qe.get(ee.texture),xt=ye||0;Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,yt.__webglTexture,Ae||0,xt)}P=-1},this.readRenderTargetPixels=function(ee,ye,Ae,de,K,xe,Le){if(!(ee&&ee.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let lt=qe.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&Le!==void 0&&(lt=lt[Le]),lt){we.bindFramebuffer(Y.FRAMEBUFFER,lt);try{const yt=ee.texture,xt=yt.format,At=yt.type;if(xt!==Rs&&it.convert(xt)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ft=At===uv&&(ve.has("EXT_color_buffer_half_float")||Re.isWebGL2&&ve.has("EXT_color_buffer_float"));if(At!==nc&&it.convert(At)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_TYPE)&&!(At===ol&&(Re.isWebGL2||ve.has("OES_texture_float")||ve.has("WEBGL_color_buffer_float")))&&!Ft){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=ee.width-de&&Ae>=0&&Ae<=ee.height-K&&Y.readPixels(ye,Ae,de,K,it.convert(xt),it.convert(At),xe)}finally{const yt=T!==null?qe.get(T).__webglFramebuffer:null;we.bindFramebuffer(Y.FRAMEBUFFER,yt)}}},this.copyFramebufferToTexture=function(ee,ye,Ae=0){const de=Math.pow(2,-Ae),K=Math.floor(ye.image.width*de),xe=Math.floor(ye.image.height*de);Q.setTexture2D(ye,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,Ae,0,0,ee.x,ee.y,K,xe),we.unbindTexture()},this.copyTextureToTexture=function(ee,ye,Ae,de=0){const K=ye.image.width,xe=ye.image.height,Le=it.convert(Ae.format),lt=it.convert(Ae.type);Q.setTexture2D(Ae,0),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,Ae.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ae.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,Ae.unpackAlignment),ye.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,de,ee.x,ee.y,K,xe,Le,lt,ye.image.data):ye.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,de,ee.x,ee.y,ye.mipmaps[0].width,ye.mipmaps[0].height,Le,ye.mipmaps[0].data):Y.texSubImage2D(Y.TEXTURE_2D,de,ee.x,ee.y,Le,lt,ye.image),de===0&&Ae.generateMipmaps&&Y.generateMipmap(Y.TEXTURE_2D),we.unbindTexture()},this.copyTextureToTexture3D=function(ee,ye,Ae,de,K=0){if(b.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const xe=ee.max.x-ee.min.x+1,Le=ee.max.y-ee.min.y+1,lt=ee.max.z-ee.min.z+1,yt=it.convert(de.format),xt=it.convert(de.type);let At;if(de.isData3DTexture)Q.setTexture3D(de,0),At=Y.TEXTURE_3D;else if(de.isDataArrayTexture||de.isCompressedArrayTexture)Q.setTexture2DArray(de,0),At=Y.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,de.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,de.unpackAlignment);const Ft=Y.getParameter(Y.UNPACK_ROW_LENGTH),Fn=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),Vr=Y.getParameter(Y.UNPACK_SKIP_PIXELS),rn=Y.getParameter(Y.UNPACK_SKIP_ROWS),Hr=Y.getParameter(Y.UNPACK_SKIP_IMAGES),Ut=Ae.isCompressedTexture?Ae.mipmaps[K]:Ae.image;Y.pixelStorei(Y.UNPACK_ROW_LENGTH,Ut.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,Ut.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,ee.min.x),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,ee.min.y),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,ee.min.z),Ae.isDataTexture||Ae.isData3DTexture?Y.texSubImage3D(At,K,ye.x,ye.y,ye.z,xe,Le,lt,yt,xt,Ut.data):Ae.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Y.compressedTexSubImage3D(At,K,ye.x,ye.y,ye.z,xe,Le,lt,yt,Ut.data)):Y.texSubImage3D(At,K,ye.x,ye.y,ye.z,xe,Le,lt,yt,xt,Ut),Y.pixelStorei(Y.UNPACK_ROW_LENGTH,Ft),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,Fn),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,Vr),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,rn),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Hr),K===0&&de.generateMipmaps&&Y.generateMipmap(At),we.unbindTexture()},this.initTexture=function(ee){ee.isCubeTexture?Q.setTextureCube(ee,0):ee.isData3DTexture?Q.setTexture3D(ee,0):ee.isDataArrayTexture||ee.isCompressedArrayTexture?Q.setTexture2DArray(ee,0):Q.setTexture2D(ee,0),we.unbindTexture()},this.resetState=function(){j=0,E=0,T=null,we.reset(),se.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ll}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===cT?"display-p3":"srgb",n.unpackColorSpace=Vn.workingColorSpace===$w?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===xi?kd:m5}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===kd?xi:fc}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class wne extends E5{}wne.prototype.isWebGL1Renderer=!0;class fT{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new gt(e),this.density=n}clone(){return new fT(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class hT{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new gt(e),this.near=n,this.far=r}clone(){return new hT(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let A5=class extends In{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}};class pT{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=bb,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Ua()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ua()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ua()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Es=new ne;class fp{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Es.fromBufferAttribute(this,n),Es.applyMatrix4(e),this.setXYZ(n,Es.x,Es.y,Es.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Es.fromBufferAttribute(this,n),Es.applyNormalMatrix(e),this.setXYZ(n,Es.x,Es.y,Es.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Es.fromBufferAttribute(this,n),Es.transformDirection(e),this.setXYZ(n,Es.x,Es.y,Es.z);return this}setX(e,n){return this.normalized&&(n=fn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=fn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=aa(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=aa(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=aa(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=aa(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=fn(n,this.array),r=fn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=fn(n,this.array),r=fn(r,this.array),i=fn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=fn(n,this.array),r=fn(r,this.array),i=fn(i,this.array),s=fn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Gn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new fp(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class T5 extends Ss{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new gt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Em;const ux=new ne,Am=new ne,Tm=new ne,Cm=new Fe,dx=new Fe,_ne=new Jt,mS=new ne,fx=new ne,gS=new ne,Q8=new Fe,CP=new Fe,Z8=new Fe;class Sne extends In{constructor(e=new T5){if(super(),this.isSprite=!0,this.type="Sprite",Em===void 0){Em=new vn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new pT(n,5);Em.setIndex([0,1,2,0,2,3]),Em.setAttribute("position",new fp(r,3,0,!1)),Em.setAttribute("uv",new fp(r,2,3,!1))}this.geometry=Em,this.material=e,this.center=new Fe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Am.setFromMatrixScale(this.matrixWorld),_ne.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Tm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Am.multiplyScalar(-Tm.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;vS(mS.set(-.5,-.5,0),Tm,o,Am,i,s),vS(fx.set(.5,-.5,0),Tm,o,Am,i,s),vS(gS.set(.5,.5,0),Tm,o,Am,i,s),Q8.set(0,0),CP.set(1,0),Z8.set(1,1);let l=e.ray.intersectTriangle(mS,fx,gS,!1,ux);if(l===null&&(vS(fx.set(-.5,.5,0),Tm,o,Am,i,s),CP.set(0,1),l=e.ray.intersectTriangle(mS,gS,fx,!1,ux),l===null))return;const c=e.ray.origin.distanceTo(ux);c<e.near||c>e.far||n.push({distance:c,point:ux.clone(),uv:sa.getInterpolation(ux,mS,fx,gS,Q8,CP,Z8,new Fe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function vS(t,e,n,r,i,s){Cm.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(dx.x=s*Cm.x-i*Cm.y,dx.y=i*Cm.x+s*Cm.y):dx.copy(Cm),t.copy(e),t.x+=dx.x,t.y+=dx.y,t.applyMatrix4(_ne)}const yS=new ne,eH=new ne;class Nne extends In{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){yS.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(yS);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){yS.setFromMatrixPosition(e.matrixWorld),eH.setFromMatrixPosition(this.matrixWorld);const r=yS.distanceTo(eH)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const tH=new ne,nH=new Hn,rH=new Hn,vRe=new ne,iH=new Jt,xS=new ne,MP=new ys,sH=new Jt,PP=new Cp;class jne extends Si{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=ok,this.bindMatrix=new Jt,this.bindMatrixInverse=new Jt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new zs),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,xS),this.boundingBox.expandByPoint(xS)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ys),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,xS),this.boundingSphere.expandByPoint(xS)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),MP.copy(this.boundingSphere),MP.applyMatrix4(i),e.ray.intersectsSphere(MP)!==!1&&(sH.copy(i).invert(),PP.copy(e.ray).applyMatrix4(sH),!(this.boundingBox!==null&&PP.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,PP)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Hn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===ok?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Dte?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;nH.fromBufferAttribute(i.attributes.skinIndex,e),rH.fromBufferAttribute(i.attributes.skinWeight,e),tH.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=rH.getComponent(s);if(o!==0){const l=nH.getComponent(s);iH.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),n.addScaledVector(vRe.copy(tH).applyMatrix4(iH),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class C5 extends In{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Yh extends ti{constructor(e=null,n=1,r=1,i,s,o,l,c,u=Yr,d=Yr,f,h){super(null,o,l,c,u,d,i,s,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const aH=new Jt,yRe=new Jt;let Ene=class Ane{constructor(e=[],n=[]){this.uuid=Ua(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Jt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Jt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const l=e[s]?e[s].matrixWorld:yRe;aH.multiplyMatrices(l,n[s]),aH.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Ane(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Yh(n,e,e,Rs,ol);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new C5),this.bones.push(o),this.boneInverses.push(new Jt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const l=r[i];e.boneInverses.push(l.toArray())}return e}};class pv extends Gn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Mm=new Jt,oH=new Jt,bS=[],lH=new zs,xRe=new Jt,hx=new Si,px=new ys;class Tne extends Si{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new pv(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,xRe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new zs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Mm),lH.copy(e.boundingBox).applyMatrix4(Mm),this.boundingBox.union(lH)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ys),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Mm),px.copy(e.boundingSphere).applyMatrix4(Mm),this.boundingSphere.union(px)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(hx.geometry=this.geometry,hx.material=this.material,hx.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),px.copy(this.boundingSphere),px.applyMatrix4(r),e.ray.intersectsSphere(px)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Mm),oH.multiplyMatrices(r,Mm),hx.matrixWorld=oH,hx.raycast(e,bS);for(let o=0,l=bS.length;o<l;o++){const c=bS[o];c.instanceId=s,c.object=this,n.push(c)}bS.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new pv(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function bRe(t,e){return t.z-e.z}function wRe(t,e){return e.z-t.z}class _Re{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const Pm="batchId",Gu=new Jt,cH=new Jt,SRe=new Jt,uH=new Jt,RP=new Gw,wS=new zs,$f=new ys,mx=new ne,OP=new _Re,us=new Si,_S=[];function NRe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class Cne extends Si{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new vn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Yh(n,e,e,Rs,ol);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const l in e.attributes){const c=e.getAttribute(l),{array:u,itemSize:d,normalized:f}=c,h=new u.constructor(r*d),p=new c.constructor(h,d,f);p.setUsage(c.usage),n.setAttribute(l,p)}if(e.getIndex()!==null){const l=r>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new Gn(l,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(Pm,new Gn(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Pm))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Pm}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===Pm)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zs);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Gu),this.getBoundingBoxAt(i,wS).applyMatrix4(Gu),n.union(wS))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ys);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Gu),this.getBoundingSphereAt(i,$f).applyMatrix4(Gu),n.union($f))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,l=this._drawRanges,c=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const u=e.getIndex(),d=u!==null;if(d&&(r===-1?i.indexCount=u.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,h=this._active,p=this._matricesTexture,m=this._matricesTexture.image.data;f.push(!0),h.push(!0);const g=this._geometryCount;this._geometryCount++,SRe.toArray(m,g*16),p.needsUpdate=!0,o.push(i),l.push({start:d?i.indexStart:i.vertexStart,count:-1}),c.push({boxInitialized:!1,box:new zs,sphereInitialized:!1,sphere:new ys});const y=this.geometry.getAttribute(Pm);for(let v=0;v<i.vertexCount;v++)y.setX(i.vertexStart+v,g);return y.needsUpdate=!0,this.setGeometryAt(g,e),g}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),l=this._reservedRanges[e];if(i&&o.count>l.indexCount||n.attributes.position.count>l.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const c=l.vertexStart,u=l.vertexCount;for(const p in r.attributes){if(p===Pm)continue;const m=n.getAttribute(p),g=r.getAttribute(p);NRe(m,g,c);const y=m.itemSize;for(let v=m.count,w=u;v<w;v++){const b=c+v;for(let S=0;S<y;S++)g.setComponent(b,S,0)}g.needsUpdate=!0}if(i){const p=l.indexStart;for(let m=0;m<o.count;m++)s.setX(p+m,c+o.getX(m));for(let m=o.count,g=l.indexCount;m<g;m++)s.setX(p+m,c);s.needsUpdate=!0}const d=this._bounds[e];n.boundingBox!==null?(d.box.copy(n.boundingBox),d.boxInitialized=!0):d.boxInitialized=!1,n.boundingSphere!==null?(d.sphere.copy(n.boundingSphere),d.sphereInitialized=!0):d.sphereInitialized=!1;const f=this._drawRanges[e],h=n.getAttribute("position");return f.count=i?o.count:h.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const l=o.index,c=o.attributes.position,u=this._drawRanges[e];for(let d=u.start,f=u.start+u.count;d<f;d++){let h=d;l&&(h=l.getX(h)),s.expandByPoint(mx.fromBufferAttribute(c,h))}i.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,wS),wS.getCenter(s.center);const l=o.index,c=o.attributes.position,u=this._drawRanges[e];let d=0;for(let f=u.start,h=u.start+u.count;f<h;f++){let p=f;l&&(p=l.getX(p)),mx.fromBufferAttribute(c,p),d=Math.max(d,s.center.distanceToSquared(mx))}s.radius=Math.sqrt(d),i.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,l=this.matrixWorld,c=this.geometry;us.material=this.material,us.geometry.index=c.index,us.geometry.attributes=c.attributes,us.geometry.boundingBox===null&&(us.geometry.boundingBox=new zs),us.geometry.boundingSphere===null&&(us.geometry.boundingSphere=new ys);for(let u=0;u<o;u++){if(!r[u]||!i[u])continue;const d=s[u];us.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(u,us.matrixWorld).premultiply(l),this.getBoundingBoxAt(u,us.geometry.boundingBox),this.getBoundingSphereAt(u,us.geometry.boundingSphere),us.raycast(e,_S);for(let f=0,h=_S.length;f<h;f++){const p=_S[f];p.object=this,p.batchId=u,n.push(p)}_S.length=0}us.material=null,us.geometry.index=null,us.geometry.attributes={},us.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,c=this._visibility,u=this._multiDrawStarts,d=this._multiDrawCounts,f=this._drawRanges,h=this.perObjectFrustumCulled;h&&(uH.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),RP.setFromProjectionMatrix(uH,e.isWebGPURenderer?dv:ll));let p=0;if(this.sortObjects){cH.copy(this.matrixWorld).invert(),mx.setFromMatrixPosition(r.matrixWorld).applyMatrix4(cH);for(let y=0,v=c.length;y<v;y++)if(c[y]){this.getMatrixAt(y,Gu),this.getBoundingSphereAt(y,$f).applyMatrix4(Gu);let w=!1;if(h&&(w=!RP.intersectsSphere($f)),!w){const b=mx.distanceTo($f.center);OP.push(f[y],b)}}const m=OP.list,g=this.customSort;g===null?m.sort(s.transparent?wRe:bRe):g.call(this,m,r);for(let y=0,v=m.length;y<v;y++){const w=m[y];u[p]=w.start*l,d[p]=w.count,p++}OP.reset()}else for(let m=0,g=c.length;m<g;m++)if(c[m]){let y=!1;if(h&&(this.getMatrixAt(m,Gu),this.getBoundingSphereAt(m,$f).applyMatrix4(Gu),y=!RP.intersectsSphere($f)),!y){const v=f[m];u[p]=v.start*l,d[p]=v.count,p++}}this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class qs extends Ss{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new gt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const dH=new ne,fH=new ne,hH=new Jt,IP=new Cp,SS=new ys;let Xd=class extends In{constructor(e=new vn,n=new qs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)dH.fromBufferAttribute(n,i-1),fH.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=dH.distanceTo(fH);e.setAttribute("lineDistance",new Tt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),SS.copy(r.boundingSphere),SS.applyMatrix4(i),SS.radius+=s,e.ray.intersectsSphere(SS)===!1)return;hH.copy(i).invert(),IP.copy(e.ray).applyMatrix4(hH);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=new ne,d=new ne,f=new ne,h=new ne,p=this.isLineSegments?2:1,m=r.index,y=r.attributes.position;if(m!==null){const v=Math.max(0,o.start),w=Math.min(m.count,o.start+o.count);for(let b=v,S=w-1;b<S;b+=p){const j=m.getX(b),E=m.getX(b+1);if(u.fromBufferAttribute(y,j),d.fromBufferAttribute(y,E),IP.distanceSqToSegment(u,d,h,f)>c)continue;h.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(h);P<e.near||P>e.far||n.push({distance:P,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),w=Math.min(y.count,o.start+o.count);for(let b=v,S=w-1;b<S;b+=p){if(u.fromBufferAttribute(y,b),d.fromBufferAttribute(y,b+1),IP.distanceSqToSegment(u,d,h,f)>c)continue;h.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(h);E<e.near||E>e.far||n.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}};const pH=new ne,mH=new ne;class yc extends Xd{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)pH.fromBufferAttribute(n,i),mH.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+pH.distanceTo(mH);e.setAttribute("lineDistance",new Tt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Mne extends Xd{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class M5 extends Ss{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new gt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const gH=new Jt,Fk=new Cp,NS=new ys,jS=new ne;class Pne extends In{constructor(e=new vn,n=new M5){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),NS.copy(r.boundingSphere),NS.applyMatrix4(i),NS.radius+=s,e.ray.intersectsSphere(NS)===!1)return;gH.copy(i).invert(),Fk.copy(e.ray).applyMatrix4(gH);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,o.start),p=Math.min(u.count,o.start+o.count);for(let m=h,g=p;m<g;m++){const y=u.getX(m);jS.fromBufferAttribute(f,y),vH(jS,y,c,i,e,n,this)}}else{const h=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let m=h,g=p;m<g;m++)jS.fromBufferAttribute(f,m),vH(jS,m,c,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function vH(t,e,n,r,i,s,o){const l=Fk.distanceSqToPoint(t);if(l<n){const c=new ne;Fk.closestPointToPoint(t,c),c.applyMatrix4(r);const u=i.ray.origin.distanceTo(c);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,object:o})}}class jRe extends ti{constructor(e,n,r,i,s,o,l,c,u){super(e,n,r,i,s,o,l,c,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Jr,this.magFilter=s!==void 0?s:Jr,this.generateMipmaps=!1;const d=this;function f(){d.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class ERe extends ti{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Yr,this.minFilter=Yr,this.generateMipmaps=!1,this.needsUpdate=!0}}class mT extends ti{constructor(e,n,r,i,s,o,l,c,u,d,f,h){super(null,o,l,c,u,d,i,s,f,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class ARe extends mT{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=gs}}class TRe extends mT{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,mu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class CRe extends ti{constructor(e,n,r,i,s,o,l,c,u){super(e,n,r,i,s,o,l,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}let _l=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let l=0,c=s-1,u;for(;l<=c;)if(i=Math.floor(l+(c-l)/2),u=r[i]-o,u<0)l=i+1;else if(u>0)c=i-1;else{c=i;break}if(i=c,r[i]===o)return i/(s-1);const d=r[i],h=r[i+1]-d,p=(o-d)/h;return(i+p)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),l=this.getPoint(s),c=n||(o.isVector2?new Fe:new ne);return c.copy(l).sub(o).normalize(),c}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new ne,i=[],s=[],o=[],l=new ne,c=new Jt;for(let p=0;p<=e;p++){const m=p/e;i[p]=this.getTangentAt(m,new ne)}s[0]=new ne,o[0]=new ne;let u=Number.MAX_VALUE;const d=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);d<=u&&(u=d,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),l.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],l),o[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),l.crossVectors(i[p-1],i[p]),l.length()>Number.EPSILON){l.normalize();const m=Math.acos(Fr(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(c.makeRotationAxis(l,m))}o[p].crossVectors(i[p],s[p])}if(n===!0){let p=Math.acos(Fr(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(l.crossVectors(s[0],s[e]))>0&&(p=-p);for(let m=1;m<=e;m++)s[m].applyMatrix4(c.makeRotationAxis(i[m],p*m)),o[m].crossVectors(i[m],s[m])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class gT extends _l{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=l,this.aRotation=c}getPoint(e,n){const r=n||new Fe,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const l=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(l),u=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=c-this.aX,p=u-this.aY;c=h*d-p*f+this.aX,u=h*f+p*d+this.aY}return r.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Rne extends gT{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function P5(){let t=0,e=0,n=0,r=0;function i(s,o,l,c){t=s,e=l,n=-3*s+3*o-2*l-c,r=2*s-2*o+l+c}return{initCatmullRom:function(s,o,l,c,u){i(o,l,u*(l-s),u*(c-o))},initNonuniformCatmullRom:function(s,o,l,c,u,d,f){let h=(o-s)/u-(l-s)/(u+d)+(l-o)/d,p=(l-o)/d-(c-o)/(d+f)+(c-l)/f;h*=d,p*=d,i(o,l,h,p)},calc:function(s){const o=s*s,l=o*s;return t+e*s+n*o+r*l}}}const ES=new ne,kP=new P5,DP=new P5,LP=new P5;class One extends _l{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ne){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:c===0&&l===s-1&&(l=s-2,c=1);let u,d;this.closed||l>0?u=i[(l-1)%s]:(ES.subVectors(i[0],i[1]).add(i[0]),u=ES);const f=i[l%s],h=i[(l+1)%s];if(this.closed||l+2<s?d=i[(l+2)%s]:(ES.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=ES),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let m=Math.pow(u.distanceToSquared(f),p),g=Math.pow(f.distanceToSquared(h),p),y=Math.pow(h.distanceToSquared(d),p);g<1e-4&&(g=1),m<1e-4&&(m=g),y<1e-4&&(y=g),kP.initNonuniformCatmullRom(u.x,f.x,h.x,d.x,m,g,y),DP.initNonuniformCatmullRom(u.y,f.y,h.y,d.y,m,g,y),LP.initNonuniformCatmullRom(u.z,f.z,h.z,d.z,m,g,y)}else this.curveType==="catmullrom"&&(kP.initCatmullRom(u.x,f.x,h.x,d.x,this.tension),DP.initCatmullRom(u.y,f.y,h.y,d.y,this.tension),LP.initCatmullRom(u.z,f.z,h.z,d.z,this.tension));return r.set(kP.calc(c),DP.calc(c),LP.calc(c)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ne().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function yH(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,l=t*t,c=t*l;return(2*n-2*r+s+o)*c+(-3*n+3*r-2*s-o)*l+s*t+n}function MRe(t,e){const n=1-t;return n*n*e}function PRe(t,e){return 2*(1-t)*t*e}function RRe(t,e){return t*t*e}function y0(t,e,n,r){return MRe(t,e)+PRe(t,n)+RRe(t,r)}function ORe(t,e){const n=1-t;return n*n*n*e}function IRe(t,e){const n=1-t;return 3*n*n*t*e}function kRe(t,e){return 3*(1-t)*t*t*e}function DRe(t,e){return t*t*t*e}function x0(t,e,n,r,i){return ORe(t,e)+IRe(t,n)+kRe(t,r)+DRe(t,i)}class R5 extends _l{constructor(e=new Fe,n=new Fe,r=new Fe,i=new Fe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Fe){const r=n,i=this.v0,s=this.v1,o=this.v2,l=this.v3;return r.set(x0(e,i.x,s.x,o.x,l.x),x0(e,i.y,s.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Ine extends _l{constructor(e=new ne,n=new ne,r=new ne,i=new ne){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ne){const r=n,i=this.v0,s=this.v1,o=this.v2,l=this.v3;return r.set(x0(e,i.x,s.x,o.x,l.x),x0(e,i.y,s.y,o.y,l.y),x0(e,i.z,s.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class O5 extends _l{constructor(e=new Fe,n=new Fe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Fe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Fe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kne extends _l{constructor(e=new ne,n=new ne){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ne){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ne){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class I5 extends _l{constructor(e=new Fe,n=new Fe,r=new Fe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Fe){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(y0(e,i.x,s.x,o.x),y0(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class k5 extends _l{constructor(e=new ne,n=new ne,r=new ne){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ne){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(y0(e,i.x,s.x,o.x),y0(e,i.y,s.y,o.y),y0(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class D5 extends _l{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Fe){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),l=s-o,c=i[o===0?o:o-1],u=i[o],d=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(yH(l,c.x,u.x,d.x,f.x),yH(l,c.y,u.y,d.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Fe().fromArray(i))}return this}}var Xj=Object.freeze({__proto__:null,ArcCurve:Rne,CatmullRomCurve3:One,CubicBezierCurve:R5,CubicBezierCurve3:Ine,EllipseCurve:gT,LineCurve:O5,LineCurve3:kne,QuadraticBezierCurve:I5,QuadraticBezierCurve3:k5,SplineCurve:D5});class Dne extends _l{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Xj[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,l=this.curves[s],c=l.getLength(),u=c===0?0:1-o/c;return l.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,c=o.getPoints(l);for(let u=0;u<c.length;u++){const d=c[u];r&&r.equals(d)||(n.push(d),r=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Xj[i.type]().fromJSON(i))}return this}}let _b=class extends Dne{constructor(e){super(),this.type="Path",this.currentPoint=new Fe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new O5(this.currentPoint.clone(),new Fe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new I5(this.currentPoint.clone(),new Fe(e,n),new Fe(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const l=new R5(this.currentPoint.clone(),new Fe(e,n),new Fe(r,i),new Fe(s,o));return this.curves.push(l),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new D5(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,n+c,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,l,c){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,n+d,r,i,s,o,l,c),this}absellipse(e,n,r,i,s,o,l,c){const u=new gT(e,n,r,i,s,o,l,c);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class Xw extends vn{constructor(e=[new Fe(0,-.5),new Fe(.5,0),new Fe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Fr(i,0,Math.PI*2);const s=[],o=[],l=[],c=[],u=[],d=1/n,f=new ne,h=new Fe,p=new ne,m=new ne,g=new ne;let y=0,v=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:y=e[w+1].x-e[w].x,v=e[w+1].y-e[w].y,p.x=v*1,p.y=-y,p.z=v*0,g.copy(p),p.normalize(),c.push(p.x,p.y,p.z);break;case e.length-1:c.push(g.x,g.y,g.z);break;default:y=e[w+1].x-e[w].x,v=e[w+1].y-e[w].y,p.x=v*1,p.y=-y,p.z=v*0,m.copy(p),p.x+=g.x,p.y+=g.y,p.z+=g.z,p.normalize(),c.push(p.x,p.y,p.z),g.copy(m)}for(let w=0;w<=n;w++){const b=r+w*d*i,S=Math.sin(b),j=Math.cos(b);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*S,f.y=e[E].y,f.z=e[E].x*j,o.push(f.x,f.y,f.z),h.x=w/n,h.y=E/(e.length-1),l.push(h.x,h.y);const T=c[3*E+0]*S,P=c[3*E+1],C=c[3*E+0]*j;u.push(T,P,C)}}for(let w=0;w<n;w++)for(let b=0;b<e.length-1;b++){const S=b+w*e.length,j=S,E=S+e.length,T=S+e.length+1,P=S+1;s.push(j,E,P),s.push(T,P,E)}this.setIndex(s),this.setAttribute("position",new Tt(o,3)),this.setAttribute("uv",new Tt(l,2)),this.setAttribute("normal",new Tt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xw(e.points,e.segments,e.phiStart,e.phiLength)}}class vT extends Xw{constructor(e=1,n=1,r=4,i=8){const s=new _b;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new vT(e.radius,e.length,e.capSegments,e.radialSegments)}}class yT extends vn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],l=[],c=[],u=new ne,d=new Fe;o.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const p=r+f/n*i;u.x=e*Math.cos(p),u.y=e*Math.sin(p),o.push(u.x,u.y,u.z),l.push(0,0,1),d.x=(o[h]/e+1)/2,d.y=(o[h+1]/e+1)/2,c.push(d.x,d.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Tt(o,3)),this.setAttribute("normal",new Tt(l,3)),this.setAttribute("uv",new Tt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yT(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class dy extends vn{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:c};const u=this;i=Math.floor(i),s=Math.floor(s);const d=[],f=[],h=[],p=[];let m=0;const g=[],y=r/2;let v=0;w(),o===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(d),this.setAttribute("position",new Tt(f,3)),this.setAttribute("normal",new Tt(h,3)),this.setAttribute("uv",new Tt(p,2));function w(){const S=new ne,j=new ne;let E=0;const T=(n-e)/r;for(let P=0;P<=s;P++){const C=[],R=P/s,I=R*(n-e)+e;for(let D=0;D<=i;D++){const V=D/i,U=V*c+l,$=Math.sin(U),z=Math.cos(U);j.x=I*$,j.y=-R*r+y,j.z=I*z,f.push(j.x,j.y,j.z),S.set($,T,z).normalize(),h.push(S.x,S.y,S.z),p.push(V,1-R),C.push(m++)}g.push(C)}for(let P=0;P<i;P++)for(let C=0;C<s;C++){const R=g[C][P],I=g[C+1][P],D=g[C+1][P+1],V=g[C][P+1];d.push(R,I,V),d.push(I,D,V),E+=6}u.addGroup(v,E,0),v+=E}function b(S){const j=m,E=new Fe,T=new ne;let P=0;const C=S===!0?e:n,R=S===!0?1:-1;for(let D=1;D<=i;D++)f.push(0,y*R,0),h.push(0,R,0),p.push(.5,.5),m++;const I=m;for(let D=0;D<=i;D++){const U=D/i*c+l,$=Math.cos(U),z=Math.sin(U);T.x=C*z,T.y=y*R,T.z=C*$,f.push(T.x,T.y,T.z),h.push(0,R,0),E.x=$*.5+.5,E.y=z*.5*R+.5,p.push(E.x,E.y),m++}for(let D=0;D<i;D++){const V=j+D,U=I+D;S===!0?d.push(U,U+1,V):d.push(U+1,U,V),P+=3}u.addGroup(v,P,S===!0?1:2),v+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dy(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class xT extends dy{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,l=Math.PI*2){super(0,e,n,r,i,s,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:l}}static fromJSON(e){return new xT(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ff extends vn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];l(i),u(r),d(),this.setAttribute("position",new Tt(s,3)),this.setAttribute("normal",new Tt(s.slice(),3)),this.setAttribute("uv",new Tt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function l(w){const b=new ne,S=new ne,j=new ne;for(let E=0;E<n.length;E+=3)p(n[E+0],b),p(n[E+1],S),p(n[E+2],j),c(b,S,j,w)}function c(w,b,S,j){const E=j+1,T=[];for(let P=0;P<=E;P++){T[P]=[];const C=w.clone().lerp(S,P/E),R=b.clone().lerp(S,P/E),I=E-P;for(let D=0;D<=I;D++)D===0&&P===E?T[P][D]=C:T[P][D]=C.clone().lerp(R,D/I)}for(let P=0;P<E;P++)for(let C=0;C<2*(E-P)-1;C++){const R=Math.floor(C/2);C%2===0?(h(T[P][R+1]),h(T[P+1][R]),h(T[P][R])):(h(T[P][R+1]),h(T[P+1][R+1]),h(T[P+1][R]))}}function u(w){const b=new ne;for(let S=0;S<s.length;S+=3)b.x=s[S+0],b.y=s[S+1],b.z=s[S+2],b.normalize().multiplyScalar(w),s[S+0]=b.x,s[S+1]=b.y,s[S+2]=b.z}function d(){const w=new ne;for(let b=0;b<s.length;b+=3){w.x=s[b+0],w.y=s[b+1],w.z=s[b+2];const S=y(w)/2/Math.PI+.5,j=v(w)/Math.PI+.5;o.push(S,1-j)}m(),f()}function f(){for(let w=0;w<o.length;w+=6){const b=o[w+0],S=o[w+2],j=o[w+4],E=Math.max(b,S,j),T=Math.min(b,S,j);E>.9&&T<.1&&(b<.2&&(o[w+0]+=1),S<.2&&(o[w+2]+=1),j<.2&&(o[w+4]+=1))}}function h(w){s.push(w.x,w.y,w.z)}function p(w,b){const S=w*3;b.x=e[S+0],b.y=e[S+1],b.z=e[S+2]}function m(){const w=new ne,b=new ne,S=new ne,j=new ne,E=new Fe,T=new Fe,P=new Fe;for(let C=0,R=0;C<s.length;C+=9,R+=6){w.set(s[C+0],s[C+1],s[C+2]),b.set(s[C+3],s[C+4],s[C+5]),S.set(s[C+6],s[C+7],s[C+8]),E.set(o[R+0],o[R+1]),T.set(o[R+2],o[R+3]),P.set(o[R+4],o[R+5]),j.copy(w).add(b).add(S).divideScalar(3);const I=y(j);g(E,R+0,w,I),g(T,R+2,b,I),g(P,R+4,S,I)}}function g(w,b,S,j){j<0&&w.x===1&&(o[b]=w.x-1),S.x===0&&S.z===0&&(o[b]=j/2/Math.PI+.5)}function y(w){return Math.atan2(w.z,-w.x)}function v(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ff(e.vertices,e.indices,e.radius,e.details)}}class bT extends ff{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new bT(e.radius,e.detail)}}const AS=new ne,TS=new ne,FP=new ne,CS=new sa;class Lne extends vn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(qh*n),o=e.getIndex(),l=e.getAttribute("position"),c=o?o.count:l.count,u=[0,0,0],d=["a","b","c"],f=new Array(3),h={},p=[];for(let m=0;m<c;m+=3){o?(u[0]=o.getX(m),u[1]=o.getX(m+1),u[2]=o.getX(m+2)):(u[0]=m,u[1]=m+1,u[2]=m+2);const{a:g,b:y,c:v}=CS;if(g.fromBufferAttribute(l,u[0]),y.fromBufferAttribute(l,u[1]),v.fromBufferAttribute(l,u[2]),CS.getNormal(FP),f[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let w=0;w<3;w++){const b=(w+1)%3,S=f[w],j=f[b],E=CS[d[w]],T=CS[d[b]],P=`${S}_${j}`,C=`${j}_${S}`;C in h&&h[C]?(FP.dot(h[C].normal)<=s&&(p.push(E.x,E.y,E.z),p.push(T.x,T.y,T.z)),h[C]=null):P in h||(h[P]={index0:u[w],index1:u[b],normal:FP.clone()})}}for(const m in h)if(h[m]){const{index0:g,index1:y}=h[m];AS.fromBufferAttribute(l,g),TS.fromBufferAttribute(l,y),p.push(AS.x,AS.y,AS.z),p.push(TS.x,TS.y,TS.z)}this.setAttribute("position",new Tt(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Kh=class extends _b{constructor(e){super(e),this.uuid=Ua(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new _b().fromJSON(i))}return this}};const LRe={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=Fne(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let l,c,u,d,f,h,p;if(r&&(s=$Re(t,e,s,n)),t.length>80*n){l=u=t[0],c=d=t[1];for(let m=n;m<i;m+=n)f=t[m],h=t[m+1],f<l&&(l=f),h<c&&(c=h),f>u&&(u=f),h>d&&(d=h);p=Math.max(u-l,d-c),p=p!==0?32767/p:0}return Sb(s,o,n,l,c,p,0),o}};function Fne(t,e,n,r,i){let s,o;if(i===ZRe(t,e,n,r)>0)for(s=e;s<n;s+=r)o=xH(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=xH(s,t[s],t[s+1],o);return o&&wT(o,o.next)&&(jb(o),o=o.next),o}function hp(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(wT(n,n.next)||Ar(n.prev,n,n.next)===0)){if(jb(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Sb(t,e,n,r,i,s,o){if(!t)return;!o&&s&&qRe(t,r,i,s);let l=t,c,u;for(;t.prev!==t.next;){if(c=t.prev,u=t.next,s?URe(t,r,i,s):FRe(t)){e.push(c.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),jb(t),t=u.next,l=u.next;continue}if(t=u,t===l){o?o===1?(t=BRe(hp(t),e,n),Sb(t,e,n,r,i,s,2)):o===2&&zRe(t,e,n,r,i,s):Sb(hp(t),e,n,r,i,s,1);break}}}function FRe(t){const e=t.prev,n=t,r=t.next;if(Ar(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,l=e.y,c=n.y,u=r.y,d=i<s?i<o?i:o:s<o?s:o,f=l<c?l<u?l:u:c<u?c:u,h=i>s?i>o?i:o:s>o?s:o,p=l>c?l>u?l:u:c>u?c:u;let m=r.next;for(;m!==e;){if(m.x>=d&&m.x<=h&&m.y>=f&&m.y<=p&&pg(i,l,s,c,o,u,m.x,m.y)&&Ar(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function URe(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Ar(i,s,o)>=0)return!1;const l=i.x,c=s.x,u=o.x,d=i.y,f=s.y,h=o.y,p=l<c?l<u?l:u:c<u?c:u,m=d<f?d<h?d:h:f<h?f:h,g=l>c?l>u?l:u:c>u?c:u,y=d>f?d>h?d:h:f>h?f:h,v=Uk(p,m,e,n,r),w=Uk(g,y,e,n,r);let b=t.prevZ,S=t.nextZ;for(;b&&b.z>=v&&S&&S.z<=w;){if(b.x>=p&&b.x<=g&&b.y>=m&&b.y<=y&&b!==i&&b!==o&&pg(l,d,c,f,u,h,b.x,b.y)&&Ar(b.prev,b,b.next)>=0||(b=b.prevZ,S.x>=p&&S.x<=g&&S.y>=m&&S.y<=y&&S!==i&&S!==o&&pg(l,d,c,f,u,h,S.x,S.y)&&Ar(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;b&&b.z>=v;){if(b.x>=p&&b.x<=g&&b.y>=m&&b.y<=y&&b!==i&&b!==o&&pg(l,d,c,f,u,h,b.x,b.y)&&Ar(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;S&&S.z<=w;){if(S.x>=p&&S.x<=g&&S.y>=m&&S.y<=y&&S!==i&&S!==o&&pg(l,d,c,f,u,h,S.x,S.y)&&Ar(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function BRe(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!wT(i,s)&&Une(i,r,r.next,s)&&Nb(i,s)&&Nb(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),jb(r),jb(r.next),r=t=s),r=r.next}while(r!==t);return hp(r)}function zRe(t,e,n,r,i,s){let o=t;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&KRe(o,l)){let c=Bne(o,l);o=hp(o,o.next),c=hp(c,c.next),Sb(o,e,n,r,i,s,0),Sb(c,e,n,r,i,s,0);return}l=l.next}o=o.next}while(o!==t)}function $Re(t,e,n,r){const i=[];let s,o,l,c,u;for(s=0,o=e.length;s<o;s++)l=e[s]*r,c=s<o-1?e[s+1]*r:t.length,u=Fne(t,l,c,r,!1),u===u.next&&(u.steiner=!0),i.push(YRe(u));for(i.sort(VRe),s=0;s<i.length;s++)n=HRe(i[s],n);return n}function VRe(t,e){return t.x-e.x}function HRe(t,e){const n=WRe(t,e);if(!n)return e;const r=Bne(n,t);return hp(r,r.next),hp(n,n.next)}function WRe(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const h=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=s&&h>r&&(r=h,i=n.x<n.next.x?n:n.next,h===s))return i}n=n.next}while(n!==e);if(!i)return null;const l=i,c=i.x,u=i.y;let d=1/0,f;n=i;do s>=n.x&&n.x>=c&&s!==n.x&&pg(o<u?s:r,o,c,u,o<u?r:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),Nb(n,t)&&(f<d||f===d&&(n.x>i.x||n.x===i.x&&GRe(i,n)))&&(i=n,d=f)),n=n.next;while(n!==l);return i}function GRe(t,e){return Ar(t.prev,t,e.prev)<0&&Ar(e.next,t,t.next)<0}function qRe(t,e,n,r){let i=t;do i.z===0&&(i.z=Uk(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,XRe(i)}function XRe(t){let e,n,r,i,s,o,l,c,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,l=0,e=0;e<u&&(l++,r=r.nextZ,!!r);e++);for(c=u;l>0||c>0&&r;)l!==0&&(c===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function Uk(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function YRe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function pg(t,e,n,r,i,s,o,l){return(i-o)*(e-l)>=(t-o)*(s-l)&&(t-o)*(r-l)>=(n-o)*(e-l)&&(n-o)*(s-l)>=(i-o)*(r-l)}function KRe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!JRe(t,e)&&(Nb(t,e)&&Nb(e,t)&&QRe(t,e)&&(Ar(t.prev,t,e.prev)||Ar(t,e.prev,e))||wT(t,e)&&Ar(t.prev,t,t.next)>0&&Ar(e.prev,e,e.next)>0)}function Ar(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function wT(t,e){return t.x===e.x&&t.y===e.y}function Une(t,e,n,r){const i=PS(Ar(t,e,n)),s=PS(Ar(t,e,r)),o=PS(Ar(n,r,t)),l=PS(Ar(n,r,e));return!!(i!==s&&o!==l||i===0&&MS(t,n,e)||s===0&&MS(t,r,e)||o===0&&MS(n,t,r)||l===0&&MS(n,e,r))}function MS(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function PS(t){return t>0?1:t<0?-1:0}function JRe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Une(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Nb(t,e){return Ar(t.prev,t,t.next)<0?Ar(t,e,t.next)>=0&&Ar(t,t.prev,e)>=0:Ar(t,e,t.prev)<0||Ar(t,t.next,e)<0}function QRe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Bne(t,e){const n=new Bk(t.i,t.x,t.y),r=new Bk(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function xH(t,e,n,r){const i=new Bk(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function jb(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Bk(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ZRe(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class rc{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return rc.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];bH(e),wH(r,e);let o=e.length;n.forEach(bH);for(let c=0;c<n.length;c++)i.push(o),o+=n[c].length,wH(r,n[c]);const l=LRe.triangulate(r,i);for(let c=0;c<l.length;c+=3)s.push(l.slice(c,c+3));return s}}function bH(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function wH(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class _T extends vn{constructor(e=new Kh([new Fe(.5,.5),new Fe(-.5,.5),new Fe(-.5,-.5),new Fe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let l=0,c=e.length;l<c;l++){const u=e[l];o(u)}this.setAttribute("position",new Tt(i,3)),this.setAttribute("uv",new Tt(s,2)),this.computeVertexNormals();function o(l){const c=[],u=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,p=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:p-.1,g=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:eOe;let b,S=!1,j,E,T,P;v&&(b=v.getSpacedPoints(d),S=!0,h=!1,j=v.computeFrenetFrames(d,!1),E=new ne,T=new ne,P=new ne),h||(y=0,p=0,m=0,g=0);const C=l.extractPoints(u);let R=C.shape;const I=C.holes;if(!rc.isClockWise(R)){R=R.reverse();for(let Y=0,Ee=I.length;Y<Ee;Y++){const ve=I[Y];rc.isClockWise(ve)&&(I[Y]=ve.reverse())}}const V=rc.triangulateShape(R,I),U=R;for(let Y=0,Ee=I.length;Y<Ee;Y++){const ve=I[Y];R=R.concat(ve)}function $(Y,Ee,ve){return Ee||console.error("THREE.ExtrudeGeometry: vec does not exist"),Y.clone().addScaledVector(Ee,ve)}const z=R.length,W=V.length;function k(Y,Ee,ve){let Re,we,rt;const qe=Y.x-Ee.x,Q=Y.y-Ee.y,q=ve.x-Y.x,pe=ve.y-Y.y,ze=qe*qe+Q*Q,Ue=qe*pe-Q*q;if(Math.abs(Ue)>Number.EPSILON){const ke=Math.sqrt(ze),dt=Math.sqrt(q*q+pe*pe),We=Ee.x-Q/ke,tt=Ee.y+qe/ke,Et=ve.x-pe/dt,Vt=ve.y+q/dt,$e=((Et-We)*pe-(Vt-tt)*q)/(qe*pe-Q*q);Re=We+qe*$e-Y.x,we=tt+Q*$e-Y.y;const on=Re*Re+we*we;if(on<=2)return new Fe(Re,we);rt=Math.sqrt(on/2)}else{let ke=!1;qe>Number.EPSILON?q>Number.EPSILON&&(ke=!0):qe<-Number.EPSILON?q<-Number.EPSILON&&(ke=!0):Math.sign(Q)===Math.sign(pe)&&(ke=!0),ke?(Re=-Q,we=qe,rt=Math.sqrt(ze)):(Re=qe,we=Q,rt=Math.sqrt(ze/2))}return new Fe(Re/rt,we/rt)}const L=[];for(let Y=0,Ee=U.length,ve=Ee-1,Re=Y+1;Y<Ee;Y++,ve++,Re++)ve===Ee&&(ve=0),Re===Ee&&(Re=0),L[Y]=k(U[Y],U[ve],U[Re]);const H=[];let G,X=L.concat();for(let Y=0,Ee=I.length;Y<Ee;Y++){const ve=I[Y];G=[];for(let Re=0,we=ve.length,rt=we-1,qe=Re+1;Re<we;Re++,rt++,qe++)rt===we&&(rt=0),qe===we&&(qe=0),G[Re]=k(ve[Re],ve[rt],ve[qe]);H.push(G),X=X.concat(G)}for(let Y=0;Y<y;Y++){const Ee=Y/y,ve=p*Math.cos(Ee*Math.PI/2),Re=m*Math.sin(Ee*Math.PI/2)+g;for(let we=0,rt=U.length;we<rt;we++){const qe=$(U[we],L[we],Re);ae(qe.x,qe.y,-ve)}for(let we=0,rt=I.length;we<rt;we++){const qe=I[we];G=H[we];for(let Q=0,q=qe.length;Q<q;Q++){const pe=$(qe[Q],G[Q],Re);ae(pe.x,pe.y,-ve)}}}const Z=m+g;for(let Y=0;Y<z;Y++){const Ee=h?$(R[Y],X[Y],Z):R[Y];S?(T.copy(j.normals[0]).multiplyScalar(Ee.x),E.copy(j.binormals[0]).multiplyScalar(Ee.y),P.copy(b[0]).add(T).add(E),ae(P.x,P.y,P.z)):ae(Ee.x,Ee.y,0)}for(let Y=1;Y<=d;Y++)for(let Ee=0;Ee<z;Ee++){const ve=h?$(R[Ee],X[Ee],Z):R[Ee];S?(T.copy(j.normals[Y]).multiplyScalar(ve.x),E.copy(j.binormals[Y]).multiplyScalar(ve.y),P.copy(b[Y]).add(T).add(E),ae(P.x,P.y,P.z)):ae(ve.x,ve.y,f/d*Y)}for(let Y=y-1;Y>=0;Y--){const Ee=Y/y,ve=p*Math.cos(Ee*Math.PI/2),Re=m*Math.sin(Ee*Math.PI/2)+g;for(let we=0,rt=U.length;we<rt;we++){const qe=$(U[we],L[we],Re);ae(qe.x,qe.y,f+ve)}for(let we=0,rt=I.length;we<rt;we++){const qe=I[we];G=H[we];for(let Q=0,q=qe.length;Q<q;Q++){const pe=$(qe[Q],G[Q],Re);S?ae(pe.x,pe.y+b[d-1].y,b[d-1].x+ve):ae(pe.x,pe.y,f+ve)}}}B(),te();function B(){const Y=i.length/3;if(h){let Ee=0,ve=z*Ee;for(let Re=0;Re<W;Re++){const we=V[Re];be(we[2]+ve,we[1]+ve,we[0]+ve)}Ee=d+y*2,ve=z*Ee;for(let Re=0;Re<W;Re++){const we=V[Re];be(we[0]+ve,we[1]+ve,we[2]+ve)}}else{for(let Ee=0;Ee<W;Ee++){const ve=V[Ee];be(ve[2],ve[1],ve[0])}for(let Ee=0;Ee<W;Ee++){const ve=V[Ee];be(ve[0]+z*d,ve[1]+z*d,ve[2]+z*d)}}r.addGroup(Y,i.length/3-Y,0)}function te(){const Y=i.length/3;let Ee=0;ie(U,Ee),Ee+=U.length;for(let ve=0,Re=I.length;ve<Re;ve++){const we=I[ve];ie(we,Ee),Ee+=we.length}r.addGroup(Y,i.length/3-Y,1)}function ie(Y,Ee){let ve=Y.length;for(;--ve>=0;){const Re=ve;let we=ve-1;we<0&&(we=Y.length-1);for(let rt=0,qe=d+y*2;rt<qe;rt++){const Q=z*rt,q=z*(rt+1),pe=Ee+Re+Q,ze=Ee+we+Q,Ue=Ee+we+q,ke=Ee+Re+q;ce(pe,ze,Ue,ke)}}}function ae(Y,Ee,ve){c.push(Y),c.push(Ee),c.push(ve)}function be(Y,Ee,ve){Se(Y),Se(Ee),Se(ve);const Re=i.length/3,we=w.generateTopUV(r,i,Re-3,Re-2,Re-1);Te(we[0]),Te(we[1]),Te(we[2])}function ce(Y,Ee,ve,Re){Se(Y),Se(Ee),Se(Re),Se(Ee),Se(ve),Se(Re);const we=i.length/3,rt=w.generateSideWallUV(r,i,we-6,we-3,we-2,we-1);Te(rt[0]),Te(rt[1]),Te(rt[3]),Te(rt[1]),Te(rt[2]),Te(rt[3])}function Se(Y){i.push(c[Y*3+0]),i.push(c[Y*3+1]),i.push(c[Y*3+2])}function Te(Y){s.push(Y.x),s.push(Y.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return tOe(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const l=n[e.shapes[s]];r.push(l)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Xj[i.type]().fromJSON(i)),new _T(r,e.options)}}const eOe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],l=e[r*3],c=e[r*3+1],u=e[i*3],d=e[i*3+1];return[new Fe(s,o),new Fe(l,c),new Fe(u,d)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],l=e[n*3+1],c=e[n*3+2],u=e[r*3],d=e[r*3+1],f=e[r*3+2],h=e[i*3],p=e[i*3+1],m=e[i*3+2],g=e[s*3],y=e[s*3+1],v=e[s*3+2];return Math.abs(l-d)<Math.abs(o-u)?[new Fe(o,1-c),new Fe(u,1-f),new Fe(h,1-m),new Fe(g,1-v)]:[new Fe(l,1-c),new Fe(d,1-f),new Fe(p,1-m),new Fe(y,1-v)]}};function tOe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class ST extends ff{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ST(e.radius,e.detail)}}class Yw extends ff{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Yw(e.radius,e.detail)}}class NT extends vn{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const l=[],c=[],u=[],d=[];let f=e;const h=(n-e)/i,p=new ne,m=new Fe;for(let g=0;g<=i;g++){for(let y=0;y<=r;y++){const v=s+y/r*o;p.x=f*Math.cos(v),p.y=f*Math.sin(v),c.push(p.x,p.y,p.z),u.push(0,0,1),m.x=(p.x/n+1)/2,m.y=(p.y/n+1)/2,d.push(m.x,m.y)}f+=h}for(let g=0;g<i;g++){const y=g*(r+1);for(let v=0;v<r;v++){const w=v+y,b=w,S=w+r+1,j=w+r+2,E=w+1;l.push(b,S,E),l.push(S,j,E)}}this.setIndex(l),this.setAttribute("position",new Tt(c,3)),this.setAttribute("normal",new Tt(u,3)),this.setAttribute("uv",new Tt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new NT(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class jT extends vn{constructor(e=new Kh([new Fe(0,.5),new Fe(-.5,-.5),new Fe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let l=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(l,c,d),l+=c,c=0;this.setIndex(r),this.setAttribute("position",new Tt(i,3)),this.setAttribute("normal",new Tt(s,3)),this.setAttribute("uv",new Tt(o,2));function u(d){const f=i.length/3,h=d.extractPoints(n);let p=h.shape;const m=h.holes;rc.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,v=m.length;y<v;y++){const w=m[y];rc.isClockWise(w)===!0&&(m[y]=w.reverse())}const g=rc.triangulateShape(p,m);for(let y=0,v=m.length;y<v;y++){const w=m[y];p=p.concat(w)}for(let y=0,v=p.length;y<v;y++){const w=p[y];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let y=0,v=g.length;y<v;y++){const w=g[y],b=w[0]+f,S=w[1]+f,j=w[2]+f;r.push(b,S,j),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return nOe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new jT(r,e.curveSegments)}}function nOe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Kw extends vn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:l},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const c=Math.min(o+l,Math.PI);let u=0;const d=[],f=new ne,h=new ne,p=[],m=[],g=[],y=[];for(let v=0;v<=r;v++){const w=[],b=v/r;let S=0;v===0&&o===0?S=.5/n:v===r&&c===Math.PI&&(S=-.5/n);for(let j=0;j<=n;j++){const E=j/n;f.x=-e*Math.cos(i+E*s)*Math.sin(o+b*l),f.y=e*Math.cos(o+b*l),f.z=e*Math.sin(i+E*s)*Math.sin(o+b*l),m.push(f.x,f.y,f.z),h.copy(f).normalize(),g.push(h.x,h.y,h.z),y.push(E+S,1-b),w.push(u++)}d.push(w)}for(let v=0;v<r;v++)for(let w=0;w<n;w++){const b=d[v][w+1],S=d[v][w],j=d[v+1][w],E=d[v+1][w+1];(v!==0||o>0)&&p.push(b,S,E),(v!==r-1||c<Math.PI)&&p.push(S,j,E)}this.setIndex(p),this.setAttribute("position",new Tt(m,3)),this.setAttribute("normal",new Tt(g,3)),this.setAttribute("uv",new Tt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kw(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ET extends ff{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ET(e.radius,e.detail)}}class AT extends vn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],u=[],d=new ne,f=new ne,h=new ne;for(let p=0;p<=r;p++)for(let m=0;m<=i;m++){const g=m/i*s,y=p/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(g),f.y=(e+n*Math.cos(y))*Math.sin(g),f.z=n*Math.sin(y),l.push(f.x,f.y,f.z),d.x=e*Math.cos(g),d.y=e*Math.sin(g),h.subVectors(f,d).normalize(),c.push(h.x,h.y,h.z),u.push(m/i),u.push(p/r)}for(let p=1;p<=r;p++)for(let m=1;m<=i;m++){const g=(i+1)*p+m-1,y=(i+1)*(p-1)+m-1,v=(i+1)*(p-1)+m,w=(i+1)*p+m;o.push(g,y,w),o.push(y,v,w)}this.setIndex(o),this.setAttribute("position",new Tt(l,3)),this.setAttribute("normal",new Tt(c,3)),this.setAttribute("uv",new Tt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new AT(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class TT extends vn{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const l=[],c=[],u=[],d=[],f=new ne,h=new ne,p=new ne,m=new ne,g=new ne,y=new ne,v=new ne;for(let b=0;b<=r;++b){const S=b/r*s*Math.PI*2;w(S,s,o,e,p),w(S+.01,s,o,e,m),y.subVectors(m,p),v.addVectors(m,p),g.crossVectors(y,v),v.crossVectors(g,y),g.normalize(),v.normalize();for(let j=0;j<=i;++j){const E=j/i*Math.PI*2,T=-n*Math.cos(E),P=n*Math.sin(E);f.x=p.x+(T*v.x+P*g.x),f.y=p.y+(T*v.y+P*g.y),f.z=p.z+(T*v.z+P*g.z),c.push(f.x,f.y,f.z),h.subVectors(f,p).normalize(),u.push(h.x,h.y,h.z),d.push(b/r),d.push(j/i)}}for(let b=1;b<=r;b++)for(let S=1;S<=i;S++){const j=(i+1)*(b-1)+(S-1),E=(i+1)*b+(S-1),T=(i+1)*b+S,P=(i+1)*(b-1)+S;l.push(j,E,P),l.push(E,T,P)}this.setIndex(l),this.setAttribute("position",new Tt(c,3)),this.setAttribute("normal",new Tt(u,3)),this.setAttribute("uv",new Tt(d,2));function w(b,S,j,E,T){const P=Math.cos(b),C=Math.sin(b),R=j/S*b,I=Math.cos(R);T.x=E*(2+I)*.5*P,T.y=E*(2+I)*C*.5,T.z=E*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TT(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class CT extends vn{constructor(e=new k5(new ne(-1,-1,0),new ne(-1,1,0),new ne(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new ne,c=new ne,u=new Fe;let d=new ne;const f=[],h=[],p=[],m=[];g(),this.setIndex(m),this.setAttribute("position",new Tt(f,3)),this.setAttribute("normal",new Tt(h,3)),this.setAttribute("uv",new Tt(p,2));function g(){for(let b=0;b<n;b++)y(b);y(s===!1?n:0),w(),v()}function y(b){d=e.getPointAt(b/n,d);const S=o.normals[b],j=o.binormals[b];for(let E=0;E<=i;E++){const T=E/i*Math.PI*2,P=Math.sin(T),C=-Math.cos(T);c.x=C*S.x+P*j.x,c.y=C*S.y+P*j.y,c.z=C*S.z+P*j.z,c.normalize(),h.push(c.x,c.y,c.z),l.x=d.x+r*c.x,l.y=d.y+r*c.y,l.z=d.z+r*c.z,f.push(l.x,l.y,l.z)}}function v(){for(let b=1;b<=n;b++)for(let S=1;S<=i;S++){const j=(i+1)*(b-1)+(S-1),E=(i+1)*b+(S-1),T=(i+1)*b+S,P=(i+1)*(b-1)+S;m.push(j,E,P),m.push(E,T,P)}}function w(){for(let b=0;b<=n;b++)for(let S=0;S<=i;S++)u.x=b/n,u.y=S/i,p.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new CT(new Xj[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class zne extends vn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ne,s=new ne;if(e.index!==null){const o=e.attributes.position,l=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let u=0,d=c.length;u<d;++u){const f=c[u],h=f.start,p=f.count;for(let m=h,g=h+p;m<g;m+=3)for(let y=0;y<3;y++){const v=l.getX(m+y),w=l.getX(m+(y+1)%3);i.fromBufferAttribute(o,v),s.fromBufferAttribute(o,w),_H(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let l=0,c=o.count/3;l<c;l++)for(let u=0;u<3;u++){const d=3*l+u,f=3*l+(u+1)%3;i.fromBufferAttribute(o,d),s.fromBufferAttribute(o,f),_H(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Tt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function _H(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var SH=Object.freeze({__proto__:null,BoxGeometry:Mp,CapsuleGeometry:vT,CircleGeometry:yT,ConeGeometry:xT,CylinderGeometry:dy,DodecahedronGeometry:bT,EdgesGeometry:Lne,ExtrudeGeometry:_T,IcosahedronGeometry:ST,LatheGeometry:Xw,OctahedronGeometry:Yw,PlaneGeometry:qw,PolyhedronGeometry:ff,RingGeometry:NT,ShapeGeometry:jT,SphereGeometry:Kw,TetrahedronGeometry:ET,TorusGeometry:AT,TorusKnotGeometry:TT,TubeGeometry:CT,WireframeGeometry:zne});class $ne extends Ss{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new gt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Vne extends hc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class L5 extends Ss{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new gt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uf,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class F5 extends L5{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Fe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Fr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new gt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new gt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new gt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Hne extends Ss{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new gt(16777215),this.specular=new gt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uf,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Wne extends Ss{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new gt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uf,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Gne extends Ss{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uf,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class qne extends Ss{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new gt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uf,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Xne extends Ss{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new gt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uf,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Yne extends qs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function jh(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Kne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Jne(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function zk(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const l=n[s]*e;for(let c=0;c!==e;++c)i[o++]=t[l+c]}return i}function U5(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function rOe(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let c=0;c<s.tracks.length;++c){const u=s.tracks[c],d=u.getValueSize(),f=[],h=[];for(let p=0;p<u.times.length;++p){const m=u.times[p]*i;if(!(m<n||m>=r)){f.push(u.times[p]);for(let g=0;g<d;++g)h.push(u.values[p*d+g])}}f.length!==0&&(u.times=jh(f,u.times.constructor),u.values=jh(h,u.values.constructor),o.push(u))}s.tracks=o;let l=1/0;for(let c=0;c<s.tracks.length;++c)l>s.tracks[c].times[0]&&(l=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*l);return s.resetDuration(),s}function iOe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const l=n.tracks[o],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const u=t.tracks.find(function(v){return v.name===l.name&&v.ValueTypeName===c});if(u===void 0)continue;let d=0;const f=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);let h=0;const p=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);const m=l.times.length-1;let g;if(s<=l.times[0]){const v=d,w=f-d;g=l.values.slice(v,w)}else if(s>=l.times[m]){const v=m*f+d,w=v+f-d;g=l.values.slice(v,w)}else{const v=l.createInterpolant(),w=d,b=f-d;v.evaluate(s),g=v.resultBuffer.slice(w,b)}c==="quaternion"&&new vs().fromArray(g).normalize().conjugate().toArray(g);const y=u.times.length;for(let v=0;v<y;++v){const w=v*p+h;if(c==="quaternion")vs.multiplyQuaternionsFlat(u.values,w,g,0,u.values,w);else{const b=p-h*2;for(let S=0;S<b;++S)u.values[w+S]-=g[S]}}}return t.blendMode=p5,t}const sOe={convertArray:jh,isTypedArray:Kne,getKeyframeOrder:Jne,sortedArray:zk,flattenJSON:U5,subclip:rOe,makeClipAdditive:iOe};class Jw{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let l=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const l=n[1];e<l&&(r=2,s=l);for(let c=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===c)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const l=r+o>>>1;e<n[l]?o=l:r=l+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Qne extends Jw{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:_h,endingEnd:_h}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,l=i[s],c=i[o];if(l===void 0)switch(this.getSettings_().endingStart){case Sh:s=e,l=2*n-r;break;case gb:s=i.length-2,l=n+i[s]-i[s+1];break;default:s=e,l=r}if(c===void 0)switch(this.getSettings_().endingEnd){case Sh:o=e,c=2*r-n;break;case gb:o=1,c=r+i[1]-i[0];break;default:o=e-1,c=n}const u=(r-n)*.5,d=this.valueSize;this._weightPrev=u/(n-l),this._weightNext=u/(c-r),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,d=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,p=this._weightNext,m=(r-n)/(i-n),g=m*m,y=g*m,v=-h*y+2*h*g-h*m,w=(1+h)*y+(-1.5-2*h)*g+(-.5+h)*m+1,b=(-1-p)*y+(1.5+p)*g+.5*m,S=p*y-p*g;for(let j=0;j!==l;++j)s[j]=v*o[d+j]+w*o[u+j]+b*o[c+j]+S*o[f+j];return s}}class B5 extends Jw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,d=(r-n)/(i-n),f=1-d;for(let h=0;h!==l;++h)s[h]=o[u+h]*f+o[c+h]*d;return s}}class Zne extends Jw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Sl{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=jh(n,this.TimeBufferType),this.values=jh(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:jh(e.times,Array),values:jh(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Zne(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new B5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Qne(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case pb:n=this.InterpolantFactoryMethodDiscrete;break;case mb:n=this.InterpolantFactoryMethodLinear;break;case HN:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return pb;case this.InterpolantFactoryMethodLinear:return mb;case this.InterpolantFactoryMethodSmooth:return HN}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const l=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*l,o*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==s;l++){const c=r[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(o!==null&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,o),e=!1;break}o=c}if(i!==void 0&&Kne(i))for(let l=0,c=i.length;l!==c;++l){const u=i[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===HN,s=e.length-1;let o=1;for(let l=1;l<s;++l){let c=!1;const u=e[l],d=e[l+1];if(u!==d&&(l!==1||u!==e[0]))if(i)c=!0;else{const f=l*r,h=f-r,p=f+r;for(let m=0;m!==r;++m){const g=n[f+m];if(g!==n[h+m]||g!==n[p+m]){c=!0;break}}}if(c){if(l!==o){e[o]=e[l];const f=l*r,h=o*r;for(let p=0;p!==r;++p)n[h+p]=n[f+p]}++o}}if(s>0){e[o]=e[s];for(let l=s*r,c=o*r,u=0;u!==r;++u)n[c+u]=n[l+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Sl.prototype.TimeBufferType=Float32Array;Sl.prototype.ValueBufferType=Float32Array;Sl.prototype.DefaultInterpolation=mb;class Pp extends Sl{}Pp.prototype.ValueTypeName="bool";Pp.prototype.ValueBufferType=Array;Pp.prototype.DefaultInterpolation=pb;Pp.prototype.InterpolantFactoryMethodLinear=void 0;Pp.prototype.InterpolantFactoryMethodSmooth=void 0;class z5 extends Sl{}z5.prototype.ValueTypeName="color";class Eb extends Sl{}Eb.prototype.ValueTypeName="number";class ere extends Jw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=(r-n)/(i-n);let u=e*l;for(let d=u+l;u!==d;u+=4)vs.slerpFlat(s,0,o,u-l,o,u,c);return s}}class fy extends Sl{InterpolantFactoryMethodLinear(e){return new ere(this.times,this.values,this.getValueSize(),e)}}fy.prototype.ValueTypeName="quaternion";fy.prototype.DefaultInterpolation=mb;fy.prototype.InterpolantFactoryMethodSmooth=void 0;class Rp extends Sl{}Rp.prototype.ValueTypeName="string";Rp.prototype.ValueBufferType=Array;Rp.prototype.DefaultInterpolation=pb;Rp.prototype.InterpolantFactoryMethodLinear=void 0;Rp.prototype.InterpolantFactoryMethodSmooth=void 0;class Ab extends Sl{}Ab.prototype.ValueTypeName="vector";class Tb{constructor(e,n=-1,r,i=lT){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ua(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,l=r.length;o!==l;++o)n.push(oOe(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Sl.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let l=0;l<s;l++){let c=[],u=[];c.push((l+s-1)%s,l,(l+1)%s),u.push(0,1,0);const d=Jne(c);c=zk(c,1,d),u=zk(u,1,d),!i&&c[0]===0&&(c.push(s),u.push(u[0])),o.push(new Eb(".morphTargetInfluences["+n[l].name+"]",c,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const u=e[l],d=u.name.match(s);if(d&&d.length>1){const f=d[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const o=[];for(const l in i)o.push(this.CreateFromMorphTargetSequence(l,i[l],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,p,m,g){if(p.length!==0){const y=[],v=[];U5(p,y,v,m),y.length!==0&&g.push(new f(h,y,v))}},i=[],s=e.name||"default",o=e.fps||30,l=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const p={};let m;for(m=0;m<h.length;m++)if(h[m].morphTargets)for(let g=0;g<h[m].morphTargets.length;g++)p[h[m].morphTargets[g]]=-1;for(const g in p){const y=[],v=[];for(let w=0;w!==h[m].morphTargets.length;++w){const b=h[m];y.push(b.time),v.push(b.morphTarget===g?1:0)}i.push(new Eb(".morphTargetInfluence["+g+"]",y,v))}c=p.length*o}else{const p=".bones["+n[f].name+"]";r(Ab,p+".position",h,"pos",i),r(fy,p+".quaternion",h,"rot",i),r(Ab,p+".scale",h,"scl",i)}}return i.length===0?null:new this(s,c,i,l)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function aOe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Eb;case"vector":case"vector2":case"vector3":case"vector4":return Ab;case"color":return z5;case"quaternion":return fy;case"bool":case"boolean":return Pp;case"string":return Rp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function oOe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=aOe(t.type);if(t.times===void 0){const n=[],r=[];U5(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Xc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class $5{constructor(e,n,r){const i=this;let s=!1,o=0,l=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(d){l++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,l),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,l),o===l&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return c?c(d):d},this.setURLModifier=function(d){return c=d,this},this.addHandler=function(d,f){return u.push(d,f),this},this.removeHandler=function(d){const f=u.indexOf(d);return f!==-1&&u.splice(f,2),this},this.getHandler=function(d){for(let f=0,h=u.length;f<h;f+=2){const p=u[f],m=u[f+1];if(p.global&&(p.lastIndex=0),p.test(d))return m}return null}}}const tre=new $5;class ha{constructor(e){this.manager=e!==void 0?e:tre,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ha.DEFAULT_MATERIAL_NAME="__DEFAULT";const kc={};class lOe extends Error{constructor(e,n){super(e),this.response=n}}class gu extends ha{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Xc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(kc[e]!==void 0){kc[e].push({onLoad:n,onProgress:r,onError:i});return}kc[e]=[],kc[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=kc[e],f=u.body.getReader(),h=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),p=h?parseInt(h):0,m=p!==0;let g=0;const y=new ReadableStream({start(v){w();function w(){f.read().then(({done:b,value:S})=>{if(b)v.close();else{g+=S.byteLength;const j=new ProgressEvent("progress",{lengthComputable:m,loaded:g,total:p});for(let E=0,T=d.length;E<T;E++){const P=d[E];P.onProgress&&P.onProgress(j)}v.enqueue(S),w()}})}}});return new Response(y)}else throw new lOe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,l));case"json":return u.json();default:if(l===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(l),h=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(h);return u.arrayBuffer().then(m=>p.decode(m))}}}).then(u=>{Xc.add(e,u);const d=kc[e];delete kc[e];for(let f=0,h=d.length;f<h;f++){const p=d[f];p.onLoad&&p.onLoad(u)}}).catch(u=>{const d=kc[e];if(d===void 0)throw this.manager.itemError(e),u;delete kc[e];for(let f=0,h=d.length;f<h;f++){const p=d[f];p.onError&&p.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class cOe extends ha{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new gu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Tb.parse(e[r]);n.push(i)}return n}}class uOe extends ha{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],l=new mT,c=new gu(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let u=0;function d(f){c.load(e[f],function(h){const p=s.parse(h,!0);o[f]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},u+=1,u===6&&(p.mipmapCount===1&&(l.minFilter=Jr),l.image=o,l.format=p.format,l.needsUpdate=!0,n&&n(l))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)d(f);else c.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const p=h.mipmaps.length/h.mipmapCount;for(let m=0;m<p;m++){o[m]={mipmaps:[]};for(let g=0;g<h.mipmapCount;g++)o[m].mipmaps.push(h.mipmaps[m*h.mipmapCount+g]),o[m].format=h.format,o[m].width=h.width,o[m].height=h.height}l.image=o}else l.image.width=h.width,l.image.height=h.height,l.mipmaps=h.mipmaps;h.mipmapCount===1&&(l.minFilter=Jr),l.format=h.format,l.needsUpdate=!0,n&&n(l)},r,i);return l}}class Cb extends ha{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Xc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const l=wb("img");function c(){d(),Xc.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(f){d(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){l.removeEventListener("load",c,!1),l.removeEventListener("error",u,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class dOe extends ha{constructor(e){super(e)}load(e,n,r,i){const s=new Ww;s.colorSpace=xi;const o=new Cb(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function c(u){o.load(e[u],function(d){s.images[u]=d,l++,l===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)c(u);return s}}class fOe extends ha{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Yh,l=new gu(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(c){let u;try{u=s.parse(c)}catch(d){if(i!==void 0)i(d);else{console.error(d);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:gs,o.wrapT=u.wrapT!==void 0?u.wrapT:gs,o.magFilter=u.magFilter!==void 0?u.magFilter:Jr,o.minFilter=u.minFilter!==void 0?u.minFilter:Jr,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=qd),u.mipmapCount===1&&(o.minFilter=Jr),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class hOe extends ha{constructor(e){super(e)}load(e,n,r,i){const s=new ti,o=new Cb(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){s.image=l,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class hf extends In{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new gt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class nre extends hf{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(In.DEFAULT_UP),this.updateMatrix(),this.groundColor=new gt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const UP=new Jt,NH=new ne,jH=new ne;class V5{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Fe(512,512),this.map=null,this.mapPass=null,this.matrix=new Jt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Gw,this._frameExtents=new Fe(1,1),this._viewportCount=1,this._viewports=[new Hn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;NH.setFromMatrixPosition(e.matrixWorld),n.position.copy(NH),jH.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(jH),n.updateMatrixWorld(),UP.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(UP),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(UP)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class pOe extends V5{constructor(){super(new Qr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=fv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class rre extends hf{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(In.DEFAULT_UP),this.updateMatrix(),this.target=new In,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new pOe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const EH=new Jt,gx=new ne,BP=new ne;class mOe extends V5{constructor(){super(new Qr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Fe(4,2),this._viewportCount=6,this._viewports=[new Hn(2,1,1,1),new Hn(0,1,1,1),new Hn(3,1,1,1),new Hn(1,1,1,1),new Hn(3,0,1,1),new Hn(1,0,1,1)],this._cubeDirections=[new ne(1,0,0),new ne(-1,0,0),new ne(0,0,1),new ne(0,0,-1),new ne(0,1,0),new ne(0,-1,0)],this._cubeUps=[new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,0,1),new ne(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),gx.setFromMatrixPosition(e.matrixWorld),r.position.copy(gx),BP.copy(r.position),BP.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(BP),r.updateMatrixWorld(),i.makeTranslation(-gx.x,-gx.y,-gx.z),EH.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(EH)}}class ire extends hf{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new mOe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class gOe extends V5{constructor(){super(new Dd(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class sre extends hf{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(In.DEFAULT_UP),this.updateMatrix(),this.target=new In,this.shadow=new gOe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class are extends hf{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class ore extends hf{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class lre{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ne)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class cre extends hf{constructor(e=new lre,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class MT extends ha{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new gu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=MT.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new gt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new gt().setHex(o.value);break;case"v2":i.uniforms[s].value=new Fe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new ne().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Hn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new mn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Jt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Fe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Fe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:$ne,SpriteMaterial:T5,RawShaderMaterial:Vne,ShaderMaterial:hc,PointsMaterial:M5,MeshPhysicalMaterial:F5,MeshStandardMaterial:L5,MeshPhongMaterial:Hne,MeshToonMaterial:Wne,MeshNormalMaterial:Gne,MeshLambertMaterial:qne,MeshDepthMaterial:N5,MeshDistanceMaterial:j5,MeshBasicMaterial:df,MeshMatcapMaterial:Xne,LineDashedMaterial:Yne,LineBasicMaterial:qs,Material:Ss};return new n[e]}}class $k{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class ure extends vn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class dre extends ha{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new gu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(p,m){if(n[m]!==void 0)return n[m];const y=p.interleavedBuffers[m],v=s(p,y.buffer),w=ug(y.type,v),b=new pT(w,y.stride);return b.uuid=y.uuid,n[m]=b,b}function s(p,m){if(r[m]!==void 0)return r[m];const y=p.arrayBuffers[m],v=new Uint32Array(y).buffer;return r[m]=v,v}const o=e.isInstancedBufferGeometry?new ure:new vn,l=e.data.index;if(l!==void 0){const p=ug(l.type,l.array);o.setIndex(new Gn(p,1))}const c=e.data.attributes;for(const p in c){const m=c[p];let g;if(m.isInterleavedBufferAttribute){const y=i(e.data,m.data);g=new fp(y,m.itemSize,m.offset,m.normalized)}else{const y=ug(m.type,m.array),v=m.isInstancedBufferAttribute?pv:Gn;g=new v(y,m.itemSize,m.normalized)}m.name!==void 0&&(g.name=m.name),m.usage!==void 0&&g.setUsage(m.usage),o.setAttribute(p,g)}const u=e.data.morphAttributes;if(u)for(const p in u){const m=u[p],g=[];for(let y=0,v=m.length;y<v;y++){const w=m[y];let b;if(w.isInterleavedBufferAttribute){const S=i(e.data,w.data);b=new fp(S,w.itemSize,w.offset,w.normalized)}else{const S=ug(w.type,w.array);b=new Gn(S,w.itemSize,w.normalized)}w.name!==void 0&&(b.name=w.name),g.push(b)}o.morphAttributes[p]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let p=0,m=f.length;p!==m;++p){const g=f[p];o.addGroup(g.start,g.count,g.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const p=new ne;h.center!==void 0&&p.fromArray(h.center),o.boundingSphere=new ys(p,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class vOe extends ha{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?$k.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new gu(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){let u=null;try{u=JSON.parse(c)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?$k.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new gu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),l=JSON.parse(o),c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(l)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),l=this.parseTextures(e.textures,o),c=this.parseMaterials(e.materials,l),u=this.parseObject(e.object,s,c,l,r),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),n!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,i,l,o,n),u=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,u),c}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Kh().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=new Ene().fromJSON(e[s],i);r[l.uuid]=l}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new dre;for(let s=0,o=e.length;s<o;s++){let l;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=i.parse(c);break;default:c.type in SH?l=SH[c.type].fromJSON(c,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),c.userData!==void 0&&(l.userData=c.userData),r[c.uuid]=l}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new MT;s.setTextures(n);for(let o=0,l=e.length;o<l;o++){const c=e[o];r[c.uuid]===void 0&&(r[c.uuid]=s.parse(c)),i[c.uuid]=r[c.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Tb.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(c){return r.manager.itemStart(c),s.load(c,function(){r.manager.itemEnd(c)},void 0,function(){r.manager.itemError(c),r.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){const u=c,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(d)}else return c.data?{data:ug(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new $5(n);s=new Cb(c),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const p=[];for(let m=0,g=h.length;m<g;m++){const y=h[m],v=l(y);v!==null&&(v instanceof HTMLImageElement?p.push(v):p.push(new Yh(v.data,v.width,v.height)))}i[f.uuid]=new Nh(p)}else{const p=l(f.url);i[f.uuid]=new Nh(p)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const l=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:n.resourcePath+l;return await i.loadAsync(c)}else return o.data?{data:ug(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Cb(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.url;if(Array.isArray(u)){const d=[];for(let f=0,h=u.length;f<h;f++){const p=u[f],m=await s(p);m!==null&&(m instanceof HTMLImageElement?d.push(m):d.push(new Yh(m.data,m.width,m.height)))}r[c.uuid]=new Nh(d)}else{const d=await s(c.url);r[c.uuid]=new Nh(d)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),n[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const c=n[l.image],u=c.data;let d;Array.isArray(u)?(d=new Ww,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new Yh:d=new ti,u&&(d.needsUpdate=!0)),d.source=c,d.uuid=l.uuid,l.name!==void 0&&(d.name=l.name),l.mapping!==void 0&&(d.mapping=r(l.mapping,yOe)),l.channel!==void 0&&(d.channel=l.channel),l.offset!==void 0&&d.offset.fromArray(l.offset),l.repeat!==void 0&&d.repeat.fromArray(l.repeat),l.center!==void 0&&d.center.fromArray(l.center),l.rotation!==void 0&&(d.rotation=l.rotation),l.wrap!==void 0&&(d.wrapS=r(l.wrap[0],AH),d.wrapT=r(l.wrap[1],AH)),l.format!==void 0&&(d.format=l.format),l.internalFormat!==void 0&&(d.internalFormat=l.internalFormat),l.type!==void 0&&(d.type=l.type),l.colorSpace!==void 0&&(d.colorSpace=l.colorSpace),l.encoding!==void 0&&(d.encoding=l.encoding),l.minFilter!==void 0&&(d.minFilter=r(l.minFilter,TH)),l.magFilter!==void 0&&(d.magFilter=r(l.magFilter,TH)),l.anisotropy!==void 0&&(d.anisotropy=l.anisotropy),l.flipY!==void 0&&(d.flipY=l.flipY),l.generateMipmaps!==void 0&&(d.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(d.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(d.compareFunction=l.compareFunction),l.userData!==void 0&&(d.userData=l.userData),i[l.uuid]=d}return i}parseObject(e,n,r,i,s){let o;function l(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function c(h){if(h!==void 0){if(Array.isArray(h)){const p=[];for(let m=0,g=h.length;m<g;m++){const y=h[m];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),p.push(r[y])}return p}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let d,f;switch(e.type){case"Scene":o=new A5,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new gt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new hT(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new fT(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Qr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Dd(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new are(e.color,e.intensity);break;case"DirectionalLight":o=new sre(e.color,e.intensity);break;case"PointLight":o=new ire(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new ore(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new rre(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new nre(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new cre().fromJSON(e);break;case"SkinnedMesh":d=l(e.geometry),f=c(e.material),o=new jne(d,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=l(e.geometry),f=c(e.material),o=new Si(d,f);break;case"InstancedMesh":d=l(e.geometry),f=c(e.material);const h=e.count,p=e.instanceMatrix,m=e.instanceColor;o=new Tne(d,f,h),o.instanceMatrix=new pv(new Float32Array(p.array),16),m!==void 0&&(o.instanceColor=new pv(new Float32Array(m.array),m.itemSize));break;case"BatchedMesh":d=l(e.geometry),f=c(e.material),o=new Cne(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(g=>{const y=new zs;y.min.fromArray(g.boxMin),y.max.fromArray(g.boxMax);const v=new ys;return v.radius=g.sphereRadius,v.center.fromArray(g.sphereCenter),{boxInitialized:g.boxInitialized,box:y,sphereInitialized:g.sphereInitialized,sphere:v}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid);break;case"LOD":o=new Nne;break;case"Line":o=new Xd(l(e.geometry),c(e.material));break;case"LineLoop":o=new Mne(l(e.geometry),c(e.material));break;case"LineSegments":o=new yc(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new Pne(l(e.geometry),c(e.material));break;case"Sprite":o=new Sne(c(e.material));break;case"Group":o=new hg;break;case"Bone":o=new C5;break;default:o=new In}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let p=0;p<h.length;p++)o.add(this.parseObject(h[p],n,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let p=0;p<h.length;p++){const m=h[p];o.animations.push(s[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let p=0;p<h.length;p++){const m=h[p],g=o.getObjectByProperty("uuid",m.object);g!==void 0&&o.addLevel(g,m.distance,m.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const yOe={UVMapping:aT,CubeReflectionMapping:mu,CubeRefractionMapping:Gd,EquirectangularReflectionMapping:ub,EquirectangularRefractionMapping:db,CubeUVReflectionMapping:cy},AH={RepeatWrapping:fb,ClampToEdgeWrapping:gs,MirroredRepeatWrapping:hb},TH={NearestFilter:Yr,NearestMipmapNearestFilter:Wj,NearestMipmapLinearFilter:m0,LinearFilter:Jr,LinearMipmapNearestFilter:a5,LinearMipmapLinearFilter:qd};class xOe extends ha{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Xc.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{n&&n(u),s.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const c=fetch(e,l).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Xc.add(e,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Xc.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Xc.add(e,c),s.manager.itemStart(e)}}let RS;class H5{static getContext(){return RS===void 0&&(RS=new(window.AudioContext||window.webkitAudioContext)),RS}static setContext(e){RS=e}}class bOe extends ha{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new gu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{const u=c.slice(0);H5.getContext().decodeAudioData(u,function(f){n(f)}).catch(l)}catch(u){l(u)}},r,i);function l(c){i?i(c):console.error(c),s.manager.itemError(e)}}}const CH=new Jt,MH=new Jt,Vf=new Jt;class wOe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Vf.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(qh*n.fov*.5)/n.zoom;let l,c;MH.elements[12]=-i,CH.elements[12]=i,l=-o*n.aspect+s,c=o*n.aspect+s,Vf.elements[0]=2*n.near/(c-l),Vf.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(Vf),l=-o*n.aspect-s,c=o*n.aspect-s,Vf.elements[0]=2*n.near/(c-l),Vf.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(Vf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(MH),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(CH)}}class W5{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=PH(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=PH();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function PH(){return(typeof performance>"u"?Date:performance).now()}const Hf=new ne,RH=new vs,_Oe=new ne,Wf=new ne;class SOe extends In{constructor(){super(),this.type="AudioListener",this.context=H5.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new W5}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Hf,RH,_Oe),Wf.set(0,0,-1).applyQuaternion(RH),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Hf.x,i),n.positionY.linearRampToValueAtTime(Hf.y,i),n.positionZ.linearRampToValueAtTime(Hf.z,i),n.forwardX.linearRampToValueAtTime(Wf.x,i),n.forwardY.linearRampToValueAtTime(Wf.y,i),n.forwardZ.linearRampToValueAtTime(Wf.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Hf.x,Hf.y,Hf.z),n.setOrientation(Wf.x,Wf.y,Wf.z,r.x,r.y,r.z)}}class fre extends In{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Gf=new ne,OH=new vs,NOe=new ne,qf=new ne;class jOe extends fre{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Gf,OH,NOe),qf.set(0,0,1).applyQuaternion(OH);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Gf.x,r),n.positionY.linearRampToValueAtTime(Gf.y,r),n.positionZ.linearRampToValueAtTime(Gf.z,r),n.orientationX.linearRampToValueAtTime(qf.x,r),n.orientationY.linearRampToValueAtTime(qf.y,r),n.orientationZ.linearRampToValueAtTime(qf.z,r)}else n.setPosition(Gf.x,Gf.y,Gf.z),n.setOrientation(qf.x,qf.y,qf.z)}}class EOe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class hre{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==i;++l)r[s+l]=r[l];o=n}else{o+=n;const l=n/o;this._mixBufferRegion(r,s,0,l,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=n*this._origIndex;this._mixBufferRegion(r,i,c,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let c=n,u=n+n;c!==u;++c)if(r[c]!==r[c+n]){l.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){vs.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;vs.multiplyQuaternionsFlat(e,o,e,n,e,r),vs.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let l=0;l!==s;++l){const c=n+l;e[c]=e[c]*o+e[r+l]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]+e[r+o]*i}}}const G5="\\[\\]\\.:\\/",AOe=new RegExp("["+G5+"]","g"),q5="[^"+G5+"]",TOe="[^"+G5.replace("\\.","")+"]",COe=/((?:WC+[\/:])*)/.source.replace("WC",q5),MOe=/(WCOD+)?/.source.replace("WCOD",TOe),POe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",q5),ROe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",q5),OOe=new RegExp("^"+COe+MOe+POe+ROe+"$"),IOe=["material","materials","bones","map"];class kOe{constructor(e,n,r){const i=r||Tn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Tn{constructor(e,n,r){this.path=n,this.parsedPath=r||Tn.parseTrackName(n),this.node=Tn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Tn.Composite(e,n,r):new Tn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(AOe,"")}static parseTrackName(e){const n=OOe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);IOe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const l=s[o];if(l.name===n||l.uuid===n)return l;const c=r(l.children);if(c)return c}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Tn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tn.Composite=kOe;Tn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tn.prototype.GetterByBindingType=[Tn.prototype._getValue_direct,Tn.prototype._getValue_array,Tn.prototype._getValue_arrayElement,Tn.prototype._getValue_toArray];Tn.prototype.SetterByBindingTypeAndVersioning=[[Tn.prototype._setValue_direct,Tn.prototype._setValue_direct_setNeedsUpdate,Tn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_array,Tn.prototype._setValue_array_setNeedsUpdate,Tn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_arrayElement,Tn.prototype._setValue_arrayElement_setNeedsUpdate,Tn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_fromArray,Tn.prototype._setValue_fromArray_setNeedsUpdate,Tn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class DOe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ua(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let l,c=e.length,u=this.nCachedObjects_;for(let d=0,f=arguments.length;d!==f;++d){const h=arguments[d],p=h.uuid;let m=n[p];if(m===void 0){m=c++,n[p]=m,e.push(h);for(let g=0,y=o;g!==y;++g)s[g].push(new Tn(h,r[g],i[g]))}else if(m<u){l=e[m];const g=--u,y=e[g];n[y.uuid]=m,e[m]=y,n[p]=g,e[g]=h;for(let v=0,w=o;v!==w;++v){const b=s[v],S=b[g];let j=b[m];b[m]=S,j===void 0&&(j=new Tn(h,r[v],i[v])),b[g]=j}}else e[m]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,d=n[u];if(d!==void 0&&d>=s){const f=s++,h=e[f];n[h.uuid]=d,e[d]=h,n[u]=f,e[f]=c;for(let p=0,m=i;p!==m;++p){const g=r[p],y=g[f],v=g[d];g[d]=y,g[f]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let l=0,c=arguments.length;l!==c;++l){const u=arguments[l],d=u.uuid,f=n[d];if(f!==void 0)if(delete n[d],f<s){const h=--s,p=e[h],m=--o,g=e[m];n[p.uuid]=f,e[f]=p,n[g.uuid]=h,e[h]=g,e.pop();for(let y=0,v=i;y!==v;++y){const w=r[y],b=w[h],S=w[m];w[f]=b,w[h]=S,w.pop()}}else{const h=--o,p=e[h];h>0&&(n[p.uuid]=f),e[f]=p,e.pop();for(let m=0,g=i;m!==g;++m){const y=r[m];y[f]=y[h],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,l=this._parsedPaths,c=this._objects,u=c.length,d=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),l.push(n),s.push(f);for(let h=d,p=c.length;h!==p;++h){const m=c[h];f[h]=new Tn(m,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,l=o.length-1,c=o[l],u=e[l];n[u]=r,o[r]=c,o.pop(),s[r]=s[l],s.pop(),i[r]=i[l],i.pop()}}}class pre{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,l=new Array(o),c={endingStart:_h,endingEnd:_h};for(let u=0;u!==o;++u){const d=s[u].createInterpolant(null);l[u]=d,d.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Gte,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,l=i/s;e.warp(1,o,n),this.warp(l,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=i._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,u=l.sampleValues;return c[0]=s,c[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*r;c<0||r===0?n=0:(this._startTime=null,n=r*c)}n*=this._updateTimeScale(e);const o=this._updateTime(n),l=this._updateWeight(e);if(l>0){const c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case p5:for(let d=0,f=c.length;d!==f;++d)c[d].evaluate(o),u[d].accumulateAdditive(l);break;case lT:default:for(let d=0,f=c.length;d!==f;++d)c[d].evaluate(o),u[d].accumulate(i,l)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===qte;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===Wte){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const l=Math.floor(i/n);i-=n*l,s+=Math.abs(l);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Sh,i.endingEnd=Sh):(e?i.endingStart=this.zeroSlopeAtStart?Sh:_h:i.endingStart=gb,n?i.endingEnd=this.zeroSlopeAtEnd?Sh:_h:i.endingEnd=gb)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,c[0]=n,l[1]=s+e,c[1]=r,this}}const LOe=new Float32Array(1);class FOe extends Su{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,l=e._interpolants,c=r.uuid,u=this._bindingsByRootAndName;let d=u[c];d===void 0&&(d={},u[c]=d);for(let f=0;f!==s;++f){const h=i[f],p=h.name;let m=d[p];if(m!==void 0)++m.referenceCount,o[f]=m;else{if(m=o[f],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,c,p));continue}const g=n&&n._propertyBindings[f].binding.parsedPath;m=new hre(Tn.create(r,p,g),h.ValueTypeName,h.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,c,p),o[f]=m}l[f].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,l=o[s],c=l.knownActions,u=c[c.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,c[d]=u,c.pop(),e._byClipCacheIndex=null;const f=l.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],c.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,l=o[i],c=n[n.length-1],u=e._cacheIndex;c._cacheIndex=u,n[u]=c,n.pop(),delete l[s],Object.keys(l).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new B5(new Float32Array(2),new Float32Array(2),1,LOe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Tb.findByName(i,e):e;const l=o!==null?o.uuid:e,c=this._actionsByClip[l];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=lT),c!==void 0){const f=c.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=c.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const d=new pre(this,o,n,r);return this._bindAction(d,u),this._addInactiveAction(d,l,s),d}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Tb.findByName(r,e):e,o=s?s.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const l=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)l[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let l=0,c=o.length;l!==c;++l){const u=o[l];this._deactivateAction(u);const d=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=d,n[d]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const l=r[o].actionByRoot,c=l[n];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const l=s[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class X5{constructor(e){this.value=e}clone(){return new X5(this.value.clone===void 0?this.value:this.value.clone())}}let UOe=0;class BOe extends Su{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:UOe++}),this.name="",this.usage=bb,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class zOe extends pT{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class $Oe{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class mre{constructor(e,n,r=0,i=1/0){this.ray=new Cp(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Xh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return Vk(e,this,r,n),r.sort(IH),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)Vk(e[i],this,r,n);return r.sort(IH),r}}function IH(t,e){return t.distance-e.distance}function Vk(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)Vk(i[s],e,n,!0)}}class Hk{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Fr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class VOe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const kH=new Fe;class HOe{constructor(e=new Fe(1/0,1/0),n=new Fe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=kH.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,kH).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const DH=new ne,OS=new ne;class WOe{constructor(e=new ne,n=new ne){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){DH.subVectors(e,this.start),OS.subVectors(this.end,this.start);const r=OS.dot(OS);let s=OS.dot(DH)/r;return n&&(s=Fr(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const LH=new ne;class GOe extends In{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new vn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,c=32;o<c;o++,l++){const u=o/c*Math.PI*2,d=l/c*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new Tt(i,3));const s=new qs({fog:!1,toneMapped:!1});this.cone=new yc(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),LH.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(LH),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const qu=new ne,IS=new Jt,zP=new Jt;class qOe extends yc{constructor(e){const n=gre(e),r=new vn,i=[],s=[],o=new gt(0,0,1),l=new gt(0,1,0);for(let u=0;u<n.length;u++){const d=n[u];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(l.r,l.g,l.b))}r.setAttribute("position",new Tt(i,3)),r.setAttribute("color",new Tt(s,3));const c=new qs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");zP.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const l=n[s];l.parent&&l.parent.isBone&&(IS.multiplyMatrices(zP,l.matrixWorld),qu.setFromMatrixPosition(IS),i.setXYZ(o,qu.x,qu.y,qu.z),IS.multiplyMatrices(zP,l.parent.matrixWorld),qu.setFromMatrixPosition(IS),i.setXYZ(o+1,qu.x,qu.y,qu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function gre(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,gre(t.children[n]));return e}class XOe extends Si{constructor(e,n,r){const i=new Kw(n,4,2),s=new df({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const YOe=new ne,FH=new gt,UH=new gt;class KOe extends In{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Yw(n);i.rotateY(Math.PI*.5),this.material=new df({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Gn(o,3)),this.add(new Si(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");FH.copy(this.light.color),UH.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?FH:UH;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(YOe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class JOe extends yc{constructor(e=10,n=10,r=4473924,i=8947848){r=new gt(r),i=new gt(i);const s=n/2,o=e/n,l=e/2,c=[],u=[];for(let h=0,p=0,m=-l;h<=n;h++,m+=o){c.push(-l,0,m,l,0,m),c.push(m,0,-l,m,0,l);const g=h===s?r:i;g.toArray(u,p),p+=3,g.toArray(u,p),p+=3,g.toArray(u,p),p+=3,g.toArray(u,p),p+=3}const d=new vn;d.setAttribute("position",new Tt(c,3)),d.setAttribute("color",new Tt(u,3));const f=new qs({vertexColors:!0,toneMapped:!1});super(d,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class QOe extends yc{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new gt(s),o=new gt(o);const l=[],c=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),p=Math.sin(h)*e,m=Math.cos(h)*e;l.push(0,0,0),l.push(p,0,m);const g=f&1?s:o;c.push(g.r,g.g,g.b),c.push(g.r,g.g,g.b)}for(let f=0;f<r;f++){const h=f&1?s:o,p=e-e/r*f;for(let m=0;m<i;m++){let g=m/i*(Math.PI*2),y=Math.sin(g)*p,v=Math.cos(g)*p;l.push(y,0,v),c.push(h.r,h.g,h.b),g=(m+1)/i*(Math.PI*2),y=Math.sin(g)*p,v=Math.cos(g)*p,l.push(y,0,v),c.push(h.r,h.g,h.b)}}const u=new vn;u.setAttribute("position",new Tt(l,3)),u.setAttribute("color",new Tt(c,3));const d=new qs({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const BH=new ne,kS=new ne,zH=new ne;class ZOe extends In{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new vn;i.setAttribute("position",new Tt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new qs({fog:!1,toneMapped:!1});this.lightPlane=new Xd(i,s),this.add(this.lightPlane),i=new vn,i.setAttribute("position",new Tt([0,0,0,0,0,1],3)),this.targetLine=new Xd(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),BH.setFromMatrixPosition(this.light.matrixWorld),kS.setFromMatrixPosition(this.light.target.matrixWorld),zH.subVectors(kS,BH),this.lightPlane.lookAt(kS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(kS),this.targetLine.scale.z=zH.length()}}const DS=new ne,Or=new Hw;class eIe extends yc{constructor(e){const n=new vn,r=new qs({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(m,g){c(m),c(g)}function c(m){i.push(0,0,0),s.push(0,0,0),o[m]===void 0&&(o[m]=[]),o[m].push(i.length/3-1)}n.setAttribute("position",new Tt(i,3)),n.setAttribute("color",new Tt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new gt(16755200),d=new gt(16711680),f=new gt(43775),h=new gt(16777215),p=new gt(3355443);this.setColors(u,d,f,h,p)}setColors(e,n,r,i,s){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,n.r,n.g,n.b),l.setXYZ(25,n.r,n.g,n.b),l.setXYZ(26,n.r,n.g,n.b),l.setXYZ(27,n.r,n.g,n.b),l.setXYZ(28,n.r,n.g,n.b),l.setXYZ(29,n.r,n.g,n.b),l.setXYZ(30,n.r,n.g,n.b),l.setXYZ(31,n.r,n.g,n.b),l.setXYZ(32,r.r,r.g,r.b),l.setXYZ(33,r.r,r.g,r.b),l.setXYZ(34,r.r,r.g,r.b),l.setXYZ(35,r.r,r.g,r.b),l.setXYZ(36,r.r,r.g,r.b),l.setXYZ(37,r.r,r.g,r.b),l.setXYZ(38,i.r,i.g,i.b),l.setXYZ(39,i.r,i.g,i.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Or.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),qr("c",n,e,Or,0,0,-1),qr("t",n,e,Or,0,0,1),qr("n1",n,e,Or,-r,-i,-1),qr("n2",n,e,Or,r,-i,-1),qr("n3",n,e,Or,-r,i,-1),qr("n4",n,e,Or,r,i,-1),qr("f1",n,e,Or,-r,-i,1),qr("f2",n,e,Or,r,-i,1),qr("f3",n,e,Or,-r,i,1),qr("f4",n,e,Or,r,i,1),qr("u1",n,e,Or,r*.7,i*1.1,-1),qr("u2",n,e,Or,-r*.7,i*1.1,-1),qr("u3",n,e,Or,0,i*2,-1),qr("cf1",n,e,Or,-r,0,1),qr("cf2",n,e,Or,r,0,1),qr("cf3",n,e,Or,0,-i,1),qr("cf4",n,e,Or,0,i,1),qr("cn1",n,e,Or,-r,0,-1),qr("cn2",n,e,Or,r,0,-1),qr("cn3",n,e,Or,0,-i,-1),qr("cn4",n,e,Or,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function qr(t,e,n,r,i,s,o){DS.set(i,s,o).unproject(r);const l=e[t];if(l!==void 0){const c=n.getAttribute("position");for(let u=0,d=l.length;u<d;u++)c.setXYZ(l[u],DS.x,DS.y,DS.z)}}const LS=new zs;class tIe extends yc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new vn;s.setIndex(new Gn(r,1)),s.setAttribute("position",new Gn(i,3)),super(s,new qs({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&LS.setFromObject(this.object),LS.isEmpty())return;const n=LS.min,r=LS.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class nIe extends yc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new vn;s.setIndex(new Gn(r,1)),s.setAttribute("position",new Tt(i,3)),super(s,new qs({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class rIe extends Xd{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new vn;o.setAttribute("position",new Tt(s,3)),o.computeBoundingSphere(),super(o,new qs({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new vn;c.setAttribute("position",new Tt(l,3)),c.computeBoundingSphere(),this.add(new Si(c,new df({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const $H=new ne;let FS,$P;class iIe extends In{constructor(e=new ne(0,0,1),n=new ne(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",FS===void 0&&(FS=new vn,FS.setAttribute("position",new Tt([0,0,0,0,1,0],3)),$P=new dy(0,.5,1,5,1),$P.translate(0,-.5,0)),this.position.copy(n),this.line=new Xd(FS,new qs({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Si($P,new df({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{$H.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle($H,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class sIe extends yc{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new vn;i.setAttribute("position",new Tt(n,3)),i.setAttribute("color",new Tt(r,3));const s=new qs({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new gt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class aIe{constructor(){this.type="ShapePath",this.color=new gt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new _b,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const w=[];for(let b=0,S=v.length;b<S;b++){const j=v[b],E=new Kh;E.curves=j.curves,w.push(E)}return w}function r(v,w){const b=w.length;let S=!1;for(let j=b-1,E=0;E<b;j=E++){let T=w[j],P=w[E],C=P.x-T.x,R=P.y-T.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(T=w[E],C=-C,P=w[j],R=-R),v.y<T.y||v.y>P.y)continue;if(v.y===T.y){if(v.x===T.x)return!0}else{const I=R*(v.x-T.x)-C*(v.y-T.y);if(I===0)return!0;if(I<0)continue;S=!S}}else{if(v.y!==T.y)continue;if(P.x<=v.x&&v.x<=T.x||T.x<=v.x&&v.x<=P.x)return!0}}return S}const i=rc.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,l,c;const u=[];if(s.length===1)return l=s[0],c=new Kh,c.curves=l.curves,u.push(c),u;let d=!i(s[0].getPoints());d=e?!d:d;const f=[],h=[];let p=[],m=0,g;h[m]=void 0,p[m]=[];for(let v=0,w=s.length;v<w;v++)l=s[v],g=l.getPoints(),o=i(g),o=e?!o:o,o?(!d&&h[m]&&m++,h[m]={s:new Kh,p:g},h[m].s.curves=l.curves,d&&m++,p[m]=[]):p[m].push({h:l,p:g[0]});if(!h[0])return n(s);if(h.length>1){let v=!1,w=0;for(let b=0,S=h.length;b<S;b++)f[b]=[];for(let b=0,S=h.length;b<S;b++){const j=p[b];for(let E=0;E<j.length;E++){const T=j[E];let P=!0;for(let C=0;C<h.length;C++)r(T.p,h[C].p)&&(b!==C&&w++,P?(P=!1,f[C].push(T)):v=!0);P&&f[b].push(T)}}w>0&&v===!1&&(p=f)}let y;for(let v=0,w=h.length;v<w;v++){c=h[v].s,u.push(c),y=p[v];for(let b=0,S=y.length;b<S;b++)c.holes.push(y[b].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:iT}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=iT);const oIe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:s5,AddEquation:od,AddOperation:Mte,AdditiveAnimationBlendMode:p5,AdditiveBlending:nk,AgXToneMapping:kte,AlphaFormat:Ute,AlwaysCompare:rne,AlwaysDepth:Ste,AlwaysStencilFunc:Ok,AmbientLight:are,AnimationAction:pre,AnimationClip:Tb,AnimationLoader:cOe,AnimationMixer:FOe,AnimationObjectGroup:DOe,AnimationUtils:sOe,ArcCurve:Rne,ArrayCamera:bne,ArrowHelper:iIe,AttachedBindMode:ok,Audio:fre,AudioAnalyser:EOe,AudioContext:H5,AudioListener:SOe,AudioLoader:bOe,AxesHelper:sIe,BackSide:Bs,BasicDepthPacking:Xte,BasicShadowMap:ste,BatchedMesh:Cne,Bone:C5,BooleanKeyframeTrack:Pp,Box2:HOe,Box3:zs,Box3Helper:nIe,BoxGeometry:Mp,BoxHelper:tIe,BufferAttribute:Gn,BufferGeometry:vn,BufferGeometryLoader:dre,ByteType:Lte,Cache:Xc,Camera:Hw,CameraHelper:eIe,CanvasTexture:CRe,CapsuleGeometry:vT,CatmullRomCurve3:One,CineonToneMapping:Ote,CircleGeometry:yT,ClampToEdgeWrapping:gs,Clock:W5,Color:gt,ColorKeyframeTrack:z5,ColorManagement:Vn,CompressedArrayTexture:ARe,CompressedCubeTexture:TRe,CompressedTexture:mT,CompressedTextureLoader:uOe,ConeGeometry:xT,ConstantAlphaFactor:bte,ConstantColorFactor:yte,CubeCamera:dne,CubeReflectionMapping:mu,CubeRefractionMapping:Gd,CubeTexture:Ww,CubeTextureLoader:dOe,CubeUVReflectionMapping:cy,CubicBezierCurve:R5,CubicBezierCurve3:Ine,CubicInterpolant:Qne,CullFaceBack:tk,CullFaceFront:ite,CullFaceFrontBack:vAe,CullFaceNone:rte,Curve:_l,CurvePath:Dne,CustomBlending:ate,CustomToneMapping:Ite,CylinderGeometry:dy,Cylindrical:VOe,Data3DTexture:x5,DataArrayTexture:uT,DataTexture:Yh,DataTextureLoader:fOe,DataUtils:ETe,DecrementStencilOp:CAe,DecrementWrapStencilOp:PAe,DefaultLoadingManager:tre,DepthFormat:Id,DepthStencilFormat:dp,DepthTexture:S5,DetachedBindMode:Dte,DirectionalLight:sre,DirectionalLightHelper:ZOe,DiscreteInterpolant:Zne,DisplayP3ColorSpace:cT,DodecahedronGeometry:bT,DoubleSide:Hl,DstAlphaFactor:hte,DstColorFactor:mte,DynamicCopyUsage:GAe,DynamicDrawUsage:BAe,DynamicReadUsage:VAe,EdgesGeometry:Lne,EllipseCurve:gT,EqualCompare:Zte,EqualDepth:jte,EqualStencilFunc:kAe,EquirectangularReflectionMapping:ub,EquirectangularRefractionMapping:db,Euler:Vw,EventDispatcher:Su,ExtrudeGeometry:_T,FileLoader:gu,Float16BufferAttribute:RTe,Float32BufferAttribute:Tt,Float64BufferAttribute:OTe,FloatType:ol,Fog:hT,FogExp2:fT,FramebufferTexture:ERe,FrontSide:pu,Frustum:Gw,GLBufferAttribute:$Oe,GLSL1:XAe,GLSL3:Ik,GreaterCompare:ene,GreaterDepth:Ate,GreaterEqualCompare:nne,GreaterEqualDepth:Ete,GreaterEqualStencilFunc:UAe,GreaterStencilFunc:LAe,GridHelper:JOe,Group:hg,HalfFloatType:uv,HemisphereLight:nre,HemisphereLightHelper:KOe,IcosahedronGeometry:ST,ImageBitmapLoader:xOe,ImageLoader:Cb,ImageUtils:y5,IncrementStencilOp:TAe,IncrementWrapStencilOp:MAe,InstancedBufferAttribute:pv,InstancedBufferGeometry:ure,InstancedInterleavedBuffer:zOe,InstancedMesh:Tne,Int16BufferAttribute:MTe,Int32BufferAttribute:PTe,Int8BufferAttribute:ATe,IntType:o5,InterleavedBuffer:pT,InterleavedBufferAttribute:fp,Interpolant:Jw,InterpolateDiscrete:pb,InterpolateLinear:mb,InterpolateSmooth:HN,InvertStencilOp:RAe,KeepStencilOp:sh,KeyframeTrack:Sl,LOD:Nne,LatheGeometry:Xw,Layers:Xh,LessCompare:Qte,LessDepth:Nte,LessEqualCompare:g5,LessEqualDepth:cb,LessEqualStencilFunc:DAe,LessStencilFunc:IAe,Light:hf,LightProbe:cre,Line:Xd,Line3:WOe,LineBasicMaterial:qs,LineCurve:O5,LineCurve3:kne,LineDashedMaterial:Yne,LineLoop:Mne,LineSegments:yc,LinearDisplayP3ColorSpace:$w,LinearEncoding:m5,LinearFilter:Jr,LinearInterpolant:B5,LinearMipMapLinearFilter:_Ae,LinearMipMapNearestFilter:wAe,LinearMipmapLinearFilter:qd,LinearMipmapNearestFilter:a5,LinearSRGBColorSpace:fc,LinearToneMapping:Pte,LinearTransfer:vb,Loader:ha,LoaderUtils:$k,LoadingManager:$5,LoopOnce:Wte,LoopPingPong:qte,LoopRepeat:Gte,LuminanceAlphaFormat:zte,LuminanceFormat:Bte,MOUSE:rh,Material:Ss,MaterialLoader:MT,MathUtils:ine,Matrix3:mn,Matrix4:Jt,MaxEquation:ak,Mesh:Si,MeshBasicMaterial:df,MeshDepthMaterial:N5,MeshDistanceMaterial:j5,MeshLambertMaterial:qne,MeshMatcapMaterial:Xne,MeshNormalMaterial:Gne,MeshPhongMaterial:Hne,MeshPhysicalMaterial:F5,MeshStandardMaterial:L5,MeshToonMaterial:Wne,MinEquation:sk,MirroredRepeatWrapping:hb,MixOperation:Cte,MultiplyBlending:ik,MultiplyOperation:zw,NearestFilter:Yr,NearestMipMapLinearFilter:bAe,NearestMipMapNearestFilter:xAe,NearestMipmapLinearFilter:m0,NearestMipmapNearestFilter:Wj,NeverCompare:Jte,NeverDepth:_te,NeverStencilFunc:OAe,NoBlending:iu,NoColorSpace:Ra,NoToneMapping:tc,NormalAnimationBlendMode:lT,NormalBlending:Gh,NotEqualCompare:tne,NotEqualDepth:Tte,NotEqualStencilFunc:FAe,NumberKeyframeTrack:Eb,Object3D:In,ObjectLoader:vOe,ObjectSpaceNormalMap:Kte,OctahedronGeometry:Yw,OneFactor:ute,OneMinusConstantAlphaFactor:wte,OneMinusConstantColorFactor:xte,OneMinusDstAlphaFactor:pte,OneMinusDstColorFactor:gte,OneMinusSrcAlphaFactor:Hj,OneMinusSrcColorFactor:fte,OrthographicCamera:Dd,P3Primaries:xb,PCFShadowMap:sT,PCFSoftShadowMap:p0,PMREMGenerator:Dk,Path:_b,PerspectiveCamera:Qr,Plane:$c,PlaneGeometry:qw,PlaneHelper:rIe,PointLight:ire,PointLightHelper:XOe,Points:Pne,PointsMaterial:M5,PolarGridHelper:QOe,PolyhedronGeometry:ff,PositionalAudio:jOe,PropertyBinding:Tn,PropertyMixer:hre,QuadraticBezierCurve:I5,QuadraticBezierCurve3:k5,Quaternion:vs,QuaternionKeyframeTrack:fy,QuaternionLinearInterpolant:ere,RED_GREEN_RGTC2_Format:Pk,RED_RGTC1_Format:Hte,REVISION:iT,RGBADepthPacking:Yte,RGBAFormat:Rs,RGBAIntegerFormat:f5,RGBA_ASTC_10x10_Format:jk,RGBA_ASTC_10x5_Format:_k,RGBA_ASTC_10x6_Format:Sk,RGBA_ASTC_10x8_Format:Nk,RGBA_ASTC_12x10_Format:Ek,RGBA_ASTC_12x12_Format:Ak,RGBA_ASTC_4x4_Format:pk,RGBA_ASTC_5x4_Format:mk,RGBA_ASTC_5x5_Format:gk,RGBA_ASTC_6x5_Format:vk,RGBA_ASTC_6x6_Format:yk,RGBA_ASTC_8x5_Format:xk,RGBA_ASTC_8x6_Format:bk,RGBA_ASTC_8x8_Format:wk,RGBA_BPTC_Format:VN,RGBA_ETC2_EAC_Format:hk,RGBA_PVRTC_2BPPV1_Format:dk,RGBA_PVRTC_4BPPV1_Format:uk,RGBA_S3TC_DXT1_Format:BN,RGBA_S3TC_DXT3_Format:zN,RGBA_S3TC_DXT5_Format:$N,RGB_BPTC_SIGNED_Format:Tk,RGB_BPTC_UNSIGNED_Format:Ck,RGB_ETC1_Format:h5,RGB_ETC2_Format:fk,RGB_PVRTC_2BPPV1_Format:ck,RGB_PVRTC_4BPPV1_Format:lk,RGB_S3TC_DXT1_Format:UN,RGFormat:Vte,RGIntegerFormat:d5,RawShaderMaterial:Vne,Ray:Cp,Raycaster:mre,Rec709Primaries:yb,RectAreaLight:ore,RedFormat:$te,RedIntegerFormat:u5,ReinhardToneMapping:Rte,RenderTarget:one,RepeatWrapping:fb,ReplaceStencilOp:AAe,ReverseSubtractEquation:lte,RingGeometry:NT,SIGNED_RED_GREEN_RGTC2_Format:Rk,SIGNED_RED_RGTC1_Format:Mk,SRGBColorSpace:xi,SRGBTransfer:ir,Scene:A5,ShaderChunk:dn,ShaderLib:il,ShaderMaterial:hc,ShadowMaterial:$ne,Shape:Kh,ShapeGeometry:jT,ShapePath:aIe,ShapeUtils:rc,ShortType:Fte,Skeleton:Ene,SkeletonHelper:qOe,SkinnedMesh:jne,Source:Nh,Sphere:ys,SphereGeometry:Kw,Spherical:Hk,SphericalHarmonics3:lre,SplineCurve:D5,SpotLight:rre,SpotLightHelper:GOe,Sprite:Sne,SpriteMaterial:T5,SrcAlphaFactor:Vj,SrcAlphaSaturateFactor:vte,SrcColorFactor:dte,StaticCopyUsage:WAe,StaticDrawUsage:bb,StaticReadUsage:$Ae,StereoCamera:wOe,StreamCopyUsage:qAe,StreamDrawUsage:zAe,StreamReadUsage:HAe,StringKeyframeTrack:Rp,SubtractEquation:ote,SubtractiveBlending:rk,TOUCH:ih,TangentSpaceNormalMap:uf,TetrahedronGeometry:ET,Texture:ti,TextureLoader:hOe,TorusGeometry:AT,TorusKnotGeometry:TT,Triangle:sa,TriangleFanDrawMode:jAe,TriangleStripDrawMode:NAe,TrianglesDrawMode:SAe,TubeGeometry:CT,TwoPassDoubleSide:yAe,UVMapping:aT,Uint16BufferAttribute:b5,Uint32BufferAttribute:w5,Uint8BufferAttribute:TTe,Uint8ClampedBufferAttribute:CTe,Uniform:X5,UniformsGroup:BOe,UniformsLib:st,UniformsUtils:une,UnsignedByteType:nc,UnsignedInt248Type:Od,UnsignedIntType:qc,UnsignedShort4444Type:l5,UnsignedShort5551Type:c5,UnsignedShortType:oT,VSMShadowMap:Ko,Vector2:Fe,Vector3:ne,Vector4:Hn,VectorKeyframeTrack:Ab,VideoTexture:jRe,WebGL1Renderer:wne,WebGL3DRenderTarget:pTe,WebGLArrayRenderTarget:hTe,WebGLCoordinateSystem:ll,WebGLCubeRenderTarget:fne,WebGLMultipleRenderTargets:mTe,WebGLRenderTarget:xl,WebGLRenderer:E5,WebGLUtils:xne,WebGPUCoordinateSystem:dv,WireframeGeometry:zne,WrapAroundEnding:gb,ZeroCurvatureEnding:_h,ZeroFactor:cte,ZeroSlopeEnding:Sh,ZeroStencilOp:EAe,_SRGBAFormat:Gj,createCanvasElement:ane,sRGBEncoding:kd},Symbol.toStringTag,{value:"Module"}));var vre={exports:{}},Op={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Op.ConcurrentRoot=1;Op.ContinuousEventPriority=4;Op.DefaultEventPriority=16;Op.DiscreteEventPriority=1;Op.IdleEventPriority=536870912;Op.LegacyRoot=0;vre.exports=Op;var mg=vre.exports;function lIe(t){let e;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=d?f:Object.assign({},e,f),n.forEach(p=>p(e,h))}},i=()=>e,s=(u,d=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=d(e);function p(){const m=d(e);if(!f(h,m)){const g=h;u(h=m,g)}}return n.add(p),()=>n.delete(p)},c={setState:r,getState:i,subscribe:(u,d,f)=>d||f?s(u,d,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,c),c}const cIe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),VH=cIe?N.useEffect:N.useLayoutEffect;function uIe(t){const e=typeof t=="function"?lIe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=N.useReducer(y=>y+1,0),o=e.getState(),l=N.useRef(o),c=N.useRef(r),u=N.useRef(i),d=N.useRef(!1),f=N.useRef();f.current===void 0&&(f.current=r(o));let h,p=!1;(l.current!==o||c.current!==r||u.current!==i||d.current)&&(h=r(o),p=!i(f.current,h)),VH(()=>{p&&(f.current=h),l.current=o,c.current=r,u.current=i,d.current=!1});const m=N.useRef(o);VH(()=>{const y=()=>{try{const w=e.getState(),b=c.current(w);u.current(f.current,b)||(l.current=w,f.current=b,s())}catch{d.current=!0,s()}},v=e.subscribe(y);return e.getState()!==m.current&&y(),v},[]);const g=p?h:f.current;return N.useDebugValue(g),g};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var yre={exports:{}},VP={exports:{}},HP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HH;function dIe(){return HH||(HH=1,function(t){function e(k,L){var H=k.length;k.push(L);e:for(;0<H;){var G=H-1>>>1,X=k[G];if(0<i(X,L))k[G]=L,k[H]=X,H=G;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var L=k[0],H=k.pop();if(H!==L){k[0]=H;e:for(var G=0,X=k.length,Z=X>>>1;G<Z;){var B=2*(G+1)-1,te=k[B],ie=B+1,ae=k[ie];if(0>i(te,H))ie<X&&0>i(ae,te)?(k[G]=ae,k[ie]=H,G=ie):(k[G]=te,k[B]=H,G=B);else if(ie<X&&0>i(ae,H))k[G]=ae,k[ie]=H,G=ie;else break e}}return L}function i(k,L){var H=k.sortIndex-L.sortIndex;return H!==0?H:k.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=k)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function S(k){if(g=!1,b(k),!m)if(n(c)!==null)m=!0,z(j);else{var L=n(u);L!==null&&W(S,L.startTime-k)}}function j(k,L){m=!1,g&&(g=!1,v(P),P=-1),p=!0;var H=h;try{for(b(L),f=n(c);f!==null&&(!(f.expirationTime>L)||k&&!I());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var X=G(f.expirationTime<=L);L=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),b(L)}else r(c);f=n(c)}if(f!==null)var Z=!0;else{var B=n(u);B!==null&&W(S,B.startTime-L),Z=!1}return Z}finally{f=null,h=H,p=!1}}var E=!1,T=null,P=-1,C=5,R=-1;function I(){return!(t.unstable_now()-R<C)}function D(){if(T!==null){var k=t.unstable_now();R=k;var L=!0;try{L=T(!0,k)}finally{L?V():(E=!1,T=null)}}else E=!1}var V;if(typeof w=="function")V=function(){w(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,$=U.port2;U.port1.onmessage=D,V=function(){$.postMessage(null)}}else V=function(){y(D,0)};function z(k){T=k,E||(E=!0,V())}function W(k,L){P=y(function(){k(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,z(j))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var H=h;h=L;try{return k()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,L){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var H=h;h=k;try{return L()}finally{h=H}},t.unstable_scheduleCallback=function(k,L,H){var G=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,k={id:d++,callback:L,priorityLevel:k,startTime:H,expirationTime:X,sortIndex:-1},H>G?(k.sortIndex=H,e(u,k),n(c)===null&&k===n(u)&&(g?(v(P),P=-1):g=!0,W(S,H-G))):(k.sortIndex=X,e(c,k),m||p||(m=!0,z(j))),k},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(k){var L=h;return function(){var H=h;h=L;try{return k.apply(this,arguments)}finally{h=H}}}}(HP)),HP}var WH;function fIe(){return WH||(WH=1,VP.exports=dIe()),VP.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hIe=function(e){var n={},r=N,i=fIe(),s=Object.assign;function o(x){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+x,A=1;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+x+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),j=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=j&&x[j]||x["@@iterator"],typeof x=="function"?x:null)}function T(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case d:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case m:return(x.displayName||"Context")+".Consumer";case p:return(x._context.displayName||"Context")+".Provider";case g:var _=x.render;return x=x.displayName,x||(x=_.displayName||_.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case w:return _=x.displayName||null,_!==null?_:T(x.type)||"Memo";case b:_=x._payload,x=x._init;try{return T(x(_))}catch{}}return null}function P(x){var _=x.type;switch(x.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=_.render,x=x.displayName||x.name||"",_.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(_);case 8:return _===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function C(x){var _=x,A=x;if(x.alternate)for(;_.return;)_=_.return;else{x=_;do _=x,_.flags&4098&&(A=_.return),x=_.return;while(x)}return _.tag===3?A:null}function R(x){if(C(x)!==x)throw Error(o(188))}function I(x){var _=x.alternate;if(!_){if(_=C(x),_===null)throw Error(o(188));return _!==x?null:x}for(var A=x,M=_;;){var O=A.return;if(O===null)break;var F=O.alternate;if(F===null){if(M=O.return,M!==null){A=M;continue}break}if(O.child===F.child){for(F=O.child;F;){if(F===A)return R(O),x;if(F===M)return R(O),_;F=F.sibling}throw Error(o(188))}if(A.return!==M.return)A=O,M=F;else{for(var re=!1,he=O.child;he;){if(he===A){re=!0,A=O,M=F;break}if(he===M){re=!0,M=O,A=F;break}he=he.sibling}if(!re){for(he=F.child;he;){if(he===A){re=!0,A=F,M=O;break}if(he===M){re=!0,M=F,A=O;break}he=he.sibling}if(!re)throw Error(o(189))}}if(A.alternate!==M)throw Error(o(190))}if(A.tag!==3)throw Error(o(188));return A.stateNode.current===A?x:_}function D(x){return x=I(x),x!==null?V(x):null}function V(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var _=V(x);if(_!==null)return _;x=x.sibling}return null}function U(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){if(x.tag!==4){var _=U(x);if(_!==null)return _}x=x.sibling}return null}var $=Array.isArray,z=e.getPublicInstance,W=e.getRootHostContext,k=e.getChildHostContext,L=e.prepareForCommit,H=e.resetAfterCommit,G=e.createInstance,X=e.appendInitialChild,Z=e.finalizeInitialChildren,B=e.prepareUpdate,te=e.shouldSetTextContent,ie=e.createTextInstance,ae=e.scheduleTimeout,be=e.cancelTimeout,ce=e.noTimeout,Se=e.isPrimaryRenderer,Te=e.supportsMutation,Y=e.supportsPersistence,Ee=e.supportsHydration,ve=e.getInstanceFromNode,Re=e.preparePortalMount,we=e.getCurrentEventPriority,rt=e.detachDeletedInstance,qe=e.supportsMicrotasks,Q=e.scheduleMicrotask,q=e.supportsTestSelectors,pe=e.findFiberRoot,ze=e.getBoundingRect,Ue=e.getTextContent,ke=e.isHiddenSubtree,dt=e.matchAccessibilityRole,We=e.setFocusIfFocusable,tt=e.setupIntersectionObserver,Et=e.appendChild,Vt=e.appendChildToContainer,$e=e.commitTextUpdate,on=e.commitMount,Kt=e.commitUpdate,Dt=e.insertBefore,mt=e.insertInContainerBefore,it=e.removeChild,se=e.removeChildFromContainer,Be=e.resetTextContent,at=e.hideInstance,ot=e.hideTextInstance,Ve=e.unhideInstance,oe=e.unhideTextInstance,Ze=e.clearContainer,Qe=e.cloneInstance,Lt=e.createContainerChildSet,He=e.appendChildToContainerChildSet,nt=e.finalizeContainerChildren,vt=e.replaceContainerChildren,cn=e.cloneHiddenInstance,yn=e.cloneHiddenTextInstance,Qt=e.canHydrateInstance,Yn=e.canHydrateTextInstance,Jn=e.canHydrateSuspenseInstance,es=e.isSuspenseInstancePending,ts=e.isSuspenseInstanceFallback,Ys=e.registerSuspenseInstanceRetry,ko=e.getNextHydratableSibling,_c=e.getFirstHydratableChild,Tu=e.getFirstHydratableChildWithinContainer,jf=e.getFirstHydratableChildWithinSuspenseInstance,ma=e.hydrateInstance,$p=e.hydrateTextInstance,Vp=e.hydrateSuspenseInstance,ee=e.getNextHydratableInstanceAfterSuspenseInstance,ye=e.commitHydratedContainer,Ae=e.commitHydratedSuspenseInstance,de=e.clearSuspenseBoundary,K=e.clearSuspenseBoundaryFromContainer,xe=e.shouldDeleteUnhydratedTailInstances,Le=e.didNotMatchHydratedContainerTextInstance,lt=e.didNotMatchHydratedTextInstance,yt;function xt(x){if(yt===void 0)try{throw Error()}catch(A){var _=A.stack.trim().match(/\n( *(at )?)/);yt=_&&_[1]||""}return`
`+yt+x}var At=!1;function Ft(x,_){if(!x||At)return"";At=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(et){var M=et}Reflect.construct(x,[],_)}else{try{_.call()}catch(et){M=et}x.call(_.prototype)}else{try{throw Error()}catch(et){M=et}x()}}catch(et){if(et&&M&&typeof et.stack=="string"){for(var O=et.stack.split(`
`),F=M.stack.split(`
`),re=O.length-1,he=F.length-1;1<=re&&0<=he&&O[re]!==F[he];)he--;for(;1<=re&&0<=he;re--,he--)if(O[re]!==F[he]){if(re!==1||he!==1)do if(re--,he--,0>he||O[re]!==F[he]){var Pe=`
`+O[re].replace(" at new "," at ");return x.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",x.displayName)),Pe}while(1<=re&&0<=he);break}}}finally{At=!1,Error.prepareStackTrace=A}return(x=x?x.displayName||x.name:"")?xt(x):""}var Fn=Object.prototype.hasOwnProperty,Vr=[],rn=-1;function Hr(x){return{current:x}}function Ut(x){0>rn||(x.current=Vr[rn],Vr[rn]=null,rn--)}function _t(x,_){rn++,Vr[rn]=x.current,x.current=_}var Ka={},xn=Hr(Ka),Pr=Hr(!1),Al=Ka;function Ja(x,_){var A=x.type.contextTypes;if(!A)return Ka;var M=x.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===_)return M.__reactInternalMemoizedMaskedChildContext;var O={},F;for(F in A)O[F]=_[F];return M&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=_,x.__reactInternalMemoizedMaskedChildContext=O),O}function Ci(x){return x=x.childContextTypes,x!=null}function Wr(){Ut(Pr),Ut(xn)}function Tl(x,_,A){if(xn.current!==Ka)throw Error(o(168));_t(xn,_),_t(Pr,A)}function Hp(x,_,A){var M=x.stateNode;if(_=_.childContextTypes,typeof M.getChildContext!="function")return A;M=M.getChildContext();for(var O in M)if(!(O in _))throw Error(o(108,P(x)||"Unknown",O));return s({},A,M)}function Vi(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||Ka,Al=xn.current,_t(xn,x),_t(Pr,Pr.current),!0}function Wp(x,_,A){var M=x.stateNode;if(!M)throw Error(o(169));A?(x=Hp(x,_,Al),M.__reactInternalMemoizedMergedChildContext=x,Ut(Pr),Ut(xn),_t(xn,x)):Ut(Pr),_t(Pr,A)}var ga=Math.clz32?Math.clz32:Bde,m_=Math.log,Ude=Math.LN2;function Bde(x){return x>>>=0,x===0?32:31-(m_(x)/Ude|0)|0}var g_=64,v_=4194304;function Cy(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function y_(x,_){var A=x.pendingLanes;if(A===0)return 0;var M=0,O=x.suspendedLanes,F=x.pingedLanes,re=A&268435455;if(re!==0){var he=re&~O;he!==0?M=Cy(he):(F&=re,F!==0&&(M=Cy(F)))}else re=A&~O,re!==0?M=Cy(re):F!==0&&(M=Cy(F));if(M===0)return 0;if(_!==0&&_!==M&&!(_&O)&&(O=M&-M,F=_&-_,O>=F||O===16&&(F&4194240)!==0))return _;if(M&4&&(M|=A&16),_=x.entangledLanes,_!==0)for(x=x.entanglements,_&=M;0<_;)A=31-ga(_),O=1<<A,M|=x[A],_&=~O;return M}function zde(x,_){switch(x){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $de(x,_){for(var A=x.suspendedLanes,M=x.pingedLanes,O=x.expirationTimes,F=x.pendingLanes;0<F;){var re=31-ga(F),he=1<<re,Pe=O[re];Pe===-1?(!(he&A)||he&M)&&(O[re]=zde(he,_)):Pe<=_&&(x.expiredLanes|=he),F&=~he}}function GC(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function qC(x){for(var _=[],A=0;31>A;A++)_.push(x);return _}function My(x,_,A){x.pendingLanes|=_,_!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,_=31-ga(_),x[_]=A}function Vde(x,_){var A=x.pendingLanes&~_;x.pendingLanes=_,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=_,x.mutableReadLanes&=_,x.entangledLanes&=_,_=x.entanglements;var M=x.eventTimes;for(x=x.expirationTimes;0<A;){var O=31-ga(A),F=1<<O;_[O]=0,M[O]=-1,x[O]=-1,A&=~F}}function XC(x,_){var A=x.entangledLanes|=_;for(x=x.entanglements;A;){var M=31-ga(A),O=1<<M;O&_|x[M]&_&&(x[M]|=_),A&=~O}}var Mn=0;function LU(x){return x&=-x,1<x?4<x?x&268435455?16:536870912:4:1}var YC=i.unstable_scheduleCallback,FU=i.unstable_cancelCallback,Hde=i.unstable_shouldYield,Wde=i.unstable_requestPaint,Mi=i.unstable_now,KC=i.unstable_ImmediatePriority,Gde=i.unstable_UserBlockingPriority,JC=i.unstable_NormalPriority,qde=i.unstable_IdlePriority,x_=null,Cl=null;function Xde(x){if(Cl&&typeof Cl.onCommitFiberRoot=="function")try{Cl.onCommitFiberRoot(x_,x,void 0,(x.current.flags&128)===128)}catch{}}function Yde(x,_){return x===_&&(x!==0||1/x===1/_)||x!==x&&_!==_}var Ml=typeof Object.is=="function"?Object.is:Yde,Sc=null,b_=!1,QC=!1;function UU(x){Sc===null?Sc=[x]:Sc.push(x)}function Kde(x){b_=!0,UU(x)}function Pl(){if(!QC&&Sc!==null){QC=!0;var x=0,_=Mn;try{var A=Sc;for(Mn=1;x<A.length;x++){var M=A[x];do M=M(!0);while(M!==null)}Sc=null,b_=!1}catch(O){throw Sc!==null&&(Sc=Sc.slice(x+1)),YC(KC,Pl),O}finally{Mn=_,QC=!1}}return null}var Jde=l.ReactCurrentBatchConfig;function w_(x,_){if(Ml(x,_))return!0;if(typeof x!="object"||x===null||typeof _!="object"||_===null)return!1;var A=Object.keys(x),M=Object.keys(_);if(A.length!==M.length)return!1;for(M=0;M<A.length;M++){var O=A[M];if(!Fn.call(_,O)||!Ml(x[O],_[O]))return!1}return!0}function Qde(x){switch(x.tag){case 5:return xt(x.type);case 16:return xt("Lazy");case 13:return xt("Suspense");case 19:return xt("SuspenseList");case 0:case 2:case 15:return x=Ft(x.type,!1),x;case 11:return x=Ft(x.type.render,!1),x;case 1:return x=Ft(x.type,!0),x;default:return""}}function Do(x,_){if(x&&x.defaultProps){_=s({},_),x=x.defaultProps;for(var A in x)_[A]===void 0&&(_[A]=x[A]);return _}return _}var __=Hr(null),S_=null,Gp=null,ZC=null;function eM(){ZC=Gp=S_=null}function BU(x,_,A){Se?(_t(__,_._currentValue),_._currentValue=A):(_t(__,_._currentValue2),_._currentValue2=A)}function tM(x){var _=__.current;Ut(__),Se?x._currentValue=_:x._currentValue2=_}function nM(x,_,A){for(;x!==null;){var M=x.alternate;if((x.childLanes&_)!==_?(x.childLanes|=_,M!==null&&(M.childLanes|=_)):M!==null&&(M.childLanes&_)!==_&&(M.childLanes|=_),x===A)break;x=x.return}}function qp(x,_){S_=x,ZC=Gp=null,x=x.dependencies,x!==null&&x.firstContext!==null&&(x.lanes&_&&(xa=!0),x.firstContext=null)}function Qa(x){var _=Se?x._currentValue:x._currentValue2;if(ZC!==x)if(x={context:x,memoizedValue:_,next:null},Gp===null){if(S_===null)throw Error(o(308));Gp=x,S_.dependencies={lanes:0,firstContext:x}}else Gp=Gp.next=x;return _}var Rl=null,Cu=!1;function rM(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zU(x,_){x=x.updateQueue,_.updateQueue===x&&(_.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Nc(x,_){return{eventTime:x,lane:_,tag:0,payload:null,callback:null,next:null}}function Mu(x,_){var A=x.updateQueue;A!==null&&(A=A.shared,ii!==null&&x.mode&1&&!(bn&2)?(x=A.interleaved,x===null?(_.next=_,Rl===null?Rl=[A]:Rl.push(A)):(_.next=x.next,x.next=_),A.interleaved=_):(x=A.pending,x===null?_.next=_:(_.next=x.next,x.next=_),A.pending=_))}function N_(x,_,A){if(_=_.updateQueue,_!==null&&(_=_.shared,(A&4194240)!==0)){var M=_.lanes;M&=x.pendingLanes,A|=M,_.lanes=A,XC(x,A)}}function $U(x,_){var A=x.updateQueue,M=x.alternate;if(M!==null&&(M=M.updateQueue,A===M)){var O=null,F=null;if(A=A.firstBaseUpdate,A!==null){do{var re={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};F===null?O=F=re:F=F.next=re,A=A.next}while(A!==null);F===null?O=F=_:F=F.next=_}else O=F=_;A={baseState:M.baseState,firstBaseUpdate:O,lastBaseUpdate:F,shared:M.shared,effects:M.effects},x.updateQueue=A;return}x=A.lastBaseUpdate,x===null?A.firstBaseUpdate=_:x.next=_,A.lastBaseUpdate=_}function j_(x,_,A,M){var O=x.updateQueue;Cu=!1;var F=O.firstBaseUpdate,re=O.lastBaseUpdate,he=O.shared.pending;if(he!==null){O.shared.pending=null;var Pe=he,et=Pe.next;Pe.next=null,re===null?F=et:re.next=et,re=Pe;var St=x.alternate;St!==null&&(St=St.updateQueue,he=St.lastBaseUpdate,he!==re&&(he===null?St.firstBaseUpdate=et:he.next=et,St.lastBaseUpdate=Pe))}if(F!==null){var sn=O.baseState;re=0,St=et=Pe=null,he=F;do{var Bt=he.lane,Qn=he.eventTime;if((M&Bt)===Bt){St!==null&&(St=St.next={eventTime:Qn,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var Ot=x,ss=he;switch(Bt=_,Qn=A,ss.tag){case 1:if(Ot=ss.payload,typeof Ot=="function"){sn=Ot.call(Qn,sn,Bt);break e}sn=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=ss.payload,Bt=typeof Ot=="function"?Ot.call(Qn,sn,Bt):Ot,Bt==null)break e;sn=s({},sn,Bt);break e;case 2:Cu=!0}}he.callback!==null&&he.lane!==0&&(x.flags|=64,Bt=O.effects,Bt===null?O.effects=[he]:Bt.push(he))}else Qn={eventTime:Qn,lane:Bt,tag:he.tag,payload:he.payload,callback:he.callback,next:null},St===null?(et=St=Qn,Pe=sn):St=St.next=Qn,re|=Bt;if(he=he.next,he===null){if(he=O.shared.pending,he===null)break;Bt=he,he=Bt.next,Bt.next=null,O.lastBaseUpdate=Bt,O.shared.pending=null}}while(!0);if(St===null&&(Pe=sn),O.baseState=Pe,O.firstBaseUpdate=et,O.lastBaseUpdate=St,_=O.shared.interleaved,_!==null){O=_;do re|=O.lane,O=O.next;while(O!==_)}else F===null&&(O.shared.lanes=0);nm|=re,x.lanes=re,x.memoizedState=sn}}function VU(x,_,A){if(x=_.effects,_.effects=null,x!==null)for(_=0;_<x.length;_++){var M=x[_],O=M.callback;if(O!==null){if(M.callback=null,M=A,typeof O!="function")throw Error(o(191,O));O.call(M)}}}var HU=new r.Component().refs;function iM(x,_,A,M){_=x.memoizedState,A=A(M,_),A=A==null?_:s({},_,A),x.memoizedState=A,x.lanes===0&&(x.updateQueue.baseState=A)}var E_={isMounted:function(x){return(x=x._reactInternals)?C(x)===x:!1},enqueueSetState:function(x,_,A){x=x._reactInternals;var M=js(),O=Ou(x),F=Nc(M,O);F.payload=_,A!=null&&(F.callback=A),Mu(x,F),_=ro(x,O,M),_!==null&&N_(_,x,O)},enqueueReplaceState:function(x,_,A){x=x._reactInternals;var M=js(),O=Ou(x),F=Nc(M,O);F.tag=1,F.payload=_,A!=null&&(F.callback=A),Mu(x,F),_=ro(x,O,M),_!==null&&N_(_,x,O)},enqueueForceUpdate:function(x,_){x=x._reactInternals;var A=js(),M=Ou(x),O=Nc(A,M);O.tag=2,_!=null&&(O.callback=_),Mu(x,O),_=ro(x,M,A),_!==null&&N_(_,x,M)}};function WU(x,_,A,M,O,F,re){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(M,F,re):_.prototype&&_.prototype.isPureReactComponent?!w_(A,M)||!w_(O,F):!0}function GU(x,_,A){var M=!1,O=Ka,F=_.contextType;return typeof F=="object"&&F!==null?F=Qa(F):(O=Ci(_)?Al:xn.current,M=_.contextTypes,F=(M=M!=null)?Ja(x,O):Ka),_=new _(A,F),x.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=E_,x.stateNode=_,_._reactInternals=x,M&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=O,x.__reactInternalMemoizedMaskedChildContext=F),_}function qU(x,_,A,M){x=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(A,M),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(A,M),_.state!==x&&E_.enqueueReplaceState(_,_.state,null)}function sM(x,_,A,M){var O=x.stateNode;O.props=A,O.state=x.memoizedState,O.refs=HU,rM(x);var F=_.contextType;typeof F=="object"&&F!==null?O.context=Qa(F):(F=Ci(_)?Al:xn.current,O.context=Ja(x,F)),O.state=x.memoizedState,F=_.getDerivedStateFromProps,typeof F=="function"&&(iM(x,_,F,A),O.state=x.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(_=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),_!==O.state&&E_.enqueueReplaceState(O,O.state,null),j_(x,A,O,M),O.state=x.memoizedState),typeof O.componentDidMount=="function"&&(x.flags|=4194308)}var Xp=[],Yp=0,A_=null,T_=0,Za=[],eo=0,Ef=null,jc=1,Ec="";function Af(x,_){Xp[Yp++]=T_,Xp[Yp++]=A_,A_=x,T_=_}function XU(x,_,A){Za[eo++]=jc,Za[eo++]=Ec,Za[eo++]=Ef,Ef=x;var M=jc;x=Ec;var O=32-ga(M)-1;M&=~(1<<O),A+=1;var F=32-ga(_)+O;if(30<F){var re=O-O%5;F=(M&(1<<re)-1).toString(32),M>>=re,O-=re,jc=1<<32-ga(_)+O|A<<O|M,Ec=F+x}else jc=1<<F|A<<O|M,Ec=x}function aM(x){x.return!==null&&(Af(x,1),XU(x,1,0))}function oM(x){for(;x===A_;)A_=Xp[--Yp],Xp[Yp]=null,T_=Xp[--Yp],Xp[Yp]=null;for(;x===Ef;)Ef=Za[--eo],Za[eo]=null,Ec=Za[--eo],Za[eo]=null,jc=Za[--eo],Za[eo]=null}var va=null,ya=null,vr=!1,Py=!1,Lo=null;function YU(x,_){var A=io(5,null,null,0);A.elementType="DELETED",A.stateNode=_,A.return=x,_=x.deletions,_===null?(x.deletions=[A],x.flags|=16):_.push(A)}function KU(x,_){switch(x.tag){case 5:return _=Qt(_,x.type,x.pendingProps),_!==null?(x.stateNode=_,va=x,ya=_c(_),!0):!1;case 6:return _=Yn(_,x.pendingProps),_!==null?(x.stateNode=_,va=x,ya=null,!0):!1;case 13:if(_=Jn(_),_!==null){var A=Ef!==null?{id:jc,overflow:Ec}:null;return x.memoizedState={dehydrated:_,treeContext:A,retryLane:1073741824},A=io(18,null,null,0),A.stateNode=_,A.return=x,x.child=A,va=x,ya=null,!0}return!1;default:return!1}}function lM(x){return(x.mode&1)!==0&&(x.flags&128)===0}function cM(x){if(vr){var _=ya;if(_){var A=_;if(!KU(x,_)){if(lM(x))throw Error(o(418));_=ko(A);var M=va;_&&KU(x,_)?YU(M,A):(x.flags=x.flags&-4097|2,vr=!1,va=x)}}else{if(lM(x))throw Error(o(418));x.flags=x.flags&-4097|2,vr=!1,va=x}}}function JU(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;va=x}function Ry(x){if(!Ee||x!==va)return!1;if(!vr)return JU(x),vr=!0,!1;if(x.tag!==3&&(x.tag!==5||xe(x.type)&&!te(x.type,x.memoizedProps))){var _=ya;if(_){if(lM(x)){for(x=ya;x;)x=ko(x);throw Error(o(418))}for(;_;)YU(x,_),_=ko(_)}}if(JU(x),x.tag===13){if(!Ee)throw Error(o(316));if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(o(317));ya=ee(x)}else ya=va?ko(x.stateNode):null;return!0}function Kp(){Ee&&(ya=va=null,Py=vr=!1)}function uM(x){Lo===null?Lo=[x]:Lo.push(x)}function Oy(x,_,A){if(x=A.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(o(309));var M=A.stateNode}if(!M)throw Error(o(147,x));var O=M,F=""+x;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===F?_.ref:(_=function(re){var he=O.refs;he===HU&&(he=O.refs={}),re===null?delete he[F]:he[F]=re},_._stringRef=F,_)}if(typeof x!="string")throw Error(o(284));if(!A._owner)throw Error(o(290,x))}return x}function C_(x,_){throw x=Object.prototype.toString.call(_),Error(o(31,x==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":x))}function QU(x){var _=x._init;return _(x._payload)}function ZU(x){function _(_e,me){if(x){var Ce=_e.deletions;Ce===null?(_e.deletions=[me],_e.flags|=16):Ce.push(me)}}function A(_e,me){if(!x)return null;for(;me!==null;)_(_e,me),me=me.sibling;return null}function M(_e,me){for(_e=new Map;me!==null;)me.key!==null?_e.set(me.key,me):_e.set(me.index,me),me=me.sibling;return _e}function O(_e,me){return _e=ku(_e,me),_e.index=0,_e.sibling=null,_e}function F(_e,me,Ce){return _e.index=Ce,x?(Ce=_e.alternate,Ce!==null?(Ce=Ce.index,Ce<me?(_e.flags|=2,me):Ce):(_e.flags|=2,me)):(_e.flags|=1048576,me)}function re(_e){return x&&_e.alternate===null&&(_e.flags|=2),_e}function he(_e,me,Ce,ft){return me===null||me.tag!==6?(me=qM(Ce,_e.mode,ft),me.return=_e,me):(me=O(me,Ce),me.return=_e,me)}function Pe(_e,me,Ce,ft){var Mt=Ce.type;return Mt===d?St(_e,me,Ce.props.children,ft,Ce.key):me!==null&&(me.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===b&&QU(Mt)===me.type)?(ft=O(me,Ce.props),ft.ref=Oy(_e,me,Ce),ft.return=_e,ft):(ft=a1(Ce.type,Ce.key,Ce.props,null,_e.mode,ft),ft.ref=Oy(_e,me,Ce),ft.return=_e,ft)}function et(_e,me,Ce,ft){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ce.containerInfo||me.stateNode.implementation!==Ce.implementation?(me=XM(Ce,_e.mode,ft),me.return=_e,me):(me=O(me,Ce.children||[]),me.return=_e,me)}function St(_e,me,Ce,ft,Mt){return me===null||me.tag!==7?(me=If(Ce,_e.mode,ft,Mt),me.return=_e,me):(me=O(me,Ce),me.return=_e,me)}function sn(_e,me,Ce){if(typeof me=="string"&&me!==""||typeof me=="number")return me=qM(""+me,_e.mode,Ce),me.return=_e,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case c:return Ce=a1(me.type,me.key,me.props,null,_e.mode,Ce),Ce.ref=Oy(_e,null,me),Ce.return=_e,Ce;case u:return me=XM(me,_e.mode,Ce),me.return=_e,me;case b:var ft=me._init;return sn(_e,ft(me._payload),Ce)}if($(me)||E(me))return me=If(me,_e.mode,Ce,null),me.return=_e,me;C_(_e,me)}return null}function Bt(_e,me,Ce,ft){var Mt=me!==null?me.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Mt!==null?null:he(_e,me,""+Ce,ft);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case c:return Ce.key===Mt?Pe(_e,me,Ce,ft):null;case u:return Ce.key===Mt?et(_e,me,Ce,ft):null;case b:return Mt=Ce._init,Bt(_e,me,Mt(Ce._payload),ft)}if($(Ce)||E(Ce))return Mt!==null?null:St(_e,me,Ce,ft,null);C_(_e,Ce)}return null}function Qn(_e,me,Ce,ft,Mt){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return _e=_e.get(Ce)||null,he(me,_e,""+ft,Mt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case c:return _e=_e.get(ft.key===null?Ce:ft.key)||null,Pe(me,_e,ft,Mt);case u:return _e=_e.get(ft.key===null?Ce:ft.key)||null,et(me,_e,ft,Mt);case b:var pn=ft._init;return Qn(_e,me,Ce,pn(ft._payload),Mt)}if($(ft)||E(ft))return _e=_e.get(Ce)||null,St(me,_e,ft,Mt,null);C_(me,ft)}return null}function Ot(_e,me,Ce,ft){for(var Mt=null,pn=null,an=me,Pn=me=0,Ri=null;an!==null&&Pn<Ce.length;Pn++){an.index>Pn?(Ri=an,an=null):Ri=an.sibling;var Rn=Bt(_e,an,Ce[Pn],ft);if(Rn===null){an===null&&(an=Ri);break}x&&an&&Rn.alternate===null&&_(_e,an),me=F(Rn,me,Pn),pn===null?Mt=Rn:pn.sibling=Rn,pn=Rn,an=Ri}if(Pn===Ce.length)return A(_e,an),vr&&Af(_e,Pn),Mt;if(an===null){for(;Pn<Ce.length;Pn++)an=sn(_e,Ce[Pn],ft),an!==null&&(me=F(an,me,Pn),pn===null?Mt=an:pn.sibling=an,pn=an);return vr&&Af(_e,Pn),Mt}for(an=M(_e,an);Pn<Ce.length;Pn++)Ri=Qn(an,_e,Pn,Ce[Pn],ft),Ri!==null&&(x&&Ri.alternate!==null&&an.delete(Ri.key===null?Pn:Ri.key),me=F(Ri,me,Pn),pn===null?Mt=Ri:pn.sibling=Ri,pn=Ri);return x&&an.forEach(function(Du){return _(_e,Du)}),vr&&Af(_e,Pn),Mt}function ss(_e,me,Ce,ft){var Mt=E(Ce);if(typeof Mt!="function")throw Error(o(150));if(Ce=Mt.call(Ce),Ce==null)throw Error(o(151));for(var pn=Mt=null,an=me,Pn=me=0,Ri=null,Rn=Ce.next();an!==null&&!Rn.done;Pn++,Rn=Ce.next()){an.index>Pn?(Ri=an,an=null):Ri=an.sibling;var Du=Bt(_e,an,Rn.value,ft);if(Du===null){an===null&&(an=Ri);break}x&&an&&Du.alternate===null&&_(_e,an),me=F(Du,me,Pn),pn===null?Mt=Du:pn.sibling=Du,pn=Du,an=Ri}if(Rn.done)return A(_e,an),vr&&Af(_e,Pn),Mt;if(an===null){for(;!Rn.done;Pn++,Rn=Ce.next())Rn=sn(_e,Rn.value,ft),Rn!==null&&(me=F(Rn,me,Pn),pn===null?Mt=Rn:pn.sibling=Rn,pn=Rn);return vr&&Af(_e,Pn),Mt}for(an=M(_e,an);!Rn.done;Pn++,Rn=Ce.next())Rn=Qn(an,_e,Pn,Rn.value,ft),Rn!==null&&(x&&Rn.alternate!==null&&an.delete(Rn.key===null?Pn:Rn.key),me=F(Rn,me,Pn),pn===null?Mt=Rn:pn.sibling=Rn,pn=Rn);return x&&an.forEach(function(Tfe){return _(_e,Tfe)}),vr&&Af(_e,Pn),Mt}function so(_e,me,Ce,ft){if(typeof Ce=="object"&&Ce!==null&&Ce.type===d&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case c:e:{for(var Mt=Ce.key,pn=me;pn!==null;){if(pn.key===Mt){if(Mt=Ce.type,Mt===d){if(pn.tag===7){A(_e,pn.sibling),me=O(pn,Ce.props.children),me.return=_e,_e=me;break e}}else if(pn.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===b&&QU(Mt)===pn.type){A(_e,pn.sibling),me=O(pn,Ce.props),me.ref=Oy(_e,pn,Ce),me.return=_e,_e=me;break e}A(_e,pn);break}else _(_e,pn);pn=pn.sibling}Ce.type===d?(me=If(Ce.props.children,_e.mode,ft,Ce.key),me.return=_e,_e=me):(ft=a1(Ce.type,Ce.key,Ce.props,null,_e.mode,ft),ft.ref=Oy(_e,me,Ce),ft.return=_e,_e=ft)}return re(_e);case u:e:{for(pn=Ce.key;me!==null;){if(me.key===pn)if(me.tag===4&&me.stateNode.containerInfo===Ce.containerInfo&&me.stateNode.implementation===Ce.implementation){A(_e,me.sibling),me=O(me,Ce.children||[]),me.return=_e,_e=me;break e}else{A(_e,me);break}else _(_e,me);me=me.sibling}me=XM(Ce,_e.mode,ft),me.return=_e,_e=me}return re(_e);case b:return pn=Ce._init,so(_e,me,pn(Ce._payload),ft)}if($(Ce))return Ot(_e,me,Ce,ft);if(E(Ce))return ss(_e,me,Ce,ft);C_(_e,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"?(Ce=""+Ce,me!==null&&me.tag===6?(A(_e,me.sibling),me=O(me,Ce),me.return=_e,_e=me):(A(_e,me),me=qM(Ce,_e.mode,ft),me.return=_e,_e=me),re(_e)):A(_e,me)}return so}var Jp=ZU(!0),eB=ZU(!1),Iy={},to=Hr(Iy),ky=Hr(Iy),Qp=Hr(Iy);function Ol(x){if(x===Iy)throw Error(o(174));return x}function dM(x,_){_t(Qp,_),_t(ky,x),_t(to,Iy),x=W(_),Ut(to),_t(to,x)}function Zp(){Ut(to),Ut(ky),Ut(Qp)}function tB(x){var _=Ol(Qp.current),A=Ol(to.current);_=k(A,x.type,_),A!==_&&(_t(ky,x),_t(to,_))}function fM(x){ky.current===x&&(Ut(to),Ut(ky))}var Sr=Hr(0);function M_(x){for(var _=x;_!==null;){if(_.tag===13){var A=_.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||es(A)||ts(A)))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if(_.flags&128)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===x)break;for(;_.sibling===null;){if(_.return===null||_.return===x)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var hM=[];function pM(){for(var x=0;x<hM.length;x++){var _=hM[x];Se?_._workInProgressVersionPrimary=null:_._workInProgressVersionSecondary=null}hM.length=0}var P_=l.ReactCurrentDispatcher,no=l.ReactCurrentBatchConfig,em=0,Rr=null,ns=null,Pi=null,R_=!1,Dy=!1,Ly=0,Zde=0;function rs(){throw Error(o(321))}function mM(x,_){if(_===null)return!1;for(var A=0;A<_.length&&A<x.length;A++)if(!Ml(x[A],_[A]))return!1;return!0}function gM(x,_,A,M,O,F){if(em=F,Rr=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,P_.current=x===null||x.memoizedState===null?rfe:ife,x=A(M,O),Dy){F=0;do{if(Dy=!1,Ly=0,25<=F)throw Error(o(301));F+=1,Pi=ns=null,_.updateQueue=null,P_.current=sfe,x=A(M,O)}while(Dy)}if(P_.current=L_,_=ns!==null&&ns.next!==null,em=0,Pi=ns=Rr=null,R_=!1,_)throw Error(o(300));return x}function vM(){var x=Ly!==0;return Ly=0,x}function Ac(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pi===null?Rr.memoizedState=Pi=x:Pi=Pi.next=x,Pi}function Il(){if(ns===null){var x=Rr.alternate;x=x!==null?x.memoizedState:null}else x=ns.next;var _=Pi===null?Rr.memoizedState:Pi.next;if(_!==null)Pi=_,ns=x;else{if(x===null)throw Error(o(310));ns=x,x={memoizedState:ns.memoizedState,baseState:ns.baseState,baseQueue:ns.baseQueue,queue:ns.queue,next:null},Pi===null?Rr.memoizedState=Pi=x:Pi=Pi.next=x}return Pi}function Tf(x,_){return typeof _=="function"?_(x):_}function O_(x){var _=Il(),A=_.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=x;var M=ns,O=M.baseQueue,F=A.pending;if(F!==null){if(O!==null){var re=O.next;O.next=F.next,F.next=re}M.baseQueue=O=F,A.pending=null}if(O!==null){F=O.next,M=M.baseState;var he=re=null,Pe=null,et=F;do{var St=et.lane;if((em&St)===St)Pe!==null&&(Pe=Pe.next={lane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),M=et.hasEagerState?et.eagerState:x(M,et.action);else{var sn={lane:St,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null};Pe===null?(he=Pe=sn,re=M):Pe=Pe.next=sn,Rr.lanes|=St,nm|=St}et=et.next}while(et!==null&&et!==F);Pe===null?re=M:Pe.next=he,Ml(M,_.memoizedState)||(xa=!0),_.memoizedState=M,_.baseState=re,_.baseQueue=Pe,A.lastRenderedState=M}if(x=A.interleaved,x!==null){O=x;do F=O.lane,Rr.lanes|=F,nm|=F,O=O.next;while(O!==x)}else O===null&&(A.lanes=0);return[_.memoizedState,A.dispatch]}function I_(x){var _=Il(),A=_.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=x;var M=A.dispatch,O=A.pending,F=_.memoizedState;if(O!==null){A.pending=null;var re=O=O.next;do F=x(F,re.action),re=re.next;while(re!==O);Ml(F,_.memoizedState)||(xa=!0),_.memoizedState=F,_.baseQueue===null&&(_.baseState=F),A.lastRenderedState=F}return[F,M]}function nB(){}function rB(x,_){var A=Rr,M=Il(),O=_(),F=!Ml(M.memoizedState,O);if(F&&(M.memoizedState=O,xa=!0),M=M.queue,Uy(aB.bind(null,A,M,x),[x]),M.getSnapshot!==_||F||Pi!==null&&Pi.memoizedState.tag&1){if(A.flags|=2048,Fy(9,sB.bind(null,A,M,O,_),void 0,null),ii===null)throw Error(o(349));em&30||iB(A,_,O)}return O}function iB(x,_,A){x.flags|=16384,x={getSnapshot:_,value:A},_=Rr.updateQueue,_===null?(_={lastEffect:null,stores:null},Rr.updateQueue=_,_.stores=[x]):(A=_.stores,A===null?_.stores=[x]:A.push(x))}function sB(x,_,A,M){_.value=A,_.getSnapshot=M,oB(_)&&ro(x,1,-1)}function aB(x,_,A){return A(function(){oB(_)&&ro(x,1,-1)})}function oB(x){var _=x.getSnapshot;x=x.value;try{var A=_();return!Ml(x,A)}catch{return!0}}function yM(x){var _=Ac();return typeof x=="function"&&(x=x()),_.memoizedState=_.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tf,lastRenderedState:x},_.queue=x,x=x.dispatch=nfe.bind(null,Rr,x),[_.memoizedState,x]}function Fy(x,_,A,M){return x={tag:x,create:_,destroy:A,deps:M,next:null},_=Rr.updateQueue,_===null?(_={lastEffect:null,stores:null},Rr.updateQueue=_,_.lastEffect=x.next=x):(A=_.lastEffect,A===null?_.lastEffect=x.next=x:(M=A.next,A.next=x,x.next=M,_.lastEffect=x)),x}function lB(){return Il().memoizedState}function k_(x,_,A,M){var O=Ac();Rr.flags|=x,O.memoizedState=Fy(1|_,A,void 0,M===void 0?null:M)}function D_(x,_,A,M){var O=Il();M=M===void 0?null:M;var F=void 0;if(ns!==null){var re=ns.memoizedState;if(F=re.destroy,M!==null&&mM(M,re.deps)){O.memoizedState=Fy(_,A,F,M);return}}Rr.flags|=x,O.memoizedState=Fy(1|_,A,F,M)}function xM(x,_){return k_(8390656,8,x,_)}function Uy(x,_){return D_(2048,8,x,_)}function cB(x,_){return D_(4,2,x,_)}function uB(x,_){return D_(4,4,x,_)}function dB(x,_){if(typeof _=="function")return x=x(),_(x),function(){_(null)};if(_!=null)return x=x(),_.current=x,function(){_.current=null}}function fB(x,_,A){return A=A!=null?A.concat([x]):null,D_(4,4,dB.bind(null,_,x),A)}function bM(){}function hB(x,_){var A=Il();_=_===void 0?null:_;var M=A.memoizedState;return M!==null&&_!==null&&mM(_,M[1])?M[0]:(A.memoizedState=[x,_],x)}function pB(x,_){var A=Il();_=_===void 0?null:_;var M=A.memoizedState;return M!==null&&_!==null&&mM(_,M[1])?M[0]:(x=x(),A.memoizedState=[x,_],x)}function efe(x,_){var A=Mn;Mn=A!==0&&4>A?A:4,x(!0);var M=no.transition;no.transition={};try{x(!1),_()}finally{Mn=A,no.transition=M}}function mB(){return Il().memoizedState}function tfe(x,_,A){var M=Ou(x);A={lane:M,action:A,hasEagerState:!1,eagerState:null,next:null},gB(x)?vB(_,A):(yB(x,_,A),A=js(),x=ro(x,M,A),x!==null&&xB(x,_,M))}function nfe(x,_,A){var M=Ou(x),O={lane:M,action:A,hasEagerState:!1,eagerState:null,next:null};if(gB(x))vB(_,O);else{yB(x,_,O);var F=x.alternate;if(x.lanes===0&&(F===null||F.lanes===0)&&(F=_.lastRenderedReducer,F!==null))try{var re=_.lastRenderedState,he=F(re,A);if(O.hasEagerState=!0,O.eagerState=he,Ml(he,re))return}catch{}finally{}A=js(),x=ro(x,M,A),x!==null&&xB(x,_,M)}}function gB(x){var _=x.alternate;return x===Rr||_!==null&&_===Rr}function vB(x,_){Dy=R_=!0;var A=x.pending;A===null?_.next=_:(_.next=A.next,A.next=_),x.pending=_}function yB(x,_,A){ii!==null&&x.mode&1&&!(bn&2)?(x=_.interleaved,x===null?(A.next=A,Rl===null?Rl=[_]:Rl.push(_)):(A.next=x.next,x.next=A),_.interleaved=A):(x=_.pending,x===null?A.next=A:(A.next=x.next,x.next=A),_.pending=A)}function xB(x,_,A){if(A&4194240){var M=_.lanes;M&=x.pendingLanes,A|=M,_.lanes=A,XC(x,A)}}var L_={readContext:Qa,useCallback:rs,useContext:rs,useEffect:rs,useImperativeHandle:rs,useInsertionEffect:rs,useLayoutEffect:rs,useMemo:rs,useReducer:rs,useRef:rs,useState:rs,useDebugValue:rs,useDeferredValue:rs,useTransition:rs,useMutableSource:rs,useSyncExternalStore:rs,useId:rs,unstable_isNewReconciler:!1},rfe={readContext:Qa,useCallback:function(x,_){return Ac().memoizedState=[x,_===void 0?null:_],x},useContext:Qa,useEffect:xM,useImperativeHandle:function(x,_,A){return A=A!=null?A.concat([x]):null,k_(4194308,4,dB.bind(null,_,x),A)},useLayoutEffect:function(x,_){return k_(4194308,4,x,_)},useInsertionEffect:function(x,_){return k_(4,2,x,_)},useMemo:function(x,_){var A=Ac();return _=_===void 0?null:_,x=x(),A.memoizedState=[x,_],x},useReducer:function(x,_,A){var M=Ac();return _=A!==void 0?A(_):_,M.memoizedState=M.baseState=_,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:_},M.queue=x,x=x.dispatch=tfe.bind(null,Rr,x),[M.memoizedState,x]},useRef:function(x){var _=Ac();return x={current:x},_.memoizedState=x},useState:yM,useDebugValue:bM,useDeferredValue:function(x){var _=yM(x),A=_[0],M=_[1];return xM(function(){var O=no.transition;no.transition={};try{M(x)}finally{no.transition=O}},[x]),A},useTransition:function(){var x=yM(!1),_=x[0];return x=efe.bind(null,x[1]),Ac().memoizedState=x,[_,x]},useMutableSource:function(){},useSyncExternalStore:function(x,_,A){var M=Rr,O=Ac();if(vr){if(A===void 0)throw Error(o(407));A=A()}else{if(A=_(),ii===null)throw Error(o(349));em&30||iB(M,_,A)}O.memoizedState=A;var F={value:A,getSnapshot:_};return O.queue=F,xM(aB.bind(null,M,F,x),[x]),M.flags|=2048,Fy(9,sB.bind(null,M,F,A,_),void 0,null),A},useId:function(){var x=Ac(),_=ii.identifierPrefix;if(vr){var A=Ec,M=jc;A=(M&~(1<<32-ga(M)-1)).toString(32)+A,_=":"+_+"R"+A,A=Ly++,0<A&&(_+="H"+A.toString(32)),_+=":"}else A=Zde++,_=":"+_+"r"+A.toString(32)+":";return x.memoizedState=_},unstable_isNewReconciler:!1},ife={readContext:Qa,useCallback:hB,useContext:Qa,useEffect:Uy,useImperativeHandle:fB,useInsertionEffect:cB,useLayoutEffect:uB,useMemo:pB,useReducer:O_,useRef:lB,useState:function(){return O_(Tf)},useDebugValue:bM,useDeferredValue:function(x){var _=O_(Tf),A=_[0],M=_[1];return Uy(function(){var O=no.transition;no.transition={};try{M(x)}finally{no.transition=O}},[x]),A},useTransition:function(){var x=O_(Tf)[0],_=Il().memoizedState;return[x,_]},useMutableSource:nB,useSyncExternalStore:rB,useId:mB,unstable_isNewReconciler:!1},sfe={readContext:Qa,useCallback:hB,useContext:Qa,useEffect:Uy,useImperativeHandle:fB,useInsertionEffect:cB,useLayoutEffect:uB,useMemo:pB,useReducer:I_,useRef:lB,useState:function(){return I_(Tf)},useDebugValue:bM,useDeferredValue:function(x){var _=I_(Tf),A=_[0],M=_[1];return Uy(function(){var O=no.transition;no.transition={};try{M(x)}finally{no.transition=O}},[x]),A},useTransition:function(){var x=I_(Tf)[0],_=Il().memoizedState;return[x,_]},useMutableSource:nB,useSyncExternalStore:rB,useId:mB,unstable_isNewReconciler:!1};function wM(x,_){try{var A="",M=_;do A+=Qde(M),M=M.return;while(M);var O=A}catch(F){O=`
Error generating stack: `+F.message+`
`+F.stack}return{value:x,source:_,stack:O}}function _M(x,_){try{console.error(_.value)}catch(A){setTimeout(function(){throw A})}}var afe=typeof WeakMap=="function"?WeakMap:Map;function bB(x,_,A){A=Nc(-1,A),A.tag=3,A.payload={element:null};var M=_.value;return A.callback=function(){Z_||(Z_=!0,BM=M),_M(x,_)},A}function wB(x,_,A){A=Nc(-1,A),A.tag=3;var M=x.type.getDerivedStateFromError;if(typeof M=="function"){var O=_.value;A.payload=function(){return M(O)},A.callback=function(){_M(x,_)}}var F=x.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(A.callback=function(){_M(x,_),typeof M!="function"&&(Pu===null?Pu=new Set([this]):Pu.add(this));var re=_.stack;this.componentDidCatch(_.value,{componentStack:re!==null?re:""})}),A}function _B(x,_,A){var M=x.pingCache;if(M===null){M=x.pingCache=new afe;var O=new Set;M.set(_,O)}else O=M.get(_),O===void 0&&(O=new Set,M.set(_,O));O.has(A)||(O.add(A),x=bfe.bind(null,x,_,A),_.then(x,x))}function SB(x){do{var _;if((_=x.tag===13)&&(_=x.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return x;x=x.return}while(x!==null);return null}function NB(x,_,A,M,O){return x.mode&1?(x.flags|=65536,x.lanes=O,x):(x===_?x.flags|=65536:(x.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(_=Nc(-1,1),_.tag=2,Mu(A,_))),A.lanes|=1),x)}function kl(x){x.flags|=4}function jB(x,_){if(x!==null&&x.child===_.child)return!0;if(_.flags&16)return!1;for(x=_.child;x!==null;){if(x.flags&12854||x.subtreeFlags&12854)return!1;x=x.sibling}return!0}var By,zy,F_,U_;if(Te)By=function(x,_){for(var A=_.child;A!==null;){if(A.tag===5||A.tag===6)X(x,A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===_)break;for(;A.sibling===null;){if(A.return===null||A.return===_)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},zy=function(){},F_=function(x,_,A,M,O){if(x=x.memoizedProps,x!==M){var F=_.stateNode,re=Ol(to.current);A=B(F,A,x,M,O,re),(_.updateQueue=A)&&kl(_)}},U_=function(x,_,A,M){A!==M&&kl(_)};else if(Y){By=function(x,_,A,M){for(var O=_.child;O!==null;){if(O.tag===5){var F=O.stateNode;A&&M&&(F=cn(F,O.type,O.memoizedProps,O)),X(x,F)}else if(O.tag===6)F=O.stateNode,A&&M&&(F=yn(F,O.memoizedProps,O)),X(x,F);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)F=O.child,F!==null&&(F.return=O),By(x,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===_)break;for(;O.sibling===null;){if(O.return===null||O.return===_)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};var EB=function(x,_,A,M){for(var O=_.child;O!==null;){if(O.tag===5){var F=O.stateNode;A&&M&&(F=cn(F,O.type,O.memoizedProps,O)),He(x,F)}else if(O.tag===6)F=O.stateNode,A&&M&&(F=yn(F,O.memoizedProps,O)),He(x,F);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)F=O.child,F!==null&&(F.return=O),EB(x,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===_)break;for(;O.sibling===null;){if(O.return===null||O.return===_)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};zy=function(x,_){var A=_.stateNode;if(!jB(x,_)){x=A.containerInfo;var M=Lt(x);EB(M,_,!1,!1),A.pendingChildren=M,kl(_),nt(x,M)}},F_=function(x,_,A,M,O){var F=x.stateNode,re=x.memoizedProps;if((x=jB(x,_))&&re===M)_.stateNode=F;else{var he=_.stateNode,Pe=Ol(to.current),et=null;re!==M&&(et=B(he,A,re,M,O,Pe)),x&&et===null?_.stateNode=F:(F=Qe(F,et,A,re,M,_,x,he),Z(F,A,M,O,Pe)&&kl(_),_.stateNode=F,x?kl(_):By(F,_,!1,!1))}},U_=function(x,_,A,M){A!==M?(x=Ol(Qp.current),A=Ol(to.current),_.stateNode=ie(M,x,A,_),kl(_)):_.stateNode=x.stateNode}}else zy=function(){},F_=function(){},U_=function(){};function $y(x,_){if(!vr)switch(x.tailMode){case"hidden":_=x.tail;for(var A=null;_!==null;)_.alternate!==null&&(A=_),_=_.sibling;A===null?x.tail=null:A.sibling=null;break;case"collapsed":A=x.tail;for(var M=null;A!==null;)A.alternate!==null&&(M=A),A=A.sibling;M===null?_||x.tail===null?x.tail=null:x.tail.sibling=null:M.sibling=null}}function is(x){var _=x.alternate!==null&&x.alternate.child===x.child,A=0,M=0;if(_)for(var O=x.child;O!==null;)A|=O.lanes|O.childLanes,M|=O.subtreeFlags&14680064,M|=O.flags&14680064,O.return=x,O=O.sibling;else for(O=x.child;O!==null;)A|=O.lanes|O.childLanes,M|=O.subtreeFlags,M|=O.flags,O.return=x,O=O.sibling;return x.subtreeFlags|=M,x.childLanes=A,_}function ofe(x,_,A){var M=_.pendingProps;switch(oM(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return is(_),null;case 1:return Ci(_.type)&&Wr(),is(_),null;case 3:return M=_.stateNode,Zp(),Ut(Pr),Ut(xn),pM(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(x===null||x.child===null)&&(Ry(_)?kl(_):x===null||x.memoizedState.isDehydrated&&!(_.flags&256)||(_.flags|=1024,Lo!==null&&(VM(Lo),Lo=null))),zy(x,_),is(_),null;case 5:fM(_),A=Ol(Qp.current);var O=_.type;if(x!==null&&_.stateNode!=null)F_(x,_,O,M,A),x.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!M){if(_.stateNode===null)throw Error(o(166));return is(_),null}if(x=Ol(to.current),Ry(_)){if(!Ee)throw Error(o(175));x=ma(_.stateNode,_.type,_.memoizedProps,A,x,_,!Py),_.updateQueue=x,x!==null&&kl(_)}else{var F=G(O,M,A,x,_);By(F,_,!1,!1),_.stateNode=F,Z(F,O,M,A,x)&&kl(_)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return is(_),null;case 6:if(x&&_.stateNode!=null)U_(x,_,x.memoizedProps,M);else{if(typeof M!="string"&&_.stateNode===null)throw Error(o(166));if(x=Ol(Qp.current),A=Ol(to.current),Ry(_)){if(!Ee)throw Error(o(176));if(x=_.stateNode,M=_.memoizedProps,(A=$p(x,M,_,!Py))&&(O=va,O!==null))switch(F=(O.mode&1)!==0,O.tag){case 3:Le(O.stateNode.containerInfo,x,M,F);break;case 5:lt(O.type,O.memoizedProps,O.stateNode,x,M,F)}A&&kl(_)}else _.stateNode=ie(M,x,A,_)}return is(_),null;case 13:if(Ut(Sr),M=_.memoizedState,vr&&ya!==null&&_.mode&1&&!(_.flags&128)){for(x=ya;x;)x=ko(x);return Kp(),_.flags|=98560,_}if(M!==null&&M.dehydrated!==null){if(M=Ry(_),x===null){if(!M)throw Error(o(318));if(!Ee)throw Error(o(344));if(x=_.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(o(317));Vp(x,_)}else Kp(),!(_.flags&128)&&(_.memoizedState=null),_.flags|=4;return is(_),null}return Lo!==null&&(VM(Lo),Lo=null),_.flags&128?(_.lanes=A,_):(M=M!==null,A=!1,x===null?Ry(_):A=x.memoizedState!==null,M&&!A&&(_.child.flags|=8192,_.mode&1&&(x===null||Sr.current&1?hi===0&&(hi=3):WM())),_.updateQueue!==null&&(_.flags|=4),is(_),null);case 4:return Zp(),zy(x,_),x===null&&Re(_.stateNode.containerInfo),is(_),null;case 10:return tM(_.type._context),is(_),null;case 17:return Ci(_.type)&&Wr(),is(_),null;case 19:if(Ut(Sr),O=_.memoizedState,O===null)return is(_),null;if(M=(_.flags&128)!==0,F=O.rendering,F===null)if(M)$y(O,!1);else{if(hi!==0||x!==null&&x.flags&128)for(x=_.child;x!==null;){if(F=M_(x),F!==null){for(_.flags|=128,$y(O,!1),x=F.updateQueue,x!==null&&(_.updateQueue=x,_.flags|=4),_.subtreeFlags=0,x=A,M=_.child;M!==null;)A=M,O=x,A.flags&=14680066,F=A.alternate,F===null?(A.childLanes=0,A.lanes=O,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=F.childLanes,A.lanes=F.lanes,A.child=F.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=F.memoizedProps,A.memoizedState=F.memoizedState,A.updateQueue=F.updateQueue,A.type=F.type,O=F.dependencies,A.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext}),M=M.sibling;return _t(Sr,Sr.current&1|2),_.child}x=x.sibling}O.tail!==null&&Mi()>UM&&(_.flags|=128,M=!0,$y(O,!1),_.lanes=4194304)}else{if(!M)if(x=M_(F),x!==null){if(_.flags|=128,M=!0,x=x.updateQueue,x!==null&&(_.updateQueue=x,_.flags|=4),$y(O,!0),O.tail===null&&O.tailMode==="hidden"&&!F.alternate&&!vr)return is(_),null}else 2*Mi()-O.renderingStartTime>UM&&A!==1073741824&&(_.flags|=128,M=!0,$y(O,!1),_.lanes=4194304);O.isBackwards?(F.sibling=_.child,_.child=F):(x=O.last,x!==null?x.sibling=F:_.child=F,O.last=F)}return O.tail!==null?(_=O.tail,O.rendering=_,O.tail=_.sibling,O.renderingStartTime=Mi(),_.sibling=null,x=Sr.current,_t(Sr,M?x&1|2:x&1),_):(is(_),null);case 22:case 23:return HM(),M=_.memoizedState!==null,x!==null&&x.memoizedState!==null!==M&&(_.flags|=8192),M&&_.mode&1?ba&1073741824&&(is(_),Te&&_.subtreeFlags&6&&(_.flags|=8192)):is(_),null;case 24:return null;case 25:return null}throw Error(o(156,_.tag))}var lfe=l.ReactCurrentOwner,xa=!1;function Ns(x,_,A,M){_.child=x===null?eB(_,null,A,M):Jp(_,x.child,A,M)}function AB(x,_,A,M,O){A=A.render;var F=_.ref;return qp(_,O),M=gM(x,_,A,M,F,O),A=vM(),x!==null&&!xa?(_.updateQueue=x.updateQueue,_.flags&=-2053,x.lanes&=~O,Tc(x,_,O)):(vr&&A&&aM(_),_.flags|=1,Ns(x,_,M,O),_.child)}function TB(x,_,A,M,O){if(x===null){var F=A.type;return typeof F=="function"&&!GM(F)&&F.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(_.tag=15,_.type=F,CB(x,_,F,M,O)):(x=a1(A.type,null,M,_,_.mode,O),x.ref=_.ref,x.return=_,_.child=x)}if(F=x.child,!(x.lanes&O)){var re=F.memoizedProps;if(A=A.compare,A=A!==null?A:w_,A(re,M)&&x.ref===_.ref)return Tc(x,_,O)}return _.flags|=1,x=ku(F,M),x.ref=_.ref,x.return=_,_.child=x}function CB(x,_,A,M,O){if(x!==null&&w_(x.memoizedProps,M)&&x.ref===_.ref)if(xa=!1,(x.lanes&O)!==0)x.flags&131072&&(xa=!0);else return _.lanes=x.lanes,Tc(x,_,O);return SM(x,_,A,M,O)}function MB(x,_,A){var M=_.pendingProps,O=M.children,F=x!==null?x.memoizedState:null;if(M.mode==="hidden")if(!(_.mode&1))_.memoizedState={baseLanes:0,cachePool:null},_t(tm,ba),ba|=A;else if(A&1073741824)_.memoizedState={baseLanes:0,cachePool:null},M=F!==null?F.baseLanes:A,_t(tm,ba),ba|=M;else return x=F!==null?F.baseLanes|A:A,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:x,cachePool:null},_.updateQueue=null,_t(tm,ba),ba|=x,null;else F!==null?(M=F.baseLanes|A,_.memoizedState=null):M=A,_t(tm,ba),ba|=M;return Ns(x,_,O,A),_.child}function PB(x,_){var A=_.ref;(x===null&&A!==null||x!==null&&x.ref!==A)&&(_.flags|=512,_.flags|=2097152)}function SM(x,_,A,M,O){var F=Ci(A)?Al:xn.current;return F=Ja(_,F),qp(_,O),A=gM(x,_,A,M,F,O),M=vM(),x!==null&&!xa?(_.updateQueue=x.updateQueue,_.flags&=-2053,x.lanes&=~O,Tc(x,_,O)):(vr&&M&&aM(_),_.flags|=1,Ns(x,_,A,O),_.child)}function RB(x,_,A,M,O){if(Ci(A)){var F=!0;Vi(_)}else F=!1;if(qp(_,O),_.stateNode===null)x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),GU(_,A,M),sM(_,A,M,O),M=!0;else if(x===null){var re=_.stateNode,he=_.memoizedProps;re.props=he;var Pe=re.context,et=A.contextType;typeof et=="object"&&et!==null?et=Qa(et):(et=Ci(A)?Al:xn.current,et=Ja(_,et));var St=A.getDerivedStateFromProps,sn=typeof St=="function"||typeof re.getSnapshotBeforeUpdate=="function";sn||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(he!==M||Pe!==et)&&qU(_,re,M,et),Cu=!1;var Bt=_.memoizedState;re.state=Bt,j_(_,M,re,O),Pe=_.memoizedState,he!==M||Bt!==Pe||Pr.current||Cu?(typeof St=="function"&&(iM(_,A,St,M),Pe=_.memoizedState),(he=Cu||WU(_,A,he,M,Bt,Pe,et))?(sn||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(_.flags|=4194308)):(typeof re.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=M,_.memoizedState=Pe),re.props=M,re.state=Pe,re.context=et,M=he):(typeof re.componentDidMount=="function"&&(_.flags|=4194308),M=!1)}else{re=_.stateNode,zU(x,_),he=_.memoizedProps,et=_.type===_.elementType?he:Do(_.type,he),re.props=et,sn=_.pendingProps,Bt=re.context,Pe=A.contextType,typeof Pe=="object"&&Pe!==null?Pe=Qa(Pe):(Pe=Ci(A)?Al:xn.current,Pe=Ja(_,Pe));var Qn=A.getDerivedStateFromProps;(St=typeof Qn=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(he!==sn||Bt!==Pe)&&qU(_,re,M,Pe),Cu=!1,Bt=_.memoizedState,re.state=Bt,j_(_,M,re,O);var Ot=_.memoizedState;he!==sn||Bt!==Ot||Pr.current||Cu?(typeof Qn=="function"&&(iM(_,A,Qn,M),Ot=_.memoizedState),(et=Cu||WU(_,A,et,M,Bt,Ot,Pe)||!1)?(St||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(M,Ot,Pe),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(M,Ot,Pe)),typeof re.componentDidUpdate=="function"&&(_.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof re.componentDidUpdate!="function"||he===x.memoizedProps&&Bt===x.memoizedState||(_.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||he===x.memoizedProps&&Bt===x.memoizedState||(_.flags|=1024),_.memoizedProps=M,_.memoizedState=Ot),re.props=M,re.state=Ot,re.context=Pe,M=et):(typeof re.componentDidUpdate!="function"||he===x.memoizedProps&&Bt===x.memoizedState||(_.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||he===x.memoizedProps&&Bt===x.memoizedState||(_.flags|=1024),M=!1)}return NM(x,_,A,M,F,O)}function NM(x,_,A,M,O,F){PB(x,_);var re=(_.flags&128)!==0;if(!M&&!re)return O&&Wp(_,A,!1),Tc(x,_,F);M=_.stateNode,lfe.current=_;var he=re&&typeof A.getDerivedStateFromError!="function"?null:M.render();return _.flags|=1,x!==null&&re?(_.child=Jp(_,x.child,null,F),_.child=Jp(_,null,he,F)):Ns(x,_,he,F),_.memoizedState=M.state,O&&Wp(_,A,!0),_.child}function OB(x){var _=x.stateNode;_.pendingContext?Tl(x,_.pendingContext,_.pendingContext!==_.context):_.context&&Tl(x,_.context,!1),dM(x,_.containerInfo)}function IB(x,_,A,M,O){return Kp(),uM(O),_.flags|=256,Ns(x,_,A,M),_.child}var B_={dehydrated:null,treeContext:null,retryLane:0};function z_(x){return{baseLanes:x,cachePool:null}}function kB(x,_,A){var M=_.pendingProps,O=Sr.current,F=!1,re=(_.flags&128)!==0,he;if((he=re)||(he=x!==null&&x.memoizedState===null?!1:(O&2)!==0),he?(F=!0,_.flags&=-129):(x===null||x.memoizedState!==null)&&(O|=1),_t(Sr,O&1),x===null)return cM(_),x=_.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?(_.mode&1?ts(x)?_.lanes=8:_.lanes=1073741824:_.lanes=1,null):(O=M.children,x=M.fallback,F?(M=_.mode,F=_.child,O={mode:"hidden",children:O},!(M&1)&&F!==null?(F.childLanes=0,F.pendingProps=O):F=o1(O,M,0,null),x=If(x,M,A,null),F.return=_,x.return=_,F.sibling=x,_.child=F,_.child.memoizedState=z_(A),_.memoizedState=B_,x):jM(_,O));if(O=x.memoizedState,O!==null){if(he=O.dehydrated,he!==null){if(re)return _.flags&256?(_.flags&=-257,$_(x,_,A,Error(o(422)))):_.memoizedState!==null?(_.child=x.child,_.flags|=128,null):(F=M.fallback,O=_.mode,M=o1({mode:"visible",children:M.children},O,0,null),F=If(F,O,A,null),F.flags|=2,M.return=_,F.return=_,M.sibling=F,_.child=M,_.mode&1&&Jp(_,x.child,null,A),_.child.memoizedState=z_(A),_.memoizedState=B_,F);if(!(_.mode&1))_=$_(x,_,A,null);else if(ts(he))_=$_(x,_,A,Error(o(419)));else if(M=(A&x.childLanes)!==0,xa||M){if(M=ii,M!==null){switch(A&-A){case 4:F=2;break;case 16:F=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:F=32;break;case 536870912:F=268435456;break;default:F=0}M=F&(M.suspendedLanes|A)?0:F,M!==0&&M!==O.retryLane&&(O.retryLane=M,ro(x,M,-1))}WM(),_=$_(x,_,A,Error(o(421)))}else es(he)?(_.flags|=128,_.child=x.child,_=wfe.bind(null,x),Ys(he,_),_=null):(A=O.treeContext,Ee&&(ya=jf(he),va=_,vr=!0,Lo=null,Py=!1,A!==null&&(Za[eo++]=jc,Za[eo++]=Ec,Za[eo++]=Ef,jc=A.id,Ec=A.overflow,Ef=_)),_=jM(_,_.pendingProps.children),_.flags|=4096);return _}return F?(M=LB(x,_,M.children,M.fallback,A),F=_.child,O=x.child.memoizedState,F.memoizedState=O===null?z_(A):{baseLanes:O.baseLanes|A,cachePool:null},F.childLanes=x.childLanes&~A,_.memoizedState=B_,M):(A=DB(x,_,M.children,A),_.memoizedState=null,A)}return F?(M=LB(x,_,M.children,M.fallback,A),F=_.child,O=x.child.memoizedState,F.memoizedState=O===null?z_(A):{baseLanes:O.baseLanes|A,cachePool:null},F.childLanes=x.childLanes&~A,_.memoizedState=B_,M):(A=DB(x,_,M.children,A),_.memoizedState=null,A)}function jM(x,_){return _=o1({mode:"visible",children:_},x.mode,0,null),_.return=x,x.child=_}function DB(x,_,A,M){var O=x.child;return x=O.sibling,A=ku(O,{mode:"visible",children:A}),!(_.mode&1)&&(A.lanes=M),A.return=_,A.sibling=null,x!==null&&(M=_.deletions,M===null?(_.deletions=[x],_.flags|=16):M.push(x)),_.child=A}function LB(x,_,A,M,O){var F=_.mode;x=x.child;var re=x.sibling,he={mode:"hidden",children:A};return!(F&1)&&_.child!==x?(A=_.child,A.childLanes=0,A.pendingProps=he,_.deletions=null):(A=ku(x,he),A.subtreeFlags=x.subtreeFlags&14680064),re!==null?M=ku(re,M):(M=If(M,F,O,null),M.flags|=2),M.return=_,A.return=_,A.sibling=M,_.child=A,M}function $_(x,_,A,M){return M!==null&&uM(M),Jp(_,x.child,null,A),x=jM(_,_.pendingProps.children),x.flags|=2,_.memoizedState=null,x}function FB(x,_,A){x.lanes|=_;var M=x.alternate;M!==null&&(M.lanes|=_),nM(x.return,_,A)}function EM(x,_,A,M,O){var F=x.memoizedState;F===null?x.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:M,tail:A,tailMode:O}:(F.isBackwards=_,F.rendering=null,F.renderingStartTime=0,F.last=M,F.tail=A,F.tailMode=O)}function UB(x,_,A){var M=_.pendingProps,O=M.revealOrder,F=M.tail;if(Ns(x,_,M.children,A),M=Sr.current,M&2)M=M&1|2,_.flags|=128;else{if(x!==null&&x.flags&128)e:for(x=_.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&FB(x,A,_);else if(x.tag===19)FB(x,A,_);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===_)break e;for(;x.sibling===null;){if(x.return===null||x.return===_)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}M&=1}if(_t(Sr,M),!(_.mode&1))_.memoizedState=null;else switch(O){case"forwards":for(A=_.child,O=null;A!==null;)x=A.alternate,x!==null&&M_(x)===null&&(O=A),A=A.sibling;A=O,A===null?(O=_.child,_.child=null):(O=A.sibling,A.sibling=null),EM(_,!1,O,A,F);break;case"backwards":for(A=null,O=_.child,_.child=null;O!==null;){if(x=O.alternate,x!==null&&M_(x)===null){_.child=O;break}x=O.sibling,O.sibling=A,A=O,O=x}EM(_,!0,A,null,F);break;case"together":EM(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function Tc(x,_,A){if(x!==null&&(_.dependencies=x.dependencies),nm|=_.lanes,!(A&_.childLanes))return null;if(x!==null&&_.child!==x.child)throw Error(o(153));if(_.child!==null){for(x=_.child,A=ku(x,x.pendingProps),_.child=A,A.return=_;x.sibling!==null;)x=x.sibling,A=A.sibling=ku(x,x.pendingProps),A.return=_;A.sibling=null}return _.child}function cfe(x,_,A){switch(_.tag){case 3:OB(_),Kp();break;case 5:tB(_);break;case 1:Ci(_.type)&&Vi(_);break;case 4:dM(_,_.stateNode.containerInfo);break;case 10:BU(_,_.type._context,_.memoizedProps.value);break;case 13:var M=_.memoizedState;if(M!==null)return M.dehydrated!==null?(_t(Sr,Sr.current&1),_.flags|=128,null):A&_.child.childLanes?kB(x,_,A):(_t(Sr,Sr.current&1),x=Tc(x,_,A),x!==null?x.sibling:null);_t(Sr,Sr.current&1);break;case 19:if(M=(A&_.childLanes)!==0,x.flags&128){if(M)return UB(x,_,A);_.flags|=128}var O=_.memoizedState;if(O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),_t(Sr,Sr.current),M)break;return null;case 22:case 23:return _.lanes=0,MB(x,_,A)}return Tc(x,_,A)}function ufe(x,_){switch(oM(_),_.tag){case 1:return Ci(_.type)&&Wr(),x=_.flags,x&65536?(_.flags=x&-65537|128,_):null;case 3:return Zp(),Ut(Pr),Ut(xn),pM(),x=_.flags,x&65536&&!(x&128)?(_.flags=x&-65537|128,_):null;case 5:return fM(_),null;case 13:if(Ut(Sr),x=_.memoizedState,x!==null&&x.dehydrated!==null){if(_.alternate===null)throw Error(o(340));Kp()}return x=_.flags,x&65536?(_.flags=x&-65537|128,_):null;case 19:return Ut(Sr),null;case 4:return Zp(),null;case 10:return tM(_.type._context),null;case 22:case 23:return HM(),null;case 24:return null;default:return null}}var V_=!1,Cf=!1,dfe=typeof WeakSet=="function"?WeakSet:Set,ct=null;function H_(x,_){var A=x.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(M){Qs(x,_,M)}else A.current=null}function AM(x,_,A){try{A()}catch(M){Qs(x,_,M)}}var BB=!1;function ffe(x,_){for(L(x.containerInfo),ct=_;ct!==null;)if(x=ct,_=x.child,(x.subtreeFlags&1028)!==0&&_!==null)_.return=x,ct=_;else for(;ct!==null;){x=ct;try{var A=x.alternate;if(x.flags&1024)switch(x.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var M=A.memoizedProps,O=A.memoizedState,F=x.stateNode,re=F.getSnapshotBeforeUpdate(x.elementType===x.type?M:Do(x.type,M),O);F.__reactInternalSnapshotBeforeUpdate=re}break;case 3:Te&&Ze(x.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(he){Qs(x,x.return,he)}if(_=x.sibling,_!==null){_.return=x.return,ct=_;break}ct=x.return}return A=BB,BB=!1,A}function Mf(x,_,A){var M=_.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var O=M=M.next;do{if((O.tag&x)===x){var F=O.destroy;O.destroy=void 0,F!==void 0&&AM(_,A,F)}O=O.next}while(O!==M)}}function Vy(x,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var A=_=_.next;do{if((A.tag&x)===x){var M=A.create;A.destroy=M()}A=A.next}while(A!==_)}}function TM(x){var _=x.ref;if(_!==null){var A=x.stateNode;switch(x.tag){case 5:x=z(A);break;default:x=A}typeof _=="function"?_(x):_.current=x}}function zB(x,_,A){if(Cl&&typeof Cl.onCommitFiberUnmount=="function")try{Cl.onCommitFiberUnmount(x_,_)}catch{}switch(_.tag){case 0:case 11:case 14:case 15:if(x=_.updateQueue,x!==null&&(x=x.lastEffect,x!==null)){var M=x=x.next;do{var O=M,F=O.destroy;O=O.tag,F!==void 0&&(O&2||O&4)&&AM(_,A,F),M=M.next}while(M!==x)}break;case 1:if(H_(_,A),x=_.stateNode,typeof x.componentWillUnmount=="function")try{x.props=_.memoizedProps,x.state=_.memoizedState,x.componentWillUnmount()}catch(re){Qs(_,A,re)}break;case 5:H_(_,A);break;case 4:Te?qB(x,_,A):Y&&Y&&(_=_.stateNode.containerInfo,A=Lt(_),vt(_,A))}}function $B(x,_,A){for(var M=_;;)if(zB(x,M,A),M.child===null||Te&&M.tag===4){if(M===_)break;for(;M.sibling===null;){if(M.return===null||M.return===_)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function VB(x){var _=x.alternate;_!==null&&(x.alternate=null,VB(_)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(_=x.stateNode,_!==null&&rt(_)),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function HB(x){return x.tag===5||x.tag===3||x.tag===4}function WB(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||HB(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function GB(x){if(Te){e:{for(var _=x.return;_!==null;){if(HB(_))break e;_=_.return}throw Error(o(160))}var A=_;switch(A.tag){case 5:_=A.stateNode,A.flags&32&&(Be(_),A.flags&=-33),A=WB(x),MM(x,A,_);break;case 3:case 4:_=A.stateNode.containerInfo,A=WB(x),CM(x,A,_);break;default:throw Error(o(161))}}}function CM(x,_,A){var M=x.tag;if(M===5||M===6)x=x.stateNode,_?mt(A,x,_):Vt(A,x);else if(M!==4&&(x=x.child,x!==null))for(CM(x,_,A),x=x.sibling;x!==null;)CM(x,_,A),x=x.sibling}function MM(x,_,A){var M=x.tag;if(M===5||M===6)x=x.stateNode,_?Dt(A,x,_):Et(A,x);else if(M!==4&&(x=x.child,x!==null))for(MM(x,_,A),x=x.sibling;x!==null;)MM(x,_,A),x=x.sibling}function qB(x,_,A){for(var M=_,O=!1,F,re;;){if(!O){O=M.return;e:for(;;){if(O===null)throw Error(o(160));switch(F=O.stateNode,O.tag){case 5:re=!1;break e;case 3:F=F.containerInfo,re=!0;break e;case 4:F=F.containerInfo,re=!0;break e}O=O.return}O=!0}if(M.tag===5||M.tag===6)$B(x,M,A),re?se(F,M.stateNode):it(F,M.stateNode);else if(M.tag===18)re?K(F,M.stateNode):de(F,M.stateNode);else if(M.tag===4){if(M.child!==null){F=M.stateNode.containerInfo,re=!0,M.child.return=M,M=M.child;continue}}else if(zB(x,M,A),M.child!==null){M.child.return=M,M=M.child;continue}if(M===_)break;for(;M.sibling===null;){if(M.return===null||M.return===_)return;M=M.return,M.tag===4&&(O=!1)}M.sibling.return=M.return,M=M.sibling}}function PM(x,_){if(Te){switch(_.tag){case 0:case 11:case 14:case 15:Mf(3,_,_.return),Vy(3,_),Mf(5,_,_.return);return;case 1:return;case 5:var A=_.stateNode;if(A!=null){var M=_.memoizedProps;x=x!==null?x.memoizedProps:M;var O=_.type,F=_.updateQueue;_.updateQueue=null,F!==null&&Kt(A,F,O,x,M,_)}return;case 6:if(_.stateNode===null)throw Error(o(162));A=_.memoizedProps,$e(_.stateNode,x!==null?x.memoizedProps:A,A);return;case 3:Ee&&x!==null&&x.memoizedState.isDehydrated&&ye(_.stateNode.containerInfo);return;case 12:return;case 13:W_(_);return;case 19:W_(_);return;case 17:return}throw Error(o(163))}switch(_.tag){case 0:case 11:case 14:case 15:Mf(3,_,_.return),Vy(3,_),Mf(5,_,_.return);return;case 12:return;case 13:W_(_);return;case 19:W_(_);return;case 3:Ee&&x!==null&&x.memoizedState.isDehydrated&&ye(_.stateNode.containerInfo);break;case 22:case 23:return}e:if(Y){switch(_.tag){case 1:case 5:case 6:break e;case 3:case 4:_=_.stateNode,vt(_.containerInfo,_.pendingChildren);break e}throw Error(o(163))}}function W_(x){var _=x.updateQueue;if(_!==null){x.updateQueue=null;var A=x.stateNode;A===null&&(A=x.stateNode=new dfe),_.forEach(function(M){var O=_fe.bind(null,x,M);A.has(M)||(A.add(M),M.then(O,O))})}}function hfe(x,_){for(ct=_;ct!==null;){_=ct;var A=_.deletions;if(A!==null)for(var M=0;M<A.length;M++){var O=A[M];try{var F=x;Te?qB(F,O,_):$B(F,O,_);var re=O.alternate;re!==null&&(re.return=null),O.return=null}catch(Mt){Qs(O,_,Mt)}}if(A=_.child,_.subtreeFlags&12854&&A!==null)A.return=_,ct=A;else for(;ct!==null;){_=ct;try{var he=_.flags;if(he&32&&Te&&Be(_.stateNode),he&512){var Pe=_.alternate;if(Pe!==null){var et=Pe.ref;et!==null&&(typeof et=="function"?et(null):et.current=null)}}if(he&8192)switch(_.tag){case 13:if(_.memoizedState!==null){var St=_.alternate;(St===null||St.memoizedState===null)&&(FM=Mi())}break;case 22:var sn=_.memoizedState!==null,Bt=_.alternate,Qn=Bt!==null&&Bt.memoizedState!==null;if(A=_,Te){e:if(M=A,O=sn,F=null,Te)for(var Ot=M;;){if(Ot.tag===5){if(F===null){F=Ot;var ss=Ot.stateNode;O?at(ss):Ve(Ot.stateNode,Ot.memoizedProps)}}else if(Ot.tag===6){if(F===null){var so=Ot.stateNode;O?ot(so):oe(so,Ot.memoizedProps)}}else if((Ot.tag!==22&&Ot.tag!==23||Ot.memoizedState===null||Ot===M)&&Ot.child!==null){Ot.child.return=Ot,Ot=Ot.child;continue}if(Ot===M)break;for(;Ot.sibling===null;){if(Ot.return===null||Ot.return===M)break e;F===Ot&&(F=null),Ot=Ot.return}F===Ot&&(F=null),Ot.sibling.return=Ot.return,Ot=Ot.sibling}}if(sn&&!Qn&&A.mode&1){ct=A;for(var _e=A.child;_e!==null;){for(A=ct=_e;ct!==null;){M=ct;var me=M.child;switch(M.tag){case 0:case 11:case 14:case 15:Mf(4,M,M.return);break;case 1:H_(M,M.return);var Ce=M.stateNode;if(typeof Ce.componentWillUnmount=="function"){var ft=M.return;try{Ce.props=M.memoizedProps,Ce.state=M.memoizedState,Ce.componentWillUnmount()}catch(Mt){Qs(M,ft,Mt)}}break;case 5:H_(M,M.return);break;case 22:if(M.memoizedState!==null){KB(A);continue}}me!==null?(me.return=M,ct=me):KB(A)}_e=_e.sibling}}}switch(he&4102){case 2:GB(_),_.flags&=-3;break;case 6:GB(_),_.flags&=-3,PM(_.alternate,_);break;case 4096:_.flags&=-4097;break;case 4100:_.flags&=-4097,PM(_.alternate,_);break;case 4:PM(_.alternate,_)}}catch(Mt){Qs(_,_.return,Mt)}if(A=_.sibling,A!==null){A.return=_.return,ct=A;break}ct=_.return}}}function pfe(x,_,A){ct=x,XB(x)}function XB(x,_,A){for(var M=(x.mode&1)!==0;ct!==null;){var O=ct,F=O.child;if(O.tag===22&&M){var re=O.memoizedState!==null||V_;if(!re){var he=O.alternate,Pe=he!==null&&he.memoizedState!==null||Cf;he=V_;var et=Cf;if(V_=re,(Cf=Pe)&&!et)for(ct=O;ct!==null;)re=ct,Pe=re.child,re.tag===22&&re.memoizedState!==null?JB(O):Pe!==null?(Pe.return=re,ct=Pe):JB(O);for(;F!==null;)ct=F,XB(F),F=F.sibling;ct=O,V_=he,Cf=et}YB(x)}else O.subtreeFlags&8772&&F!==null?(F.return=O,ct=F):YB(x)}}function YB(x){for(;ct!==null;){var _=ct;if(_.flags&8772){var A=_.alternate;try{if(_.flags&8772)switch(_.tag){case 0:case 11:case 15:Cf||Vy(5,_);break;case 1:var M=_.stateNode;if(_.flags&4&&!Cf)if(A===null)M.componentDidMount();else{var O=_.elementType===_.type?A.memoizedProps:Do(_.type,A.memoizedProps);M.componentDidUpdate(O,A.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var F=_.updateQueue;F!==null&&VU(_,F,M);break;case 3:var re=_.updateQueue;if(re!==null){if(A=null,_.child!==null)switch(_.child.tag){case 5:A=z(_.child.stateNode);break;case 1:A=_.child.stateNode}VU(_,re,A)}break;case 5:var he=_.stateNode;A===null&&_.flags&4&&on(he,_.type,_.memoizedProps,_);break;case 6:break;case 4:break;case 12:break;case 13:if(Ee&&_.memoizedState===null){var Pe=_.alternate;if(Pe!==null){var et=Pe.memoizedState;if(et!==null){var St=et.dehydrated;St!==null&&Ae(St)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Cf||_.flags&512&&TM(_)}catch(sn){Qs(_,_.return,sn)}}if(_===x){ct=null;break}if(A=_.sibling,A!==null){A.return=_.return,ct=A;break}ct=_.return}}function KB(x){for(;ct!==null;){var _=ct;if(_===x){ct=null;break}var A=_.sibling;if(A!==null){A.return=_.return,ct=A;break}ct=_.return}}function JB(x){for(;ct!==null;){var _=ct;try{switch(_.tag){case 0:case 11:case 15:var A=_.return;try{Vy(4,_)}catch(Pe){Qs(_,A,Pe)}break;case 1:var M=_.stateNode;if(typeof M.componentDidMount=="function"){var O=_.return;try{M.componentDidMount()}catch(Pe){Qs(_,O,Pe)}}var F=_.return;try{TM(_)}catch(Pe){Qs(_,F,Pe)}break;case 5:var re=_.return;try{TM(_)}catch(Pe){Qs(_,re,Pe)}}}catch(Pe){Qs(_,_.return,Pe)}if(_===x){ct=null;break}var he=_.sibling;if(he!==null){he.return=_.return,ct=he;break}ct=_.return}}var G_=0,q_=1,X_=2,Y_=3,K_=4;if(typeof Symbol=="function"&&Symbol.for){var Hy=Symbol.for;G_=Hy("selector.component"),q_=Hy("selector.has_pseudo_class"),X_=Hy("selector.role"),Y_=Hy("selector.test_id"),K_=Hy("selector.text")}function RM(x){var _=ve(x);if(_!=null){if(typeof _.memoizedProps["data-testname"]!="string")throw Error(o(364));return _}if(x=pe(x),x===null)throw Error(o(362));return x.stateNode.current}function OM(x,_){switch(_.$$typeof){case G_:if(x.type===_.value)return!0;break;case q_:e:{_=_.value,x=[x,0];for(var A=0;A<x.length;){var M=x[A++],O=x[A++],F=_[O];if(M.tag!==5||!ke(M)){for(;F!=null&&OM(M,F);)O++,F=_[O];if(O===_.length){_=!0;break e}else for(M=M.child;M!==null;)x.push(M,O),M=M.sibling}}_=!1}return _;case X_:if(x.tag===5&&dt(x.stateNode,_.value))return!0;break;case K_:if((x.tag===5||x.tag===6)&&(x=Ue(x),x!==null&&0<=x.indexOf(_.value)))return!0;break;case Y_:if(x.tag===5&&(x=x.memoizedProps["data-testname"],typeof x=="string"&&x.toLowerCase()===_.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function IM(x){switch(x.$$typeof){case G_:return"<"+(T(x.value)||"Unknown")+">";case q_:return":has("+(IM(x)||"")+")";case X_:return'[role="'+x.value+'"]';case K_:return'"'+x.value+'"';case Y_:return'[data-testname="'+x.value+'"]';default:throw Error(o(365))}}function QB(x,_){var A=[];x=[x,0];for(var M=0;M<x.length;){var O=x[M++],F=x[M++],re=_[F];if(O.tag!==5||!ke(O)){for(;re!=null&&OM(O,re);)F++,re=_[F];if(F===_.length)A.push(O);else for(O=O.child;O!==null;)x.push(O,F),O=O.sibling}}return A}function kM(x,_){if(!q)throw Error(o(363));x=RM(x),x=QB(x,_),_=[],x=Array.from(x);for(var A=0;A<x.length;){var M=x[A++];if(M.tag===5)ke(M)||_.push(M.stateNode);else for(M=M.child;M!==null;)x.push(M),M=M.sibling}return _}var mfe=Math.ceil,J_=l.ReactCurrentDispatcher,DM=l.ReactCurrentOwner,Gr=l.ReactCurrentBatchConfig,bn=0,ii=null,si=null,Hi=0,ba=0,tm=Hr(0),hi=0,Wy=null,nm=0,Q_=0,LM=0,Gy=null,Ks=null,FM=0,UM=1/0;function rm(){UM=Mi()+500}var Z_=!1,BM=null,Pu=null,e1=!1,Ru=null,t1=0,qy=0,zM=null,n1=-1,r1=0;function js(){return bn&6?Mi():n1!==-1?n1:n1=Mi()}function Ou(x){return x.mode&1?bn&2&&Hi!==0?Hi&-Hi:Jde.transition!==null?(r1===0&&(x=g_,g_<<=1,!(g_&4194240)&&(g_=64),r1=x),r1):(x=Mn,x!==0?x:we()):1}function ro(x,_,A){if(50<qy)throw qy=0,zM=null,Error(o(185));var M=i1(x,_);return M===null?null:(My(M,_,A),(!(bn&2)||M!==ii)&&(M===ii&&(!(bn&2)&&(Q_|=_),hi===4&&Iu(M,Hi)),Js(M,A),_===1&&bn===0&&!(x.mode&1)&&(rm(),b_&&Pl())),M)}function i1(x,_){x.lanes|=_;var A=x.alternate;for(A!==null&&(A.lanes|=_),A=x,x=x.return;x!==null;)x.childLanes|=_,A=x.alternate,A!==null&&(A.childLanes|=_),A=x,x=x.return;return A.tag===3?A.stateNode:null}function Js(x,_){var A=x.callbackNode;$de(x,_);var M=y_(x,x===ii?Hi:0);if(M===0)A!==null&&FU(A),x.callbackNode=null,x.callbackPriority=0;else if(_=M&-M,x.callbackPriority!==_){if(A!=null&&FU(A),_===1)x.tag===0?Kde(ez.bind(null,x)):UU(ez.bind(null,x)),qe?Q(function(){bn===0&&Pl()}):YC(KC,Pl),A=null;else{switch(LU(M)){case 1:A=KC;break;case 4:A=Gde;break;case 16:A=JC;break;case 536870912:A=qde;break;default:A=JC}A=cz(A,ZB.bind(null,x))}x.callbackPriority=_,x.callbackNode=A}}function ZB(x,_){if(n1=-1,r1=0,bn&6)throw Error(o(327));var A=x.callbackNode;if(Of()&&x.callbackNode!==A)return null;var M=y_(x,x===ii?Hi:0);if(M===0)return null;if(M&30||M&x.expiredLanes||_)_=s1(x,M);else{_=M;var O=bn;bn|=2;var F=rz();(ii!==x||Hi!==_)&&(rm(),Pf(x,_));do try{yfe();break}catch(he){nz(x,he)}while(!0);eM(),J_.current=F,bn=O,si!==null?_=0:(ii=null,Hi=0,_=hi)}if(_!==0){if(_===2&&(O=GC(x),O!==0&&(M=O,_=$M(x,O))),_===1)throw A=Wy,Pf(x,0),Iu(x,M),Js(x,Mi()),A;if(_===6)Iu(x,M);else{if(O=x.current.alternate,!(M&30)&&!gfe(O)&&(_=s1(x,M),_===2&&(F=GC(x),F!==0&&(M=F,_=$M(x,F))),_===1))throw A=Wy,Pf(x,0),Iu(x,M),Js(x,Mi()),A;switch(x.finishedWork=O,x.finishedLanes=M,_){case 0:case 1:throw Error(o(345));case 2:Rf(x,Ks);break;case 3:if(Iu(x,M),(M&130023424)===M&&(_=FM+500-Mi(),10<_)){if(y_(x,0)!==0)break;if(O=x.suspendedLanes,(O&M)!==M){js(),x.pingedLanes|=x.suspendedLanes&O;break}x.timeoutHandle=ae(Rf.bind(null,x,Ks),_);break}Rf(x,Ks);break;case 4:if(Iu(x,M),(M&4194240)===M)break;for(_=x.eventTimes,O=-1;0<M;){var re=31-ga(M);F=1<<re,re=_[re],re>O&&(O=re),M&=~F}if(M=O,M=Mi()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*mfe(M/1960))-M,10<M){x.timeoutHandle=ae(Rf.bind(null,x,Ks),M);break}Rf(x,Ks);break;case 5:Rf(x,Ks);break;default:throw Error(o(329))}}}return Js(x,Mi()),x.callbackNode===A?ZB.bind(null,x):null}function $M(x,_){var A=Gy;return x.current.memoizedState.isDehydrated&&(Pf(x,_).flags|=256),x=s1(x,_),x!==2&&(_=Ks,Ks=A,_!==null&&VM(_)),x}function VM(x){Ks===null?Ks=x:Ks.push.apply(Ks,x)}function gfe(x){for(var _=x;;){if(_.flags&16384){var A=_.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var M=0;M<A.length;M++){var O=A[M],F=O.getSnapshot;O=O.value;try{if(!Ml(F(),O))return!1}catch{return!1}}}if(A=_.child,_.subtreeFlags&16384&&A!==null)A.return=_,_=A;else{if(_===x)break;for(;_.sibling===null;){if(_.return===null||_.return===x)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function Iu(x,_){for(_&=~LM,_&=~Q_,x.suspendedLanes|=_,x.pingedLanes&=~_,x=x.expirationTimes;0<_;){var A=31-ga(_),M=1<<A;x[A]=-1,_&=~M}}function ez(x){if(bn&6)throw Error(o(327));Of();var _=y_(x,0);if(!(_&1))return Js(x,Mi()),null;var A=s1(x,_);if(x.tag!==0&&A===2){var M=GC(x);M!==0&&(_=M,A=$M(x,M))}if(A===1)throw A=Wy,Pf(x,0),Iu(x,_),Js(x,Mi()),A;if(A===6)throw Error(o(345));return x.finishedWork=x.current.alternate,x.finishedLanes=_,Rf(x,Ks),Js(x,Mi()),null}function tz(x){Ru!==null&&Ru.tag===0&&!(bn&6)&&Of();var _=bn;bn|=1;var A=Gr.transition,M=Mn;try{if(Gr.transition=null,Mn=1,x)return x()}finally{Mn=M,Gr.transition=A,bn=_,!(bn&6)&&Pl()}}function HM(){ba=tm.current,Ut(tm)}function Pf(x,_){x.finishedWork=null,x.finishedLanes=0;var A=x.timeoutHandle;if(A!==ce&&(x.timeoutHandle=ce,be(A)),si!==null)for(A=si.return;A!==null;){var M=A;switch(oM(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Wr();break;case 3:Zp(),Ut(Pr),Ut(xn),pM();break;case 5:fM(M);break;case 4:Zp();break;case 13:Ut(Sr);break;case 19:Ut(Sr);break;case 10:tM(M.type._context);break;case 22:case 23:HM()}A=A.return}if(ii=x,si=x=ku(x.current,null),Hi=ba=_,hi=0,Wy=null,LM=Q_=nm=0,Ks=Gy=null,Rl!==null){for(_=0;_<Rl.length;_++)if(A=Rl[_],M=A.interleaved,M!==null){A.interleaved=null;var O=M.next,F=A.pending;if(F!==null){var re=F.next;F.next=O,M.next=re}A.pending=M}Rl=null}return x}function nz(x,_){do{var A=si;try{if(eM(),P_.current=L_,R_){for(var M=Rr.memoizedState;M!==null;){var O=M.queue;O!==null&&(O.pending=null),M=M.next}R_=!1}if(em=0,Pi=ns=Rr=null,Dy=!1,Ly=0,DM.current=null,A===null||A.return===null){hi=1,Wy=_,si=null;break}e:{var F=x,re=A.return,he=A,Pe=_;if(_=Hi,he.flags|=32768,Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var et=Pe,St=he,sn=St.tag;if(!(St.mode&1)&&(sn===0||sn===11||sn===15)){var Bt=St.alternate;Bt?(St.updateQueue=Bt.updateQueue,St.memoizedState=Bt.memoizedState,St.lanes=Bt.lanes):(St.updateQueue=null,St.memoizedState=null)}var Qn=SB(re);if(Qn!==null){Qn.flags&=-257,NB(Qn,re,he,F,_),Qn.mode&1&&_B(F,et,_),_=Qn,Pe=et;var Ot=_.updateQueue;if(Ot===null){var ss=new Set;ss.add(Pe),_.updateQueue=ss}else Ot.add(Pe);break e}else{if(!(_&1)){_B(F,et,_),WM();break e}Pe=Error(o(426))}}else if(vr&&he.mode&1){var so=SB(re);if(so!==null){!(so.flags&65536)&&(so.flags|=256),NB(so,re,he,F,_),uM(Pe);break e}}F=Pe,hi!==4&&(hi=2),Gy===null?Gy=[F]:Gy.push(F),Pe=wM(Pe,he),he=re;do{switch(he.tag){case 3:he.flags|=65536,_&=-_,he.lanes|=_;var _e=bB(he,Pe,_);$U(he,_e);break e;case 1:F=Pe;var me=he.type,Ce=he.stateNode;if(!(he.flags&128)&&(typeof me.getDerivedStateFromError=="function"||Ce!==null&&typeof Ce.componentDidCatch=="function"&&(Pu===null||!Pu.has(Ce)))){he.flags|=65536,_&=-_,he.lanes|=_;var ft=wB(he,F,_);$U(he,ft);break e}}he=he.return}while(he!==null)}sz(A)}catch(Mt){_=Mt,si===A&&A!==null&&(si=A=A.return);continue}break}while(!0)}function rz(){var x=J_.current;return J_.current=L_,x===null?L_:x}function WM(){(hi===0||hi===3||hi===2)&&(hi=4),ii===null||!(nm&268435455)&&!(Q_&268435455)||Iu(ii,Hi)}function s1(x,_){var A=bn;bn|=2;var M=rz();ii===x&&Hi===_||Pf(x,_);do try{vfe();break}catch(O){nz(x,O)}while(!0);if(eM(),bn=A,J_.current=M,si!==null)throw Error(o(261));return ii=null,Hi=0,hi}function vfe(){for(;si!==null;)iz(si)}function yfe(){for(;si!==null&&!Hde();)iz(si)}function iz(x){var _=lz(x.alternate,x,ba);x.memoizedProps=x.pendingProps,_===null?sz(x):si=_,DM.current=null}function sz(x){var _=x;do{var A=_.alternate;if(x=_.return,_.flags&32768){if(A=ufe(A,_),A!==null){A.flags&=32767,si=A;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{hi=6,si=null;return}}else if(A=ofe(A,_,ba),A!==null){si=A;return}if(_=_.sibling,_!==null){si=_;return}si=_=x}while(_!==null);hi===0&&(hi=5)}function Rf(x,_){var A=Mn,M=Gr.transition;try{Gr.transition=null,Mn=1,xfe(x,_,A)}finally{Gr.transition=M,Mn=A}return null}function xfe(x,_,A){do Of();while(Ru!==null);if(bn&6)throw Error(o(327));var M=x.finishedWork,O=x.finishedLanes;if(M===null)return null;if(x.finishedWork=null,x.finishedLanes=0,M===x.current)throw Error(o(177));x.callbackNode=null,x.callbackPriority=0;var F=M.lanes|M.childLanes;if(Vde(x,F),x===ii&&(si=ii=null,Hi=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||e1||(e1=!0,cz(JC,function(){return Of(),null})),F=(M.flags&15990)!==0,M.subtreeFlags&15990||F){F=Gr.transition,Gr.transition=null;var re=Mn;Mn=1;var he=bn;bn|=4,DM.current=null,ffe(x,M),hfe(x,M),H(x.containerInfo),x.current=M,pfe(M),Wde(),bn=he,Mn=re,Gr.transition=F}else x.current=M;if(e1&&(e1=!1,Ru=x,t1=O),F=x.pendingLanes,F===0&&(Pu=null),Xde(M.stateNode),Js(x,Mi()),_!==null)for(A=x.onRecoverableError,M=0;M<_.length;M++)A(_[M]);if(Z_)throw Z_=!1,x=BM,BM=null,x;return t1&1&&x.tag!==0&&Of(),F=x.pendingLanes,F&1?x===zM?qy++:(qy=0,zM=x):qy=0,Pl(),null}function Of(){if(Ru!==null){var x=LU(t1),_=Gr.transition,A=Mn;try{if(Gr.transition=null,Mn=16>x?16:x,Ru===null)var M=!1;else{if(x=Ru,Ru=null,t1=0,bn&6)throw Error(o(331));var O=bn;for(bn|=4,ct=x.current;ct!==null;){var F=ct,re=F.child;if(ct.flags&16){var he=F.deletions;if(he!==null){for(var Pe=0;Pe<he.length;Pe++){var et=he[Pe];for(ct=et;ct!==null;){var St=ct;switch(St.tag){case 0:case 11:case 15:Mf(8,St,F)}var sn=St.child;if(sn!==null)sn.return=St,ct=sn;else for(;ct!==null;){St=ct;var Bt=St.sibling,Qn=St.return;if(VB(St),St===et){ct=null;break}if(Bt!==null){Bt.return=Qn,ct=Bt;break}ct=Qn}}}var Ot=F.alternate;if(Ot!==null){var ss=Ot.child;if(ss!==null){Ot.child=null;do{var so=ss.sibling;ss.sibling=null,ss=so}while(ss!==null)}}ct=F}}if(F.subtreeFlags&2064&&re!==null)re.return=F,ct=re;else e:for(;ct!==null;){if(F=ct,F.flags&2048)switch(F.tag){case 0:case 11:case 15:Mf(9,F,F.return)}var _e=F.sibling;if(_e!==null){_e.return=F.return,ct=_e;break e}ct=F.return}}var me=x.current;for(ct=me;ct!==null;){re=ct;var Ce=re.child;if(re.subtreeFlags&2064&&Ce!==null)Ce.return=re,ct=Ce;else e:for(re=me;ct!==null;){if(he=ct,he.flags&2048)try{switch(he.tag){case 0:case 11:case 15:Vy(9,he)}}catch(Mt){Qs(he,he.return,Mt)}if(he===re){ct=null;break e}var ft=he.sibling;if(ft!==null){ft.return=he.return,ct=ft;break e}ct=he.return}}if(bn=O,Pl(),Cl&&typeof Cl.onPostCommitFiberRoot=="function")try{Cl.onPostCommitFiberRoot(x_,x)}catch{}M=!0}return M}finally{Mn=A,Gr.transition=_}}return!1}function az(x,_,A){_=wM(A,_),_=bB(x,_,1),Mu(x,_),_=js(),x=i1(x,1),x!==null&&(My(x,1,_),Js(x,_))}function Qs(x,_,A){if(x.tag===3)az(x,x,A);else for(;_!==null;){if(_.tag===3){az(_,x,A);break}else if(_.tag===1){var M=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Pu===null||!Pu.has(M))){x=wM(A,x),x=wB(_,x,1),Mu(_,x),x=js(),_=i1(_,1),_!==null&&(My(_,1,x),Js(_,x));break}}_=_.return}}function bfe(x,_,A){var M=x.pingCache;M!==null&&M.delete(_),_=js(),x.pingedLanes|=x.suspendedLanes&A,ii===x&&(Hi&A)===A&&(hi===4||hi===3&&(Hi&130023424)===Hi&&500>Mi()-FM?Pf(x,0):LM|=A),Js(x,_)}function oz(x,_){_===0&&(x.mode&1?(_=v_,v_<<=1,!(v_&130023424)&&(v_=4194304)):_=1);var A=js();x=i1(x,_),x!==null&&(My(x,_,A),Js(x,A))}function wfe(x){var _=x.memoizedState,A=0;_!==null&&(A=_.retryLane),oz(x,A)}function _fe(x,_){var A=0;switch(x.tag){case 13:var M=x.stateNode,O=x.memoizedState;O!==null&&(A=O.retryLane);break;case 19:M=x.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(_),oz(x,A)}var lz;lz=function(x,_,A){if(x!==null)if(x.memoizedProps!==_.pendingProps||Pr.current)xa=!0;else{if(!(x.lanes&A)&&!(_.flags&128))return xa=!1,cfe(x,_,A);xa=!!(x.flags&131072)}else xa=!1,vr&&_.flags&1048576&&XU(_,T_,_.index);switch(_.lanes=0,_.tag){case 2:var M=_.type;x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),x=_.pendingProps;var O=Ja(_,xn.current);qp(_,A),O=gM(null,_,M,x,O,A);var F=vM();return _.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,Ci(M)?(F=!0,Vi(_)):F=!1,_.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,rM(_),O.updater=E_,_.stateNode=O,O._reactInternals=_,sM(_,M,x,A),_=NM(null,_,M,!0,F,A)):(_.tag=0,vr&&F&&aM(_),Ns(null,_,O,A),_=_.child),_;case 16:M=_.elementType;e:{switch(x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),x=_.pendingProps,O=M._init,M=O(M._payload),_.type=M,O=_.tag=Nfe(M),x=Do(M,x),O){case 0:_=SM(null,_,M,x,A);break e;case 1:_=RB(null,_,M,x,A);break e;case 11:_=AB(null,_,M,x,A);break e;case 14:_=TB(null,_,M,Do(M.type,x),A);break e}throw Error(o(306,M,""))}return _;case 0:return M=_.type,O=_.pendingProps,O=_.elementType===M?O:Do(M,O),SM(x,_,M,O,A);case 1:return M=_.type,O=_.pendingProps,O=_.elementType===M?O:Do(M,O),RB(x,_,M,O,A);case 3:e:{if(OB(_),x===null)throw Error(o(387));M=_.pendingProps,F=_.memoizedState,O=F.element,zU(x,_),j_(_,M,null,A);var re=_.memoizedState;if(M=re.element,Ee&&F.isDehydrated)if(F={element:M,isDehydrated:!1,cache:re.cache,transitions:re.transitions},_.updateQueue.baseState=F,_.memoizedState=F,_.flags&256){O=Error(o(423)),_=IB(x,_,M,A,O);break e}else if(M!==O){O=Error(o(424)),_=IB(x,_,M,A,O);break e}else for(Ee&&(ya=Tu(_.stateNode.containerInfo),va=_,vr=!0,Lo=null,Py=!1),A=eB(_,null,M,A),_.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Kp(),M===O){_=Tc(x,_,A);break e}Ns(x,_,M,A)}_=_.child}return _;case 5:return tB(_),x===null&&cM(_),M=_.type,O=_.pendingProps,F=x!==null?x.memoizedProps:null,re=O.children,te(M,O)?re=null:F!==null&&te(M,F)&&(_.flags|=32),PB(x,_),Ns(x,_,re,A),_.child;case 6:return x===null&&cM(_),null;case 13:return kB(x,_,A);case 4:return dM(_,_.stateNode.containerInfo),M=_.pendingProps,x===null?_.child=Jp(_,null,M,A):Ns(x,_,M,A),_.child;case 11:return M=_.type,O=_.pendingProps,O=_.elementType===M?O:Do(M,O),AB(x,_,M,O,A);case 7:return Ns(x,_,_.pendingProps,A),_.child;case 8:return Ns(x,_,_.pendingProps.children,A),_.child;case 12:return Ns(x,_,_.pendingProps.children,A),_.child;case 10:e:{if(M=_.type._context,O=_.pendingProps,F=_.memoizedProps,re=O.value,BU(_,M,re),F!==null)if(Ml(F.value,re)){if(F.children===O.children&&!Pr.current){_=Tc(x,_,A);break e}}else for(F=_.child,F!==null&&(F.return=_);F!==null;){var he=F.dependencies;if(he!==null){re=F.child;for(var Pe=he.firstContext;Pe!==null;){if(Pe.context===M){if(F.tag===1){Pe=Nc(-1,A&-A),Pe.tag=2;var et=F.updateQueue;if(et!==null){et=et.shared;var St=et.pending;St===null?Pe.next=Pe:(Pe.next=St.next,St.next=Pe),et.pending=Pe}}F.lanes|=A,Pe=F.alternate,Pe!==null&&(Pe.lanes|=A),nM(F.return,A,_),he.lanes|=A;break}Pe=Pe.next}}else if(F.tag===10)re=F.type===_.type?null:F.child;else if(F.tag===18){if(re=F.return,re===null)throw Error(o(341));re.lanes|=A,he=re.alternate,he!==null&&(he.lanes|=A),nM(re,A,_),re=F.sibling}else re=F.child;if(re!==null)re.return=F;else for(re=F;re!==null;){if(re===_){re=null;break}if(F=re.sibling,F!==null){F.return=re.return,re=F;break}re=re.return}F=re}Ns(x,_,O.children,A),_=_.child}return _;case 9:return O=_.type,M=_.pendingProps.children,qp(_,A),O=Qa(O),M=M(O),_.flags|=1,Ns(x,_,M,A),_.child;case 14:return M=_.type,O=Do(M,_.pendingProps),O=Do(M.type,O),TB(x,_,M,O,A);case 15:return CB(x,_,_.type,_.pendingProps,A);case 17:return M=_.type,O=_.pendingProps,O=_.elementType===M?O:Do(M,O),x!==null&&(x.alternate=null,_.alternate=null,_.flags|=2),_.tag=1,Ci(M)?(x=!0,Vi(_)):x=!1,qp(_,A),GU(_,M,O),sM(_,M,O,A),NM(null,_,M,!0,x,A);case 19:return UB(x,_,A);case 22:return MB(x,_,A)}throw Error(o(156,_.tag))};function cz(x,_){return YC(x,_)}function Sfe(x,_,A,M){this.tag=x,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function io(x,_,A,M){return new Sfe(x,_,A,M)}function GM(x){return x=x.prototype,!(!x||!x.isReactComponent)}function Nfe(x){if(typeof x=="function")return GM(x)?1:0;if(x!=null){if(x=x.$$typeof,x===g)return 11;if(x===w)return 14}return 2}function ku(x,_){var A=x.alternate;return A===null?(A=io(x.tag,_,x.key,x.mode),A.elementType=x.elementType,A.type=x.type,A.stateNode=x.stateNode,A.alternate=x,x.alternate=A):(A.pendingProps=_,A.type=x.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=x.flags&14680064,A.childLanes=x.childLanes,A.lanes=x.lanes,A.child=x.child,A.memoizedProps=x.memoizedProps,A.memoizedState=x.memoizedState,A.updateQueue=x.updateQueue,_=x.dependencies,A.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},A.sibling=x.sibling,A.index=x.index,A.ref=x.ref,A}function a1(x,_,A,M,O,F){var re=2;if(M=x,typeof x=="function")GM(x)&&(re=1);else if(typeof x=="string")re=5;else e:switch(x){case d:return If(A.children,O,F,_);case f:re=8,O|=8;break;case h:return x=io(12,A,_,O|2),x.elementType=h,x.lanes=F,x;case y:return x=io(13,A,_,O),x.elementType=y,x.lanes=F,x;case v:return x=io(19,A,_,O),x.elementType=v,x.lanes=F,x;case S:return o1(A,O,F,_);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case p:re=10;break e;case m:re=9;break e;case g:re=11;break e;case w:re=14;break e;case b:re=16,M=null;break e}throw Error(o(130,x==null?x:typeof x,""))}return _=io(re,A,_,O),_.elementType=x,_.type=M,_.lanes=F,_}function If(x,_,A,M){return x=io(7,x,M,_),x.lanes=A,x}function o1(x,_,A,M){return x=io(22,x,M,_),x.elementType=S,x.lanes=A,x.stateNode={},x}function qM(x,_,A){return x=io(6,x,null,_),x.lanes=A,x}function XM(x,_,A){return _=io(4,x.children!==null?x.children:[],x.key,_),_.lanes=A,_.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},_}function jfe(x,_,A,M,O){this.tag=_,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ce,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qC(0),this.expirationTimes=qC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qC(0),this.identifierPrefix=M,this.onRecoverableError=O,Ee&&(this.mutableSourceEagerHydrationData=null)}function uz(x,_,A,M,O,F,re,he,Pe){return x=new jfe(x,_,A,he,Pe),_===1?(_=1,F===!0&&(_|=8)):_=0,F=io(3,null,null,_),x.current=F,F.stateNode=x,F.memoizedState={element:M,isDehydrated:A,cache:null,transitions:null},rM(F),x}function dz(x){if(!x)return Ka;x=x._reactInternals;e:{if(C(x)!==x||x.tag!==1)throw Error(o(170));var _=x;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(Ci(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(o(171))}if(x.tag===1){var A=x.type;if(Ci(A))return Hp(x,A,_)}return _}function fz(x){var _=x._reactInternals;if(_===void 0)throw typeof x.render=="function"?Error(o(188)):(x=Object.keys(x).join(","),Error(o(268,x)));return x=D(_),x===null?null:x.stateNode}function hz(x,_){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var A=x.retryLane;x.retryLane=A!==0&&A<_?A:_}}function YM(x,_){hz(x,_),(x=x.alternate)&&hz(x,_)}function Efe(x){return x=D(x),x===null?null:x.stateNode}function Afe(){return null}return n.attemptContinuousHydration=function(x){if(x.tag===13){var _=js();ro(x,134217728,_),YM(x,134217728)}},n.attemptHydrationAtCurrentPriority=function(x){if(x.tag===13){var _=js(),A=Ou(x);ro(x,A,_),YM(x,A)}},n.attemptSynchronousHydration=function(x){switch(x.tag){case 3:var _=x.stateNode;if(_.current.memoizedState.isDehydrated){var A=Cy(_.pendingLanes);A!==0&&(XC(_,A|1),Js(_,Mi()),!(bn&6)&&(rm(),Pl()))}break;case 13:var M=js();tz(function(){return ro(x,1,M)}),YM(x,1)}},n.batchedUpdates=function(x,_){var A=bn;bn|=1;try{return x(_)}finally{bn=A,bn===0&&(rm(),b_&&Pl())}},n.createComponentSelector=function(x){return{$$typeof:G_,value:x}},n.createContainer=function(x,_,A,M,O,F,re){return uz(x,_,!1,null,A,M,O,F,re)},n.createHasPseudoClassSelector=function(x){return{$$typeof:q_,value:x}},n.createHydrationContainer=function(x,_,A,M,O,F,re,he,Pe){return x=uz(A,M,!0,x,O,F,re,he,Pe),x.context=dz(null),A=x.current,M=js(),O=Ou(A),F=Nc(M,O),F.callback=_??null,Mu(A,F),x.current.lanes=O,My(x,O,M),Js(x,M),x},n.createPortal=function(x,_,A){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:x,containerInfo:_,implementation:A}},n.createRoleSelector=function(x){return{$$typeof:X_,value:x}},n.createTestNameSelector=function(x){return{$$typeof:Y_,value:x}},n.createTextSelector=function(x){return{$$typeof:K_,value:x}},n.deferredUpdates=function(x){var _=Mn,A=Gr.transition;try{return Gr.transition=null,Mn=16,x()}finally{Mn=_,Gr.transition=A}},n.discreteUpdates=function(x,_,A,M,O){var F=Mn,re=Gr.transition;try{return Gr.transition=null,Mn=1,x(_,A,M,O)}finally{Mn=F,Gr.transition=re,bn===0&&rm()}},n.findAllNodes=kM,n.findBoundingRects=function(x,_){if(!q)throw Error(o(363));_=kM(x,_),x=[];for(var A=0;A<_.length;A++)x.push(ze(_[A]));for(_=x.length-1;0<_;_--){A=x[_];for(var M=A.x,O=M+A.width,F=A.y,re=F+A.height,he=_-1;0<=he;he--)if(_!==he){var Pe=x[he],et=Pe.x,St=et+Pe.width,sn=Pe.y,Bt=sn+Pe.height;if(M>=et&&F>=sn&&O<=St&&re<=Bt){x.splice(_,1);break}else if(M!==et||A.width!==Pe.width||Bt<F||sn>re){if(!(F!==sn||A.height!==Pe.height||St<M||et>O)){et>M&&(Pe.width+=et-M,Pe.x=M),St<O&&(Pe.width=O-et),x.splice(_,1);break}}else{sn>F&&(Pe.height+=sn-F,Pe.y=F),Bt<re&&(Pe.height=re-sn),x.splice(_,1);break}}}return x},n.findHostInstance=fz,n.findHostInstanceWithNoPortals=function(x){return x=I(x),x=x!==null?U(x):null,x===null?null:x.stateNode},n.findHostInstanceWithWarning=function(x){return fz(x)},n.flushControlled=function(x){var _=bn;bn|=1;var A=Gr.transition,M=Mn;try{Gr.transition=null,Mn=1,x()}finally{Mn=M,Gr.transition=A,bn=_,bn===0&&(rm(),Pl())}},n.flushPassiveEffects=Of,n.flushSync=tz,n.focusWithin=function(x,_){if(!q)throw Error(o(363));for(x=RM(x),_=QB(x,_),_=Array.from(_),x=0;x<_.length;){var A=_[x++];if(!ke(A)){if(A.tag===5&&We(A.stateNode))return!0;for(A=A.child;A!==null;)_.push(A),A=A.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Mn},n.getFindAllNodesFailureDescription=function(x,_){if(!q)throw Error(o(363));var A=0,M=[];x=[RM(x),0];for(var O=0;O<x.length;){var F=x[O++],re=x[O++],he=_[re];if((F.tag!==5||!ke(F))&&(OM(F,he)&&(M.push(IM(he)),re++,re>A&&(A=re)),re<_.length))for(F=F.child;F!==null;)x.push(F,re),F=F.sibling}if(A<_.length){for(x=[];A<_.length;A++)x.push(IM(_[A]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+x.join(" > ")}return null},n.getPublicRootInstance=function(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return z(x.child.stateNode);default:return x.child.stateNode}},n.injectIntoDevTools=function(x){if(x={bundleType:x.bundleType,version:x.version,rendererPackageName:x.rendererPackageName,rendererConfig:x.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Efe,findFiberByHostInstance:x.findFiberByHostInstance||Afe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")x=!1;else{var _=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(_.isDisabled||!_.supportsFiber)x=!0;else{try{x_=_.inject(x),Cl=_}catch{}x=!!_.checkDCE}}return x},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(x,_,A,M){if(!q)throw Error(o(363));x=kM(x,_);var O=tt(x,A,M).disconnect;return{disconnect:function(){O()}}},n.registerMutableSourceForHydration=function(x,_){var A=_._getVersion;A=A(_._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[_,A]:x.mutableSourceEagerHydrationData.push(_,A)},n.runWithPriority=function(x,_){var A=Mn;try{return Mn=x,_()}finally{Mn=A}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(x,_,A,M){var O=_.current,F=js(),re=Ou(O);return A=dz(A),_.context===null?_.context=A:_.pendingContext=A,_=Nc(F,re),_.payload={element:x},M=M===void 0?null:M,M!==null&&(_.callback=M),Mu(O,_),x=ro(O,re,F),x!==null&&N_(x,O,re),re},n};yre.exports=hIe;var pIe=yre.exports;const mIe=Ln(pIe);var xre={exports:{}},bre={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,L){var H=k.length;k.push(L);e:for(;0<H;){var G=H-1>>>1,X=k[G];if(0<i(X,L))k[G]=L,k[H]=X,H=G;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var L=k[0],H=k.pop();if(H!==L){k[0]=H;e:for(var G=0,X=k.length,Z=X>>>1;G<Z;){var B=2*(G+1)-1,te=k[B],ie=B+1,ae=k[ie];if(0>i(te,H))ie<X&&0>i(ae,te)?(k[G]=ae,k[ie]=H,G=ie):(k[G]=te,k[B]=H,G=B);else if(ie<X&&0>i(ae,H))k[G]=ae,k[ie]=H,G=ie;else break e}}return L}function i(k,L){var H=k.sortIndex-L.sortIndex;return H!==0?H:k.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=k)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function S(k){if(g=!1,b(k),!m)if(n(c)!==null)m=!0,z(j);else{var L=n(u);L!==null&&W(S,L.startTime-k)}}function j(k,L){m=!1,g&&(g=!1,v(P),P=-1),p=!0;var H=h;try{for(b(L),f=n(c);f!==null&&(!(f.expirationTime>L)||k&&!I());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var X=G(f.expirationTime<=L);L=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),b(L)}else r(c);f=n(c)}if(f!==null)var Z=!0;else{var B=n(u);B!==null&&W(S,B.startTime-L),Z=!1}return Z}finally{f=null,h=H,p=!1}}var E=!1,T=null,P=-1,C=5,R=-1;function I(){return!(t.unstable_now()-R<C)}function D(){if(T!==null){var k=t.unstable_now();R=k;var L=!0;try{L=T(!0,k)}finally{L?V():(E=!1,T=null)}}else E=!1}var V;if(typeof w=="function")V=function(){w(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,$=U.port2;U.port1.onmessage=D,V=function(){$.postMessage(null)}}else V=function(){y(D,0)};function z(k){T=k,E||(E=!0,V())}function W(k,L){P=y(function(){k(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,z(j))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var H=h;h=L;try{return k()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,L){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var H=h;h=k;try{return L()}finally{h=H}},t.unstable_scheduleCallback=function(k,L,H){var G=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,k={id:d++,callback:L,priorityLevel:k,startTime:H,expirationTime:X,sortIndex:-1},H>G?(k.sortIndex=H,e(u,k),n(c)===null&&k===n(u)&&(g?(v(P),P=-1):g=!0,W(S,H-G))):(k.sortIndex=X,e(c,k),m||p||(m=!0,z(j))),k},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(k){var L=h;return function(){var H=h;h=L;try{return k.apply(this,arguments)}finally{h=H}}}})(bre);xre.exports=bre;var GH=xre.exports;const Y5={},gIe=t=>void Object.assign(Y5,t);function vIe(t,e){function n(d,{args:f=[],attach:h,...p},m){let g=`${d[0].toUpperCase()}${d.slice(1)}`,y;if(d==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=p.object;y=Wm(v,{type:d,root:m,attach:h,primitive:!0})}else{const v=Y5[g];if(!v)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=Wm(new v(...f),{type:d,root:m,attach:h,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y.isBufferGeometry?y.__r3f.attach="geometry":y.isMaterial&&(y.__r3f.attach="material")),g!=="inject"&&qP(y,p),y}function r(d,f){let h=!1;if(f){var p,m;(p=f.__r3f)!=null&&p.attach?GP(d,f,f.__r3f.attach):f.isObject3D&&d.isObject3D&&(d.add(f),h=!0),h||(m=d.__r3f)==null||m.objects.push(f),f.__r3f||Wm(f,{}),f.__r3f.parent=d,Gk(f),Gm(f)}}function i(d,f,h){let p=!1;if(f){var m,g;if((m=f.__r3f)!=null&&m.attach)GP(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){f.parent=d,f.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:f});const y=d.children.filter(w=>w!==f),v=y.indexOf(h);d.children=[...y.slice(0,v),f,...y.slice(v)],p=!0}p||(g=d.__r3f)==null||g.objects.push(f),f.__r3f||Wm(f,{}),f.__r3f.parent=d,Gk(f),Gm(f)}}function s(d,f,h=!1){d&&[...d].forEach(p=>o(f,p,h))}function o(d,f,h){if(f){var p,m,g;if(f.__r3f&&(f.__r3f.parent=null),(p=d.__r3f)!=null&&p.objects&&(d.__r3f.objects=d.__r3f.objects.filter(S=>S!==f)),(m=f.__r3f)!=null&&m.attach)JH(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){var y;d.remove(f),(y=f.__r3f)!=null&&y.root&&NIe(GN(f),f)}const w=(g=f.__r3f)==null?void 0:g.primitive,b=!w&&(h===void 0?f.dispose!==null:h);if(!w){var v;s((v=f.__r3f)==null?void 0:v.objects,f,b),s(f.children,f,b)}if(delete f.__r3f,b&&f.dispose&&f.type!=="Scene"){const S=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?GH.unstable_scheduleCallback(GH.unstable_IdlePriority,S):S()}Gm(d)}}function l(d,f,h,p){var m;const g=(m=d.__r3f)==null?void 0:m.parent;if(!g)return;const y=n(f,h,d.__r3f.root);if(d.children){for(const v of d.children)v.__r3f&&r(y,v);d.children=d.children.filter(v=>!v.__r3f)}d.__r3f.objects.forEach(v=>r(y,v)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(g,d),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(g,y),y.raycast&&y.__r3f.eventCount&&GN(y).getState().internal.interaction.push(y),[p,p.alternate].forEach(v=>{v!==null&&(v.stateNode=y,v.ref&&(typeof v.ref=="function"?v.ref(y):v.ref.current=y))})}const c=()=>{};return{reconciler:mIe({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,f)=>{if(!f)return;const h=d.getState().scene;h.__r3f&&(h.__r3f.root=d,r(h,f))},removeChildFromContainer:(d,f)=>{f&&o(d.getState().scene,f)},insertInContainerBefore:(d,f,h)=>{if(!f||!h)return;const p=d.getState().scene;p.__r3f&&i(p,f,h)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var f;return!!((f=d==null?void 0:d.__r3f)!=null?f:{}).handlers},prepareUpdate(d,f,h,p){var m;if(((m=d==null?void 0:d.__r3f)!=null?m:{}).primitive&&p.object&&p.object!==d)return[!0];{const{args:y=[],children:v,...w}=p,{args:b=[],children:S,...j}=h;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((T,P)=>T!==b[P]))return[!0];const E=Are(d,w,j,!0);return E.changes.length?[!1,E]:null}},commitUpdate(d,[f,h],p,m,g,y){f?l(d,p,g,y):qP(d,h)},commitMount(d,f,h,p){var m;const g=(m=d.__r3f)!=null?m:{};d.raycast&&g.handlers&&g.eventCount&&GN(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Wm(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var f;const{attach:h,parent:p}=(f=d.__r3f)!=null?f:{};h&&p&&JH(p,d,h),d.isObject3D&&(d.visible=!1),Gm(d)},unhideInstance(d,f){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&GP(m,d,p),(d.isObject3D&&f.visible==null||f.visible)&&(d.visible=!0),Gm(d)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():mg.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&fr.fun(performance.now)?performance.now:fr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:fr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:fr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:qP}}var qH,XH;const WP=t=>"colorSpace"in t||"outputColorSpace"in t,wre=()=>{var t;return(t=Y5.ColorManagement)!=null?t:null},_re=t=>t&&t.isOrthographicCamera,yIe=t=>t&&t.hasOwnProperty("current"),Qw=typeof window<"u"&&((qH=window.document)!=null&&qH.createElement||((XH=window.navigator)==null?void 0:XH.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function Sre(t){const e=N.useRef(t);return Qw(()=>void(e.current=t),[t]),e}function xIe({set:t}){return Qw(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class Nre extends N.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Nre.getDerivedStateFromError=()=>({error:!0});const jre="__default",YH=new Map,bIe=t=>t&&!!t.memoized&&!!t.changes;function Ere(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const vx=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function GN(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const fr={obj:t=>t===Object(t)&&!fr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(fr.str(t)||fr.num(t)||fr.boo(t))return t===e;const s=fr.obj(t);if(s&&r==="reference")return t===e;const o=fr.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let l;for(l in t)if(!(l in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(l in i?e:t)if(!fr.equ(t[l],e[l],{strict:i,objects:"reference"}))return!1}else for(l in i?e:t)if(t[l]!==e[l])return!1;if(fr.und(l)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function wIe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Wm(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function Wk(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const KH=/-\d+$/;function GP(t,e,n){if(fr.str(n)){if(KH.test(n)){const s=n.replace(KH,""),{target:o,key:l}=Wk(t,s);Array.isArray(o[l])||(o[l]=[])}const{target:r,key:i}=Wk(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function JH(t,e,n){var r,i;if(fr.str(n)){const{target:s,key:o}=Wk(t,n),l=e.__r3f.previousAttach;l===void 0?delete s[o]:s[o]=l}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function Are(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:l,...c}={},u=!1){const d=t.__r3f,f=Object.entries(i),h=[];if(u){const m=Object.keys(c);for(let g=0;g<m.length;g++)i.hasOwnProperty(m[g])||f.unshift([m[g],jre+"remove"])}f.forEach(([m,g])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&m==="object"||fr.equ(g,c[m]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(m))return h.push([m,g,!0,[]]);let v=[];m.includes("-")&&(v=m.split("-")),h.push([m,g,!1,v]);for(const w in i){const b=i[w];w.startsWith(`${m}-`)&&h.push([w,b,!1,w.split("-")])}});const p={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(p.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(p.attach=d.memoizedProps.attach),{memoized:p,changes:h}}function qP(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:l}=bIe(e)?e:Are(t,e),c=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let h=0;h<l.length;h++){let[p,m,g,y]=l[h];if(WP(t)){const S="srgb",j="srgb-linear";p==="encoding"?(p="colorSpace",m=m===3001?S:j):p==="outputEncoding"&&(p="outputColorSpace",m=m===3001?S:j)}let v=t,w=v[p];if(y.length&&(w=y.reduce((b,S)=>b[S],t),!(w&&w.set))){const[b,...S]=y.reverse();v=S.reverse().reduce((j,E)=>j[E],t),p=b}if(m===jre+"remove")if(v.constructor){let b=YH.get(v.constructor);b||(b=new v.constructor,YH.set(v.constructor,b)),m=b[p]}else m=0;if(g&&r)m?r.handlers[p]=m:delete r.handlers[p],r.eventCount=Object.keys(r.handlers).length;else if(w&&w.set&&(w.copy||w instanceof Xh)){if(Array.isArray(m))w.fromArray?w.fromArray(m):w.set(...m);else if(w.copy&&m&&m.constructor&&w.constructor===m.constructor)w.copy(m);else if(m!==void 0){var u;const b=(u=w)==null?void 0:u.isColor;!b&&w.setScalar?w.setScalar(m):w instanceof Xh&&m instanceof Xh?w.mask=m.mask:w.set(m),!wre()&&s&&!s.linear&&b&&w.convertSRGBToLinear()}}else{var d;if(v[p]=m,(d=v[p])!=null&&d.isTexture&&v[p].format===Rs&&v[p].type===nc&&s){const b=v[p];WP(b)&&WP(s.gl)?b.colorSpace=s.gl.outputColorSpace:b.encoding=s.gl.outputEncoding}}Gm(t)}if(r&&r.parent&&t.raycast&&c!==r.eventCount){const h=GN(t).getState().internal,p=h.interaction.indexOf(t);p>-1&&h.interaction.splice(p,1),r.eventCount&&h.interaction.push(t)}return!(l.length===1&&l[0][0]==="onUpdate")&&l.length&&(n=t.__r3f)!=null&&n.parent&&Gk(t),t}function Gm(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function Gk(t){t.onUpdate==null||t.onUpdate(t)}function _Ie(t,e){t.manual||(_re(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function US(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function SIe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return mg.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return mg.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return mg.ContinuousEventPriority;default:return mg.DefaultEventPriority}}function Tre(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function NIe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{Tre(n.capturedMap,e,r,i)})}function jIe(t){function e(c){const{internal:u}=t.getState(),d=c.offsetX-u.initialClick[0],f=c.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+f*f))}function n(c){return c.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+d]}))}function r(c,u){const d=t.getState(),f=new Set,h=[],p=u?u(d.internal.interaction):d.internal.interaction;for(let v=0;v<p.length;v++){const w=vx(p[v]);w&&(w.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(c,d);function m(v){const w=vx(v);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var b;w.events.compute==null||w.events.compute(c,w,(b=w.previousRoot)==null?void 0:b.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(v,!0):[]}let g=p.flatMap(m).sort((v,w)=>{const b=vx(v.object),S=vx(w.object);return!b||!S?v.distance-w.distance:S.events.priority-b.events.priority||v.distance-w.distance}).filter(v=>{const w=US(v);return f.has(w)?!1:(f.add(w),!0)});d.events.filter&&(g=d.events.filter(g,d));for(const v of g){let w=v.object;for(;w;){var y;(y=w.__r3f)!=null&&y.eventCount&&h.push({...v,eventObject:w}),w=w.parent}}if("pointerId"in c&&d.internal.capturedMap.has(c.pointerId))for(let v of d.internal.capturedMap.get(c.pointerId).values())f.has(US(v.intersection))||h.push(v.intersection);return h}function i(c,u,d,f){const h=t.getState();if(c.length){const p={stopped:!1};for(const m of c){const g=vx(m.object)||h,{raycaster:y,pointer:v,camera:w,internal:b}=g,S=new ne(v.x,v.y,0).unproject(w),j=R=>{var I,D;return(I=(D=b.capturedMap.get(R))==null?void 0:D.has(m.eventObject))!=null?I:!1},E=R=>{const I={intersection:m,target:u.target};b.capturedMap.has(R)?b.capturedMap.get(R).set(m.eventObject,I):b.capturedMap.set(R,new Map([[m.eventObject,I]])),u.target.setPointerCapture(R)},T=R=>{const I=b.capturedMap.get(R);I&&Tre(b.capturedMap,m.eventObject,I,R)};let P={};for(let R in u){let I=u[R];typeof I!="function"&&(P[R]=I)}let C={...m,...P,pointer:v,intersections:c,stopped:p.stopped,delta:d,unprojectedPoint:S,ray:y.ray,camera:w,stopPropagation(){const R="pointerId"in u&&b.capturedMap.get(u.pointerId);if((!R||R.has(m.eventObject))&&(C.stopped=p.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(I=>I.eventObject===m.eventObject))){const I=c.slice(0,c.indexOf(m));s([...I,m])}},target:{hasPointerCapture:j,setPointerCapture:E,releasePointerCapture:T},currentTarget:{hasPointerCapture:j,setPointerCapture:E,releasePointerCapture:T},nativeEvent:u};if(f(C),p.stopped===!0)break}}return c}function s(c){const{internal:u}=t.getState();for(const d of u.hovered.values())if(!c.length||!c.find(f=>f.object===d.object&&f.index===d.index&&f.instanceId===d.instanceId)){const h=d.eventObject.__r3f,p=h==null?void 0:h.handlers;if(u.hovered.delete(US(d)),h!=null&&h.eventCount){const m={...d,intersections:c};p.onPointerOut==null||p.onPointerOut(m),p.onPointerLeave==null||p.onPointerLeave(m)}}}function o(c,u){for(let d=0;d<u.length;d++){const f=u[d].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(c)}}function l(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=t.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))})}}return function(d){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=d;const p=c==="onPointerMove",m=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",y=r(d,p?n:void 0),v=m?e(d):0;c==="onPointerDown"&&(h.initialClick=[d.offsetX,d.offsetY],h.initialHits=y.map(b=>b.eventObject)),m&&!y.length&&v<=2&&(o(d,h.interaction),f&&f(d)),p&&s(y);function w(b){const S=b.eventObject,j=S.__r3f,E=j==null?void 0:j.handlers;if(j!=null&&j.eventCount)if(p){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const T=US(b),P=h.hovered.get(T);P?P.stopped&&b.stopPropagation():(h.hovered.set(T,b),E.onPointerOver==null||E.onPointerOver(b),E.onPointerEnter==null||E.onPointerEnter(b))}E.onPointerMove==null||E.onPointerMove(b)}else{const T=E[c];T?(!m||h.initialHits.includes(S))&&(o(d,h.interaction.filter(P=>!h.initialHits.includes(P))),T(b)):m&&h.initialHits.includes(S)&&o(d,h.interaction.filter(P=>!h.initialHits.includes(P)))}}i(y,d,v,w)}}return{handlePointer:l}}const Cre=t=>!!(t!=null&&t.render),Mre=N.createContext(null),EIe=(t,e)=>{const n=uIe((l,c)=>{const u=new ne,d=new ne,f=new ne;function h(v=c().camera,w=d,b=c().size){const{width:S,height:j,top:E,left:T}=b,P=S/j;w.isVector3?f.copy(w):f.set(...w);const C=v.getWorldPosition(u).distanceTo(f);if(_re(v))return{width:S/v.zoom,height:j/v.zoom,top:E,left:T,factor:1,distance:C,aspect:P};{const R=v.fov*Math.PI/180,I=2*Math.tan(R/2)*C,D=I*(S/j);return{width:D,height:I,top:E,left:T,factor:S/D,distance:C,aspect:P}}}let p;const m=v=>l(w=>({performance:{...w.performance,current:v}})),g=new Fe;return{set:l,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(c(),v),advance:(v,w)=>e(v,w,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new W5,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=c();p&&clearTimeout(p),v.performance.current!==v.performance.min&&m(v.performance.min),p=setTimeout(()=>m(c().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:v=>l(w=>({...w,events:{...w.events,...v}})),setSize:(v,w,b,S,j)=>{const E=c().camera,T={width:v,height:w,top:S||0,left:j||0,updateStyle:b};l(P=>({size:T,viewport:{...P.viewport,...h(E,d,T)}}))},setDpr:v=>l(w=>{const b=Ere(v);return{viewport:{...w.viewport,dpr:b,initialDpr:w.viewport.initialDpr||b}}}),setFrameloop:(v="always")=>{const w=c().clock;w.stop(),w.elapsedTime=0,v!=="never"&&(w.start(),w.elapsedTime=0),l(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:N.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,w,b)=>{const S=c().internal;return S.priority=S.priority+(w>0?1:0),S.subscribers.push({ref:v,priority:w,store:b}),S.subscribers=S.subscribers.sort((j,E)=>j.priority-E.priority),()=>{const j=c().internal;j!=null&&j.subscribers&&(j.priority=j.priority-(w>0?1:0),j.subscribers=j.subscribers.filter(E=>E.ref!==v))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:l,size:c,viewport:u,gl:d,set:f}=n.getState();if(c.width!==i.width||c.height!==i.height||u.dpr!==s){var h;i=c,s=u.dpr,_Ie(l,c),d.setPixelRatio(u.dpr);const p=(h=c.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(c.width,c.height,p)}l!==o&&(o=l,f(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(l)}})))}),n.subscribe(l=>t(l)),n};let BS,AIe=new Set,TIe=new Set,CIe=new Set;function XP(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function yx(t,e){switch(t){case"before":return XP(AIe,e);case"after":return XP(TIe,e);case"tail":return XP(CIe,e)}}let YP,KP;function JP(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),YP=e.internal.subscribers,BS=0;BS<YP.length;BS++)KP=YP[BS],KP.ref.current(KP.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function MIe(t){let e=!1,n=!1,r,i,s;function o(u){i=requestAnimationFrame(o),e=!0,r=0,yx("before",u),n=!0;for(const f of t.values()){var d;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=JP(u,s))}if(n=!1,yx("after",u),r===0)return yx("tail",u),e=!1,cancelAnimationFrame(i)}function l(u,d=1){var f;if(!u)return t.forEach(h=>l(h.store.getState(),d));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(d>1?u.internal.frames=Math.min(60,u.internal.frames+d):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function c(u,d=!0,f,h){if(d&&yx("before",u),f)JP(u,f,h);else for(const p of t.values())JP(u,p.store.getState());d&&yx("after",u)}return{loop:o,invalidate:l,advance:c}}function Pre(){const t=N.useContext(Mre);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Xu(t=n=>n,e){return Pre()(t,e)}function Ip(t,e=0){const n=Pre(),r=n.getState().internal.subscribe,i=Sre(t);return Qw(()=>r(i,e,n),[e,r,n]),null}const mv=new Map,{invalidate:QH,advance:ZH}=MIe(mv),{reconciler:Yj,applyProps:Rm}=vIe(mv,SIe),Om={objects:"shallow",strict:!1},PIe=(t,e)=>{const n=typeof t=="function"?t(e):t;return Cre(n)?n:new E5({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function RIe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:l=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:l}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function OIe(t){const e=mv.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||EIe(QH,ZH),o=n||Yj.createContainer(s,mg.ConcurrentRoot,null,!1,null,"",i,null);e||mv.set(t,{fiber:o,store:s});let l,c=!1,u;return{configure(d={}){let{gl:f,size:h,scene:p,events:m,onCreated:g,shadows:y=!1,linear:v=!1,flat:w=!1,legacy:b=!1,orthographic:S=!1,frameloop:j="always",dpr:E=[1,2],performance:T,raycaster:P,camera:C,onPointerMissed:R}=d,I=s.getState(),D=I.gl;I.gl||I.set({gl:D=PIe(f,t)});let V=I.raycaster;V||I.set({raycaster:V=new mre});const{params:U,...$}=P||{};if(fr.equ($,V,Om)||Rm(V,{...$}),fr.equ(U,V.params,Om)||Rm(V,{params:{...V.params,...U}}),!I.camera||I.camera===u&&!fr.equ(u,C,Om)){u=C;const H=C instanceof Hw,G=H?C:S?new Dd(0,0,0,0,.1,1e3):new Qr(75,0,.1,1e3);H||(G.position.z=5,C&&(Rm(G,C),("aspect"in C||"left"in C||"right"in C||"bottom"in C||"top"in C)&&(G.manual=!0,G.updateProjectionMatrix())),!I.camera&&!(C!=null&&C.rotation)&&G.lookAt(0,0,0)),I.set({camera:G}),V.camera=G}if(!I.scene){let H;p!=null&&p.isScene?H=p:(H=new A5,p&&Rm(H,p)),I.set({scene:Wm(H)})}if(!I.xr){var z;const H=(Z,B)=>{const te=s.getState();te.frameloop!=="never"&&ZH(Z,!0,te,B)},G=()=>{const Z=s.getState();Z.gl.xr.enabled=Z.gl.xr.isPresenting,Z.gl.xr.setAnimationLoop(Z.gl.xr.isPresenting?H:null),Z.gl.xr.isPresenting||QH(Z)},X={connect(){const Z=s.getState().gl;Z.xr.addEventListener("sessionstart",G),Z.xr.addEventListener("sessionend",G)},disconnect(){const Z=s.getState().gl;Z.xr.removeEventListener("sessionstart",G),Z.xr.removeEventListener("sessionend",G)}};typeof((z=D.xr)==null?void 0:z.addEventListener)=="function"&&X.connect(),I.set({xr:X})}if(D.shadowMap){const H=D.shadowMap.enabled,G=D.shadowMap.type;if(D.shadowMap.enabled=!!y,fr.boo(y))D.shadowMap.type=p0;else if(fr.str(y)){var W;const X={basic:ste,percentage:sT,soft:p0,variance:Ko};D.shadowMap.type=(W=X[y])!=null?W:p0}else fr.obj(y)&&Object.assign(D.shadowMap,y);(H!==D.shadowMap.enabled||G!==D.shadowMap.type)&&(D.shadowMap.needsUpdate=!0)}const k=wre();k&&("enabled"in k?k.enabled=!b:"legacyMode"in k&&(k.legacyMode=b)),c||Rm(D,{outputEncoding:v?3e3:3001,toneMapping:w?tc:s5}),I.legacy!==b&&I.set(()=>({legacy:b})),I.linear!==v&&I.set(()=>({linear:v})),I.flat!==w&&I.set(()=>({flat:w})),f&&!fr.fun(f)&&!Cre(f)&&!fr.equ(f,D,Om)&&Rm(D,f),m&&!I.events.handlers&&I.set({events:m(s)});const L=RIe(t,h);return fr.equ(L,I.size,Om)||I.setSize(L.width,L.height,L.updateStyle,L.top,L.left),E&&I.viewport.dpr!==Ere(E)&&I.setDpr(E),I.frameloop!==j&&I.setFrameloop(j),I.onPointerMissed||I.set({onPointerMissed:R}),T&&!fr.equ(T,I.performance,Om)&&I.set(H=>({performance:{...H.performance,...T}})),l=g,c=!0,this},render(d){return c||this.configure(),Yj.updateContainer(a.jsx(IIe,{store:s,children:d,onCreated:l,rootElement:t}),o,null,()=>{}),s},unmount(){Rre(t)}}}function IIe({store:t,children:e,onCreated:n,rootElement:r}){return Qw(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),a.jsx(Mre.Provider,{value:t,children:e})}function Rre(t,e){const n=mv.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Yj.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,l,c;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(l=i.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(c=i.gl)!=null&&c.xr&&i.xr.disconnect(),wIe(i),mv.delete(t)}catch{}},500)})}}Yj.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:N.version});const QP={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function kIe(t){const{handlePointer:e}=jIe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(QP).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,l])=>{const[c,u]=QP[o];n.addEventListener(c,l,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[l]=QP[s];r.connected.removeEventListener(l,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function eW(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function DIe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=N.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=N.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,d=N.useRef(!1);N.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,h,p]=N.useMemo(()=>{const v=()=>{if(!l.current.element)return;const{left:w,top:b,width:S,height:j,bottom:E,right:T,x:P,y:C}=l.current.element.getBoundingClientRect(),R={left:w,top:b,width:S,height:j,bottom:E,right:T,x:P,y:C};l.current.element instanceof HTMLElement&&r&&(R.height=l.current.element.offsetHeight,R.width=l.current.element.offsetWidth),Object.freeze(R),d.current&&!BIe(l.current.lastBounds,R)&&o(l.current.lastBounds=R)};return[v,u?eW(v,u):v,c?eW(v,c):v]},[o,r,c,u]);function m(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",p,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function g(){l.current.element&&(l.current.resizeObserver=new i(p),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(v=>v.addEventListener("scroll",p,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const y=v=>{!v||v===l.current.element||(m(),l.current.element=v,l.current.scrollContainers=Ore(v),g())};return FIe(p,!!e),LIe(h),N.useEffect(()=>{m(),g()},[e,p,h]),N.useEffect(()=>m,[]),[y,s,f]}function LIe(t){N.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function FIe(t,e){N.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function Ore(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...Ore(t.parentElement)]}const UIe=["x","y","top","bottom","left","right","width","height"],BIe=(t,e)=>UIe.every(n=>t[n]===e[n]);var zIe=Object.defineProperty,$Ie=Object.defineProperties,VIe=Object.getOwnPropertyDescriptors,tW=Object.getOwnPropertySymbols,HIe=Object.prototype.hasOwnProperty,WIe=Object.prototype.propertyIsEnumerable,nW=(t,e,n)=>e in t?zIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rW=(t,e)=>{for(var n in e||(e={}))HIe.call(e,n)&&nW(t,n,e[n]);if(tW)for(var n of tW(e))WIe.call(e,n)&&nW(t,n,e[n]);return t},GIe=(t,e)=>$Ie(t,VIe(e)),iW,sW;typeof window<"u"&&((iW=window.document)!=null&&iW.createElement||((sW=window.navigator)==null?void 0:sW.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function Ire(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=Ire(r,e,n);if(i)return i;r=r.sibling}}function kre(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const aW=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=aW;return}return aW.apply(this,arguments)};const K5=kre(N.createContext(null));class Dre extends N.Component{render(){return N.createElement(K5.Provider,{value:this._reactInternals},this.props.children)}}function qIe(){const t=N.useContext(K5);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=Ire(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function XIe(){const t=qIe(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==K5&&!e.has(i)&&e.set(i,N.useContext(kre(i)))}n=n.return}return e}function YIe(){const t=XIe();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>N.createElement(e,null,N.createElement(n.Provider,GIe(rW({},r),{value:t.get(n)}))),e=>N.createElement(Dre,rW({},e))),[t])}const KIe=N.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=kIe,eventSource:l,eventPrefix:c,shadows:u,linear:d,flat:f,legacy:h,orthographic:p,frameloop:m,dpr:g,performance:y,raycaster:v,camera:w,scene:b,onPointerMissed:S,onCreated:j,...E},T){N.useMemo(()=>gIe(oIe),[]);const P=YIe(),[C,R]=DIe({scroll:!0,debounce:{scroll:50,resize:0},...r}),I=N.useRef(null),D=N.useRef(null);N.useImperativeHandle(T,()=>I.current);const V=Sre(S),[U,$]=N.useState(!1),[z,W]=N.useState(!1);if(U)throw U;if(z)throw z;const k=N.useRef(null);Qw(()=>{const H=I.current;R.width>0&&R.height>0&&H&&(k.current||(k.current=OIe(H)),k.current.configure({gl:s,events:o,shadows:u,linear:d,flat:f,legacy:h,orthographic:p,frameloop:m,dpr:g,performance:y,raycaster:v,camera:w,scene:b,size:R,onPointerMissed:(...G)=>V.current==null?void 0:V.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(l?yIe(l)?l.current:l:D.current),c&&G.setEvents({compute:(X,Z)=>{const B=X[c+"X"],te=X[c+"Y"];Z.pointer.set(B/Z.size.width*2-1,-(te/Z.size.height)*2+1),Z.raycaster.setFromCamera(Z.pointer,Z.camera)}}),j==null||j(G)}}),k.current.render(a.jsx(P,{children:a.jsx(Nre,{set:W,children:a.jsx(N.Suspense,{fallback:a.jsx(xIe,{set:$}),children:e??null})})})))}),N.useEffect(()=>{const H=I.current;if(H)return()=>Rre(H)},[]);const L=l?"none":"auto";return a.jsx("div",{ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:L,...i},...E,children:a.jsx("div",{ref:C,style:{width:"100%",height:"100%"},children:a.jsx("canvas",{ref:I,style:{display:"block"},children:n})})})}),Lre=N.forwardRef(function(e,n){return a.jsx(Dre,{children:a.jsx(KIe,{...e,ref:n})})});function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mb.apply(null,arguments)}var JIe=Object.defineProperty,QIe=(t,e,n)=>e in t?JIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZIe=(t,e,n)=>(QIe(t,e+"",n),n);class eke{constructor(){ZIe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var tke=Object.defineProperty,nke=(t,e,n)=>e in t?tke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zt=(t,e,n)=>(nke(t,typeof e!="symbol"?e+"":e,n),n);const zS=new Cp,oW=new $c,rke=Math.cos(70*(Math.PI/180)),lW=(t,e)=>(t%e+e)%e;let ike=class extends eke{constructor(e,n){super(),zt(this,"object"),zt(this,"domElement"),zt(this,"enabled",!0),zt(this,"target",new ne),zt(this,"minDistance",0),zt(this,"maxDistance",1/0),zt(this,"minZoom",0),zt(this,"maxZoom",1/0),zt(this,"minPolarAngle",0),zt(this,"maxPolarAngle",Math.PI),zt(this,"minAzimuthAngle",-1/0),zt(this,"maxAzimuthAngle",1/0),zt(this,"enableDamping",!1),zt(this,"dampingFactor",.05),zt(this,"enableZoom",!0),zt(this,"zoomSpeed",1),zt(this,"enableRotate",!0),zt(this,"rotateSpeed",1),zt(this,"enablePan",!0),zt(this,"panSpeed",1),zt(this,"screenSpacePanning",!0),zt(this,"keyPanSpeed",7),zt(this,"zoomToCursor",!1),zt(this,"autoRotate",!1),zt(this,"autoRotateSpeed",2),zt(this,"reverseOrbit",!1),zt(this,"reverseHorizontalOrbit",!1),zt(this,"reverseVerticalOrbit",!1),zt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),zt(this,"mouseButtons",{LEFT:rh.ROTATE,MIDDLE:rh.DOLLY,RIGHT:rh.PAN}),zt(this,"touches",{ONE:ih.ROTATE,TWO:ih.DOLLY_PAN}),zt(this,"target0"),zt(this,"position0"),zt(this,"zoom0"),zt(this,"_domElementKeyEvents",null),zt(this,"getPolarAngle"),zt(this,"getAzimuthalAngle"),zt(this,"setPolarAngle"),zt(this,"setAzimuthalAngle"),zt(this,"getDistance"),zt(this,"getZoomScale"),zt(this,"listenToKeyEvents"),zt(this,"stopListenToKeyEvents"),zt(this,"saveState"),zt(this,"reset"),zt(this,"update"),zt(this,"connect"),zt(this,"dispose"),zt(this,"dollyIn"),zt(this,"dollyOut"),zt(this,"getScale"),zt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=se=>{let Be=lW(se,2*Math.PI),at=d.phi;at<0&&(at+=2*Math.PI),Be<0&&(Be+=2*Math.PI);let ot=Math.abs(Be-at);2*Math.PI-ot<ot&&(Be<at?Be+=2*Math.PI:at+=2*Math.PI),f.phi=Be-at,r.update()},this.setAzimuthalAngle=se=>{let Be=lW(se,2*Math.PI),at=d.theta;at<0&&(at+=2*Math.PI),Be<0&&(Be+=2*Math.PI);let ot=Math.abs(Be-at);2*Math.PI-ot<ot&&(Be<at?Be+=2*Math.PI:at+=2*Math.PI),f.theta=Be-at,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=se=>{se.addEventListener("keydown",Et),this._domElementKeyEvents=se},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Et),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),c=l.NONE},this.update=(()=>{const se=new ne,Be=new ne(0,1,0),at=new vs().setFromUnitVectors(e.up,Be),ot=at.clone().invert(),Ve=new ne,oe=new vs,Ze=2*Math.PI;return function(){const Lt=r.object.position;at.setFromUnitVectors(e.up,Be),ot.copy(at).invert(),se.copy(Lt).sub(r.target),se.applyQuaternion(at),d.setFromVector3(se),r.autoRotate&&c===l.NONE&&U(D()),r.enableDamping?(d.theta+=f.theta*r.dampingFactor,d.phi+=f.phi*r.dampingFactor):(d.theta+=f.theta,d.phi+=f.phi);let He=r.minAzimuthAngle,nt=r.maxAzimuthAngle;isFinite(He)&&isFinite(nt)&&(He<-Math.PI?He+=Ze:He>Math.PI&&(He-=Ze),nt<-Math.PI?nt+=Ze:nt>Math.PI&&(nt-=Ze),He<=nt?d.theta=Math.max(He,Math.min(nt,d.theta)):d.theta=d.theta>(He+nt)/2?Math.max(He,d.theta):Math.min(nt,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(p,r.dampingFactor):r.target.add(p),r.zoomToCursor&&C||r.object.isOrthographicCamera?d.radius=Z(d.radius):d.radius=Z(d.radius*h),se.setFromSpherical(d),se.applyQuaternion(ot),Lt.copy(r.target).add(se),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,p.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),p.set(0,0,0));let vt=!1;if(r.zoomToCursor&&C){let cn=null;if(r.object instanceof Qr&&r.object.isPerspectiveCamera){const yn=se.length();cn=Z(yn*h);const Qt=yn-cn;r.object.position.addScaledVector(T,Qt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const yn=new ne(P.x,P.y,0);yn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),vt=!0;const Qt=new ne(P.x,P.y,0);Qt.unproject(r.object),r.object.position.sub(Qt).add(yn),r.object.updateMatrixWorld(),cn=se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;cn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(cn).add(r.object.position):(zS.origin.copy(r.object.position),zS.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(zS.direction))<rke?e.lookAt(r.target):(oW.setFromNormalAndCoplanarPoint(r.object.up,r.target),zS.intersectPlane(oW,r.target))))}else r.object instanceof Dd&&r.object.isOrthographicCamera&&(vt=h!==1,vt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,C=!1,vt||Ve.distanceToSquared(r.object.position)>u||8*(1-oe.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Ve.copy(r.object.position),oe.copy(r.object.quaternion),vt=!1,!0):!1}})(),this.connect=se=>{r.domElement=se,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",on),r.domElement.addEventListener("pointerdown",ze),r.domElement.addEventListener("pointercancel",ke),r.domElement.addEventListener("wheel",tt)},this.dispose=()=>{var se,Be,at,ot,Ve,oe;r.domElement&&(r.domElement.style.touchAction="auto"),(se=r.domElement)==null||se.removeEventListener("contextmenu",on),(Be=r.domElement)==null||Be.removeEventListener("pointerdown",ze),(at=r.domElement)==null||at.removeEventListener("pointercancel",ke),(ot=r.domElement)==null||ot.removeEventListener("wheel",tt),(Ve=r.domElement)==null||Ve.ownerDocument.removeEventListener("pointermove",Ue),(oe=r.domElement)==null||oe.ownerDocument.removeEventListener("pointerup",ke),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Et)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=l.NONE;const u=1e-6,d=new Hk,f=new Hk;let h=1;const p=new ne,m=new Fe,g=new Fe,y=new Fe,v=new Fe,w=new Fe,b=new Fe,S=new Fe,j=new Fe,E=new Fe,T=new ne,P=new Fe;let C=!1;const R=[],I={};function D(){return 2*Math.PI/60/60*r.autoRotateSpeed}function V(){return Math.pow(.95,r.zoomSpeed)}function U(se){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=se:f.theta-=se}function $(se){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=se:f.phi-=se}const z=(()=>{const se=new ne;return function(at,ot){se.setFromMatrixColumn(ot,0),se.multiplyScalar(-at),p.add(se)}})(),W=(()=>{const se=new ne;return function(at,ot){r.screenSpacePanning===!0?se.setFromMatrixColumn(ot,1):(se.setFromMatrixColumn(ot,0),se.crossVectors(r.object.up,se)),se.multiplyScalar(at),p.add(se)}})(),k=(()=>{const se=new ne;return function(at,ot){const Ve=r.domElement;if(Ve&&r.object instanceof Qr&&r.object.isPerspectiveCamera){const oe=r.object.position;se.copy(oe).sub(r.target);let Ze=se.length();Ze*=Math.tan(r.object.fov/2*Math.PI/180),z(2*at*Ze/Ve.clientHeight,r.object.matrix),W(2*ot*Ze/Ve.clientHeight,r.object.matrix)}else Ve&&r.object instanceof Dd&&r.object.isOrthographicCamera?(z(at*(r.object.right-r.object.left)/r.object.zoom/Ve.clientWidth,r.object.matrix),W(ot*(r.object.top-r.object.bottom)/r.object.zoom/Ve.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function L(se){r.object instanceof Qr&&r.object.isPerspectiveCamera||r.object instanceof Dd&&r.object.isOrthographicCamera?h=se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function H(se){L(h/se)}function G(se){L(h*se)}function X(se){if(!r.zoomToCursor||!r.domElement)return;C=!0;const Be=r.domElement.getBoundingClientRect(),at=se.clientX-Be.left,ot=se.clientY-Be.top,Ve=Be.width,oe=Be.height;P.x=at/Ve*2-1,P.y=-(ot/oe)*2+1,T.set(P.x,P.y,1).unproject(r.object).sub(r.object.position).normalize()}function Z(se){return Math.max(r.minDistance,Math.min(r.maxDistance,se))}function B(se){m.set(se.clientX,se.clientY)}function te(se){X(se),S.set(se.clientX,se.clientY)}function ie(se){v.set(se.clientX,se.clientY)}function ae(se){g.set(se.clientX,se.clientY),y.subVectors(g,m).multiplyScalar(r.rotateSpeed);const Be=r.domElement;Be&&(U(2*Math.PI*y.x/Be.clientHeight),$(2*Math.PI*y.y/Be.clientHeight)),m.copy(g),r.update()}function be(se){j.set(se.clientX,se.clientY),E.subVectors(j,S),E.y>0?H(V()):E.y<0&&G(V()),S.copy(j),r.update()}function ce(se){w.set(se.clientX,se.clientY),b.subVectors(w,v).multiplyScalar(r.panSpeed),k(b.x,b.y),v.copy(w),r.update()}function Se(se){X(se),se.deltaY<0?G(V()):se.deltaY>0&&H(V()),r.update()}function Te(se){let Be=!1;switch(se.code){case r.keys.UP:k(0,r.keyPanSpeed),Be=!0;break;case r.keys.BOTTOM:k(0,-r.keyPanSpeed),Be=!0;break;case r.keys.LEFT:k(r.keyPanSpeed,0),Be=!0;break;case r.keys.RIGHT:k(-r.keyPanSpeed,0),Be=!0;break}Be&&(se.preventDefault(),r.update())}function Y(){if(R.length==1)m.set(R[0].pageX,R[0].pageY);else{const se=.5*(R[0].pageX+R[1].pageX),Be=.5*(R[0].pageY+R[1].pageY);m.set(se,Be)}}function Ee(){if(R.length==1)v.set(R[0].pageX,R[0].pageY);else{const se=.5*(R[0].pageX+R[1].pageX),Be=.5*(R[0].pageY+R[1].pageY);v.set(se,Be)}}function ve(){const se=R[0].pageX-R[1].pageX,Be=R[0].pageY-R[1].pageY,at=Math.sqrt(se*se+Be*Be);S.set(0,at)}function Re(){r.enableZoom&&ve(),r.enablePan&&Ee()}function we(){r.enableZoom&&ve(),r.enableRotate&&Y()}function rt(se){if(R.length==1)g.set(se.pageX,se.pageY);else{const at=it(se),ot=.5*(se.pageX+at.x),Ve=.5*(se.pageY+at.y);g.set(ot,Ve)}y.subVectors(g,m).multiplyScalar(r.rotateSpeed);const Be=r.domElement;Be&&(U(2*Math.PI*y.x/Be.clientHeight),$(2*Math.PI*y.y/Be.clientHeight)),m.copy(g)}function qe(se){if(R.length==1)w.set(se.pageX,se.pageY);else{const Be=it(se),at=.5*(se.pageX+Be.x),ot=.5*(se.pageY+Be.y);w.set(at,ot)}b.subVectors(w,v).multiplyScalar(r.panSpeed),k(b.x,b.y),v.copy(w)}function Q(se){const Be=it(se),at=se.pageX-Be.x,ot=se.pageY-Be.y,Ve=Math.sqrt(at*at+ot*ot);j.set(0,Ve),E.set(0,Math.pow(j.y/S.y,r.zoomSpeed)),H(E.y),S.copy(j)}function q(se){r.enableZoom&&Q(se),r.enablePan&&qe(se)}function pe(se){r.enableZoom&&Q(se),r.enableRotate&&rt(se)}function ze(se){var Be,at;r.enabled!==!1&&(R.length===0&&((Be=r.domElement)==null||Be.ownerDocument.addEventListener("pointermove",Ue),(at=r.domElement)==null||at.ownerDocument.addEventListener("pointerup",ke)),Kt(se),se.pointerType==="touch"?Vt(se):dt(se))}function Ue(se){r.enabled!==!1&&(se.pointerType==="touch"?$e(se):We(se))}function ke(se){var Be,at,ot;Dt(se),R.length===0&&((Be=r.domElement)==null||Be.releasePointerCapture(se.pointerId),(at=r.domElement)==null||at.ownerDocument.removeEventListener("pointermove",Ue),(ot=r.domElement)==null||ot.ownerDocument.removeEventListener("pointerup",ke)),r.dispatchEvent(o),c=l.NONE}function dt(se){let Be;switch(se.button){case 0:Be=r.mouseButtons.LEFT;break;case 1:Be=r.mouseButtons.MIDDLE;break;case 2:Be=r.mouseButtons.RIGHT;break;default:Be=-1}switch(Be){case rh.DOLLY:if(r.enableZoom===!1)return;te(se),c=l.DOLLY;break;case rh.ROTATE:if(se.ctrlKey||se.metaKey||se.shiftKey){if(r.enablePan===!1)return;ie(se),c=l.PAN}else{if(r.enableRotate===!1)return;B(se),c=l.ROTATE}break;case rh.PAN:if(se.ctrlKey||se.metaKey||se.shiftKey){if(r.enableRotate===!1)return;B(se),c=l.ROTATE}else{if(r.enablePan===!1)return;ie(se),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&r.dispatchEvent(s)}function We(se){if(r.enabled!==!1)switch(c){case l.ROTATE:if(r.enableRotate===!1)return;ae(se);break;case l.DOLLY:if(r.enableZoom===!1)return;be(se);break;case l.PAN:if(r.enablePan===!1)return;ce(se);break}}function tt(se){r.enabled===!1||r.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(se.preventDefault(),r.dispatchEvent(s),Se(se),r.dispatchEvent(o))}function Et(se){r.enabled===!1||r.enablePan===!1||Te(se)}function Vt(se){switch(mt(se),R.length){case 1:switch(r.touches.ONE){case ih.ROTATE:if(r.enableRotate===!1)return;Y(),c=l.TOUCH_ROTATE;break;case ih.PAN:if(r.enablePan===!1)return;Ee(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(r.touches.TWO){case ih.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Re(),c=l.TOUCH_DOLLY_PAN;break;case ih.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;we(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&r.dispatchEvent(s)}function $e(se){switch(mt(se),c){case l.TOUCH_ROTATE:if(r.enableRotate===!1)return;rt(se),r.update();break;case l.TOUCH_PAN:if(r.enablePan===!1)return;qe(se),r.update();break;case l.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;q(se),r.update();break;case l.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;pe(se),r.update();break;default:c=l.NONE}}function on(se){r.enabled!==!1&&se.preventDefault()}function Kt(se){R.push(se)}function Dt(se){delete I[se.pointerId];for(let Be=0;Be<R.length;Be++)if(R[Be].pointerId==se.pointerId){R.splice(Be,1);return}}function mt(se){let Be=I[se.pointerId];Be===void 0&&(Be=new Fe,I[se.pointerId]=Be),Be.set(se.pageX,se.pageY)}function it(se){const Be=se.pointerId===R[0].pointerId?R[1]:R[0];return I[Be.pointerId]}this.dollyIn=(se=V())=>{G(se),r.update()},this.dollyOut=(se=V())=>{H(se),r.update()},this.getScale=()=>h,this.setScale=se=>{L(se),r.update()},this.getZoomScale=()=>V(),n!==void 0&&this.connect(n),this.update()}};const ske=N.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:l,onEnd:c,...u},d)=>{const f=Xu(E=>E.invalidate),h=Xu(E=>E.camera),p=Xu(E=>E.gl),m=Xu(E=>E.events),g=Xu(E=>E.setEvents),y=Xu(E=>E.set),v=Xu(E=>E.get),w=Xu(E=>E.performance),b=e||h,S=r||m.connected||p.domElement,j=N.useMemo(()=>new ike(b),[b]);return Ip(()=>{j.enabled&&j.update()},-1),N.useEffect(()=>(s&&j.connect(s===!0?S:s),j.connect(S),()=>void j.dispose()),[s,S,n,j,f]),N.useEffect(()=>{const E=C=>{f(),n&&w.regress(),o&&o(C)},T=C=>{l&&l(C)},P=C=>{c&&c(C)};return j.addEventListener("change",E),j.addEventListener("start",T),j.addEventListener("end",P),()=>{j.removeEventListener("start",T),j.removeEventListener("end",P),j.removeEventListener("change",E)}},[o,l,c,j,f,g]),N.useEffect(()=>{if(t){const E=v().controls;return y({controls:j}),()=>y({controls:E})}},[t,j]),N.createElement("primitive",Mb({ref:d,object:j,enableDamping:i},u))});var Fre={exports:{}},ake="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oke=ake,lke=oke;function Ure(){}function Bre(){}Bre.resetWarningCache=Ure;var cke=function(){function t(r,i,s,o,l,c){if(c!==lke){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Bre,resetWarningCache:Ure};return n.PropTypes=n,n};Fre.exports=cke();var uke=Fre.exports;const Un=Ln(uke);var dke=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class fke extends F5{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${dke}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const hke=N.forwardRef(({speed:t=1,...e},n)=>{const[r]=N.useState(()=>new fke);return Ip(i=>r&&(r.time=i.clock.elapsedTime*t)),N.createElement("primitive",Mb({object:r,ref:n,attach:"material"},e))});function pke(t,e){const n=t+"Geometry";return N.forwardRef(({args:r,children:i,...s},o)=>{const l=N.useRef(null);return N.useImperativeHandle(o,()=>l.current),N.useLayoutEffect(()=>void(e==null?void 0:e(l.current))),N.createElement("mesh",Mb({ref:l},s),N.createElement(n,{attach:"geometry",args:r}),i)})}const mke=pke("sphere"),zre=N.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],autoInvalidate:o=!1,...l},c)=>{const u=N.useRef(null);N.useImperativeHandle(c,()=>u.current,[]);const d=N.useRef(Math.random()*1e4);return Ip(f=>{var h,p;if(!e||n===0)return;o&&f.invalidate();const m=d.current+f.clock.elapsedTime;u.current.rotation.x=Math.cos(m/4*n)/8*r,u.current.rotation.y=Math.sin(m/4*n)/8*r,u.current.rotation.z=Math.sin(m/4*n)/20*r;let g=Math.sin(m/4*n)/10;g=ine.mapLinear(g,-.1,.1,(h=s==null?void 0:s[0])!==null&&h!==void 0?h:-.1,(p=s==null?void 0:s[1])!==null&&p!==void 0?p:.1),u.current.position.y=g*i,u.current.updateMatrix()}),N.createElement("group",l,N.createElement("group",{ref:u,matrixAutoUpdate:!1},t))});var $re={exports:{}},Vre={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=N;function gke(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vke=typeof Object.is=="function"?Object.is:gke,yke=gv.useState,xke=gv.useEffect,bke=gv.useLayoutEffect,wke=gv.useDebugValue;function _ke(t,e){var n=e(),r=yke({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return bke(function(){i.value=n,i.getSnapshot=e,ZP(i)&&s({inst:i})},[t,n,e]),xke(function(){return ZP(i)&&s({inst:i}),t(function(){ZP(i)&&s({inst:i})})},[t]),wke(n),n}function ZP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vke(t,n)}catch{return!0}}function Ske(t,e){return e()}var Nke=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ske:_ke;Vre.useSyncExternalStore=gv.useSyncExternalStore!==void 0?gv.useSyncExternalStore:Nke;$re.exports=Vre;var jke=$re.exports;function $S({position:t,color:e,speed:n,distort:r,scale:i}){const s=N.useRef(null);return Ip(o=>{s.current&&(s.current.rotation.x=o.clock.elapsedTime*.2,s.current.rotation.y=o.clock.elapsedTime*.3)}),a.jsx(zre,{speed:n,rotationIntensity:.5,floatIntensity:1,children:a.jsx(mke,{ref:s,args:[1,64,64],scale:i,position:t,children:a.jsx(hke,{color:e,attach:"material",distort:r,speed:2,roughness:.2,metalness:.8})})})}function cW({position:t,rotation:e}){const n=N.useRef(null);return Ip(r=>{n.current&&(n.current.rotation.y=e[1]+Math.sin(r.clock.elapsedTime*.5)*.1,n.current.position.y=t[1]+Math.sin(r.clock.elapsedTime*.8)*.1)}),a.jsx(zre,{speed:1.5,rotationIntensity:.2,floatIntensity:.5,children:a.jsxs("mesh",{ref:n,position:t,rotation:e,children:[a.jsx("boxGeometry",{args:[2.5,1.5,.05]}),a.jsx("meshStandardMaterial",{color:"#10b981",metalness:.9,roughness:.1})]})})}function Eke(){return a.jsxs(a.Fragment,{children:[a.jsx("ambientLight",{intensity:.5}),a.jsx("directionalLight",{position:[10,10,5],intensity:1}),a.jsx("pointLight",{position:[-10,-10,-5],intensity:.5,color:"#10b981"}),a.jsx($S,{position:[2,0,0],color:"#10b981",speed:1.5,distort:.4,scale:1.8}),a.jsx($S,{position:[-2.5,1.5,-1],color:"#059669",speed:2,distort:.3,scale:.6}),a.jsx($S,{position:[-1.5,-1.5,.5],color:"#34d399",speed:1.8,distort:.5,scale:.4}),a.jsx($S,{position:[3.5,1.8,-.5],color:"#6ee7b7",speed:2.2,distort:.25,scale:.35}),a.jsx(cW,{position:[-2,0,1],rotation:[.2,.5,.1]}),a.jsx(cW,{position:[.5,-1.2,.5],rotation:[-.1,-.3,-.05]}),a.jsx(ske,{enableZoom:!1,enablePan:!1,autoRotate:!0,autoRotateSpeed:.5,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2})]})}function Ake(){return a.jsx("div",{className:"absolute inset-0 -z-10 opacity-60",children:a.jsx(Lre,{camera:{position:[0,0,6],fov:45},children:a.jsx(N.Suspense,{fallback:null,children:a.jsx(Eke,{})})})})}function Tke({count:t=200}){const e=N.useRef(null),n=N.useMemo(()=>{const r=new Float32Array(t*3),i=new Float32Array(t*3),s=new Float32Array(t);for(let o=0;o<t;o++)r[o*3]=(Math.random()-.5)*20,r[o*3+1]=(Math.random()-.5)*20,r[o*3+2]=(Math.random()-.5)*10,i[o*3]=.06+Math.random()*.1,i[o*3+1]=.6+Math.random()*.2,i[o*3+2]=.4+Math.random()*.2,s[o]=Math.random()*2+.5;return{positions:r,colors:i,sizes:s}},[t]);return Ip(r=>{e.current&&(e.current.rotation.y=r.clock.elapsedTime*.02,e.current.rotation.x=Math.sin(r.clock.elapsedTime*.1)*.05)}),a.jsxs("points",{ref:e,children:[a.jsxs("bufferGeometry",{children:[a.jsx("bufferAttribute",{attach:"attributes-position",count:n.positions.length/3,array:n.positions,itemSize:3}),a.jsx("bufferAttribute",{attach:"attributes-color",count:n.colors.length/3,array:n.colors,itemSize:3})]}),a.jsx("pointsMaterial",{size:.05,vertexColors:!0,transparent:!0,opacity:.6,sizeAttenuation:!0})]})}function eR({position:t,scale:e,rotationSpeed:n}){const r=N.useRef(null);return Ip(i=>{r.current&&(r.current.rotation.x=i.clock.elapsedTime*n,r.current.rotation.z=i.clock.elapsedTime*n*.5,r.current.position.y=t[1]+Math.sin(i.clock.elapsedTime*.5)*.3)}),a.jsxs("mesh",{ref:r,position:t,scale:e,children:[a.jsx("torusGeometry",{args:[1,.02,16,100]}),a.jsx("meshBasicMaterial",{color:"#10b981",transparent:!0,opacity:.3})]})}function Cke(){return a.jsx("div",{className:"absolute inset-0 -z-5 opacity-40",children:a.jsxs(Lre,{camera:{position:[0,0,8],fov:60},children:[a.jsx(Tke,{count:150}),a.jsx(eR,{position:[-3,2,-2],scale:1.5,rotationSpeed:.3}),a.jsx(eR,{position:[4,-1,-3],scale:2,rotationSpeed:.2}),a.jsx(eR,{position:[0,3,-4],scale:1,rotationSpeed:.4})]})})}function Mke(){const t={animate:n=>({y:[0,-20,0],rotate:[0,5,-5,0],transition:{y:{duration:4+n*.5,repeat:1/0,ease:"easeInOut"},rotate:{duration:6+n*.3,repeat:1/0,ease:"easeInOut"}}})},e=[{Icon:fa,position:"top-[15%] left-[8%]",size:"w-12 h-12 sm:w-16 sm:h-16",delay:0},{Icon:xr,position:"top-[25%] right-[10%]",size:"w-10 h-10 sm:w-14 sm:h-14",delay:1},{Icon:gr,position:"bottom-[30%] left-[5%]",size:"w-10 h-10 sm:w-12 sm:h-12",delay:2},{Icon:jn,position:"bottom-[20%] right-[8%]",size:"w-8 h-8 sm:w-10 sm:h-10",delay:3},{Icon:tr,position:"top-[40%] left-[3%]",size:"w-8 h-8 sm:w-10 sm:h-10",delay:4},{Icon:Wa,position:"top-[50%] right-[5%]",size:"w-10 h-10 sm:w-12 sm:h-12",delay:5}];return a.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:e.map(({Icon:n,position:r,size:i,delay:s},o)=>a.jsx(Me.div,{className:`absolute ${r} hidden md:block`,custom:s,variants:t,animate:"animate",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:s*.2},children:a.jsx("div",{className:`${i} rounded-2xl bg-gradient-to-br from-primary/10 to-primary/5 backdrop-blur-sm border border-primary/20 flex items-center justify-center shadow-lg shadow-primary/10`,children:a.jsx(n,{className:"w-1/2 h-1/2 text-primary"})})},o))})}function Pke({end:t,suffix:e="",duration:n=2e3}){const[r,i]=N.useState(0),[s,o]=N.useState(!1),l=N.useRef(null);return N.useEffect(()=>{const c=new IntersectionObserver(([u])=>{u.isIntersecting&&!s&&o(!0)},{threshold:.1});return l.current&&c.observe(l.current),()=>c.disconnect()},[s]),N.useEffect(()=>{if(!s)return;let c,u;const d=f=>{c||(c=f);const h=Math.min((f-c)/n,1),p=1-Math.pow(1-h,4);i(Math.floor(p*t)),h<1&&(u=requestAnimationFrame(d))};return u=requestAnimationFrame(d),()=>cancelAnimationFrame(u)},[s,t,n]),a.jsxs("span",{ref:l,children:[r,e]})}function VS({children:t,className:e,glowColor:n="rgba(16, 185, 129, 0.3)"}){const[r,i]=N.useState({x:0,y:0}),[s,o]=N.useState(!1),l=N.useRef(null),c=u=>{if(!l.current)return;const d=l.current.getBoundingClientRect();i({x:u.clientX-d.left,y:u.clientY-d.top})};return a.jsxs("div",{ref:l,className:je("relative overflow-hidden rounded-2xl bg-card border border-border transition-all duration-300",s&&"border-primary/50 shadow-xl",e),onMouseMove:c,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[a.jsx("div",{className:"pointer-events-none absolute -inset-px opacity-0 transition-opacity duration-300",style:{opacity:s?1:0,background:`radial-gradient(600px circle at ${r.x}px ${r.y}px, ${n}, transparent 40%)`}}),a.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl opacity-0 transition-opacity duration-300",style:{opacity:s?1:0,background:`radial-gradient(400px circle at ${r.x}px ${r.y}px, ${n}, transparent 40%)`}}),a.jsx("div",{className:"relative z-10",children:t})]})}function Ll({children:t,className:e="",delay:n=0,direction:r="up",duration:i=.6}){const s=N.useRef(null),o=nte(s,{once:!0,margin:"-50px"}),l={up:{y:40,x:0},down:{y:-40,x:0},left:{y:0,x:40},right:{y:0,x:-40},none:{y:0,x:0}};return a.jsx(Me.div,{ref:s,initial:{opacity:0,y:l[r].y,x:l[r].x},animate:o?{opacity:1,y:0,x:0}:{},transition:{duration:i,delay:n,ease:[.25,.46,.45,.94]},className:e,children:t})}function HS({children:t,className:e="",staggerDelay:n=.1}){const r=N.useRef(null),i=nte(r,{once:!0,margin:"-50px"});return a.jsx(Me.div,{ref:r,initial:"hidden",animate:i?"visible":"hidden",variants:{visible:{transition:{staggerChildren:n}}},className:e,children:t})}function WS({children:t,className:e=""}){return a.jsx(Me.div,{variants:{hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.25,.46,.45,.94]}}},className:e,children:t})}function xx({children:t,delay:e=0,className:n=""}){return a.jsx(Me.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:e,ease:[.25,.46,.45,.94]},className:n,children:t})}function GS({children:t,className:e=""}){return a.jsxs("span",{className:`relative inline-block ${e}`,children:[a.jsx("span",{className:"relative z-10",children:t}),a.jsx(Me.span,{className:"absolute inset-0 bg-gradient-to-r from-primary via-emerald-400 to-primary bg-clip-text text-transparent blur-lg opacity-50",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%"},children:t})]})}function qS({children:t,className:e="",onClick:n}){const r=N.useRef(null),i=$j(0),s=$j(0),o={damping:15,stiffness:150},l=f8(i,o),c=f8(s,o),u=f=>{if(!r.current)return;const h=r.current.getBoundingClientRect(),p=h.left+h.width/2,m=h.top+h.height/2,g=(f.clientX-p)*.2,y=(f.clientY-m)*.2;i.set(g),s.set(y)},d=()=>{i.set(0),s.set(0)};return a.jsx(Me.button,{ref:r,style:{x:l,y:c},onMouseMove:u,onMouseLeave:d,onClick:n,className:e,whileTap:{scale:.95},children:t})}function uW({className:t="w-8 h-8"}){return a.jsxs("svg",{className:t,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"qwen-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#6366F1"}),a.jsx("stop",{offset:"100%",stopColor:"#8B5CF6"})]})}),a.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"url(#qwen-gradient)"}),a.jsx("text",{x:"20",y:"26",textAnchor:"middle",fill:"white",fontSize:"18",fontWeight:"bold",fontFamily:"system-ui",children:"Q"}),a.jsx("circle",{cx:"28",cy:"28",r:"4",fill:"white",opacity:"0.9"})]})}function dW({className:t="w-8 h-8"}){return a.jsxs("svg",{className:t,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"hf-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#FFD21E"}),a.jsx("stop",{offset:"100%",stopColor:"#FF9D00"})]})}),a.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"url(#hf-gradient)"}),a.jsx("circle",{cx:"14",cy:"17",r:"2.5",fill:"#1F2937"}),a.jsx("circle",{cx:"26",cy:"17",r:"2.5",fill:"#1F2937"}),a.jsx("path",{d:"M12 24 Q20 32 28 24",stroke:"#1F2937",strokeWidth:"2.5",strokeLinecap:"round",fill:"none"}),a.jsx("ellipse",{cx:"10",cy:"22",rx:"2",ry:"1.5",fill:"#FF6B6B",opacity:"0.5"}),a.jsx("ellipse",{cx:"30",cy:"22",rx:"2",ry:"1.5",fill:"#FF6B6B",opacity:"0.5"})]})}function fW({className:t="w-8 h-8"}){return a.jsxs("svg",{className:t,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"minilm-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#0078D4"}),a.jsx("stop",{offset:"100%",stopColor:"#00BCF2"})]})}),a.jsx("rect",{x:"2",y:"2",width:"36",height:"36",rx:"8",fill:"url(#minilm-gradient)"}),a.jsx("path",{d:"M10 28V14L16 22L22 14V28",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),a.jsx("path",{d:"M26 14H30V28",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})}function hW({className:t="w-8 h-8"}){return a.jsxs("svg",{className:t,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"claude-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#D97706"}),a.jsx("stop",{offset:"100%",stopColor:"#F59E0B"})]})}),a.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"url(#claude-gradient)"}),a.jsx("path",{d:"M26 14 C18 14 14 17 14 20 C14 23 18 26 26 26",stroke:"white",strokeWidth:"3",strokeLinecap:"round",fill:"none"}),a.jsx("circle",{cx:"28",cy:"12",r:"2",fill:"white"}),a.jsx("path",{d:"M30 10 L32 8 M28 8 L28 6 M32 12 L34 12",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"})]})}function Rke({name:t,label:e,description:n,Logo:r,index:i,gradient:s}){return a.jsxs(Me.div,{className:"relative group cursor-pointer",initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.6+i*.12,type:"spring",stiffness:200,damping:20},whileHover:{scale:1.08,y:-4},whileTap:{scale:.98},children:[a.jsx("div",{className:"absolute -inset-[1px] rounded-2xl bg-gradient-to-r from-primary via-emerald-400 to-primary opacity-0 group-hover:opacity-100 blur-sm transition-all duration-500 animate-gradient-x"}),a.jsx("div",{className:"absolute -inset-2 rounded-2xl bg-primary/20 opacity-0 group-hover:opacity-100 blur-xl transition-all duration-500"}),a.jsxs("div",{className:`relative flex items-center gap-3 px-4 sm:px-5 py-3 sm:py-3.5 rounded-2xl bg-gradient-to-br ${s} border border-border/50 group-hover:border-primary/50 backdrop-blur-xl transition-all duration-300 overflow-hidden`,children:[a.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:a.jsx("div",{className:"absolute inset-0 translate-x-[-100%] group-hover:translate-x-[100%] bg-gradient-to-r from-transparent via-white/20 to-transparent transition-transform duration-1000 ease-out"})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 blur-md opacity-0 group-hover:opacity-60 transition-opacity duration-300",children:a.jsx(r,{className:"w-10 h-10 sm:w-11 sm:h-11"})}),a.jsx(r,{className:"relative w-10 h-10 sm:w-11 sm:h-11 drop-shadow-lg"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm sm:text-base font-bold text-foreground tracking-tight",children:t}),a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground font-medium",children:e})]}),a.jsx("div",{className:"absolute top-2 right-2 w-1.5 h-1.5 rounded-full bg-primary animate-pulse"})]})]})}function Oke({name:t,label:e,description:n,Logo:r,index:i}){return a.jsxs(Me.div,{className:"group relative p-4 rounded-xl bg-gradient-to-br from-card via-card to-secondary/30 border border-border hover:border-primary/30 transition-all duration-300",whileHover:{y:-4,scale:1.02},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},children:[a.jsx("div",{className:"absolute inset-0 rounded-xl bg-primary/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"relative flex flex-col items-center text-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 blur-md opacity-0 group-hover:opacity-50 transition-opacity",children:a.jsx(r,{className:"w-12 h-12"})}),a.jsx(r,{className:"relative w-12 h-12 drop-shadow-lg"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-foreground",children:t}),a.jsx("p",{className:"text-[10px] uppercase tracking-wider text-primary font-medium",children:e}),n&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n})]})]})]})}const Ike=()=>{const t=_u(),[e,n]=N.useState(0),r=N.useRef(null),{scrollYProgress:i}=uAe({target:r,offset:["start start","end start"]}),s=sP(i,[0,.5],[1,0]),o=sP(i,[0,.5],[1,.95]),l=sP(i,[0,.5],[0,100]);N.useEffect(()=>{const m=()=>n(window.scrollY);return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const c=[{icon:a.jsx(tr,{className:"w-6 h-6"}),title:"AI Credit Analysis",description:"Instantly parse and analyze credit reports from any source. Our AI identifies errors, duplicates, and opportunities humans miss.",color:"from-violet-500 to-purple-600"},{icon:a.jsx(Wa,{className:"w-6 h-6"}),title:"One-Click Disputes",description:"Generate bureau-specific dispute letters in seconds. FCRA-compliant templates for every situation.",color:"from-amber-500 to-orange-600"},{icon:a.jsx(gr,{className:"w-6 h-6"}),title:"Score Prediction",description:"Know your expected outcomes before sending disputes. AI predicts deletion probability and score impact.",color:"from-emerald-500 to-green-600"},{icon:a.jsx(xr,{className:"w-6 h-6"}),title:"Compliance Engine",description:"Built-in FCRA compliance guardrails. Automatic blocking of illegal disputes and fraudulent claims.",color:"from-blue-500 to-cyan-600"},{icon:a.jsx(nr,{className:"w-6 h-6"}),title:"Real-Time Tracking",description:"Monitor every dispute, response, and score change across all three bureaus in real-time.",color:"from-pink-500 to-rose-600"},{icon:a.jsx(Fs,{className:"w-6 h-6"}),title:"Smart Prioritization",description:"AI identifies high-impact items first. Focus on deletions that maximize score improvement.",color:"from-indigo-500 to-blue-600"}],u=[{value:94,suffix:"%",label:"Deletion Rate",sublabel:"In beta testing"},{value:45,suffix:"+",label:"Avg Points",sublabel:"Score improvement"},{value:10,suffix:"x",label:"Faster",sublabel:"Than manual processing"},{value:24,suffix:"/7",label:"Support",sublabel:"Always here to help"}],d=[{icon:a.jsx(Wa,{className:"w-8 h-8"}),title:"10x Faster Processing",description:"What takes hours manually, our AI does in seconds. Process more clients with less effort.",stat:"10x",statLabel:"Speed increase"},{icon:a.jsx(Fs,{className:"w-8 h-8"}),title:"Precision Targeting",description:"AI identifies the highest-impact items first, maximizing score improvement per dispute round.",stat:"94%",statLabel:"Deletion rate"},{icon:a.jsx(xr,{className:"w-8 h-8"}),title:"Built-In Compliance",description:"FCRA-compliant templates and automatic guardrails prevent illegal or risky disputes.",stat:"100%",statLabel:"Compliant"},{icon:a.jsx(tr,{className:"w-8 h-8"}),title:"Learns & Improves",description:"Our AI learns from every dispute, continuously improving accuracy and success rates.",stat:"",statLabel:"Learning"}],f=[{name:"Starter",price:"$149",period:"/month",description:"Perfect for solo practitioners",features:["Up to 25 active clients","AI credit report analysis","Automated dispute generation","Client portal access","Email support"],popular:!1},{name:"Professional",price:"$349",period:"/month",description:"For growing businesses",features:["Up to 100 active clients","Everything in Starter","VA staff accounts","SmartCredit integration","Priority support","Custom branding"],popular:!0},{name:"Enterprise",price:"$799",period:"/month",description:"For multi-location businesses",features:["Unlimited clients","Everything in Professional","Multi-location support","API access","Dedicated success manager","Custom integrations"],popular:!1}],h=[{step:"01",title:"Import Reports",description:"Connect SmartCredit, IdentityIQ, or upload PDFs. AI parses everything in seconds.",icon:a.jsx(rJ,{className:"w-5 h-5"})},{step:"02",title:"AI Analysis",description:"Our AI identifies errors, calculates deletion probability, and creates optimal strategy.",icon:a.jsx(tr,{className:"w-5 h-5"})},{step:"03",title:"Generate & Send",description:"One-click dispute generation for all bureaus. Track responses in real-time.",icon:a.jsx(lJ,{className:"w-5 h-5"})}],p={Features:"#features",Pricing:"#pricing",Integrations:"#how-it-works",API:"#features",About:"#why-us",Blog:"#features",Careers:"#why-us",Contact:"#pricing",Privacy:"#top",Terms:"#top",Security:"#why-us","FCRA Compliance":"#why-us"};return a.jsxs("div",{id:"top",className:"min-h-screen bg-background overflow-x-hidden",children:[a.jsx(Me.nav,{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-500",initial:{y:-100},animate:{y:0},transition:{duration:.6,ease:[.25,.46,.45,.94]},style:{backgroundColor:e>50?"hsl(var(--background) / 0.8)":"transparent",backdropFilter:e>50?"blur(20px)":"none",borderBottom:e>50?"1px solid hsl(var(--border) / 0.5)":"none"},children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-20 md:h-24",children:[a.jsx(Me.div,{className:"flex items-center flex-shrink-0",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400},children:a.jsx("img",{src:"/images/credit-ai-logo.png",alt:"Credit AI Platform",className:"h-14 sm:h-16 md:h-20 w-auto object-contain"})}),a.jsx("div",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:["Features","How It Works","Pricing","Why Us"].map((m,g)=>a.jsxs(Me.a,{href:`#${m.toLowerCase().replace(" ","-")}`,className:"text-sm text-muted-foreground hover:text-foreground transition-colors relative group",whileHover:{y:-2},initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1*g},children:[m,a.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all group-hover:w-full"})]},m))}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx(Me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:a.jsx(ge,{variant:"ghost",onClick:()=>t("/auth"),className:"text-muted-foreground hover:text-foreground hidden sm:inline-flex",children:"Sign In"})}),a.jsx(Me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:a.jsxs(qS,{onClick:()=>t("/auth"),className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg shadow-primary/25 hover:shadow-xl hover:shadow-primary/30 transition-all text-sm sm:text-base px-4 sm:px-6 py-2.5 rounded-lg font-medium flex items-center gap-2",children:[a.jsx("span",{className:"hidden sm:inline",children:"Get Started"}),a.jsx("span",{className:"sm:hidden",children:"Start"}),a.jsx(wi,{className:"w-4 h-4"})]})})]})]})})}),a.jsxs("section",{ref:r,className:"pt-28 sm:pt-32 md:pt-36 pb-16 sm:pb-20 md:pb-24 px-4 sm:px-6 lg:px-8 relative min-h-screen flex items-center",children:[a.jsx(Ake,{}),a.jsx(Cke,{}),a.jsx(Mke,{}),a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx(Me.div,{className:"absolute w-[600px] h-[600px] rounded-full blur-[120px]",animate:{scale:[1,1.2,1],opacity:[.15,.25,.15]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},style:{background:"radial-gradient(circle, hsl(var(--primary) / 0.3) 0%, transparent 70%)",top:"5%",right:"10%"}}),a.jsx(Me.div,{className:"absolute w-[500px] h-[500px] rounded-full blur-[100px]",animate:{scale:[1.2,1,1.2],opacity:[.2,.15,.2]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},style:{background:"radial-gradient(circle, hsl(160 84% 50% / 0.25) 0%, transparent 70%)",bottom:"10%",left:"5%"}})]}),a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,hsl(var(--border)/0.2)_1px,transparent_1px),linear-gradient(to_bottom,hsl(var(--border)/0.2)_1px,transparent_1px)] bg-[size:4rem_4rem] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)]"}),a.jsx(Me.div,{className:"container mx-auto relative z-10",style:{opacity:s,scale:o,y:l},children:a.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[a.jsx(xx,{delay:0,children:a.jsxs(Me.div,{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-8 cursor-default",whileHover:{scale:1.05,borderColor:"hsl(var(--primary) / 0.5)"},children:[a.jsxs("span",{className:"relative flex h-2 w-2",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),a.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),a.jsx("span",{className:"text-sm font-medium text-primary",children:"First AI-Driven Credit Repair Platform"}),a.jsx(Me.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},children:a.jsx(jn,{className:"w-4 h-4 text-primary"})})]})}),a.jsx(xx,{delay:.15,children:a.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-foreground mb-4 sm:mb-6 leading-[1.1] tracking-tight",children:["The Future of"," ",a.jsxs("span",{className:"relative inline-block",children:[a.jsx("span",{className:"bg-gradient-to-r from-primary via-emerald-400 to-primary bg-clip-text text-transparent bg-[size:200%] animate-[gradient_3s_ease_infinite]",children:"Credit Repair"}),a.jsx("svg",{className:"absolute -bottom-2 left-0 w-full",viewBox:"0 0 300 12",fill:"none",children:a.jsx(Me.path,{d:"M2 10C50 4 100 4 150 6C200 8 250 4 298 10",stroke:"hsl(var(--primary))",strokeWidth:"3",strokeLinecap:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.4},transition:{duration:1.5,delay:.5}})})]}),a.jsx("br",{className:"hidden sm:block"}),a.jsx("span",{className:"sm:ml-0",children:"is Here"})]})}),a.jsx(xx,{delay:.3,children:a.jsx("p",{className:"text-base sm:text-lg md:text-xl text-muted-foreground mb-8 sm:mb-10 max-w-2xl mx-auto leading-relaxed px-2",children:"Revolutionary AI technology that analyzes credit reports, generates dispute letters, and predicts outcomesall in seconds. Transform your business into a credit repair powerhouse."})}),a.jsx(xx,{delay:.45,children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-16",children:[a.jsxs(qS,{onClick:()=>t("/auth"),className:"bg-primary hover:bg-primary/90 text-primary-foreground px-8 py-4 text-lg shadow-xl shadow-primary/25 hover:shadow-2xl hover:shadow-primary/30 transition-all group relative overflow-hidden rounded-xl font-medium flex items-center",children:[a.jsxs("span",{className:"relative z-10 flex items-center",children:["Start Free Trial",a.jsx(Me.span,{className:"ml-2",animate:{x:[0,4,0]},transition:{duration:1.5,repeat:1/0},children:a.jsx(wi,{className:"w-5 h-5"})})]}),a.jsx(Me.div,{className:"absolute inset-0 bg-gradient-to-r from-primary via-emerald-400 to-primary opacity-0 group-hover:opacity-100 transition-opacity bg-[size:200%]",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:3,repeat:1/0}})]}),a.jsx(Me.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsxs(ge,{size:"lg",variant:"outline",className:"px-8 py-6 text-lg border-border hover:bg-secondary/50 group transition-all rounded-xl",children:[a.jsx(Me.span,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:a.jsx(oJ,{className:"w-5 h-5 mr-2"})}),"Watch Demo"]})})]})}),a.jsx(xx,{delay:.5,children:a.jsxs(Me.div,{className:"flex flex-col items-center mb-14",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Me.div,{className:"absolute -inset-x-4 -inset-y-2 bg-gradient-to-r from-transparent via-primary/10 to-transparent rounded-full blur-xl",animate:{opacity:[.3,.6,.3]},transition:{duration:3,repeat:1/0}}),a.jsxs("p",{className:"relative text-xs sm:text-sm text-primary font-semibold uppercase tracking-[0.2em] flex items-center gap-2",children:[a.jsx("span",{className:"w-8 h-px bg-gradient-to-r from-transparent to-primary"}),"Powered by Advanced AI",a.jsx("span",{className:"w-8 h-px bg-gradient-to-l from-transparent to-primary"})]})]}),a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3 sm:gap-4 px-4 max-w-4xl",children:[{name:"Qwen",label:"Language Model",Logo:uW,gradient:"from-violet-500/10 via-purple-500/5 to-violet-500/10"},{name:"DistilBERT",label:"Classifier",Logo:dW,gradient:"from-amber-500/10 via-yellow-500/5 to-amber-500/10"},{name:"MiniLM",label:"Embeddings",Logo:fW,gradient:"from-blue-500/10 via-cyan-500/5 to-blue-500/10"},{name:"Claude",label:"AI Models",Logo:hW,gradient:"from-orange-500/10 via-amber-500/5 to-orange-500/10"}].map((m,g)=>a.jsx(Rke,{name:m.name,label:m.label,Logo:m.Logo,index:g,gradient:m.gradient},m.name))})]})}),a.jsx(HS,{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 max-w-4xl mx-auto",staggerDelay:.1,children:u.map((m,g)=>a.jsx(WS,{children:a.jsxs(VS,{className:"p-4 sm:p-6 group",children:[a.jsx(Me.div,{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-primary mb-1",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400},children:a.jsx(Pke,{end:m.value,suffix:m.suffix})}),a.jsx("div",{className:"text-xs sm:text-sm font-medium text-foreground",children:m.label}),a.jsx("div",{className:"text-[10px] sm:text-xs text-muted-foreground",children:m.sublabel})]})},g))})]})}),a.jsxs(Me.div,{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2",animate:{y:[0,8,0]},transition:{duration:2,repeat:1/0},children:[a.jsx(Ige,{className:"w-5 h-5 text-muted-foreground"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Scroll to explore"})]})]}),a.jsxs("section",{className:"py-6 sm:py-8 border-y border-border/50 bg-secondary/20 relative overflow-hidden",children:[a.jsx(Me.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-primary/5 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:8,repeat:1/0,ease:"linear"}}),a.jsx("div",{className:"container mx-auto px-4 relative",children:a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4 sm:gap-8 md:gap-12 lg:gap-16 text-muted-foreground",children:[{icon:a.jsx(rv,{className:"w-5 h-5"}),text:"AI Credit Analysis"},{icon:a.jsx($t,{className:"w-5 h-5"}),text:"Auto Letter Generation"},{icon:a.jsx(hl,{className:"w-5 h-5"}),text:"Score Prediction"},{icon:a.jsx(tu,{className:"w-5 h-5"}),text:"FCRA Compliant"},{icon:a.jsx(iv,{className:"w-5 h-5"}),text:"All 3 Bureaus"}].map((m,g)=>a.jsxs(Me.div,{className:"flex items-center gap-2 opacity-60 hover:opacity-100 hover:text-primary transition-all cursor-default",whileHover:{scale:1.1,y:-2},initial:{opacity:0,y:20},whileInView:{opacity:.6,y:0},viewport:{once:!0},transition:{delay:g*.1},children:[m.icon,a.jsx("span",{className:"font-medium",children:m.text})]},g))})})]}),a.jsx("section",{id:"features",className:"py-16 sm:py-20 md:py-24 px-4 sm:px-6 lg:px-8 relative",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs(Ll,{className:"text-center mb-10 sm:mb-16",children:[a.jsx(Me.div,{whileHover:{scale:1.05},children:a.jsx(De,{className:"mb-4 bg-primary/10 text-primary border-primary/20 px-4 py-1",children:"Features"})}),a.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-4",children:["AI-Powered ",a.jsx(GS,{children:"Everything"})]}),a.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto px-2",children:"From credit report analysis to dispute generation, our AI handles the heavy lifting so you can focus on growing your business."})]}),a.jsx(HS,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",staggerDelay:.1,children:c.map((m,g)=>a.jsx(WS,{children:a.jsx(VS,{className:"group h-full",glowColor:"rgba(16, 185, 129, 0.2)",children:a.jsxs(Ne,{className:"p-8 relative",children:[a.jsx(Me.div,{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${m.color} text-white flex items-center justify-center mb-6 shadow-lg`,whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400},children:m.icon}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3 group-hover:text-primary transition-colors",children:m.title}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:m.description}),a.jsxs(Me.div,{className:"mt-4 flex items-center gap-1 text-primary",initial:{opacity:0,x:-10},whileHover:{x:5},children:[a.jsx("span",{className:"text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:"Learn more"}),a.jsx(sl,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity"})]})]})})},g))})]})}),a.jsxs("section",{id:"how-it-works",className:"py-16 sm:py-20 md:py-24 px-4 sm:px-6 lg:px-8 bg-secondary/30 relative overflow-hidden",children:[a.jsx(Me.div,{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-primary/5 rounded-full blur-3xl",animate:{x:[0,50,0],y:[0,30,0]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),a.jsxs("div",{className:"container mx-auto relative",children:[a.jsxs(Ll,{className:"text-center mb-10 sm:mb-16",children:[a.jsx(De,{className:"mb-4 bg-primary/10 text-primary border-primary/20 px-4 py-1",children:"How It Works"}),a.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-4",children:["Simple. Powerful. ",a.jsx(GS,{children:"Automated."})]}),a.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto px-2",children:"Get started in minutes and let AI do the heavy lifting."})]}),a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 sm:gap-10 md:gap-8 relative",children:[a.jsx("div",{className:"hidden md:block absolute top-16 left-[16%] right-[16%] h-1 overflow-hidden rounded-full bg-border",children:a.jsx(Me.div,{className:"h-full w-1/3 bg-gradient-to-r from-primary to-emerald-400 rounded-full",animate:{x:["0%","200%"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})}),h.map((m,g)=>a.jsx(Ll,{delay:g*.15,children:a.jsxs(Me.div,{className:"relative text-center group",whileHover:{y:-5},children:[a.jsxs(Me.div,{className:"inline-flex items-center justify-center w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 rounded-2xl bg-card border-2 border-primary/20 shadow-xl mb-4 sm:mb-6 relative group-hover:border-primary/50 group-hover:shadow-primary/20 transition-all",whileHover:{scale:1.05,rotate:2},children:[a.jsx("span",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary",children:m.step}),a.jsx(Me.div,{className:"absolute -top-2 -right-2 sm:-top-3 sm:-right-3 w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-primary text-primary-foreground flex items-center justify-center shadow-lg",whileHover:{scale:1.2,rotate:10},children:m.icon})]}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-foreground mb-2 sm:mb-3 group-hover:text-primary transition-colors",children:m.title}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed px-2 md:px-0",children:m.description})]})},g))]})})]})]}),a.jsxs("section",{id:"why-us",className:"py-16 sm:py-20 md:py-24 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx(Me.div,{className:"absolute w-96 h-96 bg-primary/10 rounded-full blur-3xl top-1/4 -left-48",animate:{x:[0,50,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0}}),a.jsx(Me.div,{className:"absolute w-80 h-80 bg-emerald-500/10 rounded-full blur-3xl bottom-1/4 -right-40",animate:{x:[0,-50,0],opacity:[.3,.5,.3]},transition:{duration:12,repeat:1/0,delay:2}})]}),a.jsxs("div",{className:"container mx-auto relative",children:[a.jsxs(Ll,{className:"text-center mb-10 sm:mb-16",children:[a.jsx(Me.div,{whileHover:{scale:1.05},children:a.jsx(De,{className:"mb-4 bg-primary/10 text-primary border-primary/20 px-4 py-1",children:"The AI Advantage"})}),a.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-4",children:["Why Credit AI is ",a.jsx(GS,{children:"Different"})]}),a.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto px-2",children:"We built this from the ground up with AI at the corenot bolted on as an afterthought."})]}),a.jsx(HS,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 max-w-6xl mx-auto",staggerDelay:.1,children:d.map((m,g)=>a.jsx(WS,{children:a.jsx(VS,{className:"group transition-all duration-500",glowColor:"rgba(16, 185, 129, 0.25)",children:a.jsx(Me.div,{whileHover:{y:-8},children:a.jsxs(Ne,{className:"p-6 sm:p-8 text-center relative overflow-hidden",children:[a.jsx(Me.div,{className:"absolute top-3 right-3 sm:top-4 sm:right-4 px-2 sm:px-3 py-1 rounded-full bg-primary/10 border border-primary/20",whileHover:{scale:1.1},children:a.jsx("span",{className:"text-xs sm:text-sm font-bold text-primary",children:m.stat})}),a.jsxs(Me.div,{className:"relative inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br from-primary/20 to-emerald-500/20 mb-4 sm:mb-6",whileHover:{scale:1.1,rotate:5},children:[a.jsx(Me.div,{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-primary to-emerald-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"relative text-primary group-hover:text-white transition-colors duration-300",children:m.icon})]}),a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-foreground mb-2 sm:mb-3 group-hover:text-primary transition-colors",children:m.title}),a.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm leading-relaxed",children:m.description}),a.jsx("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-border/50",children:a.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground uppercase tracking-wider",children:m.statLabel})})]})})})},g))}),a.jsx(Ll,{className:"text-center mt-10 sm:mt-16",children:a.jsxs(Me.div,{className:"inline-flex items-center gap-2 px-4 sm:px-6 py-2 sm:py-3 rounded-full bg-secondary/50 border border-border hover:border-primary/30 transition-all group cursor-pointer",whileHover:{scale:1.05},children:[a.jsx(Me.div,{animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},children:a.jsx(jn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),a.jsx("span",{className:"text-sm sm:text-base text-foreground font-medium",children:"Experience the future of credit repair"}),a.jsx(Me.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:a.jsx(wi,{className:"w-3 h-3 sm:w-4 sm:h-4 text-primary"})})]})})]})]}),a.jsxs("section",{id:"pricing",className:"py-16 sm:py-20 md:py-24 px-4 sm:px-6 lg:px-8 bg-secondary/30 relative overflow-hidden",children:[a.jsx(Me.div,{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-primary/5 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,-30,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),a.jsxs("div",{className:"container mx-auto relative",children:[a.jsxs(Ll,{className:"text-center mb-10 sm:mb-16",children:[a.jsx(De,{className:"mb-4 bg-primary/10 text-primary border-primary/20 px-4 py-1",children:"Pricing"}),a.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-4",children:["Plans for ",a.jsx(GS,{children:"Every Business"})]}),a.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto px-2",children:"Start with a 14-day free trial. No credit card required."})]}),a.jsx(HS,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 max-w-5xl mx-auto items-start",staggerDelay:.15,children:f.map((m,g)=>a.jsx(WS,{children:a.jsx(VS,{className:`relative transition-all duration-300 ${m.popular?"md:scale-105 z-10 border-primary":""}`,glowColor:m.popular?"rgba(16, 185, 129, 0.3)":"rgba(16, 185, 129, 0.15)",children:a.jsxs(Me.div,{whileHover:{y:m.popular?0:-8},children:[m.popular&&a.jsx(Me.div,{className:"absolute -top-3 sm:-top-4 left-1/2 transform -translate-x-1/2",animate:{y:[0,-3,0]},transition:{duration:2,repeat:1/0},children:a.jsxs(De,{className:"bg-primary text-primary-foreground px-3 sm:px-4 py-1 shadow-lg text-xs sm:text-sm flex items-center gap-1",children:[a.jsx(cJ,{className:"w-3 h-3"}),"Most Popular"]})}),a.jsxs(Ne,{className:"p-5 sm:p-6 md:p-8",children:[a.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-foreground mb-2",children:m.name}),a.jsx("div",{className:"flex items-baseline justify-center gap-1 mb-2",children:a.jsx("span",{className:"text-3xl sm:text-4xl font-bold text-muted-foreground tracking-widest",children:"****"})}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:m.description})]}),a.jsx("ul",{className:"space-y-3 sm:space-y-4 mb-6 sm:mb-8",children:m.features.map((y,v)=>a.jsxs(Me.li,{className:"flex items-start gap-2 sm:gap-3 text-sm sm:text-base text-foreground group/item",initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},transition:{delay:v*.05},children:[a.jsx(Me.div,{whileHover:{scale:1.2},children:a.jsx(zn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary flex-shrink-0 mt-0.5"})}),a.jsx("span",{children:y})]},v))}),a.jsxs(qS,{onClick:()=>t("/auth"),className:`w-full py-4 sm:py-5 rounded-xl font-medium flex items-center justify-center gap-2 ${m.popular?"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg shadow-primary/25":"bg-secondary hover:bg-secondary/80 text-foreground"}`,children:["Get Started",a.jsx(wi,{className:"w-4 h-4"})]})]})]})})},g))}),a.jsx(Ll,{className:"text-center mt-8 sm:mt-12",children:a.jsxs(Me.p,{className:"text-base sm:text-lg text-muted-foreground",whileHover:{scale:1.02},children:["Launched: ",a.jsx("span",{className:"text-primary font-semibold",children:"12/28/25"})]})})]})]}),a.jsxs("section",{className:"py-16 sm:py-20 md:py-24 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary via-emerald-600 to-primary"}),a.jsx(Me.div,{className:"absolute inset-0",style:{background:"radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%)"},animate:{background:["radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%)","radial-gradient(circle at 80% 50%, rgba(255,255,255,0.1) 0%, transparent 50%)","radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%)"]},transition:{duration:10,repeat:1/0}}),a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:2rem_2rem] sm:bg-[size:4rem_4rem]"}),a.jsx(Me.div,{className:"hidden sm:block absolute top-10 left-10 w-20 h-20 border border-white/20 rounded-xl",animate:{rotate:[0,360],y:[0,20,0]},transition:{rotate:{duration:20,repeat:1/0},y:{duration:5,repeat:1/0}}}),a.jsx(Me.div,{className:"hidden sm:block absolute bottom-10 right-10 w-32 h-32 border border-white/10 rounded-full",animate:{scale:[1,1.1,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0}}),a.jsxs("div",{className:"container mx-auto text-center relative",children:[a.jsx(Ll,{children:a.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-white mb-4 sm:mb-6 px-2",children:"Ready to Transform Your Business?"})}),a.jsx(Ll,{delay:.1,children:a.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/80 mb-8 sm:mb-10 max-w-2xl mx-auto px-2",children:"Be among the first to experience the future of credit repair. Start your free trial today and see the AI difference."})}),a.jsx(Ll,{delay:.2,children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4",children:[a.jsxs(qS,{onClick:()=>t("/auth"),className:"bg-white text-primary hover:bg-white/90 px-6 sm:px-8 py-4 sm:py-5 text-base sm:text-lg shadow-xl font-medium rounded-xl flex items-center gap-2 w-full sm:w-auto justify-center",children:["Start Free Trial",a.jsx(Me.span,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:a.jsx(wi,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),a.jsx(Me.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full sm:w-auto",children:a.jsx(ge,{size:"lg",variant:"outline",className:"border-2 border-white/50 bg-white/10 text-white hover:bg-white/20 hover:border-white/70 px-6 sm:px-8 py-5 sm:py-6 text-base sm:text-lg w-full sm:w-auto backdrop-blur-sm",onClick:()=>t("/auth"),children:"Schedule Demo"})})]})})]})]}),a.jsx("footer",{className:"py-10 sm:py-12 md:py-16 px-4 sm:px-6 lg:px-8 bg-card border-t border-border",children:a.jsxs("div",{className:"container mx-auto",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-5 gap-6 sm:gap-8 mb-8 sm:mb-12",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx(Me.div,{className:"flex items-center gap-2 mb-4",whileHover:{scale:1.02},children:a.jsx("img",{src:"/images/credit-ai-logo.png",alt:"Credit AI Platform",className:"h-8 sm:h-10 w-auto"})}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-4 max-w-xs",children:"The first AI-driven credit repair operating system. Transform your business with intelligent automation."}),a.jsx("div",{className:"flex gap-3 sm:gap-4",children:[a.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})}),a.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})].map((m,g)=>a.jsx(Me.a,{href:g===0?"https://twitter.com":"https://www.linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 sm:w-10 sm:h-10 rounded-lg bg-secondary flex items-center justify-center text-muted-foreground hover:text-foreground hover:bg-primary hover:text-primary-foreground transition-all",whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},children:m},g))})]}),[{title:"Product",links:["Features","Pricing","Integrations","API"]},{title:"Company",links:["About","Blog","Careers","Contact"]},{title:"Legal",links:["Privacy","Terms","Security","FCRA Compliance"]}].map((m,g)=>a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground mb-3 sm:mb-4 text-sm sm:text-base",children:m.title}),a.jsx("ul",{className:"space-y-2 sm:space-y-3 text-xs sm:text-sm text-muted-foreground",children:m.links.map((y,v)=>a.jsx(Me.li,{whileHover:{x:3},children:a.jsx("a",{href:p[y]||"#top",className:"hover:text-primary transition-colors",children:y})},v))})]},g))]}),a.jsx(Me.div,{className:"pt-8 sm:pt-10 border-t border-border mb-8",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),a.jsx("p",{className:"text-sm text-primary font-semibold uppercase tracking-widest",children:"AI Technology Stack"}),a.jsx("div",{className:"w-12 h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl",children:[{name:"Qwen",label:"Language Model",Logo:uW,desc:"Natural language processing"},{name:"DistilBERT",label:"Classifier",Logo:dW,desc:"Dispute eligibility"},{name:"MiniLM",label:"Embeddings",Logo:fW,desc:"Semantic search"},{name:"Claude",label:"AI Models",Logo:hW,desc:"Advanced reasoning"}].map((m,g)=>a.jsx(Oke,{name:m.name,label:m.label,Logo:m.Logo,description:m.desc,index:g},m.name))})]})}),a.jsxs(Me.div,{className:"pt-6 sm:pt-8 border-t border-border flex flex-col sm:flex-row items-center justify-between gap-4",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground text-center sm:text-left",children:" 2025 Credit AI. All rights reserved."}),a.jsxs("div",{className:"flex items-center gap-4 sm:gap-6 text-xs sm:text-sm text-muted-foreground",children:[a.jsx("a",{href:"#top",className:"hover:text-primary transition-colors",children:"Privacy Policy"}),a.jsx("a",{href:"#top",className:"hover:text-primary transition-colors",children:"Terms of Service"})]})]})]})})]})},kke=[{icon:G3,label:"Dashboard",path:"/dashboard"},{icon:br,label:"Clients",path:"/clients"},{icon:Ag,label:"VA Tasks",path:"/tasks"},{icon:$t,label:"Disputes",path:"/disputes"},{icon:tr,label:"AI Engine",path:"/ai-engine"},{icon:eJ,label:"Letter Generator",path:"/dispute-letters"},{icon:U3,label:"Score Simulator",path:"/simulator"},{icon:Jl,label:"SmartCredit",path:"/smartcredit"},{icon:bs,label:"Messages",path:"/messages"},{icon:hl,label:"Analytics",path:"/analytics"},{icon:fa,label:"Billing",path:"/billing"},{icon:eu,label:"Business",path:"/agency"},{icon:xr,label:"Compliance",path:"/compliance"},{icon:G0,label:"White Label",path:"/white-label"},{icon:Tw,label:"Settings",path:"/settings"}];function Hre(){const{collapsed:t,toggleCollapsed:e}=Iw(),n=vc(),{brand:r}=Ow();return a.jsxs("aside",{className:je("fixed left-0 top-0 z-40 h-screen bg-sidebar border-r border-sidebar-border transition-all duration-300 ease-in-out",t?"w-[70px]":"w-[260px]"),children:[a.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b border-sidebar-border",children:[!t&&a.jsx("div",{className:"flex items-center gap-2",children:r.logo_url?a.jsx("img",{src:r.logo_url,alt:r.company_name,className:"h-8 w-auto"}):a.jsx("img",{src:"/images/credit-ai-logo.png",alt:"Credit AI",className:"h-8 w-auto"})}),t&&(r.logo_url?a.jsx("img",{src:r.logo_url,alt:r.company_name,className:"h-8 w-auto mx-auto"}):a.jsx("img",{src:"/images/credit-ai-logo.png",alt:"Credit AI",className:"h-8 w-auto mx-auto"})),a.jsx("button",{onClick:e,className:je("p-1.5 rounded-lg hover:bg-sidebar-accent transition-colors",t&&"absolute -right-3 top-5 bg-sidebar border border-sidebar-border shadow-md"),children:t?a.jsx(sl,{className:"w-4 h-4 text-sidebar-foreground"}):a.jsx(RA,{className:"w-4 h-4 text-sidebar-foreground"})})]}),a.jsx("nav",{className:"p-3 space-y-1 overflow-y-auto h-[calc(100vh-64px)]",children:kke.map(i=>{const s=n.pathname===i.path||i.path==="/dashboard"&&n.pathname==="/";return a.jsxs(pr,{to:i.path,title:t?i.label:void 0,className:je("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200","hover:bg-sidebar-accent group relative",s?"bg-sidebar-primary text-sidebar-primary-foreground shadow-md":"text-sidebar-foreground hover:text-sidebar-accent-foreground"),children:[a.jsx(i.icon,{className:je("w-5 h-5 flex-shrink-0 transition-transform duration-200",s?"text-sidebar-primary-foreground":"text-sidebar-foreground group-hover:text-sidebar-primary group-hover:scale-110")}),!t&&a.jsx("span",{className:"text-sm font-medium truncate",children:i.label}),t&&a.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-popover text-popover-foreground text-sm rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-50",children:i.label})]},i.path)})})]})}const Ct=N.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ct.displayName="Input";var Dke=N.createContext(void 0);function hy(t){const e=N.useContext(Dke);return t||e||"ltr"}var tR=0;function PT(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??pW()),document.body.insertAdjacentElement("beforeend",t[1]??pW()),tR++,()=>{tR===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tR--}},[])}function pW(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var nR="focusScope.autoFocusOnMount",rR="focusScope.autoFocusOnUnmount",mW={bubbles:!1,cancelable:!0},Lke="FocusScope",Zw=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=N.useState(null),u=Ur(i),d=Ur(s),f=N.useRef(null),h=Xt(e,g=>c(g)),p=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let g=function(b){if(p.paused||!l)return;const S=b.target;l.contains(S)?f.current=S:Zu(f.current,{select:!0})},y=function(b){if(p.paused||!l)return;const S=b.relatedTarget;S!==null&&(l.contains(S)||Zu(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&Zu(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const w=new MutationObserver(v);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),w.disconnect()}}},[r,l,p.paused]),N.useEffect(()=>{if(l){vW.add(p);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(nR,mW);l.addEventListener(nR,u),l.dispatchEvent(v),v.defaultPrevented||(Fke(Vke(Wre(l)),{select:!0}),document.activeElement===g&&Zu(l))}return()=>{l.removeEventListener(nR,u),setTimeout(()=>{const v=new CustomEvent(rR,mW);l.addEventListener(rR,d),l.dispatchEvent(v),v.defaultPrevented||Zu(g??document.body,{select:!0}),l.removeEventListener(rR,d),vW.remove(p)},0)}}},[l,u,d,p]);const m=N.useCallback(g=>{if(!n&&!r||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(y&&v){const w=g.currentTarget,[b,S]=Uke(w);b&&S?!g.shiftKey&&v===S?(g.preventDefault(),n&&Zu(b,{select:!0})):g.shiftKey&&v===b&&(g.preventDefault(),n&&Zu(S,{select:!0})):v===w&&g.preventDefault()}},[n,r,p.paused]);return a.jsx(pt.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});Zw.displayName=Lke;function Fke(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Zu(r,{select:e}),document.activeElement!==n)return}function Uke(t){const e=Wre(t),n=gW(e,t),r=gW(e.reverse(),t);return[n,r]}function Wre(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gW(t,e){for(const n of t)if(!Bke(n,{upTo:e}))return n}function Bke(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zke(t){return t instanceof HTMLInputElement&&"select"in t}function Zu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&zke(t)&&e&&t.select()}}var vW=$ke();function $ke(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=yW(t,e),t.unshift(e)},remove(e){var n;t=yW(t,e),(n=t[0])==null||n.resume()}}}function yW(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Vke(t){return t.filter(e=>e.tagName!=="A")}var iR="rovingFocusGroup.onEntryFocus",Hke={bubbles:!1,cancelable:!0},e_="RovingFocusGroup",[qk,Gre,Wke]=jw(e_),[Gke,RT]=zi(e_,[Wke]),[qke,Xke]=Gke(e_),qre=N.forwardRef((t,e)=>a.jsx(qk.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(qk.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Yke,{...t,ref:e})})}));qre.displayName=e_;var Yke=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=N.useRef(null),p=Xt(e,h),m=hy(s),[g,y]=Va({prop:o,defaultProp:l??null,onChange:c,caller:e_}),[v,w]=N.useState(!1),b=Ur(u),S=Gre(n),j=N.useRef(!1),[E,T]=N.useState(0);return N.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(iR,b),()=>P.removeEventListener(iR,b)},[b]),a.jsx(qke,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:N.useCallback(P=>y(P),[y]),onItemShiftTab:N.useCallback(()=>w(!0),[]),onFocusableItemAdd:N.useCallback(()=>T(P=>P+1),[]),onFocusableItemRemove:N.useCallback(()=>T(P=>P-1),[]),children:a.jsx(pt.div,{tabIndex:v||E===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:Ge(t.onMouseDown,()=>{j.current=!0}),onFocus:Ge(t.onFocus,P=>{const C=!j.current;if(P.target===P.currentTarget&&C&&!v){const R=new CustomEvent(iR,Hke);if(P.currentTarget.dispatchEvent(R),!R.defaultPrevented){const I=S().filter(z=>z.focusable),D=I.find(z=>z.active),V=I.find(z=>z.id===g),$=[D,V,...I].filter(Boolean).map(z=>z.ref.current);Kre($,d)}}j.current=!1}),onBlur:Ge(t.onBlur,()=>w(!1))})})}),Xre="RovingFocusGroupItem",Yre=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=La(),u=s||c,d=Xke(Xre,n),f=d.currentTabStopId===u,h=Gre(n),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:g}=d;return N.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),a.jsx(qk.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:a.jsx(pt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Ge(t.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:Ge(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ge(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=Qke(y,d.orientation,d.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=h().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const S=b.indexOf(y.currentTarget);b=d.loop?Zke(b,S+1):b.slice(S+1)}setTimeout(()=>Kre(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});Yre.displayName=Xre;var Kke={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Jke(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Qke(t,e,n){const r=Jke(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Kke[r]}function Kre(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Zke(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Jre=qre,Qre=Yre,eDe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Im=new WeakMap,XS=new WeakMap,YS={},sR=0,Zre=function(t){return t&&(t.host||Zre(t.parentNode))},tDe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Zre(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},nDe=function(t,e,n,r){var i=tDe(e,Array.isArray(t)?t:[t]);YS[n]||(YS[n]=new WeakMap);var s=YS[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",g=(Im.get(h)||0)+1,y=(s.get(h)||0)+1;Im.set(h,g),s.set(h,y),o.push(h),g===1&&m&&XS.set(h,!0),y===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(e),l.clear(),sR++,function(){o.forEach(function(f){var h=Im.get(f)-1,p=s.get(f)-1;Im.set(f,h),s.set(f,p),h||(XS.has(f)||f.removeAttribute(r),XS.delete(f)),p||f.removeAttribute(n)}),sR--,sR||(Im=new WeakMap,Im=new WeakMap,XS=new WeakMap,YS={})}},OT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=eDe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),nDe(r,i,n,"aria-hidden")):function(){return null}},qN="right-scroll-bar-position",XN="width-before-scroll-bar",rDe="with-scroll-bars-hidden",iDe="--removed-body-scroll-bar-size";function aR(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function sDe(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var aDe=typeof window<"u"?N.useLayoutEffect:N.useEffect,xW=new WeakMap;function oDe(t,e){var n=sDe(null,function(r){return t.forEach(function(i){return aR(i,r)})});return aDe(function(){var r=xW.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(l){s.has(l)||aR(l,null)}),s.forEach(function(l){i.has(l)||aR(l,o)})}xW.set(n,t)},[t]),n}function lDe(t){return t}function cDe(t,e){e===void 0&&(e=lDe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function uDe(t){t===void 0&&(t={});var e=cDe(null);return e.options=vo({async:!0,ssr:!1},t),e}var eie=function(t){var e=t.sideCar,n=of(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,vo({},n))};eie.isSideCarExport=!0;function dDe(t,e){return t.useMedium(e),eie}var tie=uDe(),oR=function(){},IT=N.forwardRef(function(t,e){var n=N.useRef(null),r=N.useState({onScrollCapture:oR,onWheelCapture:oR,onTouchMoveCapture:oR}),i=r[0],s=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noRelative,m=t.noIsolation,g=t.inert,y=t.allowPinchZoom,v=t.as,w=v===void 0?"div":v,b=t.gapMode,S=of(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,E=oDe([n,e]),T=vo(vo({},S),i);return N.createElement(N.Fragment,null,d&&N.createElement(j,{sideCar:tie,removeScrollBar:u,shards:f,noRelative:p,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?N.cloneElement(N.Children.only(l),vo(vo({},T),{ref:E})):N.createElement(w,vo({},T,{className:c,ref:E}),l))});IT.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};IT.classNames={fullWidth:XN,zeroRight:qN};var fDe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hDe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=fDe();return e&&t.setAttribute("nonce",e),t}function pDe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function mDe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var gDe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=hDe())&&(pDe(e,n),mDe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},vDe=function(){var t=gDe();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},nie=function(){var t=vDe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},yDe={left:0,top:0,right:0,gap:0},lR=function(t){return parseInt(t||"",10)||0},xDe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[lR(n),lR(r),lR(i)]},bDe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return yDe;var e=xDe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},wDe=nie(),Ig="data-scroll-locked",_De=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(rDe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ig,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qN,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(XN,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(qN," .").concat(qN,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(XN," .").concat(XN,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ig,`] {
    `).concat(iDe,": ").concat(l,`px;
  }
`)},bW=function(){var t=parseInt(document.body.getAttribute(Ig)||"0",10);return isFinite(t)?t:0},SDe=function(){N.useEffect(function(){return document.body.setAttribute(Ig,(bW()+1).toString()),function(){var t=bW()-1;t<=0?document.body.removeAttribute(Ig):document.body.setAttribute(Ig,t.toString())}},[])},NDe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;SDe();var s=N.useMemo(function(){return bDe(i)},[i]);return N.createElement(wDe,{styles:_De(s,!e,i,n?"":"!important")})},Xk=!1;if(typeof window<"u")try{var KS=Object.defineProperty({},"passive",{get:function(){return Xk=!0,!0}});window.addEventListener("test",KS,KS),window.removeEventListener("test",KS,KS)}catch{Xk=!1}var km=Xk?{passive:!1}:!1,jDe=function(t){return t.tagName==="TEXTAREA"},rie=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!jDe(t)&&n[e]==="visible")},EDe=function(t){return rie(t,"overflowY")},ADe=function(t){return rie(t,"overflowX")},wW=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=iie(t,r);if(i){var s=sie(t,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},TDe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},CDe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},iie=function(t,e){return t==="v"?EDe(e):ADe(e)},sie=function(t,e){return t==="v"?TDe(e):CDe(e)},MDe=function(t,e){return t==="h"&&e==="rtl"?-1:1},PDe=function(t,e,n,r,i){var s=MDe(t,window.getComputedStyle(e).direction),o=s*r,l=n.target,c=e.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=sie(t,l),m=p[0],g=p[1],y=p[2],v=g-y-s*m;(m||v)&&iie(t,l)&&(f+=v,h+=m);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},JS=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_W=function(t){return[t.deltaX,t.deltaY]},SW=function(t){return t&&"current"in t?t.current:t},RDe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ODe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},IDe=0,Dm=[];function kDe(t){var e=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),i=N.useState(IDe++)[0],s=N.useState(nie)[0],o=N.useRef(t);N.useEffect(function(){o.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=g4([t.lockRef.current],(t.shards||[]).map(SW),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=N.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=JS(g),w=n.current,b="deltaX"in g?g.deltaX:w[0]-v[0],S="deltaY"in g?g.deltaY:w[1]-v[1],j,E=g.target,T=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in g&&T==="h"&&E.type==="range")return!1;var P=wW(T,E);if(!P)return!0;if(P?j=T:(j=T==="v"?"h":"v",P=wW(T,E)),!P)return!1;if(!r.current&&"changedTouches"in g&&(b||S)&&(r.current=j),!j)return!0;var C=r.current||j;return PDe(C,y,g,C==="h"?b:S)},[]),c=N.useCallback(function(g){var y=g;if(!(!Dm.length||Dm[Dm.length-1]!==s)){var v="deltaY"in y?_W(y):JS(y),w=e.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&RDe(j.delta,v)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(SW).filter(Boolean).filter(function(j){return j.contains(y.target)}),S=b.length>0?l(y,b[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),u=N.useCallback(function(g,y,v,w){var b={name:g,delta:y,target:v,should:w,shadowParent:DDe(v)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(S){return S!==b})},1)},[]),d=N.useCallback(function(g){n.current=JS(g),r.current=void 0},[]),f=N.useCallback(function(g){u(g.type,_W(g),g.target,l(g,t.lockRef.current))},[]),h=N.useCallback(function(g){u(g.type,JS(g),g.target,l(g,t.lockRef.current))},[]);N.useEffect(function(){return Dm.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,km),document.addEventListener("touchmove",c,km),document.addEventListener("touchstart",d,km),function(){Dm=Dm.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,km),document.removeEventListener("touchmove",c,km),document.removeEventListener("touchstart",d,km)}},[]);var p=t.removeScrollBar,m=t.inert;return N.createElement(N.Fragment,null,m?N.createElement(s,{styles:ODe(i)}):null,p?N.createElement(NDe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function DDe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const LDe=dDe(tie,kDe);var t_=N.forwardRef(function(t,e){return N.createElement(IT,vo({},t,{ref:e,sideCar:LDe}))});t_.classNames=IT.classNames;var Yk=["Enter"," "],FDe=["ArrowDown","PageUp","Home"],aie=["ArrowUp","PageDown","End"],UDe=[...FDe,...aie],BDe={ltr:[...Yk,"ArrowRight"],rtl:[...Yk,"ArrowLeft"]},zDe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},n_="Menu",[Pb,$De,VDe]=jw(n_),[kp,oie]=zi(n_,[VDe,sf,RT]),kT=sf(),lie=RT(),[HDe,Dp]=kp(n_),[WDe,r_]=kp(n_),cie=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,l=kT(e),[c,u]=N.useState(null),d=N.useRef(!1),f=Ur(s),h=hy(i);return N.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),a.jsx(BA,{...l,children:a.jsx(HDe,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(WDe,{scope:e,onClose:N.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};cie.displayName=n_;var GDe="MenuAnchor",J5=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=kT(n);return a.jsx(Mw,{...i,...r,ref:e})});J5.displayName=GDe;var Q5="MenuPortal",[qDe,uie]=kp(Q5,{forceMount:void 0}),die=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Dp(Q5,e);return a.jsx(qDe,{scope:e,forceMount:n,children:a.jsx(Ai,{present:n||s.open,children:a.jsx(Kv,{asChild:!0,container:i,children:r})})})};die.displayName=Q5;var So="MenuContent",[XDe,Z5]=kp(So),fie=N.forwardRef((t,e)=>{const n=uie(So,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Dp(So,t.__scopeMenu),o=r_(So,t.__scopeMenu);return a.jsx(Pb.Provider,{scope:t.__scopeMenu,children:a.jsx(Ai,{present:r||s.open,children:a.jsx(Pb.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(YDe,{...i,ref:e}):a.jsx(KDe,{...i,ref:e})})})})}),YDe=N.forwardRef((t,e)=>{const n=Dp(So,t.__scopeMenu),r=N.useRef(null),i=Xt(e,r);return N.useEffect(()=>{const s=r.current;if(s)return OT(s)},[]),a.jsx(eF,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ge(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),KDe=N.forwardRef((t,e)=>{const n=Dp(So,t.__scopeMenu);return a.jsx(eF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),JDe=zd("MenuContent.ScrollLock"),eF=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...g}=t,y=Dp(So,n),v=r_(So,n),w=kT(n),b=lie(n),S=$De(n),[j,E]=N.useState(null),T=N.useRef(null),P=Xt(e,T,y.onContentChange),C=N.useRef(0),R=N.useRef(""),I=N.useRef(0),D=N.useRef(null),V=N.useRef("right"),U=N.useRef(0),$=m?t_:N.Fragment,z=m?{as:JDe,allowPinchZoom:!0}:void 0,W=L=>{var ae,be;const H=R.current+L,G=S().filter(ce=>!ce.disabled),X=document.activeElement,Z=(ae=G.find(ce=>ce.ref.current===X))==null?void 0:ae.textValue,B=G.map(ce=>ce.textValue),te=cLe(B,H,Z),ie=(be=G.find(ce=>ce.textValue===te))==null?void 0:be.ref.current;(function ce(Se){R.current=Se,window.clearTimeout(C.current),Se!==""&&(C.current=window.setTimeout(()=>ce(""),1e3))})(H),ie&&setTimeout(()=>ie.focus())};N.useEffect(()=>()=>window.clearTimeout(C.current),[]),PT();const k=N.useCallback(L=>{var G,X;return V.current===((G=D.current)==null?void 0:G.side)&&dLe(L,(X=D.current)==null?void 0:X.area)},[]);return a.jsx(XDe,{scope:n,searchRef:R,onItemEnter:N.useCallback(L=>{k(L)&&L.preventDefault()},[k]),onItemLeave:N.useCallback(L=>{var H;k(L)||((H=T.current)==null||H.focus(),E(null))},[k]),onTriggerLeave:N.useCallback(L=>{k(L)&&L.preventDefault()},[k]),pointerGraceTimerRef:I,onPointerGraceIntentChange:N.useCallback(L=>{D.current=L},[]),children:a.jsx($,{...z,children:a.jsx(Zw,{asChild:!0,trapped:i,onMountAutoFocus:Ge(s,L=>{var H;L.preventDefault(),(H=T.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Ap,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:a.jsx(Jre,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:E,onEntryFocus:Ge(c,L=>{v.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(zA,{role:"menu","aria-orientation":"vertical","data-state":Tie(y.open),"data-radix-menu-content":"",dir:v.dir,...w,...g,ref:P,style:{outline:"none",...g.style},onKeyDown:Ge(g.onKeyDown,L=>{const G=L.target.closest("[data-radix-menu-content]")===L.currentTarget,X=L.ctrlKey||L.altKey||L.metaKey,Z=L.key.length===1;G&&(L.key==="Tab"&&L.preventDefault(),!X&&Z&&W(L.key));const B=T.current;if(L.target!==B||!UDe.includes(L.key))return;L.preventDefault();const ie=S().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);aie.includes(L.key)&&ie.reverse(),oLe(ie)}),onBlur:Ge(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(C.current),R.current="")}),onPointerMove:Ge(t.onPointerMove,Rb(L=>{const H=L.target,G=U.current!==L.clientX;if(L.currentTarget.contains(H)&&G){const X=L.clientX>U.current?"right":"left";V.current=X,U.current=L.clientX}}))})})})})})})});fie.displayName=So;var QDe="MenuGroup",tF=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(pt.div,{role:"group",...r,ref:e})});tF.displayName=QDe;var ZDe="MenuLabel",hie=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(pt.div,{...r,ref:e})});hie.displayName=ZDe;var Kj="MenuItem",NW="menu.itemSelect",DT=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=N.useRef(null),o=r_(Kj,t.__scopeMenu),l=Z5(Kj,t.__scopeMenu),c=Xt(e,s),u=N.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(NW,{bubbles:!0,cancelable:!0});f.addEventListener(NW,p=>r==null?void 0:r(p),{once:!0}),k3(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(pie,{...i,ref:c,disabled:n,onClick:Ge(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:Ge(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ge(t.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||Yk.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});DT.displayName=Kj;var pie=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=Z5(Kj,n),l=lie(n),c=N.useRef(null),u=Xt(e,c),[d,f]=N.useState(!1),[h,p]=N.useState("");return N.useEffect(()=>{const m=c.current;m&&p((m.textContent??"").trim())},[s.children]),a.jsx(Pb.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:a.jsx(Qre,{asChild:!0,...l,focusable:!r,children:a.jsx(pt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:Ge(t.onPointerMove,Rb(m=>{r?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ge(t.onPointerLeave,Rb(m=>o.onItemLeave(m))),onFocus:Ge(t.onFocus,()=>f(!0)),onBlur:Ge(t.onBlur,()=>f(!1))})})})}),eLe="MenuCheckboxItem",mie=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return a.jsx(bie,{scope:t.__scopeMenu,checked:n,children:a.jsx(DT,{role:"menuitemcheckbox","aria-checked":Jj(n)?"mixed":n,...i,ref:e,"data-state":rF(n),onSelect:Ge(i.onSelect,()=>r==null?void 0:r(Jj(n)?!0:!n),{checkForDefaultPrevented:!1})})})});mie.displayName=eLe;var gie="MenuRadioGroup",[tLe,nLe]=kp(gie,{value:void 0,onValueChange:()=>{}}),vie=N.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Ur(r);return a.jsx(tLe,{scope:t.__scopeMenu,value:n,onValueChange:s,children:a.jsx(tF,{...i,ref:e})})});vie.displayName=gie;var yie="MenuRadioItem",xie=N.forwardRef((t,e)=>{const{value:n,...r}=t,i=nLe(yie,t.__scopeMenu),s=n===i.value;return a.jsx(bie,{scope:t.__scopeMenu,checked:s,children:a.jsx(DT,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":rF(s),onSelect:Ge(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});xie.displayName=yie;var nF="MenuItemIndicator",[bie,rLe]=kp(nF,{checked:!1}),wie=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=rLe(nF,n);return a.jsx(Ai,{present:r||Jj(s.checked)||s.checked===!0,children:a.jsx(pt.span,{...i,ref:e,"data-state":rF(s.checked)})})});wie.displayName=nF;var iLe="MenuSeparator",_ie=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(pt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});_ie.displayName=iLe;var sLe="MenuArrow",Sie=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=kT(n);return a.jsx($A,{...i,...r,ref:e})});Sie.displayName=sLe;var aLe="MenuSub",[Qdt,Nie]=kp(aLe),qx="MenuSubTrigger",jie=N.forwardRef((t,e)=>{const n=Dp(qx,t.__scopeMenu),r=r_(qx,t.__scopeMenu),i=Nie(qx,t.__scopeMenu),s=Z5(qx,t.__scopeMenu),o=N.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:t.__scopeMenu},d=N.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return N.useEffect(()=>d,[d]),N.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(J5,{asChild:!0,...u,children:a.jsx(pie,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Tie(n.open),...t,ref:CA(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ge(t.onPointerMove,Rb(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Ge(t.onPointerLeave,Rb(f=>{var p,m;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(m=n.content)==null?void 0:m.dataset.side,y=g==="right",v=y?-5:5,w=h[y?"left":"right"],b=h[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:w,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:w,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ge(t.onKeyDown,f=>{var p;const h=s.searchRef.current!=="";t.disabled||h&&f.key===" "||BDe[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});jie.displayName=qx;var Eie="MenuSubContent",Aie=N.forwardRef((t,e)=>{const n=uie(So,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Dp(So,t.__scopeMenu),o=r_(So,t.__scopeMenu),l=Nie(Eie,t.__scopeMenu),c=N.useRef(null),u=Xt(e,c);return a.jsx(Pb.Provider,{scope:t.__scopeMenu,children:a.jsx(Ai,{present:r||s.open,children:a.jsx(Pb.Slot,{scope:t.__scopeMenu,children:a.jsx(eF,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ge(t.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ge(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ge(t.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=zDe[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});Aie.displayName=Eie;function Tie(t){return t?"open":"closed"}function Jj(t){return t==="indeterminate"}function rF(t){return Jj(t)?"indeterminate":t?"checked":"unchecked"}function oLe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function lLe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function cLe(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=lLe(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function uLe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function dLe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return uLe(n,e)}function Rb(t){return e=>e.pointerType==="mouse"?t(e):void 0}var fLe=cie,hLe=J5,pLe=die,mLe=fie,gLe=tF,vLe=hie,yLe=DT,xLe=mie,bLe=vie,wLe=xie,_Le=wie,SLe=_ie,NLe=Sie,jLe=jie,ELe=Aie,LT="DropdownMenu",[ALe]=zi(LT,[oie]),Xs=oie(),[TLe,Cie]=ALe(LT),Mie=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=Xs(e),u=N.useRef(null),[d,f]=Va({prop:i,defaultProp:s??!1,onChange:o,caller:LT});return a.jsx(TLe,{scope:e,triggerId:La(),triggerRef:u,contentId:La(),open:d,onOpenChange:f,onOpenToggle:N.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(fLe,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};Mie.displayName=LT;var Pie="DropdownMenuTrigger",Rie=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=Cie(Pie,n),o=Xs(n);return a.jsx(hLe,{asChild:!0,...o,children:a.jsx(pt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:CA(e,s.triggerRef),onPointerDown:Ge(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ge(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Rie.displayName=Pie;var CLe="DropdownMenuPortal",Oie=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Xs(e);return a.jsx(pLe,{...r,...n})};Oie.displayName=CLe;var Iie="DropdownMenuContent",kie=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Cie(Iie,n),s=Xs(n),o=N.useRef(!1);return a.jsx(mLe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Ge(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ge(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kie.displayName=Iie;var MLe="DropdownMenuGroup",PLe=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xs(n);return a.jsx(gLe,{...i,...r,ref:e})});PLe.displayName=MLe;var RLe="DropdownMenuLabel",Die=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xs(n);return a.jsx(vLe,{...i,...r,ref:e})});Die.displayName=RLe;var OLe="DropdownMenuItem",Lie=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xs(n);return a.jsx(yLe,{...i,...r,ref:e})});Lie.displayName=OLe;var ILe="DropdownMenuCheckboxItem",Fie=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xs(n);return a.jsx(xLe,{...i,...r,ref:e})});Fie.displayName=ILe;var kLe="DropdownMenuRadioGroup",DLe=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xs(n);return a.jsx(bLe,{...i,...r,ref:e})});DLe.displayName=kLe;var LLe="DropdownMenuRadioItem",Uie=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xs(n);return a.jsx(wLe,{...i,...r,ref:e})});Uie.displayName=LLe;var FLe="DropdownMenuItemIndicator",Bie=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xs(n);return a.jsx(_Le,{...i,...r,ref:e})});Bie.displayName=FLe;var ULe="DropdownMenuSeparator",zie=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xs(n);return a.jsx(SLe,{...i,...r,ref:e})});zie.displayName=ULe;var BLe="DropdownMenuArrow",zLe=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xs(n);return a.jsx(NLe,{...i,...r,ref:e})});zLe.displayName=BLe;var $Le="DropdownMenuSubTrigger",$ie=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xs(n);return a.jsx(jLe,{...i,...r,ref:e})});$ie.displayName=$Le;var VLe="DropdownMenuSubContent",Vie=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Xs(n);return a.jsx(ELe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vie.displayName=VLe;var HLe=Mie,WLe=Rie,GLe=Oie,Hie=kie,Wie=Die,Gie=Lie,qie=Fie,Xie=Uie,Yie=Bie,Kie=zie,Jie=$ie,Qie=Vie;const Kk=HLe,Jk=WLe,qLe=N.forwardRef(({className:t,inset:e,children:n,...r},i)=>a.jsxs(Jie,{ref:i,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,a.jsx(sl,{className:"ml-auto h-4 w-4"})]}));qLe.displayName=Jie.displayName;const XLe=N.forwardRef(({className:t,...e},n)=>a.jsx(Qie,{ref:n,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));XLe.displayName=Qie.displayName;const Qj=N.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(GLe,{children:a.jsx(Hie,{ref:r,sideOffset:e,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Qj.displayName=Hie.displayName;const Yc=N.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(Gie,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));Yc.displayName=Gie.displayName;const YLe=N.forwardRef(({className:t,children:e,checked:n,...r},i)=>a.jsxs(qie,{ref:i,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Yie,{children:a.jsx(pl,{className:"h-4 w-4"})})}),e]}));YLe.displayName=qie.displayName;const KLe=N.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(Xie,{ref:r,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Yie,{children:a.jsx(pge,{className:"h-2 w-2 fill-current"})})}),e]}));KLe.displayName=Xie.displayName;const Qk=N.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(Wie,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Qk.displayName=Wie.displayName;const YN=N.forwardRef(({className:t,...e},n)=>a.jsx(Kie,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));YN.displayName=Kie.displayName;function JLe(){return jke.useSyncExternalStore(QLe,()=>!0,()=>!1)}function QLe(){return()=>{}}var iF="Avatar",[ZLe]=zi(iF),[e3e,Zie]=ZLe(iF),ese=N.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=N.useState("idle");return a.jsx(e3e,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(pt.span,{...r,ref:e})})});ese.displayName=iF;var tse="AvatarImage",nse=N.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=Zie(tse,n),l=t3e(r,s),c=Ur(u=>{i(u),o.onImageLoadingStatusChange(u)});return $r(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(pt.img,{...s,ref:e,src:r}):null});nse.displayName=tse;var rse="AvatarFallback",ise=N.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=Zie(rse,n),[o,l]=N.useState(r===void 0);return N.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(pt.span,{...i,ref:e}):null});ise.displayName=rse;function jW(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function t3e(t,{referrerPolicy:e,crossOrigin:n}){const r=JLe(),i=N.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=N.useState(()=>jW(s,t));return $r(()=>{l(jW(s,t))},[s,t]),$r(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,e]),o}var sse=ese,ase=nse,ose=ise;const ws=N.forwardRef(({className:t,...e},n)=>a.jsx(sse,{ref:n,className:je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ws.displayName=sse.displayName;const n3e=N.forwardRef(({className:t,...e},n)=>a.jsx(ase,{ref:n,className:je("aspect-square h-full w-full",t),...e}));n3e.displayName=ase.displayName;const _s=N.forwardRef(({className:t,...e},n)=>a.jsx(ose,{ref:n,className:je("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));_s.displayName=ose.displayName;function Ob(t,[e,n]){return Math.min(n,Math.max(e,t))}function r3e(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var sF="ScrollArea",[lse]=zi(sF),[i3e,Po]=lse(sF),cse=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[l,c]=N.useState(null),[u,d]=N.useState(null),[f,h]=N.useState(null),[p,m]=N.useState(null),[g,y]=N.useState(null),[v,w]=N.useState(0),[b,S]=N.useState(0),[j,E]=N.useState(!1),[T,P]=N.useState(!1),C=Xt(e,I=>c(I)),R=hy(i);return a.jsx(i3e,{scope:n,type:r,dir:R,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:j,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:T,onScrollbarYEnabledChange:P,onCornerWidthChange:w,onCornerHeightChange:S,children:a.jsx(pt.div,{dir:R,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});cse.displayName=sF;var use="ScrollAreaViewport",dse=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=Po(use,n),l=N.useRef(null),c=Xt(e,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),a.jsx(pt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});dse.displayName=use;var xc="ScrollAreaScrollbar",aF=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Po(xc,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return N.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),i.type==="hover"?a.jsx(s3e,{...r,ref:e,forceMount:n}):i.type==="scroll"?a.jsx(a3e,{...r,ref:e,forceMount:n}):i.type==="auto"?a.jsx(fse,{...r,ref:e,forceMount:n}):i.type==="always"?a.jsx(oF,{...r,ref:e}):null});aF.displayName=xc;var s3e=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Po(xc,t.__scopeScrollArea),[s,o]=N.useState(!1);return N.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),a.jsx(Ai,{present:n||s,children:a.jsx(fse,{"data-state":s?"visible":"hidden",...r,ref:e})})}),a3e=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Po(xc,t.__scopeScrollArea),s=t.orientation==="horizontal",o=UT(()=>c("SCROLL_END"),100),[l,c]=r3e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),N.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,s,c,o]),a.jsx(Ai,{present:n||l!=="hidden",children:a.jsx(oF,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ge(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ge(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),fse=N.forwardRef((t,e)=>{const n=Po(xc,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=N.useState(!1),l=t.orientation==="horizontal",c=UT(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return vv(n.viewport,c),vv(n.content,c),a.jsx(Ai,{present:r||s,children:a.jsx(oF,{"data-state":s?"visible":"hidden",...i,ref:e})})}),oF=N.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Po(xc,t.__scopeScrollArea),s=N.useRef(null),o=N.useRef(0),[l,c]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=vse(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return f3e(h,o.current,l,p)}return n==="horizontal"?a.jsx(o3e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,p=EW(h,l,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?a.jsx(l3e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,p=EW(h,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),o3e=N.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Po(xc,t.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),u=Xt(e,c,s.onScrollbarXChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(pse,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":FT(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),xse(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:eE(o.paddingLeft),paddingEnd:eE(o.paddingRight)}})}})}),l3e=N.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Po(xc,t.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),u=Xt(e,c,s.onScrollbarYChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(pse,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":FT(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),xse(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:eE(o.paddingTop),paddingEnd:eE(o.paddingBottom)}})}})}),[c3e,hse]=lse(xc),pse=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,p=Po(xc,n),[m,g]=N.useState(null),y=Xt(e,C=>g(C)),v=N.useRef(null),w=N.useRef(""),b=p.viewport,S=r.content-r.viewport,j=Ur(d),E=Ur(c),T=UT(f,10);function P(C){if(v.current){const R=C.clientX-v.current.left,I=C.clientY-v.current.top;u({x:R,y:I})}}return N.useEffect(()=>{const C=R=>{const I=R.target;(m==null?void 0:m.contains(I))&&j(R,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[b,m,S,j]),N.useEffect(E,[r,E]),vv(m,T),vv(p.content,T),a.jsx(c3e,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:Ur(s),onThumbPointerUp:Ur(o),onThumbPositionChange:E,onThumbPointerDown:Ur(l),children:a.jsx(pt.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Ge(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),v.current=m.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),P(C))}),onPointerMove:Ge(t.onPointerMove,P),onPointerUp:Ge(t.onPointerUp,C=>{const R=C.target;R.hasPointerCapture(C.pointerId)&&R.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),Zj="ScrollAreaThumb",mse=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=hse(Zj,t.__scopeScrollArea);return a.jsx(Ai,{present:n||i.hasThumb,children:a.jsx(u3e,{ref:e,...r})})}),u3e=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Po(Zj,n),o=hse(Zj,n),{onThumbPositionChange:l}=o,c=Xt(e,f=>o.onThumbChange(f)),u=N.useRef(void 0),d=UT(()=>{u.current&&(u.current(),u.current=void 0)},100);return N.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const p=h3e(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),a.jsx(pt.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ge(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),m=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:m,y:g})}),onPointerUp:Ge(t.onPointerUp,o.onThumbPointerUp)})});mse.displayName=Zj;var lF="ScrollAreaCorner",gse=N.forwardRef((t,e)=>{const n=Po(lF,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(d3e,{...t,ref:e}):null});gse.displayName=lF;var d3e=N.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Po(lF,n),[s,o]=N.useState(0),[l,c]=N.useState(0),u=!!(s&&l);return vv(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),vv(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),u?a.jsx(pt.div,{...r,ref:e,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function eE(t){return t?parseInt(t,10):0}function vse(t,e){const n=t/e;return isNaN(n)?0:n}function FT(t){const e=vse(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function f3e(t,e,n,r="ltr"){const i=FT(n),s=i/2,o=e||s,l=i-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return yse([c,u],f)(t)}function EW(t,e,n="ltr"){const r=FT(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,l=s-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Ob(t,c);return yse([0,o],[0,l])(u)}function yse(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function xse(t,e){return t>0&&t<e}var h3e=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,l=n.top!==s.top;(o||l)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function UT(t,e){const n=Ur(t),r=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),N.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function vv(t,e){const n=Ur(e);$r(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var bse=cse,p3e=dse,m3e=gse;const yv=N.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(bse,{ref:r,className:je("relative overflow-hidden",t),...n,children:[a.jsx(p3e,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(wse,{}),a.jsx(m3e,{})]}));yv.displayName=bse.displayName;const wse=N.forwardRef(({className:t,orientation:e="vertical",...n},r)=>a.jsx(aF,{ref:r,orientation:e,className:je("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:a.jsx(mse,{className:"relative flex-1 rounded-full bg-border"})}));wse.displayName=aF.displayName;function g3e(){const[t,e]=N.useState(!1),[n,r]=N.useState([]),[i,s]=N.useState(0),{user:o}=ln(),l=N.useCallback(async()=>{if(o){e(!0);try{const{data:d,error:f}=await ue.from("notifications").select("*").eq("user_id",o.id).order("created_at",{ascending:!1}).limit(50);if(f)throw f;const h=d||[];r(h),s(h.filter(p=>!p.read).length)}catch(d){console.error("Error fetching notifications:",d)}finally{e(!1)}}},[o]),c=N.useCallback(async d=>{try{const{error:f}=await ue.from("notifications").update({read:!0}).eq("id",d);if(f)throw f;r(h=>h.map(p=>p.id===d?{...p,read:!0}:p)),s(h=>Math.max(0,h-1))}catch(f){console.error("Error marking notification as read:",f)}},[]),u=N.useCallback(async()=>{if(o)try{const{error:d}=await ue.from("notifications").update({read:!0}).eq("user_id",o.id).eq("read",!1);if(d)throw d;r(f=>f.map(h=>({...h,read:!0}))),s(0)}catch(d){console.error("Error marking all as read:",d)}},[o]);return N.useEffect(()=>{if(!o)return;l();const d=ue.channel("notifications-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${o.id}`},f=>{const h=f.new;r(p=>[h,...p]),s(p=>p+1)}).subscribe();return()=>{ue.removeChannel(d)}},[o,l]),{isLoading:t,notifications:n,unreadCount:i,fetchNotifications:l,markAsRead:c,markAllAsRead:u}}function Zn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Yd(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const _se=6048e5,v3e=864e5,QS=43200,AW=1440;let y3e={};function i_(){return y3e}function Ib(t,e){var l,c,u,d;const n=i_(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Zn(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function tE(t){return Ib(t,{weekStartsOn:1})}function Sse(t){const e=Zn(t),n=e.getFullYear(),r=Yd(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=tE(r),s=Yd(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=tE(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function TW(t){const e=Zn(t);return e.setHours(0,0,0,0),e}function nE(t){const e=Zn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function x3e(t,e){const n=TW(t),r=TW(e),i=+n-nE(n),s=+r-nE(r);return Math.round((i-s)/v3e)}function b3e(t){const e=Sse(t),n=Yd(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),tE(n)}function KN(t,e){const n=Zn(t),r=Zn(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function w3e(t){return Yd(t,Date.now())}function _3e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function S3e(t){if(!_3e(t)&&typeof t!="number")return!1;const e=Zn(t);return!isNaN(Number(e))}function N3e(t,e){const n=Zn(t),r=Zn(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function j3e(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function E3e(t,e){return+Zn(t)-+Zn(e)}function A3e(t){const e=Zn(t);return e.setHours(23,59,59,999),e}function T3e(t){const e=Zn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function C3e(t){const e=Zn(t);return+A3e(e)==+T3e(e)}function M3e(t,e){const n=Zn(t),r=Zn(e),i=KN(n,r),s=Math.abs(N3e(n,r));let o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let l=KN(n,r)===-i;C3e(Zn(t))&&s===1&&KN(t,r)===1&&(l=!1),o=i*(s-Number(l))}return o===0?0:o}function P3e(t,e,n){const r=E3e(t,e)/1e3;return j3e(n==null?void 0:n.roundingMethod)(r)}function R3e(t){const e=Zn(t),n=Yd(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const O3e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},I3e=(t,e,n)=>{let r;const i=O3e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function cR(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const k3e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},D3e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},L3e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},F3e={date:cR({formats:k3e,defaultWidth:"full"}),time:cR({formats:D3e,defaultWidth:"full"}),dateTime:cR({formats:L3e,defaultWidth:"full"})},U3e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},B3e=(t,e,n,r)=>U3e[t];function bx(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const z3e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$3e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V3e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},H3e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},W3e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},G3e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q3e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},X3e={ordinalNumber:q3e,era:bx({values:z3e,defaultWidth:"wide"}),quarter:bx({values:$3e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:bx({values:V3e,defaultWidth:"wide"}),day:bx({values:H3e,defaultWidth:"wide"}),dayPeriod:bx({values:W3e,defaultWidth:"wide",formattingValues:G3e,defaultFormattingWidth:"wide"})};function wx(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?K3e(l,f=>f.test(o)):Y3e(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function Y3e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function K3e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function J3e(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const Q3e=/^(\d+)(th|st|nd|rd)?/i,Z3e=/\d+/i,e4e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},t4e={any:[/^b/i,/^(a|c)/i]},n4e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},r4e={any:[/1/i,/2/i,/3/i,/4/i]},i4e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},s4e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},a4e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},o4e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},l4e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},c4e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},u4e={ordinalNumber:J3e({matchPattern:Q3e,parsePattern:Z3e,valueCallback:t=>parseInt(t,10)}),era:wx({matchPatterns:e4e,defaultMatchWidth:"wide",parsePatterns:t4e,defaultParseWidth:"any"}),quarter:wx({matchPatterns:n4e,defaultMatchWidth:"wide",parsePatterns:r4e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:wx({matchPatterns:i4e,defaultMatchWidth:"wide",parsePatterns:s4e,defaultParseWidth:"any"}),day:wx({matchPatterns:a4e,defaultMatchWidth:"wide",parsePatterns:o4e,defaultParseWidth:"any"}),dayPeriod:wx({matchPatterns:l4e,defaultMatchWidth:"any",parsePatterns:c4e,defaultParseWidth:"any"})},Nse={code:"en-US",formatDistance:I3e,formatLong:F3e,formatRelative:B3e,localize:X3e,match:u4e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function d4e(t){const e=Zn(t);return x3e(e,R3e(e))+1}function f4e(t){const e=Zn(t),n=+tE(e)-+b3e(e);return Math.round(n/_se)+1}function jse(t,e){var d,f,h,p;const n=Zn(t),r=n.getFullYear(),i=i_(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Yd(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const l=Ib(o,e),c=Yd(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=Ib(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function h4e(t,e){var l,c,u,d;const n=i_(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=jse(t,e),s=Yd(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ib(s,e)}function p4e(t,e){const n=Zn(t),r=+Ib(n,e)-+h4e(n,e);return Math.round(r/_se)+1}function $n(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Yu={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return $n(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$n(n+1,2)},d(t,e){return $n(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $n(t.getHours()%12||12,e.length)},H(t,e){return $n(t.getHours(),e.length)},m(t,e){return $n(t.getMinutes(),e.length)},s(t,e){return $n(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return $n(i,e.length)}},Lm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CW={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Yu.y(t,e)},Y:function(t,e,n,r){const i=jse(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return $n(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):$n(s,e.length)},R:function(t,e){const n=Sse(t);return $n(n,e.length)},u:function(t,e){const n=t.getFullYear();return $n(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $n(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $n(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Yu.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return $n(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=p4e(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):$n(i,e.length)},I:function(t,e,n){const r=f4e(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):$n(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Yu.d(t,e)},D:function(t,e,n){const r=d4e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$n(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return $n(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return $n(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return $n(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Lm.noon:r===0?i=Lm.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Lm.evening:r>=12?i=Lm.afternoon:r>=4?i=Lm.morning:i=Lm.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Yu.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Yu.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$n(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):$n(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Yu.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Yu.s(t,e)},S:function(t,e){return Yu.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return PW(r);case"XXXX":case"XX":return oh(r);case"XXXXX":case"XXX":default:return oh(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return PW(r);case"xxxx":case"xx":return oh(r);case"xxxxx":case"xxx":default:return oh(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+MW(r,":");case"OOOO":default:return"GMT"+oh(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+MW(r,":");case"zzzz":default:return"GMT"+oh(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return $n(r,e.length)},T:function(t,e,n){const r=t.getTime();return $n(r,e.length)}};function MW(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+$n(s,2)}function PW(t,e){return t%60===0?(t>0?"-":"+")+$n(Math.abs(t)/60,2):oh(t,e)}function oh(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=$n(Math.trunc(r/60),2),s=$n(r%60,2);return n+i+e+s}const RW=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ese=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},m4e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return RW(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",RW(r,e)).replace("{{time}}",Ese(i,e))},g4e={p:Ese,P:m4e},v4e=/^D+$/,y4e=/^Y+$/,x4e=["D","DD","YY","YYYY"];function b4e(t){return v4e.test(t)}function w4e(t){return y4e.test(t)}function _4e(t,e,n){const r=S4e(t,e,n);if(console.warn(r),x4e.includes(t))throw new RangeError(r)}function S4e(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const N4e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,j4e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,E4e=/^'([^]*?)'?$/,A4e=/''/g,T4e=/[a-zA-Z]/;function bo(t,e,n){var d,f,h,p;const r=i_(),i=r.locale??Nse,s=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=Zn(t);if(!S3e(l))throw new RangeError("Invalid time value");let c=e.match(j4e).map(m=>{const g=m[0];if(g==="p"||g==="P"){const y=g4e[g];return y(m,i.formatLong)}return m}).join("").match(N4e).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:C4e(m)};if(CW[g])return{isToken:!0,value:m};if(g.match(T4e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(m=>{if(!m.isToken)return m.value;const g=m.value;(w4e(g)||b4e(g))&&_4e(g,e,String(t));const y=CW[g[0]];return y(l,g,i.localize,u)}).join("")}function C4e(t){const e=t.match(E4e);return e?e[1].replace(A4e,"'"):t}function M4e(t,e,n){const r=i_(),i=(n==null?void 0:n.locale)??r.locale??Nse,s=2520,o=KN(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=Zn(e),u=Zn(t)):(c=Zn(t),u=Zn(e));const d=P3e(u,c),f=(nE(u)-nE(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return n!=null&&n.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):h===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",h,l);if(h<45)return i.formatDistance("xMinutes",h,l);if(h<90)return i.formatDistance("aboutXHours",1,l);if(h<AW){const m=Math.round(h/60);return i.formatDistance("aboutXHours",m,l)}else{if(h<s)return i.formatDistance("xDays",1,l);if(h<QS){const m=Math.round(h/AW);return i.formatDistance("xDays",m,l)}else if(h<QS*2)return p=Math.round(h/QS),i.formatDistance("aboutXMonths",p,l)}if(p=M3e(u,c),p<12){const m=Math.round(h/QS);return i.formatDistance("xMonths",m,l)}else{const m=p%12,g=Math.trunc(p/12);return m<3?i.formatDistance("aboutXYears",g,l):m<9?i.formatDistance("overXYears",g,l):i.formatDistance("almostXYears",g+1,l)}}function cF(t,e){return M4e(t,w3e(t),e)}function Ase(){var v,w;const[t,e]=N.useState(!1),{user:n,profile:r,role:i,signOut:s}=ln(),o=_u(),{notifications:l,unreadCount:c,markAsRead:u,markAllAsRead:d}=g3e(),f=()=>{e(!t),document.documentElement.classList.toggle("dark")},h=async()=>{await s(),o("/auth")},p=()=>{switch(i){case"agency_owner":return a.jsx(De,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20 text-xs",children:"Agency Owner"});case"va_staff":return a.jsx(De,{variant:"outline",className:"bg-warning/10 text-warning border-warning/20 text-xs",children:"VA Staff"});case"client":return a.jsx(De,{variant:"outline",className:"bg-info/10 text-info border-info/20 text-xs",children:"Client"});default:return null}},m=b=>{switch(b){case"success":return"bg-success/10 text-success";case"warning":return"bg-warning/10 text-warning";case"error":return"bg-destructive/10 text-destructive";default:return"bg-primary/10 text-primary"}},g=r&&`${r.first_name||""} ${r.last_name||""}`.trim()||"User",y=r&&`${((v=r.first_name)==null?void 0:v[0])||""}${((w=r.last_name)==null?void 0:w[0])||""}`.toUpperCase()||"U";return a.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center gap-4 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-6",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(nf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Ct,{placeholder:"Search clients, disputes, tasks...",className:"pl-9 bg-secondary border-0 focus-visible:ring-1 focus-visible:ring-primary"})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:f,children:t?a.jsx(zge,{className:"w-5 h-5"}):a.jsx(Oge,{className:"w-5 h-5"})}),a.jsxs(Kk,{children:[a.jsx(Jk,{asChild:!0,children:a.jsxs(ge,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(lc,{className:"w-5 h-5"}),c>0&&a.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-5 h-5 bg-primary text-primary-foreground text-xs rounded-full flex items-center justify-center",children:c>9?"9+":c})]})}),a.jsxs(Qj,{align:"end",className:"w-96",children:[a.jsxs(Qk,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Notifications"}),c>0&&a.jsxs(ge,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:d,children:[a.jsx(pl,{className:"w-3 h-3 mr-1"}),"Mark all read"]})]}),a.jsx(YN,{}),a.jsx(yv,{className:"max-h-80",children:l.length===0?a.jsx("div",{className:"p-4 text-center text-muted-foreground text-sm",children:"No notifications yet"}):l.slice(0,10).map(b=>a.jsxs(Yc,{className:je("flex flex-col items-start gap-1 p-3 cursor-pointer",!b.read&&"bg-primary/5"),onClick:()=>{u(b.id),b.action_url&&o(b.action_url)},children:[a.jsxs("div",{className:"flex items-center gap-2 w-full",children:[a.jsx("div",{className:je("w-2 h-2 rounded-full",m(b.type))}),a.jsx("span",{className:"font-medium text-sm flex-1",children:b.title}),!b.read&&a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]}),a.jsx("span",{className:"text-xs text-muted-foreground pl-4",children:b.message}),a.jsx("span",{className:"text-xs text-muted-foreground pl-4",children:cF(new Date(b.created_at),{addSuffix:!0})})]},b.id))})]})]}),a.jsxs(Kk,{children:[a.jsx(Jk,{asChild:!0,children:a.jsxs(ge,{variant:"ghost",className:"gap-2 px-2",children:[a.jsx(ws,{className:"w-8 h-8",children:a.jsx(_s,{className:"bg-primary text-primary-foreground text-sm",children:y})}),a.jsxs("div",{className:"hidden sm:flex flex-col items-start",children:[a.jsx("span",{className:"text-sm font-medium",children:g}),p()]})]})}),a.jsxs(Qj,{align:"end",className:"w-56",children:[a.jsx(Qk,{children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:g}),a.jsx("span",{className:"text-xs font-normal text-muted-foreground",children:(r==null?void 0:r.email)||(n==null?void 0:n.email)})]})}),a.jsx(YN,{}),a.jsxs(Yc,{onClick:()=>o("/settings"),children:[a.jsx(Gs,{className:"mr-2 h-4 w-4"}),"Profile"]}),a.jsxs(Yc,{onClick:()=>o("/settings"),children:[a.jsx(Tw,{className:"mr-2 h-4 w-4"}),"Settings"]}),a.jsx(YN,{}),a.jsxs(Yc,{onClick:h,className:"text-destructive",children:[a.jsx(Ege,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})]})]})}function _r({children:t}){const{collapsed:e}=Iw();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(Hre,{}),a.jsxs("div",{className:je("transition-all duration-300 ease-in-out"),style:{paddingLeft:e?"70px":"260px"},children:[a.jsx(Ase,{}),a.jsx("main",{className:"p-4 md:p-6 lg:p-8",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:t})})]})]})}const P4e={default:{iconBg:"bg-secondary",iconText:"text-foreground",gradient:"from-secondary/20 to-secondary/5",border:"border-border/50",glow:""},primary:{iconBg:"bg-primary/15",iconText:"text-primary",gradient:"from-primary/10 to-primary/5",border:"border-primary/20",glow:"shadow-primary/5"},success:{iconBg:"bg-success/15",iconText:"text-success",gradient:"from-success/10 to-success/5",border:"border-success/20",glow:"shadow-success/5"},warning:{iconBg:"bg-warning/15",iconText:"text-warning",gradient:"from-warning/10 to-warning/5",border:"border-warning/20",glow:"shadow-warning/5"}};function ZS({title:t,value:e,change:n,changeLabel:r,icon:i,variant:s="default"}){const o=n&&n>0,l=n&&n<0,c=P4e[s];return a.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-4,scale:1.02},transition:{duration:.3},className:je("relative overflow-hidden rounded-2xl border bg-card p-6 transition-all duration-300 group","hover:shadow-xl",c.border,c.glow&&`hover:${c.glow}`),children:[a.jsx("div",{className:je("absolute inset-0 bg-gradient-to-br opacity-60",c.gradient)}),a.jsx("div",{className:"absolute -right-8 -top-8 w-32 h-32 rounded-full bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground tracking-wide uppercase",children:t}),a.jsx("div",{className:"flex items-baseline gap-2",children:a.jsx("p",{className:"text-4xl font-bold tracking-tight text-foreground",children:e})}),n!==void 0&&a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsxs("div",{className:je("flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold",o&&"bg-success/15 text-success",l&&"bg-destructive/15 text-destructive",!o&&!l&&"bg-muted text-muted-foreground"),children:[o&&a.jsx(JK,{className:"w-3 h-3"}),l&&a.jsx(age,{className:"w-3 h-3"}),a.jsxs("span",{children:[o&&"+",n,"%"]})]}),r&&a.jsx("span",{className:"text-xs text-muted-foreground",children:r})]})]}),a.jsx(Me.div,{whileHover:{rotate:12,scale:1.1},transition:{type:"spring",stiffness:400},className:je("p-4 rounded-2xl transition-all duration-300",c.iconBg,c.iconText),children:i})]})]})}const R4e=[{id:1,type:"deletion",title:"Item Deleted",description:"Medical collection removed from Jennifer Williams",time:"2 minutes ago",icon:Ls,color:"text-success bg-success/10"},{id:2,type:"letter",title:"Letters Sent",description:"Round 3 disputes sent for Marcus Johnson",time:"15 minutes ago",icon:Li,color:"text-info bg-info/10"},{id:3,type:"upload",title:"Report Uploaded",description:"New credit report from Ashley Thompson",time:"1 hour ago",icon:cc,color:"text-primary bg-primary/10"},{id:4,type:"score",title:"Score Increase",description:"David Martinez +33 points on Equifax",time:"2 hours ago",icon:gr,color:"text-success bg-success/10"},{id:5,type:"payment",title:"Payment Received",description:"$199.00 from David Martinez",time:"3 hours ago",icon:Jv,color:"text-primary bg-primary/10"},{id:6,type:"alert",title:"Response Required",description:"Equifax needs additional verification",time:"4 hours ago",icon:rf,color:"text-warning bg-warning/10"}];function O4e(){return a.jsx("div",{className:"space-y-3",children:R4e.map((t,e)=>a.jsxs("div",{className:je("flex items-start gap-3 p-3 rounded-lg hover:bg-secondary/50 transition-colors cursor-pointer","animate-slide-up"),style:{animationDelay:`${e*50}ms`},children:[a.jsx("div",{className:je("p-2 rounded-lg",t.color),children:a.jsx(t.icon,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:t.title}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.description})]}),a.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:t.time})]},t.id))})}function kt({className:t,...e}){return a.jsx("div",{className:je("animate-pulse rounded-md bg-muted",t),...e})}function BT(){const[t,e]=N.useState(!1),[n,r]=N.useState([]),{user:i,role:s}=ln(),{toast:o}=Mr(),l=N.useCallback(async()=>{if(i){e(!0);try{let m=ue.from("tasks").select("*").order("created_at",{ascending:!1});s==="va_staff"?m=m.eq("assigned_to",i.id):s==="client"&&(m=m.eq("client_id",i.id));const{data:g,error:y}=await m;if(y)throw y;r(g||[])}catch(m){console.error("Error fetching tasks:",m)}finally{e(!1)}}},[i,s]),c=N.useCallback(async m=>{if(!i)return null;try{const{data:g}=await ue.from("profiles").select("agency_id").eq("user_id",i.id).single(),{data:y,error:v}=await ue.from("tasks").insert({agency_id:g==null?void 0:g.agency_id,title:m.title||"New Task",description:m.description,task_type:m.task_type||"general",priority:m.priority||"medium",status:"pending",assigned_to:m.assigned_to,client_id:m.client_id,due_date:m.due_date,ai_generated:m.ai_generated||!1,related_dispute_id:m.related_dispute_id,related_letter_id:m.related_letter_id}).select().single();if(v)throw v;const w=y;return r(b=>[w,...b]),o({title:"Task Created",description:m.title}),w}catch(g){const y=g instanceof Error?g.message:"Unknown error";return console.error("Error creating task:",g),o({title:"Error",description:y,variant:"destructive"}),null}},[i,o]),u=N.useCallback(async(m,g)=>{try{const y={...g};g.status==="completed"&&(y.completed_at=new Date().toISOString());const{error:v}=await ue.from("tasks").update(y).eq("id",m);if(v)throw v;r(w=>w.map(b=>b.id===m?{...b,...y}:b)),o({title:"Task Updated"})}catch(y){const v=y instanceof Error?y.message:"Unknown error";console.error("Error updating task:",y),o({title:"Error",description:v,variant:"destructive"})}},[o]),d=N.useCallback(async m=>{try{const{error:g}=await ue.from("tasks").delete().eq("id",m);if(g)throw g;r(y=>y.filter(v=>v.id!==m)),o({title:"Task Deleted"})}catch(g){const y=g instanceof Error?g.message:"Unknown error";console.error("Error deleting task:",g),o({title:"Error",description:y,variant:"destructive"})}},[o]);N.useEffect(()=>{if(!i)return;l();const m=ue.channel("tasks-changes").on("postgres_changes",{event:"*",schema:"public",table:"tasks"},()=>{l()}).subscribe();return()=>{ue.removeChannel(m)}},[i,l]);const f=n.filter(m=>m.status==="pending"),h=n.filter(m=>m.status==="in_progress"),p=n.filter(m=>m.status==="completed");return{isLoading:t,tasks:n,pendingTasks:f,inProgressTasks:h,completedTasks:p,fetchTasks:l,createTask:c,updateTask:u,deleteTask:d}}var I4e=Array.isArray,pa=I4e,k4e=typeof u1=="object"&&u1&&u1.Object===Object&&u1,Tse=k4e,D4e=Tse,L4e=typeof self=="object"&&self&&self.Object===Object&&self,F4e=D4e||L4e||Function("return this")(),bc=F4e,U4e=bc,B4e=U4e.Symbol,s_=B4e,OW=s_,Cse=Object.prototype,z4e=Cse.hasOwnProperty,$4e=Cse.toString,_x=OW?OW.toStringTag:void 0;function V4e(t){var e=z4e.call(t,_x),n=t[_x];try{t[_x]=void 0;var r=!0}catch{}var i=$4e.call(t);return r&&(e?t[_x]=n:delete t[_x]),i}var H4e=V4e,W4e=Object.prototype,G4e=W4e.toString;function q4e(t){return G4e.call(t)}var X4e=q4e,IW=s_,Y4e=H4e,K4e=X4e,J4e="[object Null]",Q4e="[object Undefined]",kW=IW?IW.toStringTag:void 0;function Z4e(t){return t==null?t===void 0?Q4e:J4e:kW&&kW in Object(t)?Y4e(t):K4e(t)}var Nu=Z4e;function e5e(t){return t!=null&&typeof t=="object"}var ju=e5e,t5e=Nu,n5e=ju,r5e="[object Symbol]";function i5e(t){return typeof t=="symbol"||n5e(t)&&t5e(t)==r5e}var py=i5e,s5e=pa,a5e=py,o5e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l5e=/^\w*$/;function c5e(t,e){if(s5e(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||a5e(t)?!0:l5e.test(t)||!o5e.test(t)||e!=null&&t in Object(e)}var uF=c5e;function u5e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pf=u5e;const my=Ln(pf);var d5e=Nu,f5e=pf,h5e="[object AsyncFunction]",p5e="[object Function]",m5e="[object GeneratorFunction]",g5e="[object Proxy]";function v5e(t){if(!f5e(t))return!1;var e=d5e(t);return e==p5e||e==m5e||e==h5e||e==g5e}var dF=v5e;const qt=Ln(dF);var y5e=bc,x5e=y5e["__core-js_shared__"],b5e=x5e,uR=b5e,DW=function(){var t=/[^.]+$/.exec(uR&&uR.keys&&uR.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function w5e(t){return!!DW&&DW in t}var _5e=w5e,S5e=Function.prototype,N5e=S5e.toString;function j5e(t){if(t!=null){try{return N5e.call(t)}catch{}try{return t+""}catch{}}return""}var Mse=j5e,E5e=dF,A5e=_5e,T5e=pf,C5e=Mse,M5e=/[\\^$.*+?()[\]{}|]/g,P5e=/^\[object .+?Constructor\]$/,R5e=Function.prototype,O5e=Object.prototype,I5e=R5e.toString,k5e=O5e.hasOwnProperty,D5e=RegExp("^"+I5e.call(k5e).replace(M5e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function L5e(t){if(!T5e(t)||A5e(t))return!1;var e=E5e(t)?D5e:P5e;return e.test(C5e(t))}var F5e=L5e;function U5e(t,e){return t==null?void 0:t[e]}var B5e=U5e,z5e=F5e,$5e=B5e;function V5e(t,e){var n=$5e(t,e);return z5e(n)?n:void 0}var Lp=V5e,H5e=Lp,W5e=H5e(Object,"create"),zT=W5e,LW=zT;function G5e(){this.__data__=LW?LW(null):{},this.size=0}var q5e=G5e;function X5e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Y5e=X5e,K5e=zT,J5e="__lodash_hash_undefined__",Q5e=Object.prototype,Z5e=Q5e.hasOwnProperty;function eFe(t){var e=this.__data__;if(K5e){var n=e[t];return n===J5e?void 0:n}return Z5e.call(e,t)?e[t]:void 0}var tFe=eFe,nFe=zT,rFe=Object.prototype,iFe=rFe.hasOwnProperty;function sFe(t){var e=this.__data__;return nFe?e[t]!==void 0:iFe.call(e,t)}var aFe=sFe,oFe=zT,lFe="__lodash_hash_undefined__";function cFe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=oFe&&e===void 0?lFe:e,this}var uFe=cFe,dFe=q5e,fFe=Y5e,hFe=tFe,pFe=aFe,mFe=uFe;function gy(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gy.prototype.clear=dFe;gy.prototype.delete=fFe;gy.prototype.get=hFe;gy.prototype.has=pFe;gy.prototype.set=mFe;var gFe=gy;function vFe(){this.__data__=[],this.size=0}var yFe=vFe;function xFe(t,e){return t===e||t!==t&&e!==e}var fF=xFe,bFe=fF;function wFe(t,e){for(var n=t.length;n--;)if(bFe(t[n][0],e))return n;return-1}var $T=wFe,_Fe=$T,SFe=Array.prototype,NFe=SFe.splice;function jFe(t){var e=this.__data__,n=_Fe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():NFe.call(e,n,1),--this.size,!0}var EFe=jFe,AFe=$T;function TFe(t){var e=this.__data__,n=AFe(e,t);return n<0?void 0:e[n][1]}var CFe=TFe,MFe=$T;function PFe(t){return MFe(this.__data__,t)>-1}var RFe=PFe,OFe=$T;function IFe(t,e){var n=this.__data__,r=OFe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var kFe=IFe,DFe=yFe,LFe=EFe,FFe=CFe,UFe=RFe,BFe=kFe;function vy(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vy.prototype.clear=DFe;vy.prototype.delete=LFe;vy.prototype.get=FFe;vy.prototype.has=UFe;vy.prototype.set=BFe;var VT=vy,zFe=Lp,$Fe=bc,VFe=zFe($Fe,"Map"),hF=VFe,FW=gFe,HFe=VT,WFe=hF;function GFe(){this.size=0,this.__data__={hash:new FW,map:new(WFe||HFe),string:new FW}}var qFe=GFe;function XFe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var YFe=XFe,KFe=YFe;function JFe(t,e){var n=t.__data__;return KFe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var HT=JFe,QFe=HT;function ZFe(t){var e=QFe(this,t).delete(t);return this.size-=e?1:0,e}var eUe=ZFe,tUe=HT;function nUe(t){return tUe(this,t).get(t)}var rUe=nUe,iUe=HT;function sUe(t){return iUe(this,t).has(t)}var aUe=sUe,oUe=HT;function lUe(t,e){var n=oUe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var cUe=lUe,uUe=qFe,dUe=eUe,fUe=rUe,hUe=aUe,pUe=cUe;function yy(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yy.prototype.clear=uUe;yy.prototype.delete=dUe;yy.prototype.get=fUe;yy.prototype.has=hUe;yy.prototype.set=pUe;var pF=yy,Pse=pF,mUe="Expected a function";function mF(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(mUe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(mF.Cache||Pse),n}mF.Cache=Pse;var Rse=mF;const gUe=Ln(Rse);var vUe=Rse,yUe=500;function xUe(t){var e=vUe(t,function(r){return n.size===yUe&&n.clear(),r}),n=e.cache;return e}var bUe=xUe,wUe=bUe,_Ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,SUe=/\\(\\)?/g,NUe=wUe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(_Ue,function(n,r,i,s){e.push(i?s.replace(SUe,"$1"):r||n)}),e}),jUe=NUe;function EUe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var gF=EUe,UW=s_,AUe=gF,TUe=pa,CUe=py,BW=UW?UW.prototype:void 0,zW=BW?BW.toString:void 0;function Ose(t){if(typeof t=="string")return t;if(TUe(t))return AUe(t,Ose)+"";if(CUe(t))return zW?zW.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var MUe=Ose,PUe=MUe;function RUe(t){return t==null?"":PUe(t)}var Ise=RUe,OUe=pa,IUe=uF,kUe=jUe,DUe=Ise;function LUe(t,e){return OUe(t)?t:IUe(t,e)?[t]:kUe(DUe(t))}var kse=LUe,FUe=py;function UUe(t){if(typeof t=="string"||FUe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var WT=UUe,BUe=kse,zUe=WT;function $Ue(t,e){e=BUe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[zUe(e[n++])];return n&&n==r?t:void 0}var vF=$Ue,VUe=vF;function HUe(t,e,n){var r=t==null?void 0:VUe(t,e);return r===void 0?n:r}var Dse=HUe;const Ba=Ln(Dse);function WUe(t){return t==null}var GUe=WUe;const en=Ln(GUe);var qUe=Nu,XUe=pa,YUe=ju,KUe="[object String]";function JUe(t){return typeof t=="string"||!XUe(t)&&YUe(t)&&qUe(t)==KUe}var QUe=JUe;const pp=Ln(QUe);var Lse={exports:{}},Xn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yF=Symbol.for("react.element"),xF=Symbol.for("react.portal"),GT=Symbol.for("react.fragment"),qT=Symbol.for("react.strict_mode"),XT=Symbol.for("react.profiler"),YT=Symbol.for("react.provider"),KT=Symbol.for("react.context"),ZUe=Symbol.for("react.server_context"),JT=Symbol.for("react.forward_ref"),QT=Symbol.for("react.suspense"),ZT=Symbol.for("react.suspense_list"),eC=Symbol.for("react.memo"),tC=Symbol.for("react.lazy"),eBe=Symbol.for("react.offscreen"),Fse;Fse=Symbol.for("react.module.reference");function Ro(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yF:switch(t=t.type,t){case GT:case XT:case qT:case QT:case ZT:return t;default:switch(t=t&&t.$$typeof,t){case ZUe:case KT:case JT:case tC:case eC:case YT:return t;default:return e}}case xF:return e}}}Xn.ContextConsumer=KT;Xn.ContextProvider=YT;Xn.Element=yF;Xn.ForwardRef=JT;Xn.Fragment=GT;Xn.Lazy=tC;Xn.Memo=eC;Xn.Portal=xF;Xn.Profiler=XT;Xn.StrictMode=qT;Xn.Suspense=QT;Xn.SuspenseList=ZT;Xn.isAsyncMode=function(){return!1};Xn.isConcurrentMode=function(){return!1};Xn.isContextConsumer=function(t){return Ro(t)===KT};Xn.isContextProvider=function(t){return Ro(t)===YT};Xn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yF};Xn.isForwardRef=function(t){return Ro(t)===JT};Xn.isFragment=function(t){return Ro(t)===GT};Xn.isLazy=function(t){return Ro(t)===tC};Xn.isMemo=function(t){return Ro(t)===eC};Xn.isPortal=function(t){return Ro(t)===xF};Xn.isProfiler=function(t){return Ro(t)===XT};Xn.isStrictMode=function(t){return Ro(t)===qT};Xn.isSuspense=function(t){return Ro(t)===QT};Xn.isSuspenseList=function(t){return Ro(t)===ZT};Xn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===GT||t===XT||t===qT||t===QT||t===ZT||t===eBe||typeof t=="object"&&t!==null&&(t.$$typeof===tC||t.$$typeof===eC||t.$$typeof===YT||t.$$typeof===KT||t.$$typeof===JT||t.$$typeof===Fse||t.getModuleId!==void 0)};Xn.typeOf=Ro;Lse.exports=Xn;var tBe=Lse.exports,nBe=Nu,rBe=ju,iBe="[object Number]";function sBe(t){return typeof t=="number"||rBe(t)&&nBe(t)==iBe}var Use=sBe;const aBe=Ln(Use);var oBe=Use;function lBe(t){return oBe(t)&&t!=+t}var cBe=lBe;const xy=Ln(cBe);var Os=function(e){return e===0?0:e>0?1:-1},Eh=function(e){return pp(e)&&e.indexOf("%")===e.length-1},Ke=function(e){return aBe(e)&&!xy(e)},uBe=function(e){return en(e)},Ni=function(e){return Ke(e)||pp(e)},dBe=0,Fp=function(e){var n=++dBe;return"".concat(e||"").concat(n)},Is=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(e)&&!pp(e))return r;var s;if(Eh(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return xy(s)&&(s=r),i&&s>n&&(s=n),s},ld=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},fBe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},bi=function(e,n){return Ke(e)&&Ke(n)?function(r){return e+r*(n-e)}:function(){return n}};function rE(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ba(r,e))===n})}var hBe=function(e,n){return Ke(e)&&Ke(n)?e-n:pp(e)&&pp(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function kg(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Zk(t){"@babel/helpers - typeof";return Zk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zk(t)}var pBe=["viewBox","children"],mBe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$W=["points","pathLength"],dR={svg:pBe,polygon:$W,polyline:$W},bF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],iE=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),!my(r))return null;var i={};return Object.keys(r).forEach(function(s){bF.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},gBe=function(e,n,r){return function(i){return e(n,r,i),null}},mp=function(e,n,r){if(!my(e)||Zk(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];bF.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=gBe(o,n,r))}),i},vBe=["children"],yBe=["children"];function VW(t,e){if(t==null)return{};var n=xBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eD(t){"@babel/helpers - typeof";return eD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eD(t)}var HW={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},su=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},WW=null,fR=null,wF=function t(e){if(e===WW&&Array.isArray(fR))return fR;var n=[];return N.Children.forEach(e,function(r){en(r)||(tBe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),fR=n,WW=e,n};function za(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return su(i)}):r=[su(e)],wF(t).forEach(function(i){var s=Ba(i,"type.displayName")||Ba(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Aa(t,e){var n=za(t,e);return n&&n[0]}var GW=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ke(r)||r<=0||!Ke(i)||i<=0)},bBe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wBe=function(e){return e&&e.type&&pp(e.type)&&bBe.indexOf(e.type)>=0},Bse=function(e){return e&&eD(e)==="object"&&"clipDot"in e},_Be=function(e,n,r,i){var s,o=(s=dR==null?void 0:dR[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!qt(e)&&(i&&o.includes(n)||mBe.includes(n))||r&&bF.includes(n)},Rt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(N.isValidElement(e)&&(i=e.props),!my(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;_Be((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(s[o]=i[o])}),s},tD=function t(e,n){if(e===n)return!0;var r=N.Children.count(e);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return qW(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!qW(s,o))return!1}return!0},qW=function(e,n){if(en(e)&&en(n))return!0;if(!en(e)&&!en(n)){var r=e.props||{},i=r.children,s=VW(r,vBe),o=n.props||{},l=o.children,c=VW(o,yBe);return i&&l?kg(s,c)&&tD(i,l):!i&&!l?kg(s,c):!1}return!1},XW=function(e,n){var r=[],i={};return wF(e).forEach(function(s,o){if(wBe(s))r.push(s);else if(s){var l=su(s.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(s,l,o);r.push(f),i[l]=!0}}}),r},SBe=function(e){var n=e&&e.type;return n&&HW[n]?HW[n]:null},NBe=function(e,n){return wF(n).indexOf(e)},jBe=["children","width","height","viewBox","className","style","title","desc"];function nD(){return nD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nD.apply(this,arguments)}function EBe(t,e){if(t==null)return{};var n=ABe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ABe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rD(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=EBe(t,jBe),d=i||{width:n,height:r,x:0,y:0},f=tn("recharts-surface",s);return J.createElement("svg",nD({},Rt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),J.createElement("title",null,l),J.createElement("desc",null,c),e)}var TBe=["children","className"];function iD(){return iD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iD.apply(this,arguments)}function CBe(t,e){if(t==null)return{};var n=MBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Sn=J.forwardRef(function(t,e){var n=t.children,r=t.className,i=CBe(t,TBe),s=tn("recharts-layer",r);return J.createElement("g",iD({className:s},Rt(i,!0),{ref:e}),n)}),dl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function PBe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var RBe=PBe,OBe=RBe;function IBe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:OBe(t,e,n)}var kBe=IBe,DBe="\\ud800-\\udfff",LBe="\\u0300-\\u036f",FBe="\\ufe20-\\ufe2f",UBe="\\u20d0-\\u20ff",BBe=LBe+FBe+UBe,zBe="\\ufe0e\\ufe0f",$Be="\\u200d",VBe=RegExp("["+$Be+DBe+BBe+zBe+"]");function HBe(t){return VBe.test(t)}var zse=HBe;function WBe(t){return t.split("")}var GBe=WBe,$se="\\ud800-\\udfff",qBe="\\u0300-\\u036f",XBe="\\ufe20-\\ufe2f",YBe="\\u20d0-\\u20ff",KBe=qBe+XBe+YBe,JBe="\\ufe0e\\ufe0f",QBe="["+$se+"]",sD="["+KBe+"]",aD="\\ud83c[\\udffb-\\udfff]",ZBe="(?:"+sD+"|"+aD+")",Vse="[^"+$se+"]",Hse="(?:\\ud83c[\\udde6-\\uddff]){2}",Wse="[\\ud800-\\udbff][\\udc00-\\udfff]",eze="\\u200d",Gse=ZBe+"?",qse="["+JBe+"]?",tze="(?:"+eze+"(?:"+[Vse,Hse,Wse].join("|")+")"+qse+Gse+")*",nze=qse+Gse+tze,rze="(?:"+[Vse+sD+"?",sD,Hse,Wse,QBe].join("|")+")",ize=RegExp(aD+"(?="+aD+")|"+rze+nze,"g");function sze(t){return t.match(ize)||[]}var aze=sze,oze=GBe,lze=zse,cze=aze;function uze(t){return lze(t)?cze(t):oze(t)}var dze=uze,fze=kBe,hze=zse,pze=dze,mze=Ise;function gze(t){return function(e){e=mze(e);var n=hze(e)?pze(e):void 0,r=n?n[0]:e.charAt(0),i=n?fze(n,1).join(""):e.slice(1);return r[t]()+i}}var vze=gze,yze=vze,xze=yze("toUpperCase"),bze=xze;const nC=Ln(bze);function ar(t){return function(){return t}}const Xse=Math.cos,sE=Math.sin,Nl=Math.sqrt,aE=Math.PI,rC=2*aE,oD=Math.PI,lD=2*oD,lh=1e-6,wze=lD-lh;function Yse(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _ze(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Yse;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Sze{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Yse:_ze(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-e,u=i-n,d=o-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>lh)if(!(Math.abs(f*c-u*d)>lh)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,m=i-l,g=c*c+u*u,y=p*p+m*m,v=Math.sqrt(g),w=Math.sqrt(h),b=s*Math.tan((oD-Math.acos((g+h-y)/(2*v*w)))/2),S=b/w,j=b/v;Math.abs(S-1)>lh&&this._append`L${e+S*d},${n+S*f}`,this._append`A${s},${s},0,0,${+(f*p>d*m)},${this._x1=e+j*c},${this._y1=n+j*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>lh||Math.abs(this._y1-d)>lh)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%lD+lD),h>wze?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>lh&&this._append`A${r},${r},0,${+(h>=oD)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function _F(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Sze(e)}function SF(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Kse(t){this._context=t}Kse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function iC(t){return new Kse(t)}function Jse(t){return t[0]}function Qse(t){return t[1]}function Zse(t,e){var n=ar(!0),r=null,i=iC,s=null,o=_F(l);t=typeof t=="function"?t:t===void 0?Jse:ar(t),e=typeof e=="function"?e:e===void 0?Qse:ar(e);function l(c){var u,d=(c=SF(c)).length,f,h=!1,p;for(r==null&&(s=i(p=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,c),+e(f,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:ar(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:ar(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ar(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function eN(t,e,n){var r=null,i=ar(!0),s=null,o=iC,l=null,c=_F(u);t=typeof t=="function"?t:t===void 0?Jse:ar(+t),e=typeof e=="function"?e:ar(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Qse:ar(+n);function u(f){var h,p,m,g=(f=SF(f)).length,y,v=!1,w,b=new Array(g),S=new Array(g);for(s==null&&(l=o(w=c())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===v)if(v=!v)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=p;--m)l.point(b[m],S[m]);l.lineEnd(),l.areaEnd()}v&&(b[h]=+t(y,h,f),S[h]=+e(y,h,f),l.point(r?+r(y,h,f):b[h],n?+n(y,h,f):S[h]))}if(w)return l=null,w+""||null}function d(){return Zse().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ar(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ar(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ar(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class eae{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Nze(t){return new eae(t,!0)}function jze(t){return new eae(t,!1)}const NF={draw(t,e){const n=Nl(e/aE);t.moveTo(n,0),t.arc(0,0,n,0,rC)}},Eze={draw(t,e){const n=Nl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},tae=Nl(1/3),Aze=tae*2,Tze={draw(t,e){const n=Nl(e/Aze),r=n*tae;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Cze={draw(t,e){const n=Nl(e),r=-n/2;t.rect(r,r,n,n)}},Mze=.8908130915292852,nae=sE(aE/10)/sE(7*aE/10),Pze=sE(rC/10)*nae,Rze=-Xse(rC/10)*nae,Oze={draw(t,e){const n=Nl(e*Mze),r=Pze*n,i=Rze*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=rC*s/5,l=Xse(o),c=sE(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},hR=Nl(3),Ize={draw(t,e){const n=-Nl(e/(hR*3));t.moveTo(0,n*2),t.lineTo(-hR*n,-n),t.lineTo(hR*n,-n),t.closePath()}},lo=-.5,co=Nl(3)/2,cD=1/Nl(12),kze=(cD/2+1)*3,Dze={draw(t,e){const n=Nl(e/kze),r=n/2,i=n*cD,s=r,o=n*cD+n,l=-s,c=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(lo*r-co*i,co*r+lo*i),t.lineTo(lo*s-co*o,co*s+lo*o),t.lineTo(lo*l-co*c,co*l+lo*c),t.lineTo(lo*r+co*i,lo*i-co*r),t.lineTo(lo*s+co*o,lo*o-co*s),t.lineTo(lo*l+co*c,lo*c-co*l),t.closePath()}};function Lze(t,e){let n=null,r=_F(i);t=typeof t=="function"?t:ar(t||NF),e=typeof e=="function"?e:ar(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:ar(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ar(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function oE(){}function lE(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function rae(t){this._context=t}rae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fze(t){return new rae(t)}function iae(t){this._context=t}iae.prototype={areaStart:oE,areaEnd:oE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Uze(t){return new iae(t)}function sae(t){this._context=t}sae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bze(t){return new sae(t)}function aae(t){this._context=t}aae.prototype={areaStart:oE,areaEnd:oE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function zze(t){return new aae(t)}function YW(t){return t<0?-1:1}function KW(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(YW(s)+YW(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function JW(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function pR(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,o-l*n,s,o)}function cE(t){this._context=t}cE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pR(this,this._t0,JW(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pR(this,JW(this,n=KW(this,t,e)),n);break;default:pR(this,this._t0,n=KW(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function oae(t){this._context=new lae(t)}(oae.prototype=Object.create(cE.prototype)).point=function(t,e){cE.prototype.point.call(this,e,t)};function lae(t){this._context=t}lae.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function $ze(t){return new cE(t)}function Vze(t){return new oae(t)}function cae(t){this._context=t}cae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=QW(t),i=QW(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function QW(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Hze(t){return new cae(t)}function sC(t,e){this._context=t,this._t=e}sC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Wze(t){return new sC(t,.5)}function Gze(t){return new sC(t,0)}function qze(t){return new sC(t,1)}function xv(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,l=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function uD(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Xze(t,e){return t[e]}function Yze(t){const e=[];return e.key=t,e}function Kze(){var t=ar([]),e=uD,n=xv,r=Xze;function i(s){var o=Array.from(t.apply(this,arguments),Yze),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,s)]).data=f;for(l=0,d=SF(e(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ar(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:ar(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?uD:typeof s=="function"?s:ar(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??xv,i):n},i}function Jze(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}xv(t,e)}}function Qze(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}xv(t,e)}}function Zze(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,m=0;m<l;++m){var g=t[e[m]],y=g[r][1]||0,v=g[r-1][1]||0;p+=y-v}c+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,xv(t,e)}}function kb(t){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kb(t)}var e$e=["type","size","sizeType"];function dD(){return dD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dD.apply(this,arguments)}function ZW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZW(Object(n),!0).forEach(function(r){t$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t$e(t,e,n){return e=n$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n$e(t){var e=r$e(t,"string");return kb(e)=="symbol"?e:e+""}function r$e(t,e){if(kb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i$e(t,e){if(t==null)return{};var n=s$e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var uae={symbolCircle:NF,symbolCross:Eze,symbolDiamond:Tze,symbolSquare:Cze,symbolStar:Oze,symbolTriangle:Ize,symbolWye:Dze},a$e=Math.PI/180,o$e=function(e){var n="symbol".concat(nC(e));return uae[n]||NF},l$e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*a$e;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},c$e=function(e,n){uae["symbol".concat(nC(e))]=n},jF=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=i$e(e,e$e),u=eG(eG({},c),{},{type:r,size:s,sizeType:l}),d=function(){var y=o$e(r),v=Lze().type(y).size(l$e(s,l,r));return v()},f=u.className,h=u.cx,p=u.cy,m=Rt(u,!0);return h===+h&&p===+p&&s===+s?J.createElement("path",dD({},m,{className:tn("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};jF.registerSymbol=c$e;function bv(t){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(t)}function fD(){return fD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fD.apply(this,arguments)}function tG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u$e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tG(Object(n),!0).forEach(function(r){Db(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f$e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fae(r.key),r)}}function h$e(t,e,n){return e&&f$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p$e(t,e,n){return e=uE(e),m$e(t,dae()?Reflect.construct(e,n||[],uE(t).constructor):e.apply(t,n))}function m$e(t,e){if(e&&(bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g$e(t)}function g$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dae=function(){return!!t})()}function uE(t){return uE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uE(t)}function v$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hD(t,e)}function hD(t,e){return hD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hD(t,e)}function Db(t,e,n){return e=fae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=y$e(t,"string");return bv(e)=="symbol"?e:e+""}function y$e(t,e){if(bv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uo=32,EF=function(t){function e(){return d$e(this,e),p$e(this,e,arguments)}return v$e(e,t),h$e(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=uo/2,o=uo/6,l=uo/3,c=r.inactive?i:r.color;if(r.type==="plainline")return J.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:uo,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return J.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(uo,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return J.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(uo/8,"h").concat(uo,"v").concat(uo*3/4,"h").concat(-uo,"z"),className:"recharts-legend-icon"});if(J.isValidElement(r.legendIcon)){var u=u$e({},r);return delete u.legendIcon,J.cloneElement(r.legendIcon,u)}return J.createElement(jF,{fill:c,cx:s,cy:s,size:uo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:uo,height:uo},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,m){var g=p.formatter||c,y=tn(Db(Db({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=qt(p.value)?null:p.value;dl(!qt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return J.createElement("li",fD({className:y,style:f,key:"legend-item-".concat(m)},mp(r.props,p,m)),J.createElement(rD,{width:o,height:o,viewBox:d,style:h},r.renderIcon(p)),J.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(v,p,m):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return J.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);Db(EF,"displayName","Legend");Db(EF,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var x$e=VT;function b$e(){this.__data__=new x$e,this.size=0}var w$e=b$e;function _$e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var S$e=_$e;function N$e(t){return this.__data__.get(t)}var j$e=N$e;function E$e(t){return this.__data__.has(t)}var A$e=E$e,T$e=VT,C$e=hF,M$e=pF,P$e=200;function R$e(t,e){var n=this.__data__;if(n instanceof T$e){var r=n.__data__;if(!C$e||r.length<P$e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new M$e(r)}return n.set(t,e),this.size=n.size,this}var O$e=R$e,I$e=VT,k$e=w$e,D$e=S$e,L$e=j$e,F$e=A$e,U$e=O$e;function by(t){var e=this.__data__=new I$e(t);this.size=e.size}by.prototype.clear=k$e;by.prototype.delete=D$e;by.prototype.get=L$e;by.prototype.has=F$e;by.prototype.set=U$e;var hae=by,B$e="__lodash_hash_undefined__";function z$e(t){return this.__data__.set(t,B$e),this}var $$e=z$e;function V$e(t){return this.__data__.has(t)}var H$e=V$e,W$e=pF,G$e=$$e,q$e=H$e;function dE(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new W$e;++e<n;)this.add(t[e])}dE.prototype.add=dE.prototype.push=G$e;dE.prototype.has=q$e;var pae=dE;function X$e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var mae=X$e;function Y$e(t,e){return t.has(e)}var gae=Y$e,K$e=pae,J$e=mae,Q$e=gae,Z$e=1,e6e=2;function t6e(t,e,n,r,i,s){var o=n&Z$e,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=n&e6e?new K$e:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var m=t[f],g=e[f];if(r)var y=o?r(g,m,f,e,t,s):r(m,g,f,t,e,s);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!J$e(e,function(v,w){if(!Q$e(p,w)&&(m===v||i(m,v,n,r,s)))return p.push(w)})){h=!1;break}}else if(!(m===g||i(m,g,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var vae=t6e,n6e=bc,r6e=n6e.Uint8Array,i6e=r6e;function s6e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var a6e=s6e;function o6e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var AF=o6e,nG=s_,rG=i6e,l6e=fF,c6e=vae,u6e=a6e,d6e=AF,f6e=1,h6e=2,p6e="[object Boolean]",m6e="[object Date]",g6e="[object Error]",v6e="[object Map]",y6e="[object Number]",x6e="[object RegExp]",b6e="[object Set]",w6e="[object String]",_6e="[object Symbol]",S6e="[object ArrayBuffer]",N6e="[object DataView]",iG=nG?nG.prototype:void 0,mR=iG?iG.valueOf:void 0;function j6e(t,e,n,r,i,s,o){switch(n){case N6e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S6e:return!(t.byteLength!=e.byteLength||!s(new rG(t),new rG(e)));case p6e:case m6e:case y6e:return l6e(+t,+e);case g6e:return t.name==e.name&&t.message==e.message;case x6e:case w6e:return t==e+"";case v6e:var l=u6e;case b6e:var c=r&f6e;if(l||(l=d6e),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=h6e,o.set(t,e);var d=c6e(l(t),l(e),r,i,s,o);return o.delete(t),d;case _6e:if(mR)return mR.call(t)==mR.call(e)}return!1}var E6e=j6e;function A6e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var yae=A6e,T6e=yae,C6e=pa;function M6e(t,e,n){var r=e(t);return C6e(t)?r:T6e(r,n(t))}var P6e=M6e;function R6e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var O6e=R6e;function I6e(){return[]}var k6e=I6e,D6e=O6e,L6e=k6e,F6e=Object.prototype,U6e=F6e.propertyIsEnumerable,sG=Object.getOwnPropertySymbols,B6e=sG?function(t){return t==null?[]:(t=Object(t),D6e(sG(t),function(e){return U6e.call(t,e)}))}:L6e,z6e=B6e;function $6e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var V6e=$6e,H6e=Nu,W6e=ju,G6e="[object Arguments]";function q6e(t){return W6e(t)&&H6e(t)==G6e}var X6e=q6e,aG=X6e,Y6e=ju,xae=Object.prototype,K6e=xae.hasOwnProperty,J6e=xae.propertyIsEnumerable,Q6e=aG(function(){return arguments}())?aG:function(t){return Y6e(t)&&K6e.call(t,"callee")&&!J6e.call(t,"callee")},TF=Q6e,fE={exports:{}};function Z6e(){return!1}var eVe=Z6e;fE.exports;(function(t,e){var n=bc,r=eVe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(fE,fE.exports);var bae=fE.exports,tVe=9007199254740991,nVe=/^(?:0|[1-9]\d*)$/;function rVe(t,e){var n=typeof t;return e=e??tVe,!!e&&(n=="number"||n!="symbol"&&nVe.test(t))&&t>-1&&t%1==0&&t<e}var CF=rVe,iVe=9007199254740991;function sVe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=iVe}var MF=sVe,aVe=Nu,oVe=MF,lVe=ju,cVe="[object Arguments]",uVe="[object Array]",dVe="[object Boolean]",fVe="[object Date]",hVe="[object Error]",pVe="[object Function]",mVe="[object Map]",gVe="[object Number]",vVe="[object Object]",yVe="[object RegExp]",xVe="[object Set]",bVe="[object String]",wVe="[object WeakMap]",_Ve="[object ArrayBuffer]",SVe="[object DataView]",NVe="[object Float32Array]",jVe="[object Float64Array]",EVe="[object Int8Array]",AVe="[object Int16Array]",TVe="[object Int32Array]",CVe="[object Uint8Array]",MVe="[object Uint8ClampedArray]",PVe="[object Uint16Array]",RVe="[object Uint32Array]",dr={};dr[NVe]=dr[jVe]=dr[EVe]=dr[AVe]=dr[TVe]=dr[CVe]=dr[MVe]=dr[PVe]=dr[RVe]=!0;dr[cVe]=dr[uVe]=dr[_Ve]=dr[dVe]=dr[SVe]=dr[fVe]=dr[hVe]=dr[pVe]=dr[mVe]=dr[gVe]=dr[vVe]=dr[yVe]=dr[xVe]=dr[bVe]=dr[wVe]=!1;function OVe(t){return lVe(t)&&oVe(t.length)&&!!dr[aVe(t)]}var IVe=OVe;function kVe(t){return function(e){return t(e)}}var wae=kVe,hE={exports:{}};hE.exports;(function(t,e){var n=Tse,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(hE,hE.exports);var DVe=hE.exports,LVe=IVe,FVe=wae,oG=DVe,lG=oG&&oG.isTypedArray,UVe=lG?FVe(lG):LVe,_ae=UVe,BVe=V6e,zVe=TF,$Ve=pa,VVe=bae,HVe=CF,WVe=_ae,GVe=Object.prototype,qVe=GVe.hasOwnProperty;function XVe(t,e){var n=$Ve(t),r=!n&&zVe(t),i=!n&&!r&&VVe(t),s=!n&&!r&&!i&&WVe(t),o=n||r||i||s,l=o?BVe(t.length,String):[],c=l.length;for(var u in t)(e||qVe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||HVe(u,c)))&&l.push(u);return l}var YVe=XVe,KVe=Object.prototype;function JVe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||KVe;return t===n}var QVe=JVe;function ZVe(t,e){return function(n){return t(e(n))}}var Sae=ZVe,e8e=Sae,t8e=e8e(Object.keys,Object),n8e=t8e,r8e=QVe,i8e=n8e,s8e=Object.prototype,a8e=s8e.hasOwnProperty;function o8e(t){if(!r8e(t))return i8e(t);var e=[];for(var n in Object(t))a8e.call(t,n)&&n!="constructor"&&e.push(n);return e}var l8e=o8e,c8e=dF,u8e=MF;function d8e(t){return t!=null&&u8e(t.length)&&!c8e(t)}var a_=d8e,f8e=YVe,h8e=l8e,p8e=a_;function m8e(t){return p8e(t)?f8e(t):h8e(t)}var aC=m8e,g8e=P6e,v8e=z6e,y8e=aC;function x8e(t){return g8e(t,y8e,v8e)}var b8e=x8e,cG=b8e,w8e=1,_8e=Object.prototype,S8e=_8e.hasOwnProperty;function N8e(t,e,n,r,i,s){var o=n&w8e,l=cG(t),c=l.length,u=cG(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in e:S8e.call(e,h)))return!1}var p=s.get(t),m=s.get(e);if(p&&m)return p==e&&m==t;var g=!0;s.set(t,e),s.set(e,t);for(var y=o;++f<c;){h=l[f];var v=t[h],w=e[h];if(r)var b=o?r(w,v,h,e,t,s):r(v,w,h,t,e,s);if(!(b===void 0?v===w||i(v,w,n,r,s):b)){g=!1;break}y||(y=h=="constructor")}if(g&&!y){var S=t.constructor,j=e.constructor;S!=j&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(g=!1)}return s.delete(t),s.delete(e),g}var j8e=N8e,E8e=Lp,A8e=bc,T8e=E8e(A8e,"DataView"),C8e=T8e,M8e=Lp,P8e=bc,R8e=M8e(P8e,"Promise"),O8e=R8e,I8e=Lp,k8e=bc,D8e=I8e(k8e,"Set"),Nae=D8e,L8e=Lp,F8e=bc,U8e=L8e(F8e,"WeakMap"),B8e=U8e,pD=C8e,mD=hF,gD=O8e,vD=Nae,yD=B8e,jae=Nu,wy=Mse,uG="[object Map]",z8e="[object Object]",dG="[object Promise]",fG="[object Set]",hG="[object WeakMap]",pG="[object DataView]",$8e=wy(pD),V8e=wy(mD),H8e=wy(gD),W8e=wy(vD),G8e=wy(yD),ch=jae;(pD&&ch(new pD(new ArrayBuffer(1)))!=pG||mD&&ch(new mD)!=uG||gD&&ch(gD.resolve())!=dG||vD&&ch(new vD)!=fG||yD&&ch(new yD)!=hG)&&(ch=function(t){var e=jae(t),n=e==z8e?t.constructor:void 0,r=n?wy(n):"";if(r)switch(r){case $8e:return pG;case V8e:return uG;case H8e:return dG;case W8e:return fG;case G8e:return hG}return e});var q8e=ch,gR=hae,X8e=vae,Y8e=E6e,K8e=j8e,mG=q8e,gG=pa,vG=bae,J8e=_ae,Q8e=1,yG="[object Arguments]",xG="[object Array]",tN="[object Object]",Z8e=Object.prototype,bG=Z8e.hasOwnProperty;function eHe(t,e,n,r,i,s){var o=gG(t),l=gG(e),c=o?xG:mG(t),u=l?xG:mG(e);c=c==yG?tN:c,u=u==yG?tN:u;var d=c==tN,f=u==tN,h=c==u;if(h&&vG(t)){if(!vG(e))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new gR),o||J8e(t)?X8e(t,e,n,r,i,s):Y8e(t,e,c,n,r,i,s);if(!(n&Q8e)){var p=d&&bG.call(t,"__wrapped__"),m=f&&bG.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,y=m?e.value():e;return s||(s=new gR),i(g,y,n,r,s)}}return h?(s||(s=new gR),K8e(t,e,n,r,i,s)):!1}var tHe=eHe,nHe=tHe,wG=ju;function Eae(t,e,n,r,i){return t===e?!0:t==null||e==null||!wG(t)&&!wG(e)?t!==t&&e!==e:nHe(t,e,n,r,Eae,i)}var PF=Eae,rHe=hae,iHe=PF,sHe=1,aHe=2;function oHe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var l=n[i];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){l=n[i];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new rHe;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?iHe(d,u,sHe|aHe,r,f):h))return!1}}return!0}var lHe=oHe,cHe=pf;function uHe(t){return t===t&&!cHe(t)}var Aae=uHe,dHe=Aae,fHe=aC;function hHe(t){for(var e=fHe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,dHe(i)]}return e}var pHe=hHe;function mHe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Tae=mHe,gHe=lHe,vHe=pHe,yHe=Tae;function xHe(t){var e=vHe(t);return e.length==1&&e[0][2]?yHe(e[0][0],e[0][1]):function(n){return n===t||gHe(n,t,e)}}var bHe=xHe;function wHe(t,e){return t!=null&&e in Object(t)}var _He=wHe,SHe=kse,NHe=TF,jHe=pa,EHe=CF,AHe=MF,THe=WT;function CHe(t,e,n){e=SHe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=THe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&AHe(i)&&EHe(o,i)&&(jHe(t)||NHe(t)))}var MHe=CHe,PHe=_He,RHe=MHe;function OHe(t,e){return t!=null&&RHe(t,e,PHe)}var IHe=OHe,kHe=PF,DHe=Dse,LHe=IHe,FHe=uF,UHe=Aae,BHe=Tae,zHe=WT,$He=1,VHe=2;function HHe(t,e){return FHe(t)&&UHe(e)?BHe(zHe(t),e):function(n){var r=DHe(n,t);return r===void 0&&r===e?LHe(n,t):kHe(e,r,$He|VHe)}}var WHe=HHe;function GHe(t){return t}var _y=GHe;function qHe(t){return function(e){return e==null?void 0:e[t]}}var XHe=qHe,YHe=vF;function KHe(t){return function(e){return YHe(e,t)}}var JHe=KHe,QHe=XHe,ZHe=JHe,eWe=uF,tWe=WT;function nWe(t){return eWe(t)?QHe(tWe(t)):ZHe(t)}var rWe=nWe,iWe=bHe,sWe=WHe,aWe=_y,oWe=pa,lWe=rWe;function cWe(t){return typeof t=="function"?t:t==null?aWe:typeof t=="object"?oWe(t)?sWe(t[0],t[1]):iWe(t):lWe(t)}var wc=cWe;function uWe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var Cae=uWe;function dWe(t){return t!==t}var fWe=dWe;function hWe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var pWe=hWe,mWe=Cae,gWe=fWe,vWe=pWe;function yWe(t,e,n){return e===e?vWe(t,e,n):mWe(t,gWe,n)}var xWe=yWe,bWe=xWe;function wWe(t,e){var n=t==null?0:t.length;return!!n&&bWe(t,e,0)>-1}var _We=wWe;function SWe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var NWe=SWe;function jWe(){}var EWe=jWe,vR=Nae,AWe=EWe,TWe=AF,CWe=1/0,MWe=vR&&1/TWe(new vR([,-0]))[1]==CWe?function(t){return new vR(t)}:AWe,PWe=MWe,RWe=pae,OWe=_We,IWe=NWe,kWe=gae,DWe=PWe,LWe=AF,FWe=200;function UWe(t,e,n){var r=-1,i=OWe,s=t.length,o=!0,l=[],c=l;if(n)o=!1,i=IWe;else if(s>=FWe){var u=e?null:DWe(t);if(u)return LWe(u);o=!1,i=kWe,c=new RWe}else c=e?[]:l;e:for(;++r<s;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var BWe=UWe,zWe=wc,$We=BWe;function VWe(t,e){return t&&t.length?$We(t,zWe(e)):[]}var HWe=VWe;const _G=Ln(HWe);function Mae(t,e,n){return e===!0?_G(t,n):qt(e)?_G(t,e):t}function wv(t){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}var WWe=["ref"];function SG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SG(Object(n),!0).forEach(function(r){oC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rae(r.key),r)}}function qWe(t,e,n){return e&&NG(t.prototype,e),n&&NG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XWe(t,e,n){return e=pE(e),YWe(t,Pae()?Reflect.construct(e,n||[],pE(t).constructor):e.apply(t,n))}function YWe(t,e){if(e&&(wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KWe(t)}function KWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pae=function(){return!!t})()}function pE(t){return pE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pE(t)}function JWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xD(t,e)}function xD(t,e){return xD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xD(t,e)}function oC(t,e,n){return e=Rae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rae(t){var e=QWe(t,"string");return wv(e)=="symbol"?e:e+""}function QWe(t,e){if(wv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZWe(t,e){if(t==null)return{};var n=eGe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eGe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tGe(t){return t.value}function nGe(t,e){if(J.isValidElement(t))return J.cloneElement(t,e);if(typeof t=="function")return J.createElement(t,e);e.ref;var n=ZWe(e,WWe);return J.createElement(EF,n)}var jG=1,Jh=function(t){function e(){var n;GWe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=XWe(this,e,[].concat(i)),oC(n,"lastBoundingBox",{width:-1,height:-1}),n}return JWe(e,t),qWe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>jG||Math.abs(i.height-this.lastBoundingBox.height)>jG)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Dc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Dc(Dc({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Dc(Dc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return J.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},nGe(s,Dc(Dc({},this.props),{},{payload:Mae(d,u,tGe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Dc(Dc({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&Ke(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(N.PureComponent);oC(Jh,"displayName","Legend");oC(Jh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var EG=s_,rGe=TF,iGe=pa,AG=EG?EG.isConcatSpreadable:void 0;function sGe(t){return iGe(t)||rGe(t)||!!(AG&&t&&t[AG])}var aGe=sGe,oGe=yae,lGe=aGe;function Oae(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=lGe),i||(i=[]);++s<o;){var l=t[s];e>0&&n(l)?e>1?Oae(l,e-1,n,r,i):oGe(i,l):r||(i[i.length]=l)}return i}var Iae=Oae;function cGe(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),l=o.length;l--;){var c=o[t?l:++i];if(n(s[c],c,s)===!1)break}return e}}var uGe=cGe,dGe=uGe,fGe=dGe(),hGe=fGe,pGe=hGe,mGe=aC;function gGe(t,e){return t&&pGe(t,e,mGe)}var kae=gGe,vGe=a_;function yGe(t,e){return function(n,r){if(n==null)return n;if(!vGe(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var xGe=yGe,bGe=kae,wGe=xGe,_Ge=wGe(bGe),RF=_Ge,SGe=RF,NGe=a_;function jGe(t,e){var n=-1,r=NGe(t)?Array(t.length):[];return SGe(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var Dae=jGe;function EGe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var AGe=EGe,TG=py;function TGe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=TG(t),o=e!==void 0,l=e===null,c=e===e,u=TG(e);if(!l&&!u&&!s&&t>e||s&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||l&&n&&i||!o&&i||!c)return-1}return 0}var CGe=TGe,MGe=CGe;function PGe(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,l=n.length;++r<o;){var c=MGe(i[r],s[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var RGe=PGe,yR=gF,OGe=vF,IGe=wc,kGe=Dae,DGe=AGe,LGe=wae,FGe=RGe,UGe=_y,BGe=pa;function zGe(t,e,n){e.length?e=yR(e,function(s){return BGe(s)?function(o){return OGe(o,s.length===1?s[0]:s)}:s}):e=[UGe];var r=-1;e=yR(e,LGe(IGe));var i=kGe(t,function(s,o,l){var c=yR(e,function(u){return u(s)});return{criteria:c,index:++r,value:s}});return DGe(i,function(s,o){return FGe(s,o,n)})}var $Ge=zGe;function VGe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var HGe=VGe,WGe=HGe,CG=Math.max;function GGe(t,e,n){return e=CG(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=CG(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(o),WGe(t,this,l)}}var qGe=GGe;function XGe(t){return function(){return t}}var YGe=XGe,KGe=Lp,JGe=function(){try{var t=KGe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Lae=JGe,QGe=YGe,MG=Lae,ZGe=_y,e9e=MG?function(t,e){return MG(t,"toString",{configurable:!0,enumerable:!1,value:QGe(e),writable:!0})}:ZGe,t9e=e9e,n9e=800,r9e=16,i9e=Date.now;function s9e(t){var e=0,n=0;return function(){var r=i9e(),i=r9e-(r-n);if(n=r,i>0){if(++e>=n9e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var a9e=s9e,o9e=t9e,l9e=a9e,c9e=l9e(o9e),u9e=c9e,d9e=_y,f9e=qGe,h9e=u9e;function p9e(t,e){return h9e(f9e(t,e,d9e),t+"")}var m9e=p9e,g9e=fF,v9e=a_,y9e=CF,x9e=pf;function b9e(t,e,n){if(!x9e(n))return!1;var r=typeof e;return(r=="number"?v9e(n)&&y9e(e,n.length):r=="string"&&e in n)?g9e(n[e],t):!1}var lC=b9e,w9e=Iae,_9e=$Ge,S9e=m9e,PG=lC,N9e=S9e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&PG(t,e[0],e[1])?e=[]:n>2&&PG(e[0],e[1],e[2])&&(e=[e[0]]),_9e(t,w9e(e,1),[])}),j9e=N9e;const OF=Ln(j9e);function Lb(t){"@babel/helpers - typeof";return Lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lb(t)}function bD(){return bD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bD.apply(this,arguments)}function E9e(t,e){return M9e(t)||C9e(t,e)||T9e(t,e)||A9e()}function A9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T9e(t,e){if(t){if(typeof t=="string")return RG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RG(t,e)}}function RG(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function M9e(t){if(Array.isArray(t))return t}function OG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OG(Object(n),!0).forEach(function(r){P9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P9e(t,e,n){return e=R9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R9e(t){var e=O9e(t,"string");return Lb(e)=="symbol"?e:e+""}function O9e(t,e){if(Lb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I9e(t){return Array.isArray(t)&&Ni(t[0])&&Ni(t[1])?t.join(" ~ "):t}var k9e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,y=e.labelFormatter,v=e.accessibilityLayer,w=v===void 0?!1:v,b=function(){if(d&&d.length){var D={padding:0,margin:0},V=(h?OF(d,h):d).map(function(U,$){if(U.type==="none")return null;var z=xR({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),W=U.formatter||f||I9e,k=U.value,L=U.name,H=k,G=L;if(W&&H!=null&&G!=null){var X=W(k,L,U,$,d);if(Array.isArray(X)){var Z=E9e(X,2);H=Z[0],G=Z[1]}else H=X}return J.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:z},Ni(G)?J.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Ni(G)?J.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,J.createElement("span",{className:"recharts-tooltip-item-value"},H),J.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return J.createElement("ul",{className:"recharts-tooltip-item-list",style:D},V)}return null},S=xR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=xR({margin:0},u),E=!en(g),T=E?g:"",P=tn("recharts-default-tooltip",p),C=tn("recharts-tooltip-label",m);E&&y&&d!==void 0&&d!==null&&(T=y(g,d));var R=w?{role:"status","aria-live":"assertive"}:{};return J.createElement("div",bD({className:P,style:S},R),J.createElement("p",{className:C,style:j},J.isValidElement(T)?T:"".concat(T)),b())};function Fb(t){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fb(t)}function nN(t,e,n){return e=D9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D9e(t){var e=L9e(t,"string");return Fb(e)=="symbol"?e:e+""}function L9e(t,e){if(Fb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sx="recharts-tooltip-wrapper",F9e={visibility:"hidden"};function U9e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return tn(Sx,nN(nN(nN(nN({},"".concat(Sx,"-right"),Ke(n)&&e&&Ke(e.x)&&n>=e.x),"".concat(Sx,"-left"),Ke(n)&&e&&Ke(e.x)&&n<e.x),"".concat(Sx,"-bottom"),Ke(r)&&e&&Ke(e.y)&&r>=e.y),"".concat(Sx,"-top"),Ke(r)&&e&&Ke(e.y)&&r<e.y))}function IG(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Ke(s[r]))return s[r];var d=n[r]-l-i,f=n[r]+i;if(e[r])return o[r]?d:f;if(o[r]){var h=d,p=c[r];return h<p?Math.max(f,c[r]):Math.max(d,c[r])}var m=f+l,g=c[r]+u;return m>g?Math.max(d,c[r]):Math.max(f,c[r])}function B9e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function z9e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=IG({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=IG({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=B9e({translateX:d,translateY:f,useTranslate3d:l})):u=F9e,{cssProperties:u,cssClasses:U9e({translateX:d,translateY:f,coordinate:n})}}function _v(t){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function kG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kG(Object(n),!0).forEach(function(r){_D(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V9e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uae(r.key),r)}}function H9e(t,e,n){return e&&V9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W9e(t,e,n){return e=mE(e),G9e(t,Fae()?Reflect.construct(e,n||[],mE(t).constructor):e.apply(t,n))}function G9e(t,e){if(e&&(_v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q9e(t)}function q9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fae=function(){return!!t})()}function mE(t){return mE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mE(t)}function X9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wD(t,e)}function wD(t,e){return wD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wD(t,e)}function _D(t,e,n){return e=Uae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uae(t){var e=Y9e(t,"string");return _v(e)=="symbol"?e:e+""}function Y9e(t,e){if(_v(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LG=1,K9e=function(t){function e(){var n;$9e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=W9e(this,e,[].concat(i)),_D(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_D(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return X9e(e,t),H9e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>LG||Math.abs(r.height-this.state.lastBoundingBox.height)>LG)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,b=z9e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),S=b.cssClasses,j=b.cssProperties,E=DG(DG({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return J.createElement("div",{tabIndex:-1,className:S,style:E,ref:function(P){r.wrapperNode=P}},u)}}])}(N.PureComponent),J9e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mf={isSsr:J9e()};function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function FG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FG(Object(n),!0).forEach(function(r){IF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z9e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zae(r.key),r)}}function e7e(t,e,n){return e&&Z9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t7e(t,e,n){return e=gE(e),n7e(t,Bae()?Reflect.construct(e,n||[],gE(t).constructor):e.apply(t,n))}function n7e(t,e){if(e&&(Sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r7e(t)}function r7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bae=function(){return!!t})()}function gE(t){return gE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gE(t)}function i7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SD(t,e)}function SD(t,e){return SD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SD(t,e)}function IF(t,e,n){return e=zae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zae(t){var e=s7e(t,"string");return Sv(e)=="symbol"?e:e+""}function s7e(t,e){if(Sv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function a7e(t){return t.dataKey}function o7e(t,e){return J.isValidElement(t)?J.cloneElement(t,e):typeof t=="function"?J.createElement(t,e):J.createElement(k9e,e)}var Ta=function(t){function e(){return Q9e(this,e),t7e(this,e,arguments)}return i7e(e,t),e7e(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,y=i.position,v=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,S=i.wrapperStyle,j=m??[];f&&j.length&&(j=Mae(m.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),g,a7e));var E=j.length>0;return J.createElement(K9e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:E,offset:p,position:y,reverseDirection:v,useTranslate3d:w,viewBox:b,wrapperStyle:S},o7e(u,UG(UG({},this.props),{},{payload:j})))}}])}(N.PureComponent);IF(Ta,"displayName","Tooltip");IF(Ta,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var l7e=bc,c7e=function(){return l7e.Date.now()},u7e=c7e,d7e=/\s/;function f7e(t){for(var e=t.length;e--&&d7e.test(t.charAt(e)););return e}var h7e=f7e,p7e=h7e,m7e=/^\s+/;function g7e(t){return t&&t.slice(0,p7e(t)+1).replace(m7e,"")}var v7e=g7e,y7e=v7e,BG=pf,x7e=py,zG=NaN,b7e=/^[-+]0x[0-9a-f]+$/i,w7e=/^0b[01]+$/i,_7e=/^0o[0-7]+$/i,S7e=parseInt;function N7e(t){if(typeof t=="number")return t;if(x7e(t))return zG;if(BG(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=BG(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=y7e(t);var n=w7e.test(t);return n||_7e.test(t)?S7e(t.slice(2),n?2:8):b7e.test(t)?zG:+t}var $ae=N7e,j7e=pf,bR=u7e,$G=$ae,E7e="Expected a function",A7e=Math.max,T7e=Math.min;function C7e(t,e,n){var r,i,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(E7e);e=$G(e)||0,j7e(n)&&(d=!!n.leading,f="maxWait"in n,s=f?A7e($G(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function p(E){var T=r,P=i;return r=i=void 0,u=E,o=t.apply(P,T),o}function m(E){return u=E,l=setTimeout(v,e),d?p(E):o}function g(E){var T=E-c,P=E-u,C=e-T;return f?T7e(C,s-P):C}function y(E){var T=E-c,P=E-u;return c===void 0||T>=e||T<0||f&&P>=s}function v(){var E=bR();if(y(E))return w(E);l=setTimeout(v,g(E))}function w(E){return l=void 0,h&&r?p(E):(r=i=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function S(){return l===void 0?o:w(bR())}function j(){var E=bR(),T=y(E);if(r=arguments,i=this,c=E,T){if(l===void 0)return m(c);if(f)return clearTimeout(l),l=setTimeout(v,e),p(c)}return l===void 0&&(l=setTimeout(v,e)),o}return j.cancel=b,j.flush=S,j}var M7e=C7e,P7e=M7e,R7e=pf,O7e="Expected a function";function I7e(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(O7e);return R7e(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),P7e(t,e,{leading:r,maxWait:e,trailing:i})}var k7e=I7e;const Vae=Ln(k7e);function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}function VG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VG(Object(n),!0).forEach(function(r){D7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D7e(t,e,n){return e=L7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L7e(t){var e=F7e(t,"string");return Ub(e)=="symbol"?e:e+""}function F7e(t,e){if(Ub(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ub(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U7e(t,e){return V7e(t)||$7e(t,e)||z7e(t,e)||B7e()}function B7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z7e(t,e){if(t){if(typeof t=="string")return HG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HG(t,e)}}function HG(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function V7e(t){if(Array.isArray(t))return t}var vE=N.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,y=t.id,v=t.className,w=t.onResize,b=t.style,S=b===void 0?{}:b,j=N.useRef(null),E=N.useRef();E.current=w,N.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var T=N.useState({containerWidth:i.width,containerHeight:i.height}),P=U7e(T,2),C=P[0],R=P[1],I=N.useCallback(function(V,U){R(function($){var z=Math.round(V),W=Math.round(U);return $.containerWidth===z&&$.containerHeight===W?$:{containerWidth:z,containerHeight:W}})},[]);N.useEffect(function(){var V=function(L){var H,G=L[0].contentRect,X=G.width,Z=G.height;I(X,Z),(H=E.current)===null||H===void 0||H.call(E,X,Z)};g>0&&(V=Vae(V,g,{trailing:!0,leading:!1}));var U=new ResizeObserver(V),$=j.current.getBoundingClientRect(),z=$.width,W=$.height;return I(z,W),U.observe(j.current),function(){U.disconnect()}},[I,g]);var D=N.useMemo(function(){var V=C.containerWidth,U=C.containerHeight;if(V<0||U<0)return null;dl(Eh(o)||Eh(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),dl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Eh(o)?V:o,z=Eh(c)?U:c;n&&n>0&&($?z=$/n:z&&($=z*n),h&&z>h&&(z=h)),dl($>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,z,o,c,d,f,n);var W=!Array.isArray(p)&&su(p.type).endsWith("Chart");return J.Children.map(p,function(k){return J.isValidElement(k)?N.cloneElement(k,rN({width:$,height:z},W?{style:rN({height:"100%",width:"100%",maxHeight:z,maxWidth:$},k.props.style)}:{})):k})},[n,p,c,h,f,d,C,o]);return J.createElement("div",{id:y?"".concat(y):void 0,className:tn("recharts-responsive-container",v),style:rN(rN({},S),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},D)}),cC=function(e){return null};cC.displayName="Cell";function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}function WG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ND(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WG(Object(n),!0).forEach(function(r){H7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H7e(t,e,n){return e=W7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W7e(t){var e=G7e(t,"string");return Bb(e)=="symbol"?e:e+""}function G7e(t,e){if(Bb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fm={widthCache:{},cacheCount:0},q7e=2e3,X7e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GG="recharts_measurement_span";function Y7e(t){var e=ND({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var b0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||mf.isSsr)return{width:0,height:0};var r=Y7e(n),i=JSON.stringify({text:e,copyStyle:r});if(Fm.widthCache[i])return Fm.widthCache[i];try{var s=document.getElementById(GG);s||(s=document.createElement("span"),s.setAttribute("id",GG),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=ND(ND({},X7e),r);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Fm.widthCache[i]=c,++Fm.cacheCount>q7e&&(Fm.cacheCount=0,Fm.widthCache={}),c}catch{return{width:0,height:0}}},K7e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function zb(t){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(t)}function yE(t,e){return eqe(t)||Z7e(t,e)||Q7e(t,e)||J7e()}function J7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q7e(t,e){if(t){if(typeof t=="string")return qG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qG(t,e)}}function qG(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function eqe(t){if(Array.isArray(t))return t}function tqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rqe(r.key),r)}}function nqe(t,e,n){return e&&XG(t.prototype,e),n&&XG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rqe(t){var e=iqe(t,"string");return zb(e)=="symbol"?e:e+""}function iqe(t,e){if(zb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sqe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aqe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Hae={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},oqe=Object.keys(Hae),gg="NaN";function lqe(t,e){return t*Hae[e]}var iN=function(){function t(e,n){tqe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!sqe.test(n)&&(this.num=NaN,this.unit=""),oqe.includes(n)&&(this.num=lqe(e,n),this.unit="px")}return nqe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=aqe.exec(n))!==null&&r!==void 0?r:[],s=yE(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function Wae(t){if(t.includes(gg))return gg;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=YG.exec(e))!==null&&n!==void 0?n:[],i=yE(r,4),s=i[1],o=i[2],l=i[3],c=iN.parse(s??""),u=iN.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return gg;e=e.replace(YG,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=KG.exec(e))!==null&&f!==void 0?f:[],p=yE(h,4),m=p[1],g=p[2],y=p[3],v=iN.parse(m??""),w=iN.parse(y??""),b=g==="+"?v.add(w):v.subtract(w);if(b.isNaN())return gg;e=e.replace(KG,b.toString())}return e}var JG=/\(([^()]*)\)/;function cqe(t){for(var e=t;e.includes("(");){var n=JG.exec(e),r=yE(n,2),i=r[1];e=e.replace(JG,Wae(i))}return e}function uqe(t){var e=t.replace(/\s+/g,"");return e=cqe(e),e=Wae(e),e}function dqe(t){try{return uqe(t)}catch{return gg}}function wR(t){var e=dqe(t.slice(5,-1));return e===gg?"":e}var fqe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hqe=["dx","dy","angle","className","breakAll"];function jD(){return jD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jD.apply(this,arguments)}function QG(t,e){if(t==null)return{};var n=pqe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pqe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZG(t,e){return yqe(t)||vqe(t,e)||gqe(t,e)||mqe()}function mqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gqe(t,e){if(t){if(typeof t=="string")return e9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e9(t,e)}}function e9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vqe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function yqe(t){if(Array.isArray(t))return t}var Gae=/[ \f\n\r\t\v\u2028\u2029]+/,qae=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];en(n)||(r?s=n.toString().split(""):s=n.toString().split(Gae));var o=s.map(function(c){return{word:c,width:b0(c,i).width}}),l=r?0:b0("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},xqe=function(e,n,r,i,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Ke(o),f=l,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(z,W){var k=W.word,L=W.width,H=z[z.length-1];if(H&&(i==null||s||H.width+L+r<Number(i)))H.words.push(k),H.width+=L+r;else{var G={words:[k],width:L};z.push(G)}return z},[])},p=h(n),m=function($){return $.reduce(function(z,W){return z.width>W.width?z:W})};if(!d)return p;for(var g="",y=function($){var z=f.slice(0,$),W=qae({breakAll:u,style:c,children:z+g}).wordsWithComputedWidth,k=h(W),L=k.length>o||m(k).width>Number(i);return[L,k]},v=0,w=f.length-1,b=0,S;v<=w&&b<=f.length-1;){var j=Math.floor((v+w)/2),E=j-1,T=y(E),P=ZG(T,2),C=P[0],R=P[1],I=y(j),D=ZG(I,1),V=D[0];if(!C&&!V&&(v=j+1),C&&V&&(w=j-1),!C&&V){S=R;break}b++}return S||p},t9=function(e){var n=en(e)?[]:e.toString().split(Gae);return[{words:n}]},bqe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!mf.isSsr){var c,u,d=qae({breakAll:o,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return t9(i);return xqe({breakAll:o,children:i,maxLines:l,style:s},c,u,n,r)}return t9(i)},n9="#808080",gp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,y=e.fill,v=y===void 0?n9:y,w=QG(e,fqe),b=N.useMemo(function(){return bqe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),S=w.dx,j=w.dy,E=w.angle,T=w.className,P=w.breakAll,C=QG(w,hqe);if(!Ni(r)||!Ni(s))return null;var R=r+(Ke(S)?S:0),I=s+(Ke(j)?j:0),D;switch(g){case"start":D=wR("calc(".concat(u,")"));break;case"middle":D=wR("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:D=wR("calc(".concat(b.length-1," * -").concat(l,")"));break}var V=[];if(f){var U=b[0].width,$=w.width;V.push("scale(".concat((Ke($)?$/U:1)/U,")"))}return E&&V.push("rotate(".concat(E,", ").concat(R,", ").concat(I,")")),V.length&&(C.transform=V.join(" ")),J.createElement("text",jD({},Rt(C,!0),{x:R,y:I,className:tn("recharts-text",T),textAnchor:p,fill:v.includes("url")?n9:v}),b.map(function(z,W){var k=z.words.join(P?"":" ");return J.createElement("tspan",{x:R,dy:W===0?D:l,key:"".concat(k,"-").concat(W)},k)}))};function Ld(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wqe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kF(t){let e,n,r;t.length!==2?(e=Ld,n=(l,c)=>Ld(t(l),c),r=(l,c)=>t(l)-c):(e=t===Ld||t===wqe?t:_qe,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:o,right:s}}function _qe(){return 0}function Xae(t){return t===null?NaN:+t}function*Sqe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Nqe=kF(Ld),o_=Nqe.right;kF(Xae).center;class r9 extends Map{constructor(e,n=Aqe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(i9(this,e))}has(e){return super.has(i9(this,e))}set(e,n){return super.set(jqe(this,e),n)}delete(e){return super.delete(Eqe(this,e))}}function i9({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jqe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Eqe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Aqe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Tqe(t=Ld){if(t===Ld)return Yae;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Yae(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Cqe=Math.sqrt(50),Mqe=Math.sqrt(10),Pqe=Math.sqrt(2);function xE(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Cqe?10:s>=Mqe?5:s>=Pqe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?xE(t,e,n*2):[l,c,u]}function ED(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?xE(e,t,n):xE(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function AD(t,e,n){return e=+e,t=+t,n=+n,xE(t,e,n)[2]}function TD(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?AD(e,t,n):AD(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function s9(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function a9(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Kae(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Yae:Tqe(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/c+h)),m=Math.min(r,Math.floor(e+(c-u)*f/c+h));Kae(t,e,p,m,i)}const s=t[e];let o=n,l=r;for(Nx(t,n,e),i(t[r],s)>0&&Nx(t,n,r);o<l;){for(Nx(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?Nx(t,n,l):(++l,Nx(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Nx(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Rqe(t,e,n){if(t=Float64Array.from(Sqe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return a9(t);if(e>=1)return s9(t);var r,i=(r-1)*e,s=Math.floor(i),o=s9(Kae(t,s).subarray(0,s+1)),l=a9(t.subarray(s+1));return o+(l-o)*(i-s)}}function Oqe(t,e,n=Xae){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function Iqe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Oo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Eu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const CD=Symbol("implicit");function DF(){var t=new r9,e=[],n=[],r=CD;function i(s){let o=t.get(s);if(o===void 0){if(r!==CD)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new r9;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return DF(e,n).unknown(r)},Oo.apply(i,arguments),i}function $b(){var t=DF().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,m=p?i:r,g=p?r:i;s=(g-m)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),m+=(g-m-s*(h-c))*d,o=s*(1-c),l&&(m=Math.round(m),o=Math.round(o));var y=Iqe(h).map(function(v){return m+s*v});return n(p?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return $b(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Oo.apply(f(),arguments)}function Jae(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Jae(e())},t}function w0(){return Jae($b.apply(null,arguments).paddingInner(1))}function LF(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Qae(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function l_(){}var Vb=.7,bE=1/Vb,Dg="\\s*([+-]?\\d+)\\s*",Hb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ic="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kqe=/^#([0-9a-f]{3,8})$/,Dqe=new RegExp(`^rgb\\(${Dg},${Dg},${Dg}\\)$`),Lqe=new RegExp(`^rgb\\(${ic},${ic},${ic}\\)$`),Fqe=new RegExp(`^rgba\\(${Dg},${Dg},${Dg},${Hb}\\)$`),Uqe=new RegExp(`^rgba\\(${ic},${ic},${ic},${Hb}\\)$`),Bqe=new RegExp(`^hsl\\(${Hb},${ic},${ic}\\)$`),zqe=new RegExp(`^hsla\\(${Hb},${ic},${ic},${Hb}\\)$`),o9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};LF(l_,Wb,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:l9,formatHex:l9,formatHex8:$qe,formatHsl:Vqe,formatRgb:c9,toString:c9});function l9(){return this.rgb().formatHex()}function $qe(){return this.rgb().formatHex8()}function Vqe(){return Zae(this).formatHsl()}function c9(){return this.rgb().formatRgb()}function Wb(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kqe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?u9(e):n===3?new la(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?sN(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?sN(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Dqe.exec(t))?new la(e[1],e[2],e[3],1):(e=Lqe.exec(t))?new la(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Fqe.exec(t))?sN(e[1],e[2],e[3],e[4]):(e=Uqe.exec(t))?sN(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Bqe.exec(t))?h9(e[1],e[2]/100,e[3]/100,1):(e=zqe.exec(t))?h9(e[1],e[2]/100,e[3]/100,e[4]):o9.hasOwnProperty(t)?u9(o9[t]):t==="transparent"?new la(NaN,NaN,NaN,0):null}function u9(t){return new la(t>>16&255,t>>8&255,t&255,1)}function sN(t,e,n,r){return r<=0&&(t=e=n=NaN),new la(t,e,n,r)}function Hqe(t){return t instanceof l_||(t=Wb(t)),t?(t=t.rgb(),new la(t.r,t.g,t.b,t.opacity)):new la}function MD(t,e,n,r){return arguments.length===1?Hqe(t):new la(t,e,n,r??1)}function la(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}LF(la,MD,Qae(l_,{brighter(t){return t=t==null?bE:Math.pow(bE,t),new la(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vb:Math.pow(Vb,t),new la(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new la(Qh(this.r),Qh(this.g),Qh(this.b),wE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:d9,formatHex:d9,formatHex8:Wqe,formatRgb:f9,toString:f9}));function d9(){return`#${Ah(this.r)}${Ah(this.g)}${Ah(this.b)}`}function Wqe(){return`#${Ah(this.r)}${Ah(this.g)}${Ah(this.b)}${Ah((isNaN(this.opacity)?1:this.opacity)*255)}`}function f9(){const t=wE(this.opacity);return`${t===1?"rgb(":"rgba("}${Qh(this.r)}, ${Qh(this.g)}, ${Qh(this.b)}${t===1?")":`, ${t})`}`}function wE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ah(t){return t=Qh(t),(t<16?"0":"")+t.toString(16)}function h9(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new al(t,e,n,r)}function Zae(t){if(t instanceof al)return new al(t.h,t.s,t.l,t.opacity);if(t instanceof l_||(t=Wb(t)),!t)return new al;if(t instanceof al)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new al(o,l,c,t.opacity)}function Gqe(t,e,n,r){return arguments.length===1?Zae(t):new al(t,e,n,r??1)}function al(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}LF(al,Gqe,Qae(l_,{brighter(t){return t=t==null?bE:Math.pow(bE,t),new al(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vb:Math.pow(Vb,t),new al(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new la(_R(t>=240?t-240:t+120,i,r),_R(t,i,r),_R(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new al(p9(this.h),aN(this.s),aN(this.l),wE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wE(this.opacity);return`${t===1?"hsl(":"hsla("}${p9(this.h)}, ${aN(this.s)*100}%, ${aN(this.l)*100}%${t===1?")":`, ${t})`}`}}));function p9(t){return t=(t||0)%360,t<0?t+360:t}function aN(t){return Math.max(0,Math.min(1,t||0))}function _R(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const FF=t=>()=>t;function qqe(t,e){return function(n){return t+n*e}}function Xqe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Yqe(t){return(t=+t)==1?eoe:function(e,n){return n-e?Xqe(e,n,t):FF(isNaN(e)?n:e)}}function eoe(t,e){var n=e-t;return n?qqe(t,n):FF(isNaN(t)?e:t)}const m9=function t(e){var n=Yqe(e);function r(i,s){var o=n((i=MD(i)).r,(s=MD(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=eoe(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function Kqe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Jqe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Qqe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Sy(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function Zqe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _E(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function eXe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Sy(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var PD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,SR=new RegExp(PD.source,"g");function tXe(t){return function(){return t}}function nXe(t){return function(e){return t(e)+""}}function rXe(t,e){var n=PD.lastIndex=SR.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=PD.exec(t))&&(i=SR.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:_E(r,i)})),n=SR.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?nXe(c[0].x):tXe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Sy(t,e){var n=typeof e,r;return e==null||n==="boolean"?FF(e):(n==="number"?_E:n==="string"?(r=Wb(e))?(e=r,m9):rXe:e instanceof Wb?m9:e instanceof Date?Zqe:Jqe(e)?Kqe:Array.isArray(e)?Qqe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eXe:_E)(t,e)}function UF(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function iXe(t,e){e===void 0&&(e=t,t=Sy);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function sXe(t){return function(){return t}}function SE(t){return+t}var g9=[0,1];function ks(t){return t}function RD(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:sXe(isNaN(e)?NaN:.5)}function aXe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function oXe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=RD(i,r),s=n(o,s)):(r=RD(r,i),s=n(s,o)),function(l){return s(r(l))}}function lXe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=RD(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var c=o_(t,l,1,r)-1;return s[c](i[c](l))}}function c_(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function uC(){var t=g9,e=g9,n=Sy,r,i,s,o=ks,l,c,u;function d(){var h=Math.min(t.length,e.length);return o!==ks&&(o=aXe(t[0],t[h-1])),l=h>2?lXe:oXe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=l(e,t.map(r),_E)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,SE),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=UF,d()},f.clamp=function(h){return arguments.length?(o=h?!0:ks,d()):o!==ks},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return r=h,i=p,d()}}function BF(){return uC()(ks,ks)}function cXe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function NE(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nv(t){return t=NE(Math.abs(t)),t?t[1]:NaN}function uXe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function dXe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var fXe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gb(t){if(!(e=fXe.exec(t)))throw new Error("invalid format: "+t);var e;return new zF({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gb.prototype=zF.prototype;function zF(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}zF.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hXe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var toe;function pXe(t,e){var n=NE(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(toe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+NE(t,Math.max(0,e+s-1))[0]}function v9(t,e){var n=NE(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const y9={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cXe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>v9(t*100,e),r:v9,s:pXe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function x9(t){return t}var b9=Array.prototype.map,w9=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mXe(t){var e=t.grouping===void 0||t.thousands===void 0?x9:uXe(b9.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?x9:dXe(b9.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Gb(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,y=f.zero,v=f.width,w=f.comma,b=f.precision,S=f.trim,j=f.type;j==="n"?(w=!0,j="g"):y9[j]||(b===void 0&&(b=12),S=!0,j="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var E=g==="$"?n:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",T=g==="$"?r:/[%p]/.test(j)?o:"",P=y9[j],C=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function R(I){var D=E,V=T,U,$,z;if(j==="c")V=P(I)+V,I="";else{I=+I;var W=I<0||1/I<0;if(I=isNaN(I)?c:P(Math.abs(I),b),S&&(I=hXe(I)),W&&+I==0&&m!=="+"&&(W=!1),D=(W?m==="("?m:l:m==="-"||m==="("?"":m)+D,V=(j==="s"?w9[8+toe/3]:"")+V+(W&&m==="("?")":""),C){for(U=-1,$=I.length;++U<$;)if(z=I.charCodeAt(U),48>z||z>57){V=(z===46?i+I.slice(U+1):I.slice(U))+V,I=I.slice(0,U);break}}}w&&!y&&(I=e(I,1/0));var k=D.length+I.length+V.length,L=k<v?new Array(v-k+1).join(h):"";switch(w&&y&&(I=e(L+I,L.length?v-V.length:1/0),L=""),p){case"<":I=D+I+V+L;break;case"=":I=D+L+I+V;break;case"^":I=L.slice(0,k=L.length>>1)+D+I+V+L.slice(k);break;default:I=L+D+I+V;break}return s(I)}return R.toString=function(){return f+""},R}function d(f,h){var p=u((f=Gb(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Nv(h)/3)))*3,g=Math.pow(10,-m),y=w9[8+m/3];return function(v){return p(g*v)+y}}return{format:u,formatPrefix:d}}var oN,$F,noe;gXe({thousands:",",grouping:[3],currency:["$",""]});function gXe(t){return oN=mXe(t),$F=oN.format,noe=oN.formatPrefix,oN}function vXe(t){return Math.max(0,-Nv(Math.abs(t)))}function yXe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nv(e)/3)))*3-Nv(Math.abs(t)))}function xXe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nv(e)-Nv(t))+1}function roe(t,e,n,r){var i=TD(t,e,n),s;switch(r=Gb(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=yXe(i,o))&&(r.precision=s),noe(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=xXe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=vXe(i))&&(r.precision=s-(r.type==="%")*2);break}}return $F(r)}function gf(t){var e=t.domain;return t.ticks=function(n){var r=e();return ED(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return roe(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=AD(o,l,n),u===c)return r[i]=o,r[s]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function jE(){var t=BF();return t.copy=function(){return c_(t,jE())},Oo.apply(t,arguments),gf(t)}function ioe(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,SE),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return ioe(t).unknown(e)},t=arguments.length?Array.from(t,SE):[0,1],gf(n)}function soe(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function _9(t){return Math.log(t)}function S9(t){return Math.exp(t)}function bXe(t){return-Math.log(-t)}function wXe(t){return-Math.exp(-t)}function _Xe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function SXe(t){return t===10?_Xe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function NXe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function N9(t){return(e,n)=>-t(-e,n)}function VF(t){const e=t(_9,S9),n=e.domain;let r=10,i,s;function o(){return i=NXe(r),s=SXe(r),n()[0]<0?(i=N9(i),s=N9(s),t(bXe,wXe)):t(_9,S9),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),m,g;const y=l==null?10:+l;let v=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/s(-h):m*s(h),!(g<u)){if(g>d)break;v.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/s(-h):m*s(h),!(g<u)){if(g>d)break;v.push(g)}v.length*2<y&&(v=ED(u,d,y))}else v=ED(h,p,Math.min(p-h,y)).map(s);return f?v.reverse():v},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Gb(c)).precision==null&&(c.trim=!0),c=$F(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(soe(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function aoe(){const t=VF(uC()).domain([1,10]);return t.copy=()=>c_(t,aoe()).base(t.base()),Oo.apply(t,arguments),t}function j9(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function E9(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function HF(t){var e=1,n=t(j9(e),E9(e));return n.constant=function(r){return arguments.length?t(j9(e=+r),E9(e)):e},gf(n)}function ooe(){var t=HF(uC());return t.copy=function(){return c_(t,ooe()).constant(t.constant())},Oo.apply(t,arguments)}function A9(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function jXe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function EXe(t){return t<0?-t*t:t*t}function WF(t){var e=t(ks,ks),n=1;function r(){return n===1?t(ks,ks):n===.5?t(jXe,EXe):t(A9(n),A9(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},gf(e)}function GF(){var t=WF(uC());return t.copy=function(){return c_(t,GF()).exponent(t.exponent())},Oo.apply(t,arguments),t}function AXe(){return GF.apply(null,arguments).exponent(.5)}function T9(t){return Math.sign(t)*t*t}function TXe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function loe(){var t=BF(),e=[0,1],n=!1,r;function i(s){var o=TXe(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(T9(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,SE)).map(T9)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return loe(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Oo.apply(i,arguments),gf(i)}function coe(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=Oqe(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:e[o_(n,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ld),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return coe().domain(t).range(e).unknown(r)},Oo.apply(s,arguments)}function uoe(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[o_(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return uoe().domain([t,e]).range(i).unknown(s)},Oo.apply(gf(o),arguments)}function doe(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[o_(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return doe().domain(t).range(e).unknown(n)},Oo.apply(i,arguments)}const NR=new Date,jR=new Date;function Ti(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},i.filter=s=>Ti(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(NR.setTime(+s),jR.setTime(+o),t(NR),t(jR),Math.floor(n(NR,jR))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const EE=Ti(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);EE.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ti(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):EE);EE.range;const Kc=1e3,wo=Kc*60,Jc=wo*60,vu=Jc*24,qF=vu*7,C9=vu*30,ER=vu*365,Th=Ti(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Kc)},(t,e)=>(e-t)/Kc,t=>t.getUTCSeconds());Th.range;const XF=Ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kc)},(t,e)=>{t.setTime(+t+e*wo)},(t,e)=>(e-t)/wo,t=>t.getMinutes());XF.range;const YF=Ti(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*wo)},(t,e)=>(e-t)/wo,t=>t.getUTCMinutes());YF.range;const KF=Ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Kc-t.getMinutes()*wo)},(t,e)=>{t.setTime(+t+e*Jc)},(t,e)=>(e-t)/Jc,t=>t.getHours());KF.range;const JF=Ti(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Jc)},(t,e)=>(e-t)/Jc,t=>t.getUTCHours());JF.range;const u_=Ti(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wo)/vu,t=>t.getDate()-1);u_.range;const dC=Ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vu,t=>t.getUTCDate()-1);dC.range;const foe=Ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vu,t=>Math.floor(t/vu));foe.range;function Up(t){return Ti(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*wo)/qF)}const fC=Up(0),AE=Up(1),CXe=Up(2),MXe=Up(3),jv=Up(4),PXe=Up(5),RXe=Up(6);fC.range;AE.range;CXe.range;MXe.range;jv.range;PXe.range;RXe.range;function Bp(t){return Ti(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/qF)}const hC=Bp(0),TE=Bp(1),OXe=Bp(2),IXe=Bp(3),Ev=Bp(4),kXe=Bp(5),DXe=Bp(6);hC.range;TE.range;OXe.range;IXe.range;Ev.range;kXe.range;DXe.range;const QF=Ti(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());QF.range;const ZF=Ti(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ZF.range;const yu=Ti(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());yu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ti(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});yu.range;const xu=Ti(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ti(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});xu.range;function hoe(t,e,n,r,i,s){const o=[[Th,1,Kc],[Th,5,5*Kc],[Th,15,15*Kc],[Th,30,30*Kc],[s,1,wo],[s,5,5*wo],[s,15,15*wo],[s,30,30*wo],[i,1,Jc],[i,3,3*Jc],[i,6,6*Jc],[i,12,12*Jc],[r,1,vu],[r,2,2*vu],[n,1,qF],[e,1,C9],[e,3,3*C9],[t,1,ER]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function c(u,d,f){const h=Math.abs(d-u)/f,p=kF(([,,y])=>y).right(o,h);if(p===o.length)return t.every(TD(u/ER,d/ER,f));if(p===0)return EE.every(Math.max(TD(u,d,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[l,c]}const[LXe,FXe]=hoe(xu,ZF,hC,foe,JF,YF),[UXe,BXe]=hoe(yu,QF,fC,u_,KF,XF);function AR(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function TR(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function jx(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function zXe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Ex(i),d=Ax(i),f=Ex(s),h=Ax(s),p=Ex(o),m=Ax(o),g=Ex(l),y=Ax(l),v=Ex(c),w=Ax(c),b={a:W,A:k,b:L,B:H,c:null,d:k9,e:k9,f:uYe,g:bYe,G:_Ye,H:oYe,I:lYe,j:cYe,L:poe,m:dYe,M:fYe,p:G,q:X,Q:F9,s:U9,S:hYe,u:pYe,U:mYe,V:gYe,w:vYe,W:yYe,x:null,X:null,y:xYe,Y:wYe,Z:SYe,"%":L9},S={a:Z,A:B,b:te,B:ie,c:null,d:D9,e:D9,f:AYe,g:LYe,G:UYe,H:NYe,I:jYe,j:EYe,L:goe,m:TYe,M:CYe,p:ae,q:be,Q:F9,s:U9,S:MYe,u:PYe,U:RYe,V:OYe,w:IYe,W:kYe,x:null,X:null,y:DYe,Y:FYe,Z:BYe,"%":L9},j={a:R,A:I,b:D,B:V,c:U,d:O9,e:O9,f:rYe,g:R9,G:P9,H:I9,I:I9,j:ZXe,L:nYe,m:QXe,M:eYe,p:C,q:JXe,Q:sYe,s:aYe,S:tYe,u:GXe,U:qXe,V:XXe,w:WXe,W:YXe,x:$,X:z,y:R9,Y:P9,Z:KXe,"%":iYe};b.x=E(n,b),b.X=E(r,b),b.c=E(e,b),S.x=E(n,S),S.X=E(r,S),S.c=E(e,S);function E(ce,Se){return function(Te){var Y=[],Ee=-1,ve=0,Re=ce.length,we,rt,qe;for(Te instanceof Date||(Te=new Date(+Te));++Ee<Re;)ce.charCodeAt(Ee)===37&&(Y.push(ce.slice(ve,Ee)),(rt=M9[we=ce.charAt(++Ee)])!=null?we=ce.charAt(++Ee):rt=we==="e"?" ":"0",(qe=Se[we])&&(we=qe(Te,rt)),Y.push(we),ve=Ee+1);return Y.push(ce.slice(ve,Ee)),Y.join("")}}function T(ce,Se){return function(Te){var Y=jx(1900,void 0,1),Ee=P(Y,ce,Te+="",0),ve,Re;if(Ee!=Te.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(Se&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ve=TR(jx(Y.y,0,1)),Re=ve.getUTCDay(),ve=Re>4||Re===0?TE.ceil(ve):TE(ve),ve=dC.offset(ve,(Y.V-1)*7),Y.y=ve.getUTCFullYear(),Y.m=ve.getUTCMonth(),Y.d=ve.getUTCDate()+(Y.w+6)%7):(ve=AR(jx(Y.y,0,1)),Re=ve.getDay(),ve=Re>4||Re===0?AE.ceil(ve):AE(ve),ve=u_.offset(ve,(Y.V-1)*7),Y.y=ve.getFullYear(),Y.m=ve.getMonth(),Y.d=ve.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Re="Z"in Y?TR(jx(Y.y,0,1)).getUTCDay():AR(jx(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Re+5)%7:Y.w+Y.U*7-(Re+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,TR(Y)):AR(Y)}}function P(ce,Se,Te,Y){for(var Ee=0,ve=Se.length,Re=Te.length,we,rt;Ee<ve;){if(Y>=Re)return-1;if(we=Se.charCodeAt(Ee++),we===37){if(we=Se.charAt(Ee++),rt=j[we in M9?Se.charAt(Ee++):we],!rt||(Y=rt(ce,Te,Y))<0)return-1}else if(we!=Te.charCodeAt(Y++))return-1}return Y}function C(ce,Se,Te){var Y=u.exec(Se.slice(Te));return Y?(ce.p=d.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function R(ce,Se,Te){var Y=p.exec(Se.slice(Te));return Y?(ce.w=m.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function I(ce,Se,Te){var Y=f.exec(Se.slice(Te));return Y?(ce.w=h.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function D(ce,Se,Te){var Y=v.exec(Se.slice(Te));return Y?(ce.m=w.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function V(ce,Se,Te){var Y=g.exec(Se.slice(Te));return Y?(ce.m=y.get(Y[0].toLowerCase()),Te+Y[0].length):-1}function U(ce,Se,Te){return P(ce,e,Se,Te)}function $(ce,Se,Te){return P(ce,n,Se,Te)}function z(ce,Se,Te){return P(ce,r,Se,Te)}function W(ce){return o[ce.getDay()]}function k(ce){return s[ce.getDay()]}function L(ce){return c[ce.getMonth()]}function H(ce){return l[ce.getMonth()]}function G(ce){return i[+(ce.getHours()>=12)]}function X(ce){return 1+~~(ce.getMonth()/3)}function Z(ce){return o[ce.getUTCDay()]}function B(ce){return s[ce.getUTCDay()]}function te(ce){return c[ce.getUTCMonth()]}function ie(ce){return l[ce.getUTCMonth()]}function ae(ce){return i[+(ce.getUTCHours()>=12)]}function be(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Se=E(ce+="",b);return Se.toString=function(){return ce},Se},parse:function(ce){var Se=T(ce+="",!1);return Se.toString=function(){return ce},Se},utcFormat:function(ce){var Se=E(ce+="",S);return Se.toString=function(){return ce},Se},utcParse:function(ce){var Se=T(ce+="",!0);return Se.toString=function(){return ce},Se}}}var M9={"-":"",_:" ",0:"0"},$i=/^\s*\d+/,$Xe=/^%/,VXe=/[\\^$*+?|[\]().{}]/g;function kn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function HXe(t){return t.replace(VXe,"\\$&")}function Ex(t){return new RegExp("^(?:"+t.map(HXe).join("|")+")","i")}function Ax(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function WXe(t,e,n){var r=$i.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function GXe(t,e,n){var r=$i.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function qXe(t,e,n){var r=$i.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function XXe(t,e,n){var r=$i.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function YXe(t,e,n){var r=$i.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function P9(t,e,n){var r=$i.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function R9(t,e,n){var r=$i.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function KXe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function JXe(t,e,n){var r=$i.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function QXe(t,e,n){var r=$i.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function O9(t,e,n){var r=$i.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ZXe(t,e,n){var r=$i.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function I9(t,e,n){var r=$i.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function eYe(t,e,n){var r=$i.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function tYe(t,e,n){var r=$i.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function nYe(t,e,n){var r=$i.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function rYe(t,e,n){var r=$i.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iYe(t,e,n){var r=$Xe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function sYe(t,e,n){var r=$i.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function aYe(t,e,n){var r=$i.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function k9(t,e){return kn(t.getDate(),e,2)}function oYe(t,e){return kn(t.getHours(),e,2)}function lYe(t,e){return kn(t.getHours()%12||12,e,2)}function cYe(t,e){return kn(1+u_.count(yu(t),t),e,3)}function poe(t,e){return kn(t.getMilliseconds(),e,3)}function uYe(t,e){return poe(t,e)+"000"}function dYe(t,e){return kn(t.getMonth()+1,e,2)}function fYe(t,e){return kn(t.getMinutes(),e,2)}function hYe(t,e){return kn(t.getSeconds(),e,2)}function pYe(t){var e=t.getDay();return e===0?7:e}function mYe(t,e){return kn(fC.count(yu(t)-1,t),e,2)}function moe(t){var e=t.getDay();return e>=4||e===0?jv(t):jv.ceil(t)}function gYe(t,e){return t=moe(t),kn(jv.count(yu(t),t)+(yu(t).getDay()===4),e,2)}function vYe(t){return t.getDay()}function yYe(t,e){return kn(AE.count(yu(t)-1,t),e,2)}function xYe(t,e){return kn(t.getFullYear()%100,e,2)}function bYe(t,e){return t=moe(t),kn(t.getFullYear()%100,e,2)}function wYe(t,e){return kn(t.getFullYear()%1e4,e,4)}function _Ye(t,e){var n=t.getDay();return t=n>=4||n===0?jv(t):jv.ceil(t),kn(t.getFullYear()%1e4,e,4)}function SYe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+kn(e/60|0,"0",2)+kn(e%60,"0",2)}function D9(t,e){return kn(t.getUTCDate(),e,2)}function NYe(t,e){return kn(t.getUTCHours(),e,2)}function jYe(t,e){return kn(t.getUTCHours()%12||12,e,2)}function EYe(t,e){return kn(1+dC.count(xu(t),t),e,3)}function goe(t,e){return kn(t.getUTCMilliseconds(),e,3)}function AYe(t,e){return goe(t,e)+"000"}function TYe(t,e){return kn(t.getUTCMonth()+1,e,2)}function CYe(t,e){return kn(t.getUTCMinutes(),e,2)}function MYe(t,e){return kn(t.getUTCSeconds(),e,2)}function PYe(t){var e=t.getUTCDay();return e===0?7:e}function RYe(t,e){return kn(hC.count(xu(t)-1,t),e,2)}function voe(t){var e=t.getUTCDay();return e>=4||e===0?Ev(t):Ev.ceil(t)}function OYe(t,e){return t=voe(t),kn(Ev.count(xu(t),t)+(xu(t).getUTCDay()===4),e,2)}function IYe(t){return t.getUTCDay()}function kYe(t,e){return kn(TE.count(xu(t)-1,t),e,2)}function DYe(t,e){return kn(t.getUTCFullYear()%100,e,2)}function LYe(t,e){return t=voe(t),kn(t.getUTCFullYear()%100,e,2)}function FYe(t,e){return kn(t.getUTCFullYear()%1e4,e,4)}function UYe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ev(t):Ev.ceil(t),kn(t.getUTCFullYear()%1e4,e,4)}function BYe(){return"+0000"}function L9(){return"%"}function F9(t){return+t}function U9(t){return Math.floor(+t/1e3)}var Um,yoe,xoe;zYe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function zYe(t){return Um=zXe(t),yoe=Um.format,Um.parse,xoe=Um.utcFormat,Um.utcParse,Um}function $Ye(t){return new Date(t)}function VYe(t){return t instanceof Date?+t:+new Date(+t)}function eU(t,e,n,r,i,s,o,l,c,u){var d=BF(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),w=u("%b %d"),b=u("%B"),S=u("%Y");function j(E){return(c(E)<E?p:l(E)<E?m:o(E)<E?g:s(E)<E?y:r(E)<E?i(E)<E?v:w:n(E)<E?b:S)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,VYe)):h().map($Ye)},d.ticks=function(E){var T=h();return t(T[0],T[T.length-1],E??10)},d.tickFormat=function(E,T){return T==null?j:u(T)},d.nice=function(E){var T=h();return(!E||typeof E.range!="function")&&(E=e(T[0],T[T.length-1],E??10)),E?h(soe(T,E)):d},d.copy=function(){return c_(d,eU(t,e,n,r,i,s,o,l,c,u))},d}function HYe(){return Oo.apply(eU(UXe,BXe,yu,QF,fC,u_,KF,XF,Th,yoe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WYe(){return Oo.apply(eU(LXe,FXe,xu,ZF,hC,dC,JF,YF,Th,xoe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pC(){var t=0,e=1,n,r,i,s,o=ks,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),u):[o(0),o(1)]}}return u.range=d(Sy),u.rangeRound=d(UF),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function vf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function boe(){var t=gf(pC()(ks));return t.copy=function(){return vf(t,boe())},Eu.apply(t,arguments)}function woe(){var t=VF(pC()).domain([1,10]);return t.copy=function(){return vf(t,woe()).base(t.base())},Eu.apply(t,arguments)}function _oe(){var t=HF(pC());return t.copy=function(){return vf(t,_oe()).constant(t.constant())},Eu.apply(t,arguments)}function tU(){var t=WF(pC());return t.copy=function(){return vf(t,tU()).exponent(t.exponent())},Eu.apply(t,arguments)}function GYe(){return tU.apply(null,arguments).exponent(.5)}function Soe(){var t=[],e=ks;function n(r){if(r!=null&&!isNaN(r=+r))return e((o_(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ld),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Rqe(t,s/r))},n.copy=function(){return Soe(e).domain(t)},Eu.apply(n,arguments)}function mC(){var t=0,e=.5,n=1,r=1,i,s,o,l,c,u=ks,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(r*g<r*s?l:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),s=d(e=+e),o=d(n=+n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(y){var v,w,b;return arguments.length?([v,w,b]=y,u=iXe(g,[v,w,b]),p):[u(0),u(.5),u(1)]}}return p.range=m(Sy),p.rangeRound=m(UF),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),s=g(e),o=g(n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,p}}function Noe(){var t=gf(mC()(ks));return t.copy=function(){return vf(t,Noe())},Eu.apply(t,arguments)}function joe(){var t=VF(mC()).domain([.1,1,10]);return t.copy=function(){return vf(t,joe()).base(t.base())},Eu.apply(t,arguments)}function Eoe(){var t=HF(mC());return t.copy=function(){return vf(t,Eoe()).constant(t.constant())},Eu.apply(t,arguments)}function nU(){var t=WF(mC());return t.copy=function(){return vf(t,nU()).exponent(t.exponent())},Eu.apply(t,arguments)}function qYe(){return nU.apply(null,arguments).exponent(.5)}const B9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$b,scaleDiverging:Noe,scaleDivergingLog:joe,scaleDivergingPow:nU,scaleDivergingSqrt:qYe,scaleDivergingSymlog:Eoe,scaleIdentity:ioe,scaleImplicit:CD,scaleLinear:jE,scaleLog:aoe,scaleOrdinal:DF,scalePoint:w0,scalePow:GF,scaleQuantile:coe,scaleQuantize:uoe,scaleRadial:loe,scaleSequential:boe,scaleSequentialLog:woe,scaleSequentialPow:tU,scaleSequentialQuantile:Soe,scaleSequentialSqrt:GYe,scaleSequentialSymlog:_oe,scaleSqrt:AXe,scaleSymlog:ooe,scaleThreshold:doe,scaleTime:HYe,scaleUtc:WYe,tickFormat:roe},Symbol.toStringTag,{value:"Module"}));var XYe=py;function YYe(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(l===void 0?o===o&&!XYe(o):n(o,l)))var l=o,c=s}return c}var gC=YYe;function KYe(t,e){return t>e}var Aoe=KYe,JYe=gC,QYe=Aoe,ZYe=_y;function eKe(t){return t&&t.length?JYe(t,ZYe,QYe):void 0}var tKe=eKe;const bd=Ln(tKe);function nKe(t,e){return t<e}var Toe=nKe,rKe=gC,iKe=Toe,sKe=_y;function aKe(t){return t&&t.length?rKe(t,sKe,iKe):void 0}var oKe=aKe;const vC=Ln(oKe);var lKe=gF,cKe=wc,uKe=Dae,dKe=pa;function fKe(t,e){var n=dKe(t)?lKe:uKe;return n(t,cKe(e))}var hKe=fKe,pKe=Iae,mKe=hKe;function gKe(t,e){return pKe(mKe(t,e),1)}var vKe=gKe;const yKe=Ln(vKe);var xKe=PF;function bKe(t,e){return xKe(t,e)}var wKe=bKe;const vp=Ln(wKe);var Ny=1e9,_Ke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iU,wr=!0,Eo="[DecimalError] ",Zh=Eo+"Invalid argument: ",rU=Eo+"Exponent out of range: ",jy=Math.floor,uh=Math.pow,SKe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oa,Ii=1e7,hr=7,Coe=9007199254740991,CE=jy(Coe/hr),wt={};wt.absoluteValue=wt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};wt.comparedTo=wt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};wt.decimalPlaces=wt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*hr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};wt.dividedBy=wt.div=function(t){return au(this,new this.constructor(t))};wt.dividedToIntegerBy=wt.idiv=function(t){var e=this,n=e.constructor;return er(au(e,new n(t),0,1),n.precision)};wt.equals=wt.eq=function(t){return!this.cmp(t)};wt.exponent=function(){return fi(this)};wt.greaterThan=wt.gt=function(t){return this.cmp(t)>0};wt.greaterThanOrEqualTo=wt.gte=function(t){return this.cmp(t)>=0};wt.isInteger=wt.isint=function(){return this.e>this.d.length-2};wt.isNegative=wt.isneg=function(){return this.s<0};wt.isPositive=wt.ispos=function(){return this.s>0};wt.isZero=function(){return this.s===0};wt.lessThan=wt.lt=function(t){return this.cmp(t)<0};wt.lessThanOrEqualTo=wt.lte=function(t){return this.cmp(t)<1};wt.logarithm=wt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Oa))throw Error(Eo+"NaN");if(n.s<1)throw Error(Eo+(n.s?"NaN":"-Infinity"));return n.eq(Oa)?new r(0):(wr=!1,e=au(qb(n,s),qb(t,s),s),wr=!0,er(e,i))};wt.minus=wt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Roe(e,t):Moe(e,(t.s=-t.s,t))};wt.modulo=wt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Eo+"NaN");return n.s?(wr=!1,e=au(n,t,0,1).times(t),wr=!0,n.minus(e)):er(new r(n),i)};wt.naturalExponential=wt.exp=function(){return Poe(this)};wt.naturalLogarithm=wt.ln=function(){return qb(this)};wt.negated=wt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};wt.plus=wt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Moe(e,t):Roe(e,(t.s=-t.s,t))};wt.precision=wt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zh+t);if(e=fi(i)+1,r=i.d.length-1,n=r*hr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};wt.squareRoot=wt.sqrt=function(){var t,e,n,r,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Eo+"NaN")}for(t=fi(l),wr=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=ql(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=jy((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(au(l,s,o+2)).times(.5),ql(s.d).slice(0,o)===(e=ql(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(er(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;o+=4}return wr=!0,er(r,n)};wt.times=wt.mul=function(t){var e,n,r,i,s,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+p[r]*h[i-r-1]+e,s[i--]=l%Ii|0,e=l/Ii|0;s[i]=(s[i]+e)%Ii|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,wr?er(t,f.precision):t};wt.toDecimalPlaces=wt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(pc(t,0,Ny),e===void 0?e=r.rounding:pc(e,0,8),er(n,t+fi(n)+1,e))};wt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=yp(r,!0):(pc(t,0,Ny),e===void 0?e=i.rounding:pc(e,0,8),r=er(new i(r),t+1,e),n=yp(r,!0,t+1)),n};wt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?yp(i):(pc(t,0,Ny),e===void 0?e=s.rounding:pc(e,0,8),r=er(new s(i),t+fi(i)+1,e),n=yp(r.abs(),!1,t+fi(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};wt.toInteger=wt.toint=function(){var t=this,e=t.constructor;return er(new e(t),fi(t)+1,e.rounding)};wt.toNumber=function(){return+this};wt.toPower=wt.pow=function(t){var e,n,r,i,s,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Oa);if(l=new c(l),!l.s){if(t.s<1)throw Error(Eo+"Infinity");return l}if(l.eq(Oa))return l;if(r=c.precision,t.eq(Oa))return er(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=l.s,o){if((n=d<0?-d:d)<=Coe){for(i=new c(Oa),e=Math.ceil(r/hr+4),wr=!1;n%2&&(i=i.times(l),$9(i.d,e)),n=jy(n/2),n!==0;)l=l.times(l),$9(l.d,e);return wr=!0,t.s<0?new c(Oa).div(i):er(i,r)}}else if(s<0)throw Error(Eo+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,wr=!1,i=t.times(qb(l,r+u)),wr=!0,i=Poe(i),i.s=s,i};wt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=fi(i),r=yp(i,n<=s.toExpNeg||n>=s.toExpPos)):(pc(t,1,Ny),e===void 0?e=s.rounding:pc(e,0,8),i=er(new s(i),t,e),n=fi(i),r=yp(i,t<=n||n<=s.toExpNeg,t)),r};wt.toSignificantDigits=wt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(pc(t,1,Ny),e===void 0?e=r.rounding:pc(e,0,8)),er(new r(n),t,e)};wt.toString=wt.valueOf=wt.val=wt.toJSON=wt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=fi(t),n=t.constructor;return yp(t,e<=n.toExpNeg||e>=n.toExpPos)};function Moe(t,e){var n,r,i,s,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),wr?er(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=o,l=c.length),o=Math.ceil(f/hr),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/Ii|0,c[s]%=Ii;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,wr?er(e,f):e}function pc(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Zh+t)}function ql(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=hr-r.length,n&&(s+=rd(n)),s+=r;o=t[e],r=o+"",n=hr-r.length,n&&(s+=rd(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var au=function(){function t(r,i){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+o,r[l]=s%Ii|0,o=s/Ii|0;return o&&r.unshift(o),r}function e(r,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Ii+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var l,c,u,d,f,h,p,m,g,y,v,w,b,S,j,E,T,P,C=r.constructor,R=r.s==i.s?1:-1,I=r.d,D=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Eo+"Division by zero");for(c=r.e-i.e,T=D.length,j=I.length,p=new C(R),m=p.d=[],u=0;D[u]==(I[u]||0);)++u;if(D[u]>(I[u]||0)&&--c,s==null?w=s=C.precision:o?w=s+(fi(r)-fi(i))+1:w=s,w<0)return new C(0);if(w=w/hr+2|0,u=0,T==1)for(d=0,D=D[0],w++;(u<j||d)&&w--;u++)b=d*Ii+(I[u]||0),m[u]=b/D|0,d=b%D|0;else{for(d=Ii/(D[0]+1)|0,d>1&&(D=t(D,d),I=t(I,d),T=D.length,j=I.length),S=T,g=I.slice(0,T),y=g.length;y<T;)g[y++]=0;P=D.slice(),P.unshift(0),E=D[0],D[1]>=Ii/2&&++E;do d=0,l=e(D,g,T,y),l<0?(v=g[0],T!=y&&(v=v*Ii+(g[1]||0)),d=v/E|0,d>1?(d>=Ii&&(d=Ii-1),f=t(D,d),h=f.length,y=g.length,l=e(f,g,h,y),l==1&&(d--,n(f,T<h?P:D,h))):(d==0&&(l=d=1),f=D.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),l==-1&&(y=g.length,l=e(D,g,T,y),l<1&&(d++,n(g,T<y?P:D,y))),y=g.length):l===0&&(d++,g=[0]),m[u++]=d,l&&g[0]?g[y++]=I[S]||0:(g=[I[S]],y=1);while((S++<j||g[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=c,er(p,o?s+fi(p)+1:s)}}();function Poe(t,e){var n,r,i,s,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(fi(t)>16)throw Error(rU+fi(t));if(!t.s)return new d(Oa);for(wr=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(uh(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new d(Oa),d.precision=l;;){if(i=er(i.times(t),l),n=n.times(++c),o=s.plus(au(i,n,l)),ql(o.d).slice(0,l)===ql(s.d).slice(0,l)){for(;u--;)s=er(s.times(s),l);return d.precision=f,e==null?(wr=!0,er(s,f)):s}s=o}}function fi(t){for(var e=t.e*hr,n=t.d[0];n>=10;n/=10)e++;return e}function CR(t,e,n){if(e>t.LN10.sd())throw wr=!0,n&&(t.precision=n),Error(Eo+"LN10 precision limit exceeded");return er(new t(t.LN10),e)}function rd(t){for(var e="";t--;)e+="0";return e}function qb(t,e){var n,r,i,s,o,l,c,u,d,f=1,h=10,p=t,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(Eo+(p.s?"NaN":"-Infinity"));if(p.eq(Oa))return new g(0);if(e==null?(wr=!1,u=y):u=e,p.eq(10))return e==null&&(wr=!0),CR(g,u);if(u+=h,g.precision=u,n=ql(m),r=n.charAt(0),s=fi(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=ql(p.d),r=n.charAt(0),f++;s=fi(p),r>1?(p=new g("0."+n),s++):p=new g(r+"."+n.slice(1))}else return c=CR(g,u+2,y).times(s+""),p=qb(new g(r+"."+n.slice(1)),u-h).plus(c),g.precision=y,e==null?(wr=!0,er(p,y)):p;for(l=o=p=au(p.minus(Oa),p.plus(Oa),u),d=er(p.times(p),u),i=3;;){if(o=er(o.times(d),u),c=l.plus(au(o,new g(i),u)),ql(c.d).slice(0,u)===ql(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(CR(g,u+2,y).times(s+""))),l=au(l,new g(f),u),g.precision=y,e==null?(wr=!0,er(l,y)):l;l=c,i+=2}}function z9(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=jy(n/hr),t.d=[],r=(n+1)%hr,n<0&&(r+=hr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=hr;r<i;)t.d.push(+e.slice(r,r+=hr));e=e.slice(r),r=hr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),wr&&(t.e>CE||t.e<-CE))throw Error(rU+n)}else t.s=0,t.e=0,t.d=[0];return t}function er(t,e,n){var r,i,s,o,l,c,u,d,f=t.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=hr,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/hr),s=f.length,d>=s)return t;for(u=s=f[d],o=1;s>=10;s/=10)o++;r%=hr,i=r-hr+o}if(n!==void 0&&(s=uh(10,o-i-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/uh(10,o-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(s=fi(t),f.length=1,e=e-s-1,f[0]=uh(10,(hr-e%hr)%hr),t.e=jy(-e/hr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=uh(10,hr-r),f[d]=i>0?(u/uh(10,o-i)%uh(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Ii&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=Ii)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(wr&&(t.e>CE||t.e<-CE))throw Error(rU+fi(t));return t}function Roe(t,e){var n,r,i,s,o,l,c,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),wr?er(e,p):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(p/hr),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=Ii-1;--c[s],c[i]+=Ii}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,wr?er(e,p):e):new h(0)}function yp(t,e,n){var r,i=fi(t),s=ql(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+rd(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+rd(-i-1)+s,n&&(r=n-o)>0&&(s+=rd(r))):i>=o?(s+=rd(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+rd(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=rd(r))),t.s<0?"-"+s:s}function $9(t,e){if(t.length>e)return t.length=e,!0}function Ooe(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Zh+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return z9(o,s.toString())}else if(typeof s!="string")throw Error(Zh+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,SKe.test(s))z9(o,s);else throw Error(Zh+s)}if(i.prototype=wt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Ooe,i.config=i.set=NKe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function NKe(t){if(!t||typeof t!="object")throw Error(Eo+"Object expected");var e,n,r,i=["precision",1,Ny,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(jy(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Zh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Zh+n+": "+r);return this}var iU=Ooe(_Ke);Oa=new iU(1);const Kn=iU;function jKe(t){return CKe(t)||TKe(t)||AKe(t)||EKe()}function EKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AKe(t,e){if(t){if(typeof t=="string")return OD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OD(t,e)}}function TKe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function CKe(t){if(Array.isArray(t))return OD(t)}function OD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var MKe=function(e){return e},Ioe={},koe=function(e){return e===Ioe},V9=function(e){return function n(){return arguments.length===0||arguments.length===1&&koe(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},PKe=function t(e,n){return e===1?n:V9(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==Ioe}).length;return o>=e?n.apply(void 0,i):t(e-o,V9(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return koe(f)?c.shift():f});return n.apply(void 0,jKe(d).concat(c))}))})},yC=function(e){return PKe(e.length,e)},ID=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},RKe=yC(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),OKe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return MKe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},kD=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Doe=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function IKe(t){var e;return t===0?e=1:e=Math.floor(new Kn(t).abs().log(10).toNumber())+1,e}function kKe(t,e,n){for(var r=new Kn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var DKe=yC(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),LKe=yC(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),FKe=yC(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const xC={rangeStep:kKe,getDigitCount:IKe,interpolateNumber:DKe,uninterpolateNumber:LKe,uninterpolateTruncation:FKe};function DD(t){return zKe(t)||BKe(t)||Loe(t)||UKe()}function UKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BKe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function zKe(t){if(Array.isArray(t))return LD(t)}function Xb(t,e){return HKe(t)||VKe(t,e)||Loe(t,e)||$Ke()}function $Ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Loe(t,e){if(t){if(typeof t=="string")return LD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LD(t,e)}}function LD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VKe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function HKe(t){if(Array.isArray(t))return t}function Foe(t){var e=Xb(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function Uoe(t,e,n){if(t.lte(0))return new Kn(0);var r=xC.getDigitCount(t.toNumber()),i=new Kn(10).pow(r),s=t.div(i),o=r!==1?.05:.1,l=new Kn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new Kn(Math.ceil(c))}function WKe(t,e,n){var r=1,i=new Kn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Kn(10).pow(xC.getDigitCount(t)-1),i=new Kn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Kn(Math.floor(t)))}else t===0?i=new Kn(Math.floor((e-1)/2)):n||(i=new Kn(Math.floor(t)));var o=Math.floor((e-1)/2),l=OKe(RKe(function(c){return i.add(new Kn(c-o).mul(r)).toNumber()}),ID);return l(0,e)}function Boe(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Kn(0),tickMin:new Kn(0),tickMax:new Kn(0)};var s=Uoe(new Kn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Kn(0):(o=new Kn(t).add(e).div(2),o=o.sub(new Kn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Kn(e).sub(o).div(s).toNumber()),u=l+c+1;return u>n?Boe(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:s,tickMin:o.sub(new Kn(l).mul(s)),tickMax:o.add(new Kn(c).mul(s))})}function GKe(t){var e=Xb(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=Foe([n,r]),c=Xb(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(DD(ID(0,i-1).map(function(){return 1/0}))):[].concat(DD(ID(0,i-1).map(function(){return-1/0})),[d]);return n>r?kD(f):f}if(u===d)return WKe(u,i,s);var h=Boe(u,d,o,s),p=h.step,m=h.tickMin,g=h.tickMax,y=xC.rangeStep(m,g.add(new Kn(.1).mul(p)),p);return n>r?kD(y):y}function qKe(t,e){var n=Xb(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Foe([r,i]),l=Xb(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=Uoe(new Kn(u).sub(c).div(d-1),s,0),h=[].concat(DD(xC.rangeStep(new Kn(c),new Kn(u).sub(new Kn(.99).mul(f)),f)),[u]);return r>i?kD(h):h}var XKe=Doe(GKe),YKe=Doe(qKe),KKe="Invariant failed";function xp(t,e){throw new Error(KKe)}var JKe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ME.apply(this,arguments)}function QKe(t,e){return nJe(t)||tJe(t,e)||eJe(t,e)||ZKe()}function ZKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eJe(t,e){if(t){if(typeof t=="string")return H9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H9(t,e)}}function H9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tJe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function nJe(t){if(Array.isArray(t))return t}function rJe(t,e){if(t==null)return{};var n=iJe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iJe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aJe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Voe(r.key),r)}}function oJe(t,e,n){return e&&aJe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lJe(t,e,n){return e=PE(e),cJe(t,zoe()?Reflect.construct(e,n||[],PE(t).constructor):e.apply(t,n))}function cJe(t,e){if(e&&(Av(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uJe(t)}function uJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zoe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zoe=function(){return!!t})()}function PE(t){return PE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},PE(t)}function dJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FD(t,e)}function FD(t,e){return FD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FD(t,e)}function $oe(t,e,n){return e=Voe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Voe(t){var e=fJe(t,"string");return Av(e)=="symbol"?e:e+""}function fJe(t,e){if(Av(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var d_=function(t){function e(){return sJe(this,e),lJe(this,e,arguments)}return dJe(e,t),oJe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=rJe(r,JKe),p=Rt(h,!1);this.props.direction==="x"&&d.type!=="number"&&xp();var m=c.map(function(g){var y=u(g,l),v=y.x,w=y.y,b=y.value,S=y.errorVal;if(!S)return null;var j=[],E,T;if(Array.isArray(S)){var P=QKe(S,2);E=P[0],T=P[1]}else E=T=S;if(s==="vertical"){var C=d.scale,R=w+i,I=R+o,D=R-o,V=C(b-E),U=C(b+T);j.push({x1:U,y1:I,x2:U,y2:D}),j.push({x1:V,y1:R,x2:U,y2:R}),j.push({x1:V,y1:I,x2:V,y2:D})}else if(s==="horizontal"){var $=f.scale,z=v+i,W=z-o,k=z+o,L=$(b-E),H=$(b+T);j.push({x1:W,y1:H,x2:k,y2:H}),j.push({x1:z,y1:L,x2:z,y2:H}),j.push({x1:W,y1:L,x2:k,y2:L})}return J.createElement(Sn,ME({className:"recharts-errorBar",key:"bar-".concat(j.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},p),j.map(function(G){return J.createElement("line",ME({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return J.createElement(Sn,{className:"recharts-errorBars"},m)}}])}(J.Component);$oe(d_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});$oe(d_,"displayName","ErrorBar");function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}function W9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W9(Object(n),!0).forEach(function(r){hJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hJe(t,e,n){return e=pJe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pJe(t){var e=mJe(t,"string");return Yb(e)=="symbol"?e:e+""}function mJe(t,e){if(Yb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hoe=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Aa(n,Jh);if(!o)return null;var l=Jh.defaultProps,c=l!==void 0?Xf(Xf({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Xf(Xf({},h),f.props):{},m=p.dataKey,g=p.name,y=p.legendType,v=p.hide;return{inactive:v,dataKey:m,type:c.iconType||y||"square",color:sU(f),value:g||m,payload:p}}),Xf(Xf(Xf({},c),Jh.getWithHeight(o,i)),{},{payload:u,item:o})};function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function G9(t){return xJe(t)||yJe(t)||vJe(t)||gJe()}function gJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vJe(t,e){if(t){if(typeof t=="string")return UD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UD(t,e)}}function yJe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xJe(t){if(Array.isArray(t))return UD(t)}function UD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q9(Object(n),!0).forEach(function(r){Lg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lg(t,e,n){return e=bJe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJe(t){var e=wJe(t,"string");return Kb(e)=="symbol"?e:e+""}function wJe(t,e){if(Kb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zr(t,e,n){return en(t)||en(e)?n:Ni(e)?Ba(t,e,n):qt(e)?e(t):n}function _0(t,e,n,r){var i=yKe(t,function(l){return Zr(l,e)});if(n==="number"){var s=i.filter(function(l){return Ke(l)||parseFloat(l)});return s.length?[vC(s),bd(s)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!en(l)}):i;return o.map(function(l){return Ni(l)||l instanceof Date?l:""})}var _Je=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Os(f-d)!==Os(h-f)){var m=[];if(Os(h-f)===Os(c[1]-c[0])){p=h;var g=f+c[1]-c[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var y=h+c[1]-c[0];m[0]=Math.min(f,(y+f)/2),m[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){o=i[u].index;break}}else{var w=Math.min(d,h),b=Math.max(d,h);if(e>(w+f)/2&&e<=(b+f)/2){o=i[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<l-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===l-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){o=r[S].index;break}return o},sU=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Lr(Lr({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},SJe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,y=m.cateAxisId,v=g.filter(function(T){return su(T.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,b=w!==void 0?Lr(Lr({},w),v[0].props):v[0].props,S=b.barSize,j=b[y];o[j]||(o[j]=[]);var E=en(S)?n:S;o[j].push({item:v[0],stackList:v.slice(1),barSize:en(E)?void 0:Is(E,r,0)})}}return o},NJe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Is(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/c,m=o.reduce(function(S,j){return S+j.barSize||0},0);m+=(c-1)*u,m>=i&&(m-=(c-1)*u,u=0),m>=i&&p>0&&(h=!0,p*=.9,m=c*p);var g=(i-m)/2>>0,y={offset:g-u,size:0};d=o.reduce(function(S,j){var E={item:j.item,position:{offset:y.offset+y.size+u,size:h?p:j.barSize}},T=[].concat(G9(S),[E]);return y=T[T.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){T.push({item:P,position:y})}),T},f)}else{var v=Is(r,i,0,!0);i-2*v-(c-1)*u<=0&&(u=0);var w=(i-2*v-(c-1)*u)/c;w>1&&(w>>=0);var b=l===+l?Math.min(w,l):w;d=o.reduce(function(S,j,E){var T=[].concat(G9(S),[{item:j.item,position:{offset:v+(w+u)*E+(w-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){T.push({item:P,position:T[T.length-1].position})}),T},f)}return d},jJe=function(e,n,r,i){var s=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=Hoe({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&Ke(e[p]))return Lr(Lr({},e),{},Lg({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&Ke(e[m]))return Lr(Lr({},e),{},Lg({},m,e[m]+(h||0)))}return e},EJe=function(e,n,r){return en(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Woe=function(e,n,r,i,s){var o=n.props.children,l=za(o,d_).filter(function(u){return EJe(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Zr(d,r);if(en(f))return u;var h=Array.isArray(f)?[vC(f),bd(f)]:[f,f],p=c.reduce(function(m,g){var y=Zr(d,g,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),w=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,m[0]),Math.max(w,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},AJe=function(e,n,r,i,s){var o=n.map(function(l){return Woe(e,l,r,s,i)}).filter(function(l){return!en(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Goe=function(e,n,r,i,s){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&Woe(e,c,u,i)||_0(e,u,r,s)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},qoe=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Xoe=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(o=!0),c.coordinate});return s||l.push(n),o||l.push(r),l},Qc=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Os(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!xy(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},MR=new WeakMap,lN=function(e,n){if(typeof n!="function")return e;MR.has(e)||MR.set(e,new WeakMap);var r=MR.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Yoe=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:$b(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:jE(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:w0(),realScaleType:"point"}:s==="category"?{scale:$b(),realScaleType:"band"}:{scale:jE(),realScaleType:"linear"};if(pp(i)){var c="scale".concat(nC(i));return{scale:(B9[c]||w0)(),realScaleType:B9[c]?c:"point"}}return qt(i)?{scale:i}:{scale:w0(),realScaleType:"point"}},X9=1e-4,Koe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-X9,o=Math.max(i[0],i[1])+X9,l=e(n[0]),c=e(n[r-1]);(l<s||l>o||c<s||c>o)&&e.domain([n[0],n[r-1]])}},TJe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},CJe=function(e,n){if(!n||n.length!==2||!Ke(n[0])||!Ke(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Ke(e[0])||e[0]<r)&&(s[0]=r),(!Ke(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},MJe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,l=0;l<n;++l){var c=xy(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},PJe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var l=xy(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},RJe={sign:MJe,expand:Jze,none:xv,silhouette:Qze,wiggle:Zze,positive:PJe},OJe=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),s=RJe[r],o=Kze().keys(i).value(function(l,c){return+Zr(l,c,0)}).order(uD).offset(s);return o(e)},IJe=function(e,n,r,i,s,o){if(!e)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Lr(Lr({},h.type.defaultProps),h.props):h.props,g=m.stackId,y=m.hide;if(y)return f;var v=m[r],w=f[v]||{hasStack:!1,stackGroups:{}};if(Ni(g)){var b=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[g]=b}else w.stackGroups[Fp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Lr(Lr({},f),{},Lg({},v,w))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var v=p.stackGroups[y];return Lr(Lr({},g),{},Lg({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:OJe(e,v.items,s)}))},m)}return Lr(Lr({},f),{},Lg({},h,p))},d)},Joe=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=XKe(u,s,l);return e.domain([vC(d),bd(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),h=YKe(f,s,l);return{niceTicks:h}}return null};function RE(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!en(i[e.dataKey])){var l=rE(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Zr(i,en(o)?e.dataKey:o);return en(c)?null:e.scale(c)}var Y9=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Zr(o,n.dataKey,n.domain[l]);return en(c)?null:n.scale(c)-s/2+i},kJe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},DJe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Lr(Lr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Ni(s)){var o=n[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},LJe=function(e){return e.reduce(function(n,r){return[vC(r.concat([n[0]]).filter(Ke)),bd(r.concat([n[1]]).filter(Ke))]},[1/0,-1/0])},Qoe=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,d){var f=LJe(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},K9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BD=function(e,n,r){if(qt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ke(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(K9.test(e[0])){var s=+K9.exec(e[0])[1];i[0]=n[0]-s}else qt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ke(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(J9.test(e[1])){var o=+J9.exec(e[1])[1];i[1]=n[1]+o}else qt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},OE=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=OF(n,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Q9=function(e,n,r){return!e||!e.length||vp(e,Ba(r,"type.defaultProps.domain"))?n:e},Zoe=function(e,n){var r=e.type.defaultProps?Lr(Lr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Lr(Lr({},Rt(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:sU(e),value:Zr(n,i),type:c,payload:n,chartType:u,hide:d})};function Jb(t){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(t)}function Z9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z9(Object(n),!0).forEach(function(r){ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ele(t,e,n){return e=FJe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FJe(t){var e=UJe(t,"string");return Jb(e)=="symbol"?e:e+""}function UJe(t,e){if(Jb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BJe(t,e){return HJe(t)||VJe(t,e)||$Je(t,e)||zJe()}function zJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Je(t,e){if(t){if(typeof t=="string")return e7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e7(t,e)}}function e7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VJe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function HJe(t){if(Array.isArray(t))return t}var IE=Math.PI/180,WJe=function(e){return e*180/Math.PI},lr=function(e,n,r,i){return{x:e+Math.cos(-IE*i)*r,y:n+Math.sin(-IE*i)*r}},tle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},GJe=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Is(e.cx,o,o/2),f=Is(e.cy,l,l/2),h=tle(o,l,r),p=Is(e.innerRadius,h,0),m=Is(e.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(y,v){var w=n[v],b=w.domain,S=w.reversed,j;if(en(w.range))i==="angleAxis"?j=[c,u]:i==="radiusAxis"&&(j=[p,m]),S&&(j=[j[1],j[0]]);else{j=w.range;var E=j,T=BJe(E,2);c=T[0],u=T[1]}var P=Yoe(w,s),C=P.realScaleType,R=P.scale;R.domain(b).range(j),Koe(R);var I=Joe(R,Bc(Bc({},w),{},{realScaleType:C})),D=Bc(Bc(Bc({},w),I),{},{range:j,radius:m,realScaleType:C,scale:R,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:c,endAngle:u});return Bc(Bc({},y),{},ele({},v,D))},{})},qJe=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},XJe=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,l=qJe({x:r,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(r-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:WJe(u),angleInRadian:u}},YJe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},KJe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},t7=function(e,n){var r=e.x,i=e.y,s=XJe({x:r,y:i},n),o=s.radius,l=s.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=YJe(n),f=d.startAngle,h=d.endAngle,p=l,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Bc(Bc({},n),{},{radius:o,angle:KJe(p,n)}):null},nle=function(e){return!N.isValidElement(e)&&!qt(e)&&typeof e!="boolean"?e.className:""};function Qb(t){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(t)}var JJe=["offset"];function QJe(t){return nQe(t)||tQe(t)||eQe(t)||ZJe()}function ZJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eQe(t,e){if(t){if(typeof t=="string")return zD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zD(t,e)}}function tQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nQe(t){if(Array.isArray(t))return zD(t)}function zD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rQe(t,e){if(t==null)return{};var n=iQe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function n7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n7(Object(n),!0).forEach(function(r){sQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sQe(t,e,n){return e=aQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aQe(t){var e=oQe(t,"string");return Qb(e)=="symbol"?e:e+""}function oQe(t,e){if(Qb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(this,arguments)}var lQe=function(e){var n=e.value,r=e.formatter,i=en(e.children)?n:e.children;return qt(r)?r(i):i},cQe=function(e,n){var r=Os(n-e),i=Math.min(Math.abs(n-e),360);return r*i},uQe=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,m=c.endAngle,g=c.clockWise,y=(f+h)/2,v=cQe(p,m),w=v>=0?1:-1,b,S;i==="insideStart"?(b=p+w*o,S=g):i==="insideEnd"?(b=m-w*o,S=!g):i==="end"&&(b=m+w*o,S=g),S=v<=0?S:!S;var j=lr(u,d,y,b),E=lr(u,d,y,b+(S?1:-1)*359),T="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(E.x,",").concat(E.y),P=en(e.id)?Fp("recharts-radial-line-"):e.id;return J.createElement("text",Zb({},r,{dominantBaseline:"central",className:tn("recharts-radial-bar-label",l)}),J.createElement("defs",null,J.createElement("path",{id:P,d:T})),J.createElement("textPath",{xlinkHref:"#".concat(P)},n))},dQe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var p=lr(o,l,u+r,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,v=lr(o,l,y,h),w=v.x,b=v.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},fQe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,y=g*i,v=g>0?"end":"start",w=g>0?"start":"end";if(s==="top"){var b={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return mi(mi({},b),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var S={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:m};return mi(mi({},S),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(s==="left"){var j={x:l-y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return mi(mi({},j),r?{width:Math.max(j.x-r.x,0),height:d}:{})}if(s==="right"){var E={x:l+u+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return mi(mi({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:d}:{})}var T=r?{width:u,height:d}:{};return s==="insideLeft"?mi({x:l+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},T):s==="insideRight"?mi({x:l+u-y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},T):s==="insideTop"?mi({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:m},T):s==="insideBottom"?mi({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},T):s==="insideTopLeft"?mi({x:l+y,y:c+h,textAnchor:w,verticalAnchor:m},T):s==="insideTopRight"?mi({x:l+u-y,y:c+h,textAnchor:v,verticalAnchor:m},T):s==="insideBottomLeft"?mi({x:l+y,y:c+d-h,textAnchor:w,verticalAnchor:p},T):s==="insideBottomRight"?mi({x:l+u-y,y:c+d-h,textAnchor:v,verticalAnchor:p},T):my(s)&&(Ke(s.x)||Eh(s.x))&&(Ke(s.y)||Eh(s.y))?mi({x:l+Is(s.x,u),y:c+Is(s.y,d),textAnchor:"end",verticalAnchor:"end"},T):mi({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},hQe=function(e){return"cx"in e&&Ke(e.cx)};function Di(t){var e=t.offset,n=e===void 0?5:e,r=rQe(t,JJe),i=mi({offset:n},r),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||en(l)&&en(c)&&!N.isValidElement(u)&&!qt(u))return null;if(N.isValidElement(u))return N.cloneElement(u,i);var p;if(qt(u)){if(p=N.createElement(u,i),N.isValidElement(p))return p}else p=lQe(i);var m=hQe(s),g=Rt(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return uQe(i,p,g);var y=m?dQe(i):fQe(i);return J.createElement(gp,Zb({className:tn("recharts-label",f)},g,y,{breakAll:h}),p)}Di.displayName="Label";var rle=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,y=e.height,v=e.clockWise,w=e.labelViewBox;if(w)return w;if(Ke(g)&&Ke(y)){if(Ke(f)&&Ke(h))return{x:f,y:h,width:g,height:y};if(Ke(p)&&Ke(m))return{x:p,y:m,width:g,height:y}}return Ke(f)&&Ke(h)?{x:f,y:h,width:0,height:0}:Ke(n)&&Ke(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:e.viewBox?e.viewBox:{}},pQe=function(e,n){return e?e===!0?J.createElement(Di,{key:"label-implicit",viewBox:n}):Ni(e)?J.createElement(Di,{key:"label-implicit",viewBox:n,value:e}):N.isValidElement(e)?e.type===Di?N.cloneElement(e,{key:"label-implicit",viewBox:n}):J.createElement(Di,{key:"label-implicit",content:e,viewBox:n}):qt(e)?J.createElement(Di,{key:"label-implicit",content:e,viewBox:n}):my(e)?J.createElement(Di,Zb({viewBox:n},e,{key:"label-implicit"})):null:null},mQe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=rle(e),o=za(i,Di).map(function(c,u){return N.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var l=pQe(e.label,n||s);return[l].concat(QJe(o))};Di.parseViewBox=rle;Di.renderCallByParent=mQe;function gQe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var vQe=gQe;const yQe=Ln(vQe);function ew(t){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ew(t)}var xQe=["valueAccessor"],bQe=["data","dataKey","clockWise","id","textBreakAll"];function wQe(t){return jQe(t)||NQe(t)||SQe(t)||_Qe()}function _Qe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SQe(t,e){if(t){if(typeof t=="string")return $D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $D(t,e)}}function NQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jQe(t){if(Array.isArray(t))return $D(t)}function $D(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kE.apply(this,arguments)}function r7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r7(Object(n),!0).forEach(function(r){EQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EQe(t,e,n){return e=AQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AQe(t){var e=TQe(t,"string");return ew(e)=="symbol"?e:e+""}function TQe(t,e){if(ew(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ew(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s7(t,e){if(t==null)return{};var n=CQe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var MQe=function(e){return Array.isArray(e.value)?yQe(e.value):e.value};function sc(t){var e=t.valueAccessor,n=e===void 0?MQe:e,r=s7(t,xQe),i=r.data,s=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=s7(r,bQe);return!i||!i.length?null:J.createElement(Sn,{className:"recharts-label-list"},i.map(function(d,f){var h=en(s)?n(d,f):Zr(d&&d.payload,s),p=en(l)?{}:{id:"".concat(l,"-").concat(f)};return J.createElement(Di,kE({},Rt(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Di.parseViewBox(en(o)?d:i7(i7({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}sc.displayName="LabelList";function PQe(t,e){return t?t===!0?J.createElement(sc,{key:"labelList-implicit",data:e}):J.isValidElement(t)||qt(t)?J.createElement(sc,{key:"labelList-implicit",data:e,content:t}):my(t)?J.createElement(sc,kE({data:e},t,{key:"labelList-implicit"})):null:null}function RQe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=za(r,sc).map(function(o,l){return N.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=PQe(t.label,e);return[s].concat(wQe(i))}sc.renderCallByParent=RQe;function tw(t){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tw(t)}function VD(){return VD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VD.apply(this,arguments)}function a7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a7(Object(n),!0).forEach(function(r){OQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OQe(t,e,n){return e=IQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IQe(t){var e=kQe(t,"string");return tw(e)=="symbol"?e:e+""}function kQe(t,e){if(tw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DQe=function(e,n){var r=Os(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},cN=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/IE,h=u?s:s+o*f,p=lr(n,r,d,h),m=lr(n,r,i,h),g=u?s-o*f:s,y=lr(n,r,d*Math.cos(f*IE),g);return{center:p,circleTangency:m,lineTangency:y,theta:f}},ile=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=DQe(o,l),u=o+c,d=lr(n,r,s,o),f=lr(n,r,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=lr(n,r,i,o),m=lr(n,r,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},LQe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Os(d-u),h=cN({cx:n,cy:r,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,m=h.lineTangency,g=h.theta,y=cN({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=y.circleTangency,w=y.lineTangency,b=y.theta,S=c?Math.abs(u-d):Math.abs(u-d)-g-b;if(S<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ile({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var j="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var E=cN({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=E.circleTangency,P=E.lineTangency,C=E.theta,R=cN({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=R.circleTangency,D=R.lineTangency,V=R.theta,U=c?Math.abs(u-d):Math.abs(u-d)-C-V;if(U<0&&o===0)return"".concat(j,"L").concat(n,",").concat(r,"Z");j+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else j+="L".concat(n,",").concat(r,"Z");return j},FQe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sle=function(e){var n=o7(o7({},FQe),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<s||d===f)return null;var p=tn("recharts-sector",h),m=o-s,g=Is(l,m,0,!0),y;return g>0&&Math.abs(d-f)<360?y=LQe({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=ile({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),J.createElement("path",VD({},Rt(n,!0),{className:p,d:y,role:"img"}))};function nw(t){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nw(t)}function HD(){return HD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HD.apply(this,arguments)}function l7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l7(Object(n),!0).forEach(function(r){UQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UQe(t,e,n){return e=BQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQe(t){var e=zQe(t,"string");return nw(e)=="symbol"?e:e+""}function zQe(t,e){if(nw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u7={curveBasisClosed:Uze,curveBasisOpen:Bze,curveBasis:Fze,curveBumpX:Nze,curveBumpY:jze,curveLinearClosed:zze,curveLinear:iC,curveMonotoneX:$ze,curveMonotoneY:Vze,curveNatural:Hze,curveStep:Wze,curveStepAfter:qze,curveStepBefore:Gze},uN=function(e){return e.x===+e.x&&e.y===+e.y},Tx=function(e){return e.x},Cx=function(e){return e.y},$Qe=function(e,n){if(qt(e))return e;var r="curve".concat(nC(e));return(r==="curveMonotone"||r==="curveBump")&&n?u7["".concat(r).concat(n==="vertical"?"Y":"X")]:u7[r]||iC},VQe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=$Qe(r,l),f=u?s.filter(function(g){return uN(g)}):s,h;if(Array.isArray(o)){var p=u?o.filter(function(g){return uN(g)}):o,m=f.map(function(g,y){return c7(c7({},g),{},{base:p[y]})});return l==="vertical"?h=eN().y(Cx).x1(Tx).x0(function(g){return g.base.x}):h=eN().x(Tx).y1(Cx).y0(function(g){return g.base.y}),h.defined(uN).curve(d),h(m)}return l==="vertical"&&Ke(o)?h=eN().y(Cx).x1(Tx).x0(o):Ke(o)?h=eN().x(Tx).y1(Cx).y0(o):h=Zse().x(Tx).y(Cx),h.defined(uN).curve(d),h(f)},ep=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?VQe(e):i;return N.createElement("path",HD({},Rt(e,!1),iE(e),{className:tn("recharts-curve",n),d:o,ref:s}))},HQe=Object.getOwnPropertyNames,WQe=Object.getOwnPropertySymbols,GQe=Object.prototype.hasOwnProperty;function d7(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function dN(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),l=s.get(r);if(o&&l)return o===r&&l===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function f7(t){return HQe(t).concat(WQe(t))}var qQe=Object.hasOwn||function(t,e){return GQe.call(t,e)};function zp(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var XQe="__v",YQe="__o",KQe="_owner",h7=Object.getOwnPropertyDescriptor,p7=Object.keys;function JQe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function QQe(t,e){return zp(t.getTime(),e.getTime())}function ZQe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function eZe(t,e){return t===e}function m7(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var h=o.value,p=l.value;if(n.equals(h[0],p[0],c,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var tZe=zp;function nZe(t,e,n){var r=p7(t),i=r.length;if(p7(e).length!==i)return!1;for(;i-- >0;)if(!ale(t,e,n,r[i]))return!1;return!0}function Mx(t,e,n){var r=f7(t),i=r.length;if(f7(e).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=r[i],!ale(t,e,n,s)||(o=h7(t,s),l=h7(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function rZe(t,e){return zp(t.valueOf(),e.valueOf())}function iZe(t,e){return t.source===e.source&&t.flags===e.flags}function g7(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function sZe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function aZe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function ale(t,e,n,r){return(r===KQe||r===YQe||r===XQe)&&(t.$$typeof||e.$$typeof)?!0:qQe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var oZe="[object Arguments]",lZe="[object Boolean]",cZe="[object Date]",uZe="[object Error]",dZe="[object Map]",fZe="[object Number]",hZe="[object Object]",pZe="[object RegExp]",mZe="[object Set]",gZe="[object String]",vZe="[object URL]",yZe=Array.isArray,v7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,y7=Object.assign,xZe=Object.prototype.toString.call.bind(Object.prototype.toString);function bZe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,g,y){if(m===g)return!0;if(m==null||g==null)return!1;var v=typeof m;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?o(m,g,y):v==="function"?i(m,g,y):!1;var w=m.constructor;if(w!==g.constructor)return!1;if(w===Object)return l(m,g,y);if(yZe(m))return e(m,g,y);if(v7!=null&&v7(m))return f(m,g,y);if(w===Date)return n(m,g,y);if(w===RegExp)return u(m,g,y);if(w===Map)return s(m,g,y);if(w===Set)return d(m,g,y);var b=xZe(m);return b===cZe?n(m,g,y):b===pZe?u(m,g,y):b===dZe?s(m,g,y):b===mZe?d(m,g,y):b===hZe?typeof m.then!="function"&&typeof g.then!="function"&&l(m,g,y):b===vZe?h(m,g,y):b===uZe?r(m,g,y):b===oZe?l(m,g,y):b===lZe||b===fZe||b===gZe?c(m,g,y):!1}}function wZe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Mx:JQe,areDatesEqual:QQe,areErrorsEqual:ZQe,areFunctionsEqual:eZe,areMapsEqual:r?d7(m7,Mx):m7,areNumbersEqual:tZe,areObjectsEqual:r?Mx:nZe,arePrimitiveWrappersEqual:rZe,areRegExpsEqual:iZe,areSetsEqual:r?d7(g7,Mx):g7,areTypedArraysEqual:r?Mx:sZe,areUrlsEqual:aZe};if(n&&(i=y7({},i,n(i))),e){var s=dN(i.areArraysEqual),o=dN(i.areMapsEqual),l=dN(i.areObjectsEqual),c=dN(i.areSetsEqual);i=y7({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function _Ze(t){return function(e,n,r,i,s,o,l){return t(e,n,l)}}function SZe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(c,u,{cache:h,equals:i,meta:p,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,o)}}var NZe=yf();yf({strict:!0});yf({circular:!0});yf({circular:!0,strict:!0});yf({createInternalComparator:function(){return zp}});yf({strict:!0,createInternalComparator:function(){return zp}});yf({circular:!0,createInternalComparator:function(){return zp}});yf({circular:!0,createInternalComparator:function(){return zp},strict:!0});function yf(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,l=wZe(t),c=bZe(l),u=r?r(c):_Ze(c);return SZe({circular:n,comparator:c,createState:i,equals:u,strict:o})}function jZe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function x7(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):jZe(i)};requestAnimationFrame(r)}function WD(t){"@babel/helpers - typeof";return WD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WD(t)}function EZe(t){return MZe(t)||CZe(t)||TZe(t)||AZe()}function AZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TZe(t,e){if(t){if(typeof t=="string")return b7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b7(t,e)}}function b7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MZe(t){if(Array.isArray(t))return t}function PZe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,l=EZe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){x7(i.bind(null,u),c);return}i(c),x7(i.bind(null,u));return}WD(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function rw(t){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rw(t)}function w7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w7(Object(n),!0).forEach(function(r){ole(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ole(t,e,n){return e=RZe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RZe(t){var e=OZe(t,"string");return rw(e)==="symbol"?e:String(e)}function OZe(t,e){if(rw(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rw(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IZe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},kZe=function(e){return e},DZe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},S0=function(e,n){return Object.keys(n).reduce(function(r,i){return _7(_7({},r),{},ole({},i,e(i,n[i])))},{})},S7=function(e,n,r){return e.map(function(i){return"".concat(DZe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function LZe(t,e){return BZe(t)||UZe(t,e)||lle(t,e)||FZe()}function FZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UZe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function BZe(t){if(Array.isArray(t))return t}function zZe(t){return HZe(t)||VZe(t)||lle(t)||$Ze()}function $Ze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lle(t,e){if(t){if(typeof t=="string")return GD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GD(t,e)}}function VZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HZe(t){if(Array.isArray(t))return GD(t)}function GD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var DE=1e-4,cle=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},ule=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},N7=function(e,n){return function(r){var i=cle(e,n);return ule(i,r)}},WZe=function(e,n){return function(r){var i=cle(e,n),s=[].concat(zZe(i.map(function(o,l){return o*l}).slice(1)),[0]);return ule(s,r)}},j7=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=LZe(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var f=N7(i,o),h=N7(s,l),p=WZe(i,o),m=function(v){return v>1?1:v<0?0:v},g=function(v){for(var w=v>1?1:v,b=w,S=0;S<8;++S){var j=f(b)-w,E=p(b);if(Math.abs(j-w)<DE||E<DE)return h(b);b=m(b-j/E)}return h(b)};return g.isStepper=!1,g},GZe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*r,m=h*s,g=h+(p-m)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<DE&&Math.abs(g)<DE?[f,0]:[y,g]};return c.isStepper=!0,c.dt=l,c},qZe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return j7(i);case"spring":return GZe();default:if(i.split("(")[0]==="cubic-bezier")return j7(i)}return typeof i=="function"?i:null};function iw(t){"@babel/helpers - typeof";return iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iw(t)}function E7(t){return KZe(t)||YZe(t)||dle(t)||XZe()}function XZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KZe(t){if(Array.isArray(t))return XD(t)}function A7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A7(Object(n),!0).forEach(function(r){qD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qD(t,e,n){return e=JZe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JZe(t){var e=QZe(t,"string");return iw(e)==="symbol"?e:String(e)}function QZe(t,e){if(iw(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iw(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZZe(t,e){return net(t)||tet(t,e)||dle(t,e)||eet()}function eet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dle(t,e){if(t){if(typeof t=="string")return XD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XD(t,e)}}function XD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tet(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function net(t){if(Array.isArray(t))return t}var LE=function(e,n,r){return e+(n-e)*r},YD=function(e){var n=e.from,r=e.to;return n!==r},ret=function t(e,n,r){var i=S0(function(s,o){if(YD(o)){var l=e(o.from,o.to,o.velocity),c=ZZe(l,2),u=c[0],d=c[1];return Gi(Gi({},o),{},{from:u,velocity:d})}return o},n);return r<1?S0(function(s,o){return YD(o)?Gi(Gi({},o),{},{velocity:LE(o.velocity,i[s].velocity,r),from:LE(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const iet=function(t,e,n,r,i){var s=IZe(t,e),o=s.reduce(function(y,v){return Gi(Gi({},y),{},qD({},v,[t[v],e[v]]))},{}),l=s.reduce(function(y,v){return Gi(Gi({},y),{},qD({},v,{from:t[v],velocity:0,to:e[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return S0(function(v,w){return w.from},l)},p=function(){return!Object.values(l).filter(YD).length},m=function(v){u||(u=v);var w=v-u,b=w/n.dt;l=ret(n,l,b),i(Gi(Gi(Gi({},t),e),h())),u=v,p()||(c=requestAnimationFrame(f))},g=function(v){d||(d=v);var w=(v-d)/r,b=S0(function(j,E){return LE.apply(void 0,E7(E).concat([n(w)]))},o);if(i(Gi(Gi(Gi({},t),e),b)),w<1)c=requestAnimationFrame(f);else{var S=S0(function(j,E){return LE.apply(void 0,E7(E).concat([n(1)]))},o);i(Gi(Gi(Gi({},t),e),S))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}var set=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aet(t,e){if(t==null)return{};var n=oet(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oet(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PR(t){return fet(t)||det(t)||uet(t)||cet()}function cet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uet(t,e){if(t){if(typeof t=="string")return KD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KD(t,e)}}function det(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fet(t){if(Array.isArray(t))return KD(t)}function KD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T7(Object(n),!0).forEach(function(r){Xx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xx(t,e,n){return e=fle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function het(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fle(r.key),r)}}function met(t,e,n){return e&&pet(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fle(t){var e=get(t,"string");return Tv(e)==="symbol"?e:String(e)}function get(t,e){if(Tv(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JD(t,e)}function JD(t,e){return JD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JD(t,e)}function yet(t){var e=xet();return function(){var r=FE(t),i;if(e){var s=FE(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return QD(this,i)}}function QD(t,e){if(e&&(Tv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZD(t)}function ZD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xet(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function FE(t){return FE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FE(t)}var bl=function(t){vet(n,t);var e=yet(n);function n(r,i){var s;het(this,n),s=e.call(this,r,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(ZD(s)),s.changeStyle=s.changeStyle.bind(ZD(s)),!l||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),QD(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},QD(s);s.state={style:c?Xx({},c,u):u}}else s.state={style:{}};return s}return met(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var p={style:c?Xx({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(NZe(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&h){var y={style:c?Xx({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(y)}this.runAnimation(Vo(Vo({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=iet(o,l,qZe(u),c,this.changeStyle),m=function(){s.stopJSAnimation=p()};this.manager.start([h,d,m,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,y,v){if(v===0)return g;var w=y.duration,b=y.easing,S=b===void 0?"ease":b,j=y.style,E=y.properties,T=y.onAnimationEnd,P=v>0?o[v-1]:y,C=E||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(PR(g),[s.runJSAnimation.bind(s,{from:P.style,to:j,duration:w,easing:S}),w]);var R=S7(C,w,S),I=Vo(Vo(Vo({},P.style),j),{},{transition:R});return[].concat(PR(g),[I,w,T]).filter(kZe)};return this.manager.start([c].concat(PR(o.reduce(p,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=PZe());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=l?Xx({},l,c):c,y=S7(Object.keys(g),o,u);m.start([d,s,Vo(Vo({},g),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=aet(i,set),u=N.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(p){var m=p.props,g=m.style,y=g===void 0?{}:g,v=m.className,w=N.cloneElement(p,Vo(Vo({},c),{},{style:Vo(Vo({},y),d),className:v}));return w};return u===1?f(N.Children.only(s)):J.createElement("div",null,N.Children.map(s,function(h){return f(h)}))}}]),n}(N.PureComponent);bl.displayName="Animate";bl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};bl.propTypes={from:Un.oneOfType([Un.object,Un.string]),to:Un.oneOfType([Un.object,Un.string]),attributeName:Un.string,duration:Un.number,begin:Un.number,easing:Un.oneOfType([Un.string,Un.func]),steps:Un.arrayOf(Un.shape({duration:Un.number.isRequired,style:Un.object.isRequired,easing:Un.oneOfType([Un.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Un.func]),properties:Un.arrayOf("string"),onAnimationEnd:Un.func})),children:Un.oneOfType([Un.node,Un.func]),isActive:Un.bool,canBegin:Un.bool,onAnimationEnd:Un.func,shouldReAnimate:Un.bool,onAnimationStart:Un.func,onAnimationReStart:Un.func};function sw(t){"@babel/helpers - typeof";return sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sw(t)}function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(this,arguments)}function bet(t,e){return jet(t)||Net(t,e)||_et(t,e)||wet()}function wet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _et(t,e){if(t){if(typeof t=="string")return C7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C7(t,e)}}function C7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Net(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function jet(t){if(Array.isArray(t))return t}function M7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M7(Object(n),!0).forEach(function(r){Eet(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eet(t,e,n){return e=Aet(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aet(t){var e=Tet(t,"string");return sw(e)=="symbol"?e:e+""}function Tet(t,e){if(sw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R7=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>o?o:s[h];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var m=Math.min(o,s);d="M ".concat(e,",").concat(n+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+c*m,",").concat(n,`
            L `).concat(e+r-c*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*m,`
            L `).concat(e+r,",").concat(n+i-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-c*m,",").concat(n+i,`
            L `).concat(e+c*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*m," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Cet=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},Met={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aU=function(e){var n=P7(P7({},Met),e),r=N.useRef(),i=N.useState(-1),s=bet(i,2),o=s[0],l=s[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=tn("recharts-rectangle",p);return w?J.createElement(bl,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:m,isActive:w},function(S){var j=S.width,E=S.height,T=S.x,P=S.y;return J.createElement(bl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:v,easing:m},J.createElement("path",UE({},Rt(n,!0),{className:b,d:R7(T,P,j,E,h),ref:r})))}):J.createElement("path",UE({},Rt(n,!0),{className:b,d:R7(c,u,d,f,h)}))},Pet=["points","className","baseLinePoints","connectNulls"];function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function Ret(t,e){if(t==null)return{};var n=Oet(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oet(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O7(t){return Let(t)||Det(t)||ket(t)||Iet()}function Iet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ket(t,e){if(t){if(typeof t=="string")return eL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eL(t,e)}}function Det(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Let(t){if(Array.isArray(t))return eL(t)}function eL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var I7=function(e){return e&&e.x===+e.x&&e.y===+e.y},Fet=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){I7(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),I7(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},N0=function(e,n){var r=Fet(e);n&&(r=[r.reduce(function(s,o){return[].concat(O7(s),O7(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Uet=function(e,n,r){var i=N0(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(N0(n.reverse(),r).slice(1))},Bet=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=Ret(e,Pet);if(!n||!n.length)return null;var l=tn("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=Uet(n,i,s);return J.createElement("g",{className:l},J.createElement("path",vg({},Rt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?J.createElement("path",vg({},Rt(o,!0),{fill:"none",d:N0(n,s)})):null,c?J.createElement("path",vg({},Rt(o,!0),{fill:"none",d:N0(i,s)})):null)}var d=N0(n,s);return J.createElement("path",vg({},Rt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function tL(){return tL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tL.apply(this,arguments)}var f_=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=tn("recharts-dot",s);return n===+n&&r===+r&&i===+i?N.createElement("circle",tL({},Rt(e,!1),iE(e),{className:o,cx:n,cy:r,r:i})):null};function aw(t){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aw(t)}var zet=["x","y","top","left","width","height","className"];function nL(){return nL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nL.apply(this,arguments)}function k7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k7(Object(n),!0).forEach(function(r){Vet(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vet(t,e,n){return e=Het(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Het(t){var e=Wet(t,"string");return aw(e)=="symbol"?e:e+""}function Wet(t,e){if(aw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(aw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Get(t,e){if(t==null)return{};var n=qet(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qet(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Xet=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Yet=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,m=e.className,g=Get(e,zet),y=$et({x:r,y:s,top:l,left:u,width:f,height:p},g);return!Ke(r)||!Ke(s)||!Ke(f)||!Ke(p)||!Ke(l)||!Ke(u)?null:J.createElement("path",nL({},Rt(y,!0),{className:tn("recharts-cross",m),d:Xet(r,s,f,p,l,u)}))},Ket=gC,Jet=Aoe,Qet=wc;function Zet(t,e){return t&&t.length?Ket(t,Qet(e),Jet):void 0}var ett=Zet;const ttt=Ln(ett);var ntt=gC,rtt=wc,itt=Toe;function stt(t,e){return t&&t.length?ntt(t,rtt(e),itt):void 0}var att=stt;const ott=Ln(att);var ltt=["cx","cy","angle","ticks","axisLine"],ctt=["ticks","tick","angle","tickFormatter","stroke"];function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j0.apply(this,arguments)}function D7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D7(Object(n),!0).forEach(function(r){bC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L7(t,e){if(t==null)return{};var n=utt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function utt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ple(r.key),r)}}function ftt(t,e,n){return e&&F7(t.prototype,e),n&&F7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function htt(t,e,n){return e=BE(e),ptt(t,hle()?Reflect.construct(e,n||[],BE(t).constructor):e.apply(t,n))}function ptt(t,e){if(e&&(Cv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mtt(t)}function mtt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hle=function(){return!!t})()}function BE(t){return BE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BE(t)}function gtt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rL(t,e)}function rL(t,e){return rL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rL(t,e)}function bC(t,e,n){return e=ple(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ple(t){var e=vtt(t,"string");return Cv(e)=="symbol"?e:e+""}function vtt(t,e){if(Cv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wC=function(t){function e(){return dtt(this,e),htt(this,e,arguments)}return gtt(e,t),ftt(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return lr(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=ttt(l,function(d){return d.coordinate||0}),u=ott(l,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=L7(r,ltt),d=l.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=lr(i,s,d[0],o),h=lr(i,s,d[1],o),p=Yf(Yf(Yf({},Rt(u,!1)),{},{fill:"none"},Rt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return J.createElement("line",j0({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=L7(i,ctt),f=this.getTickTextAnchor(),h=Rt(d,!1),p=Rt(o,!1),m=s.map(function(g,y){var v=r.getTickValueCoord(g),w=Yf(Yf(Yf(Yf({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:y},v),{},{payload:g});return J.createElement(Sn,j0({className:tn("recharts-polar-radius-axis-tick",nle(o)),key:"tick-".concat(g.coordinate)},mp(r.props,g,y)),e.renderTickItem(o,w,c?c(g.value,y):g.value))});return J.createElement(Sn,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:J.createElement(Sn,{className:tn("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Di.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return J.isValidElement(r)?o=J.cloneElement(r,i):qt(r)?o=r(i):o=J.createElement(gp,j0({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(N.PureComponent);bC(wC,"displayName","PolarRadiusAxis");bC(wC,"axisType","radiusAxis");bC(wC,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}function U7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U7(Object(n),!0).forEach(function(r){_C(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ytt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gle(r.key),r)}}function xtt(t,e,n){return e&&B7(t.prototype,e),n&&B7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function btt(t,e,n){return e=zE(e),wtt(t,mle()?Reflect.construct(e,n||[],zE(t).constructor):e.apply(t,n))}function wtt(t,e){if(e&&(Mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _tt(t)}function _tt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mle=function(){return!!t})()}function zE(t){return zE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zE(t)}function Stt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iL(t,e)}function iL(t,e){return iL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iL(t,e)}function _C(t,e,n){return e=gle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gle(t){var e=Ntt(t,"string");return Mv(e)=="symbol"?e:e+""}function Ntt(t,e){if(Mv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jtt=Math.PI/180,z7=1e-5,SC=function(t){function e(){return ytt(this,e),btt(this,e,arguments)}return Stt(e,t),xtt(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=lr(s,o,l,r.coordinate),h=lr(s,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*jtt),o;return s>z7?o=i==="outer"?"start":"end":s<-z7?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=Kf(Kf({},Rt(this.props,!1)),{},{fill:"none"},Rt(l,!1));if(c==="circle")return J.createElement(f_,mh({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return lr(i,s,o,h.coordinate)});return J.createElement(Bet,mh({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Rt(this.props,!1),f=Rt(o,!1),h=Kf(Kf({},d),{},{fill:"none"},Rt(l,!1)),p=s.map(function(m,g){var y=r.getTickLineCoord(m),v=r.getTickTextAnchor(m),w=Kf(Kf(Kf({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:m,x:y.x2,y:y.y2});return J.createElement(Sn,mh({className:tn("recharts-polar-angle-axis-tick",nle(o)),key:"tick-".concat(m.coordinate)},mp(r.props,m,g)),l&&J.createElement("line",mh({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&e.renderTickItem(o,w,c?c(m.value,g):m.value))});return J.createElement(Sn,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:J.createElement(Sn,{className:tn("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return J.isValidElement(r)?o=J.cloneElement(r,i):qt(r)?o=r(i):o=J.createElement(gp,mh({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(N.PureComponent);_C(SC,"displayName","PolarAngleAxis");_C(SC,"axisType","angleAxis");_C(SC,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ett=Sae,Att=Ett(Object.getPrototypeOf,Object),Ttt=Att,Ctt=Nu,Mtt=Ttt,Ptt=ju,Rtt="[object Object]",Ott=Function.prototype,Itt=Object.prototype,vle=Ott.toString,ktt=Itt.hasOwnProperty,Dtt=vle.call(Object);function Ltt(t){if(!Ptt(t)||Ctt(t)!=Rtt)return!1;var e=Mtt(t);if(e===null)return!0;var n=ktt.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&vle.call(n)==Dtt}var Ftt=Ltt;const Utt=Ln(Ftt);var Btt=Nu,ztt=ju,$tt="[object Boolean]";function Vtt(t){return t===!0||t===!1||ztt(t)&&Btt(t)==$tt}var Htt=Vtt;const Wtt=Ln(Htt);function ow(t){"@babel/helpers - typeof";return ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ow(t)}function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(this,arguments)}function Gtt(t,e){return Ktt(t)||Ytt(t,e)||Xtt(t,e)||qtt()}function qtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xtt(t,e){if(t){if(typeof t=="string")return $7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $7(t,e)}}function $7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ytt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Ktt(t){if(Array.isArray(t))return t}function V7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V7(Object(n),!0).forEach(function(r){Jtt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jtt(t,e,n){return e=Qtt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qtt(t){var e=Ztt(t,"string");return ow(e)=="symbol"?e:e+""}function Ztt(t,e){if(ow(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ow(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W7=function(e,n,r,i,s){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+s),l+="L ".concat(e+r-o/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},ent={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tnt=function(e){var n=H7(H7({},ent),e),r=N.useRef(),i=N.useState(-1),s=Gtt(i,2),o=s[0],l=s[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&l(b)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=tn("recharts-trapezoid",p);return v?J.createElement(bl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:m,isActive:v},function(b){var S=b.upperWidth,j=b.lowerWidth,E=b.height,T=b.x,P=b.y;return J.createElement(bl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:m},J.createElement("path",$E({},Rt(n,!0),{className:w,d:W7(T,P,S,j,E),ref:r})))}):J.createElement("g",null,J.createElement("path",$E({},Rt(n,!0),{className:w,d:W7(c,u,d,f,h)})))},nnt=["option","shapeType","propTransformer","activeClassName","isActive"];function lw(t){"@babel/helpers - typeof";return lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lw(t)}function rnt(t,e){if(t==null)return{};var n=int(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function int(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function G7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G7(Object(n),!0).forEach(function(r){snt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function snt(t,e,n){return e=ant(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ant(t){var e=ont(t,"string");return lw(e)=="symbol"?e:e+""}function ont(t,e){if(lw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lnt(t,e){return VE(VE({},e),t)}function cnt(t,e){return t==="symbols"}function q7(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return J.createElement(aU,n);case"trapezoid":return J.createElement(tnt,n);case"sector":return J.createElement(sle,n);case"symbols":if(cnt(e))return J.createElement(jF,n);break;default:return null}}function unt(t){return N.isValidElement(t)?t.props:t}function yle(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?lnt:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=rnt(t,nnt),u;if(N.isValidElement(e))u=N.cloneElement(e,VE(VE({},c),unt(e)));else if(qt(e))u=e(c);else if(Utt(e)&&!Wtt(e)){var d=i(e,c);u=J.createElement(q7,{shapeType:n,elementProps:d})}else{var f=c;u=J.createElement(q7,{shapeType:n,elementProps:f})}return l?J.createElement(Sn,{className:o},u):u}function NC(t,e){return e!=null&&"trapezoids"in t.props}function jC(t,e){return e!=null&&"sectors"in t.props}function cw(t,e){return e!=null&&"points"in t.props}function dnt(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function fnt(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function hnt(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function pnt(t,e){var n;return NC(t,e)?n=dnt:jC(t,e)?n=fnt:cw(t,e)&&(n=hnt),n}function mnt(t,e){var n;return NC(t,e)?n="trapezoids":jC(t,e)?n="sectors":cw(t,e)&&(n="points"),n}function gnt(t,e){if(NC(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(jC(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return cw(t,e)?e.payload:{}}function vnt(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=mnt(n,e),s=gnt(n,e),o=r.filter(function(c,u){var d=vp(s,c),f=n.props[i].filter(function(m){var g=pnt(n,e);return g(m,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=r.indexOf(o[o.length-1]);return l}var JN;function Pv(t){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function X7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X7(Object(n),!0).forEach(function(r){yo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ynt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ble(r.key),r)}}function xnt(t,e,n){return e&&Y7(t.prototype,e),n&&Y7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bnt(t,e,n){return e=HE(e),wnt(t,xle()?Reflect.construct(e,n||[],HE(t).constructor):e.apply(t,n))}function wnt(t,e){if(e&&(Pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _nt(t)}function _nt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xle=function(){return!!t})()}function HE(t){return HE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HE(t)}function Snt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sL(t,e)}function sL(t,e){return sL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sL(t,e)}function yo(t,e,n){return e=ble(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ble(t){var e=Nnt(t,"string");return Pv(e)=="symbol"?e:e+""}function Nnt(t,e){if(Pv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Au=function(t){function e(n){var r;return ynt(this,e),r=bnt(this,e,[n]),yo(r,"pieRef",null),yo(r,"sectorRefs",[]),yo(r,"id",Fp("recharts-pie-")),yo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),qt(i)&&i()}),yo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),qt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Snt(e,t),xnt(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Rt(this.props,!1),f=Rt(o,!1),h=Rt(l,!1),p=o&&o.offsetRadius||20,m=r.map(function(g,y){var v=(g.startAngle+g.endAngle)/2,w=lr(g.cx,g.cy,g.outerRadius+p,v),b=sr(sr(sr(sr({},d),g),{},{stroke:"none"},f),{},{index:y,textAnchor:e.getTextAnchor(w.x,g.cx)},w),S=sr(sr(sr(sr({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:y,points:[lr(g.cx,g.cy,g.outerRadius,v),w]}),j=c;return en(c)&&en(u)?j="value":en(c)&&(j=u),J.createElement(Sn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,S,"line"),e.renderLabelItem(o,b,Zr(g,j)))});return J.createElement(Sn,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,p=f?o:h,m=sr(sr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return J.createElement(Sn,yg({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},mp(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),J.createElement(yle,yg({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return J.createElement(bl,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,y=[],v=s&&s[0],w=v.startAngle;return s.forEach(function(b,S){var j=h&&h[S],E=S>0?Ba(b,"paddingAngle",0):0;if(j){var T=bi(j.endAngle-j.startAngle,b.endAngle-b.startAngle),P=sr(sr({},b),{},{startAngle:w+E,endAngle:w+T(g)+E});y.push(P),w=P.endAngle}else{var C=b.endAngle,R=b.startAngle,I=bi(0,C-R),D=I(g),V=sr(sr({},b),{},{startAngle:w+E,endAngle:w+D+E});y.push(V),w=V.endAngle}}),J.createElement(Sn,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!vp(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(s||!o||!o.length||!Ke(u)||!Ke(d)||!Ke(f)||!Ke(h))return null;var g=tn("recharts-pie",l);return J.createElement(Sn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){r.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),Di.renderCallByParent(this.props,null,!1),(!p||m)&&sc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(J.isValidElement(r))return J.cloneElement(r,i);if(qt(r))return r(i);var o=tn("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return J.createElement(ep,yg({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(J.isValidElement(r))return J.cloneElement(r,i);var o=s;if(qt(r)&&(o=r(i),J.isValidElement(o)))return o;var l=tn("recharts-pie-label-text",typeof r!="boolean"&&!qt(r)?r.className:"");return J.createElement(gp,yg({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(N.PureComponent);JN=Au;yo(Au,"displayName","Pie");yo(Au,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});yo(Au,"parseDeltaAngle",function(t,e){var n=Os(e-t),r=Math.min(Math.abs(e-t),360);return n*r});yo(Au,"getRealPieData",function(t){var e=t.data,n=t.children,r=Rt(t,!1),i=za(n,cC);return e&&e.length?e.map(function(s,o){return sr(sr(sr({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return sr(sr({},r),s.props)}):[]});yo(Au,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=tle(i,s),l=r+Is(t.cx,i,i/2),c=n+Is(t.cy,s,s/2),u=Is(t.innerRadius,o,0),d=Is(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});yo(Au,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?sr(sr({},e.type.defaultProps),e.props):e.props,i=JN.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),m=JN.parseCoordinateOfPie(r,n),g=JN.parseDeltaAngle(o,l),y=Math.abs(g),v=u;en(u)&&en(f)?(dl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):en(u)&&(dl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var w=i.filter(function(P){return Zr(P,v,0)!==0}).length,b=(y>=360?w:w-1)*c,S=y-w*p-b,j=i.reduce(function(P,C){var R=Zr(C,v,0);return P+(Ke(R)?R:0)},0),E;if(j>0){var T;E=i.map(function(P,C){var R=Zr(P,v,0),I=Zr(P,d,C),D=(Ke(R)?R:0)/j,V;C?V=T.endAngle+Os(g)*c*(R!==0?1:0):V=o;var U=V+Os(g)*((R!==0?p:0)+D*S),$=(V+U)/2,z=(m.innerRadius+m.outerRadius)/2,W=[{name:I,value:R,payload:P,dataKey:v,type:h}],k=lr(m.cx,m.cy,z,$);return T=sr(sr(sr({percent:D,cornerRadius:s,name:I,tooltipPayload:W,midAngle:$,middleRadius:z,tooltipPosition:k},P),m),{},{value:Zr(P,v),startAngle:V,endAngle:U,payload:P,paddingAngle:Os(g)*c}),T})}return sr(sr({},m),{},{sectors:E,data:i})});var jnt=Math.ceil,Ent=Math.max;function Ant(t,e,n,r){for(var i=-1,s=Ent(jnt((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var Tnt=Ant,Cnt=$ae,K7=1/0,Mnt=17976931348623157e292;function Pnt(t){if(!t)return t===0?t:0;if(t=Cnt(t),t===K7||t===-K7){var e=t<0?-1:1;return e*Mnt}return t===t?t:0}var wle=Pnt,Rnt=Tnt,Ont=lC,RR=wle;function Int(t){return function(e,n,r){return r&&typeof r!="number"&&Ont(e,n,r)&&(n=r=void 0),e=RR(e),n===void 0?(n=e,e=0):n=RR(n),r=r===void 0?e<n?1:-1:RR(r),Rnt(e,n,r,t)}}var knt=Int,Dnt=knt,Lnt=Dnt(),Fnt=Lnt;const WE=Ln(Fnt);function uw(t){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uw(t)}function J7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J7(Object(n),!0).forEach(function(r){_le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _le(t,e,n){return e=Unt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Unt(t){var e=Bnt(t,"string");return uw(e)=="symbol"?e:e+""}function Bnt(t,e){if(uw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var znt=["Webkit","Moz","O","ms"],$nt=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=znt.reduce(function(s,o){return Q7(Q7({},s),{},_le({},o+r,n))},{});return i[e]=n,i};function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(this,arguments)}function Z7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z7(Object(n),!0).forEach(function(r){ja(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nle(r.key),r)}}function Hnt(t,e,n){return e&&eq(t.prototype,e),n&&eq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wnt(t,e,n){return e=qE(e),Gnt(t,Sle()?Reflect.construct(e,n||[],qE(t).constructor):e.apply(t,n))}function Gnt(t,e){if(e&&(Rv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qnt(t)}function qnt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sle=function(){return!!t})()}function qE(t){return qE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qE(t)}function Xnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aL(t,e)}function aL(t,e){return aL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aL(t,e)}function ja(t,e,n){return e=Nle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nle(t){var e=Ynt(t,"string");return Rv(e)=="symbol"?e:e+""}function Ynt(t,e){if(Rv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Knt=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=w0().domain(WE(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},tq=function(e){return e.changedTouches&&!!e.changedTouches.length},Ov=function(t){function e(n){var r;return Vnt(this,e),r=Wnt(this,e,[n]),ja(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ja(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ja(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),ja(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ja(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ja(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ja(r,"handleSlideDragStart",function(i){var s=tq(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Xnt(e,t),Hnt(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),p=e.getIndexInRange(o,f),m=e.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=Zr(s[r],l,r);return qt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,m=c.onChange,g=r.pageX-s;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var y=this.getIndex({startX:o+g,endX:l+g});(y.startIndex!==h||y.endIndex!==p)&&m&&m(y),this.setState({startX:o+g,endX:l+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=tq(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,y=d.data,v={startX:this.state.startX,endX:this.state.endX},w=r.pageX-s;w>0?w=Math.min(w,f+h-p-u):w<0&&(w=Math.max(w,f-u)),v[o]=u+w;var b=this.getIndex(v),S=b.startIndex,j=b.endIndex,E=function(){var P=y.length-1;return o==="startX"&&(l>c?S%g===0:j%g===0)||l<c&&j===P||o==="endX"&&(l>c?j%g===0:S%g===0)||l>c&&j===P};this.setState(ja(ja({},o,u+w),"brushMoveStartX",r.pageX),function(){m&&E()&&m(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var p=l[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(ja({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return J.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=N.Children.only(u);return f?J.cloneElement(f,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,m=c.data,g=c.startIndex,y=c.endIndex,v=Math.max(r,this.props.x),w=OR(OR({},Rt(this.props,!1)),{},{x:v,y:u,width:d,height:f}),b=p||"Min value: ".concat((s=m[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=m[y])===null||o===void 0?void 0:o.name);return J.createElement(Sn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return J.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return J.createElement(Sn,{className:"recharts-brush-texts"},J.createElement(gp,GE({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},m),this.getTextOfTick(i)),J.createElement(gp,GE({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},m),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Ke(l)||!Ke(c)||!Ke(u)||!Ke(d)||u<=0||d<=0)return null;var b=tn("recharts-brush",s),S=J.Children.count(o)===1,j=$nt("userSelect","none");return J.createElement(Sn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||y||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(s+l/2)-1;return J.createElement(J.Fragment,null,J.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),J.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),J.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return J.isValidElement(r)?s=J.cloneElement(r,i):qt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return OR({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?Knt({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}(N.PureComponent);ja(Ov,"displayName","Brush");ja(Ov,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Jnt=RF;function Qnt(t,e){var n;return Jnt(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var Znt=Qnt,ert=mae,trt=wc,nrt=Znt,rrt=pa,irt=lC;function srt(t,e,n){var r=rrt(t)?ert:nrt;return n&&irt(t,e,n)&&(e=void 0),r(t,trt(e))}var art=srt;const ort=Ln(art);var ac=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},nq=Lae;function lrt(t,e,n){e=="__proto__"&&nq?nq(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var crt=lrt,urt=crt,drt=kae,frt=wc;function hrt(t,e){var n={};return e=frt(e),drt(t,function(r,i,s){urt(n,i,e(r,i,s))}),n}var prt=hrt;const mrt=Ln(prt);function grt(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var vrt=grt,yrt=RF;function xrt(t,e){var n=!0;return yrt(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var brt=xrt,wrt=vrt,_rt=brt,Srt=wc,Nrt=pa,jrt=lC;function Ert(t,e,n){var r=Nrt(t)?wrt:_rt;return n&&jrt(t,e,n)&&(e=void 0),r(t,Srt(e))}var Art=Ert;const jle=Ln(Art);var Trt=["x","y"];function dw(t){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dw(t)}function oL(){return oL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oL.apply(this,arguments)}function rq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Px(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rq(Object(n),!0).forEach(function(r){Crt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Crt(t,e,n){return e=Mrt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mrt(t){var e=Prt(t,"string");return dw(e)=="symbol"?e:e+""}function Prt(t,e){if(dw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rrt(t,e){if(t==null)return{};var n=Ort(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ort(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Irt(t,e){var n=t.x,r=t.y,i=Rrt(t,Trt),s="".concat(n),o=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Px(Px(Px(Px(Px({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function iq(t){return J.createElement(yle,oL({shapeType:"rectangle",propTransformer:Irt,activeClassName:"recharts-active-bar"},t))}var krt=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Ke(r)||uBe(r);return s?e(r,i):(s||xp(),n)}},Drt=["value","background"],Ele;function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function Lrt(t,e){if(t==null)return{};var n=Frt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Frt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(this,arguments)}function sq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sq(Object(n),!0).forEach(function(r){wd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Urt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tle(r.key),r)}}function Brt(t,e,n){return e&&aq(t.prototype,e),n&&aq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zrt(t,e,n){return e=YE(e),$rt(t,Ale()?Reflect.construct(e,n||[],YE(t).constructor):e.apply(t,n))}function $rt(t,e){if(e&&(Iv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vrt(t)}function Vrt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ale(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ale=function(){return!!t})()}function YE(t){return YE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},YE(t)}function Hrt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lL(t,e)}function lL(t,e){return lL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lL(t,e)}function wd(t,e,n){return e=Tle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tle(t){var e=Wrt(t,"string");return Iv(e)=="symbol"?e:e+""}function Wrt(t,e){if(Iv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kd=function(t){function e(){var n;Urt(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=zrt(this,e,[].concat(i)),wd(n,"state",{isAnimationFinished:!1}),wd(n,"id",Fp("recharts-bar-")),wd(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),wd(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Hrt(e,t),Brt(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Rt(this.props,!1);return r&&r.map(function(f,h){var p=h===c,m=p?u:o,g=oi(oi(oi({},d),f),{},{isActive:p,option:m,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return J.createElement(Sn,XE({className:"recharts-bar-rectangle"},mp(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),J.createElement(iq,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return J.createElement(bl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=s.map(function(y,v){var w=h&&h[v];if(w){var b=bi(w.x,y.x),S=bi(w.y,y.y),j=bi(w.width,y.width),E=bi(w.height,y.height);return oi(oi({},y),{},{x:b(m),y:S(m),width:j(m),height:E(m)})}if(o==="horizontal"){var T=bi(0,y.height),P=T(m);return oi(oi({},y),{},{y:y.y+y.height-P,height:P})}var C=bi(0,y.width),R=C(m);return oi(oi({},y),{},{width:R})});return J.createElement(Sn,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!vp(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Rt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=Lrt(u,Drt);if(!f)return null;var p=oi(oi(oi(oi(oi({},h),{},{fill:"#eee"},f),c),mp(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return J.createElement(iq,XE({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=za(d,d_);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(y,v){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Zr(y,v)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return J.createElement(Sn,m,f.map(function(g){return J.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,v=tn("recharts-bar",o),w=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,S=w||b,j=en(g)?this.id:g;return J.createElement(Sn,{className:v},w||b?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(j)},J.createElement("rect",{x:w?u:u-f/2,y:b?d:d-h/2,width:w?f:f*2,height:b?h:h*2}))):null,J.createElement(Sn,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!p||y)&&sc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(N.PureComponent);Ele=Kd;wd(Kd,"displayName","Bar");wd(Kd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wd(Kd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=TJe(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,y=g!==void 0?oi(oi({},g),n.props):n.props,v=y.dataKey,w=y.children,b=y.minPointSize,S=m==="horizontal"?o:s,j=u?S.scale.domain():null,E=kJe({numericAxis:S}),T=za(w,cC),P=f.map(function(C,R){var I,D,V,U,$,z;u?I=CJe(u[d+R],j):(I=Zr(C,v),Array.isArray(I)||(I=[E,I]));var W=krt(b,Ele.defaultProps.minPointSize)(I[1],R);if(m==="horizontal"){var k,L=[o.scale(I[0]),o.scale(I[1])],H=L[0],G=L[1];D=Y9({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:C,index:R}),V=(k=G??H)!==null&&k!==void 0?k:void 0,U=p.size;var X=H-G;if($=Number.isNaN(X)?0:X,z={x:D,y:o.y,width:U,height:o.height},Math.abs(W)>0&&Math.abs($)<Math.abs(W)){var Z=Os($||W)*(Math.abs(W)-Math.abs($));V-=Z,$+=Z}}else{var B=[s.scale(I[0]),s.scale(I[1])],te=B[0],ie=B[1];if(D=te,V=Y9({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:C,index:R}),U=ie-te,$=p.size,z={x:s.x,y:V,width:s.width,height:$},Math.abs(W)>0&&Math.abs(U)<Math.abs(W)){var ae=Os(U||W)*(Math.abs(W)-Math.abs(U));U+=ae}}return oi(oi(oi({},C),{},{x:D,y:V,width:U,height:$,value:u?I:I[1],payload:C,background:z},T&&T[R]&&T[R].props),{},{tooltipPayload:[Zoe(n,C)],tooltipPosition:{x:D+U/2,y:V+$/2}})});return oi({data:P,layout:m},h)});function fw(t){"@babel/helpers - typeof";return fw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fw(t)}function Grt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cle(r.key),r)}}function qrt(t,e,n){return e&&oq(t.prototype,e),n&&oq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lq(Object(n),!0).forEach(function(r){EC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EC(t,e,n){return e=Cle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cle(t){var e=Xrt(t,"string");return fw(e)=="symbol"?e:e+""}function Xrt(t,e){if(fw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oU=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!Aa(u,Kd);return d.reduce(function(p,m){var g=n[m],y=g.orientation,v=g.domain,w=g.padding,b=w===void 0?{}:w,S=g.mirror,j=g.reversed,E="".concat(y).concat(S?"Mirror":""),T,P,C,R,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var D=v[1]-v[0],V=1/0,U=g.categoricalDomain.sort(hBe);if(U.forEach(function(B,te){te>0&&(V=Math.min((B||0)-(U[te-1]||0),V))}),Number.isFinite(V)){var $=V/D,z=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(T=$*z/2),g.padding==="no-gap"){var W=Is(e.barCategoryGap,$*z),k=$*z/2;T=k-W-(k-W)/z*W}}}i==="xAxis"?P=[r.left+(b.left||0)+(T||0),r.left+r.width-(b.right||0)-(T||0)]:i==="yAxis"?P=c==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(T||0),r.top+r.height-(b.bottom||0)-(T||0)]:P=g.range,j&&(P=[P[1],P[0]]);var L=Yoe(g,s,h),H=L.scale,G=L.realScaleType;H.domain(v).range(P),Koe(H);var X=Joe(H,tl(tl({},g),{},{realScaleType:G}));i==="xAxis"?(I=y==="top"&&!S||y==="bottom"&&S,C=r.left,R=f[E]-I*g.height):i==="yAxis"&&(I=y==="left"&&!S||y==="right"&&S,C=f[E]-I*g.width,R=r.top);var Z=tl(tl(tl({},g),X),{},{realScaleType:G,x:C,y:R,scale:H,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return Z.bandSize=OE(Z,X),!g.hide&&i==="xAxis"?f[E]+=(I?-1:1)*Z.height:g.hide||(f[E]+=(I?-1:1)*Z.width),tl(tl({},p),{},EC({},m,Z))},{})},Mle=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},Yrt=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return Mle({x:n,y:r},{x:i,y:s})},Ple=function(){function t(e){Grt(this,t),this.scale=e}return qrt(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();EC(Ple,"EPS",1e-4);var lU=function(e){var n=Object.keys(e).reduce(function(r,i){return tl(tl({},r),{},EC({},i,Ple.create(e[i])))},{});return tl(tl({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return mrt(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return jle(i,function(s,o){return n[o].isInRange(s)})}})};function Krt(t){return(t%180+180)%180}var Jrt=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Krt(i),o=s*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Qrt=wc,Zrt=a_,eit=aC;function tit(t){return function(e,n,r){var i=Object(e);if(!Zrt(e)){var s=Qrt(n);e=eit(e),n=function(l){return s(i[l],l,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var nit=tit,rit=wle;function iit(t){var e=rit(t),n=e%1;return e===e?n?e-n:e:0}var sit=iit,ait=Cae,oit=wc,lit=sit,cit=Math.max;function uit(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:lit(n);return i<0&&(i=cit(r+i,0)),ait(t,oit(e),i)}var dit=uit,fit=nit,hit=dit,pit=fit(hit),mit=pit;const git=Ln(mit);var vit=gUe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),cU=N.createContext(void 0),uU=N.createContext(void 0),Rle=N.createContext(void 0),Ole=N.createContext({}),Ile=N.createContext(void 0),kle=N.createContext(0),Dle=N.createContext(0),cq=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=vit(s);return J.createElement(cU.Provider,{value:r},J.createElement(uU.Provider,{value:i},J.createElement(Ole.Provider,{value:s},J.createElement(Rle.Provider,{value:d},J.createElement(Ile.Provider,{value:o},J.createElement(kle.Provider,{value:u},J.createElement(Dle.Provider,{value:c},l)))))))},yit=function(){return N.useContext(Ile)},Lle=function(e){var n=N.useContext(cU);n==null&&xp();var r=n[e];return r==null&&xp(),r},xit=function(){var e=N.useContext(cU);return ld(e)},bit=function(){var e=N.useContext(uU),n=git(e,function(r){return jle(r.domain,Number.isFinite)});return n||ld(e)},Fle=function(e){var n=N.useContext(uU);n==null&&xp();var r=n[e];return r==null&&xp(),r},wit=function(){var e=N.useContext(Rle);return e},_it=function(){return N.useContext(Ole)},dU=function(){return N.useContext(Dle)},fU=function(){return N.useContext(kle)};function kv(t){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function Sit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ble(r.key),r)}}function jit(t,e,n){return e&&Nit(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eit(t,e,n){return e=KE(e),Ait(t,Ule()?Reflect.construct(e,n||[],KE(t).constructor):e.apply(t,n))}function Ait(t,e){if(e&&(kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tit(t)}function Tit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ule(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ule=function(){return!!t})()}function KE(t){return KE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},KE(t)}function Cit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cL(t,e)}function cL(t,e){return cL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cL(t,e)}function uq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uq(Object(n),!0).forEach(function(r){hU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hU(t,e,n){return e=Ble(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ble(t){var e=Mit(t,"string");return kv(e)=="symbol"?e:e+""}function Mit(t,e){if(kv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pit(t,e){return kit(t)||Iit(t,e)||Oit(t,e)||Rit()}function Rit(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oit(t,e){if(t){if(typeof t=="string")return fq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fq(t,e)}}function fq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iit(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function kit(t){if(Array.isArray(t))return t}function uL(){return uL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uL.apply(this,arguments)}var Dit=function(e,n){var r;return J.isValidElement(e)?r=J.cloneElement(e,n):qt(e)?r=e(n):r=J.createElement("line",uL({},n,{className:"recharts-reference-line-line"})),r},Lit=function(e,n,r,i,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,p=s.height;if(r){var m=u.y,g=e.y.apply(m,{position:o});if(ac(u,"discard")&&!e.y.isInRange(g))return null;var y=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?y.reverse():y}if(n){var v=u.x,w=e.x.apply(v,{position:o});if(ac(u,"discard")&&!e.x.isInRange(w))return null;var b=[{x:w,y:f+p},{x:w,y:f}];return l==="top"?b.reverse():b}if(i){var S=u.segment,j=S.map(function(E){return e.apply(E,{position:o})});return ac(u,"discard")&&ort(j,function(E){return!e.isInRange(E)})?null:j}return null};function Fit(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=yit(),d=Lle(i),f=Fle(s),h=wit();if(!u||!h)return null;dl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=lU({x:d.scale,y:f.scale}),m=Ni(e),g=Ni(n),y=r&&r.length===2,v=Lit(p,m,g,y,h,t.position,d.orientation,f.orientation,t);if(!v)return null;var w=Pit(v,2),b=w[0],S=b.x,j=b.y,E=w[1],T=E.x,P=E.y,C=ac(t,"hidden")?"url(#".concat(u,")"):void 0,R=dq(dq({clipPath:C},Rt(t,!0)),{},{x1:S,y1:j,x2:T,y2:P});return J.createElement(Sn,{className:tn("recharts-reference-line",l)},Dit(o,R),Di.renderCallByParent(t,Yrt({x1:S,y1:j,x2:T,y2:P})))}var pU=function(t){function e(){return Sit(this,e),Eit(this,e,arguments)}return Cit(e,t),jit(e,[{key:"render",value:function(){return J.createElement(Fit,this.props)}}])}(J.Component);hU(pU,"displayName","ReferenceLine");hU(pU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function dL(){return dL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dL.apply(this,arguments)}function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function hq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(n),!0).forEach(function(r){AC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$le(r.key),r)}}function zit(t,e,n){return e&&Bit(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $it(t,e,n){return e=JE(e),Vit(t,zle()?Reflect.construct(e,n||[],JE(t).constructor):e.apply(t,n))}function Vit(t,e){if(e&&(Dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hit(t)}function Hit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zle=function(){return!!t})()}function JE(t){return JE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},JE(t)}function Wit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fL(t,e)}function fL(t,e){return fL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fL(t,e)}function AC(t,e,n){return e=$le(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $le(t){var e=Git(t,"string");return Dv(e)=="symbol"?e:e+""}function Git(t,e){if(Dv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qit=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=lU({x:i.scale,y:s.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return ac(e,"discard")&&!o.isInRange(l)?null:l},TC=function(t){function e(){return Uit(this,e),$it(this,e,arguments)}return Wit(e,t),zit(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Ni(i),d=Ni(s);if(dl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=qit(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,y=m.className,v=ac(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=pq(pq({clipPath:v},Rt(this.props,!0)),{},{cx:h,cy:p});return J.createElement(Sn,{className:tn("recharts-reference-dot",y)},e.renderDot(g,w),Di.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(J.Component);AC(TC,"displayName","ReferenceDot");AC(TC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});AC(TC,"renderDot",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):qt(t)?n=t(e):n=J.createElement(f_,dL({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function hL(){return hL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hL.apply(this,arguments)}function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function mq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mq(Object(n),!0).forEach(function(r){CC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yit(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hle(r.key),r)}}function Kit(t,e,n){return e&&Yit(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jit(t,e,n){return e=QE(e),Qit(t,Vle()?Reflect.construct(e,n||[],QE(t).constructor):e.apply(t,n))}function Qit(t,e){if(e&&(Lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zit(t)}function Zit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vle=function(){return!!t})()}function QE(t){return QE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},QE(t)}function est(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pL(t,e)}function pL(t,e){return pL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pL(t,e)}function CC(t,e,n){return e=Hle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hle(t){var e=tst(t,"string");return Lv(e)=="symbol"?e:e+""}function tst(t,e){if(Lv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nst=function(e,n,r,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=lU({x:d.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ac(s,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:Mle(p,m)},MC=function(t){function e(){return Xit(this,e),Jit(this,e,arguments)}return est(e,t),Kit(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;dl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ni(i),h=Ni(s),p=Ni(o),m=Ni(l),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var y=nst(f,h,p,m,this.props);if(!y&&!g)return null;var v=ac(this.props,"hidden")?"url(#".concat(d,")"):void 0;return J.createElement(Sn,{className:tn("recharts-reference-area",c)},e.renderRect(g,gq(gq({clipPath:v},Rt(this.props,!0)),y)),Di.renderCallByParent(this.props,y))}}])}(J.Component);CC(MC,"displayName","ReferenceArea");CC(MC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});CC(MC,"renderRect",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):qt(t)?n=t(e):n=J.createElement(aU,hL({},e,{className:"recharts-reference-area-rect"})),n});function Wle(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function rst(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Jrt(r,n)}function ist(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:r?i:s,end:r?i+o:s+l}:{start:r?i+o:s+l,end:r?i:s}}function ZE(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function sst(t,e){return Wle(t,e+1)}function ast(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var m=r==null?void 0:r[c];if(m===void 0)return{v:Wle(r,u)};var g=c,y,v=function(){return y===void 0&&(y=n(m,g)),y},w=m.coordinate,b=c===0||ZE(t,w,v,d,l);b||(c=0,d=o,u+=1),b&&(d=w+t*(v()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function hw(t){"@babel/helpers - typeof";return hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hw(t)}function vq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(n),!0).forEach(function(r){ost(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ost(t,e,n){return e=lst(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lst(t){var e=cst(t,"string");return hw(e)=="symbol"?e:e+""}function cst(t,e){if(hw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ust(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(h){var p=s[h],m,g=function(){return m===void 0&&(m=n(p,h)),m};if(h===o-1){var y=t*(p.coordinate+t*g()/2-c);s[h]=p=hs(hs({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else s[h]=p=hs(hs({},p),{},{tickCoord:p.coordinate});var v=ZE(t,p.tickCoord,g,l,c);v&&(c=p.tickCoord-t*(g()/2+i),s[h]=hs(hs({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function dst(t,e,n,r,i,s){var o=(r||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var d=r[l-1],f=n(d,l-1),h=t*(d.coordinate+t*f/2-u);o[l-1]=d=hs(hs({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=ZE(t,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-t*(f/2+i),o[l-1]=hs(hs({},d),{},{isShow:!0}))}for(var m=s?l-1:l,g=function(w){var b=o[w],S,j=function(){return S===void 0&&(S=n(b,w)),S};if(w===0){var E=t*(b.coordinate-t*j()/2-c);o[w]=b=hs(hs({},b),{},{tickCoord:E<0?b.coordinate-E*t:b.coordinate})}else o[w]=b=hs(hs({},b),{},{tickCoord:b.coordinate});var T=ZE(t,b.tickCoord,j,c,u);T&&(c=b.tickCoord+t*(j()/2+i),o[w]=hs(hs({},b),{},{isShow:!0}))},y=0;y<m;y++)g(y);return o}function mU(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Ke(c)||mf.isSsr)return sst(i,typeof c=="number"&&Ke(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",m=d&&p==="width"?b0(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(b,S){var j=qt(u)?u(b.value,S):b.value;return p==="width"?rst(b0(j,{fontSize:e,letterSpacing:n}),m,f):b0(j,{fontSize:e,letterSpacing:n})[p]},y=i.length>=2?Os(i[1].coordinate-i[0].coordinate):1,v=ist(s,y,p);return c==="equidistantPreserveStart"?ast(y,v,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=dst(y,v,g,i,o,c==="preserveStartEnd"):h=ust(y,v,g,i,o),h.filter(function(w){return w.isShow}))}var fst=["viewBox"],hst=["viewBox"],pst=["ticks"];function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xg.apply(this,arguments)}function yq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yq(Object(n),!0).forEach(function(r){gU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IR(t,e){if(t==null)return{};var n=mst(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mst(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qle(r.key),r)}}function vst(t,e,n){return e&&xq(t.prototype,e),n&&xq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yst(t,e,n){return e=eA(e),xst(t,Gle()?Reflect.construct(e,n||[],eA(t).constructor):e.apply(t,n))}function xst(t,e){if(e&&(Fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bst(t)}function bst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gle=function(){return!!t})()}function eA(t){return eA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eA(t)}function wst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mL(t,e)}function mL(t,e){return mL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mL(t,e)}function gU(t,e,n){return e=qle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qle(t){var e=_st(t,"string");return Fv(e)=="symbol"?e:e+""}function _st(t,e){if(Fv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ey=function(t){function e(n){var r;return gst(this,e),r=yst(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return wst(e,t),vst(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=IR(r,fst),l=this.props,c=l.viewBox,u=IR(l,hst);return!kg(s,c)||!kg(o,u)||!kg(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,y,v,w,b=f?-1:1,S=r.tickSize||d,j=Ke(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,y=o+ +!f*c,g=y-b*S,w=g-b*h,v=j;break;case"left":g=y=r.coordinate,m=s+ +!f*l,p=m-b*S,v=p-b*h,w=j;break;case"right":g=y=r.coordinate,m=s+ +f*l,p=m+b*S,v=p+b*h,w=j;break;default:p=m=r.coordinate,y=o+ +f*c,g=y+b*S,w=g+b*h,v=j;break}return{line:{x1:p,y1:g,x2:m,y2:y},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=pi(pi(pi({},Rt(this.props,!1)),Rt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=pi(pi({},f),{},{x1:i,y1:s+h*l,x2:i+o,y2:s+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=pi(pi({},f),{},{x1:i+p*o,y1:s,x2:i+p*o,y2:s+l})}return J.createElement("line",xg({},f,{className:tn("recharts-cartesian-axis-line",Ba(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=mU(pi(pi({},this.props),{},{ticks:r}),i,s),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Rt(this.props,!1),v=Rt(d,!1),w=pi(pi({},y),{},{fill:"none"},Rt(c,!1)),b=p.map(function(S,j){var E=o.getTickLineCoord(S),T=E.line,P=E.tick,C=pi(pi(pi(pi({textAnchor:m,verticalAnchor:g},y),{},{stroke:"none",fill:u},v),P),{},{index:j,payload:S,visibleTicksCount:p.length,tickFormatter:f});return J.createElement(Sn,xg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},mp(o.props,S,j)),c&&J.createElement("line",xg({},w,T,{className:tn("recharts-cartesian-axis-tick-line",Ba(c,"className"))})),d&&e.renderTickItem(d,C,"".concat(qt(f)?f(S.value,j):S.value).concat(h||"")))});return J.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=IR(f,pst),m=h;return qt(c)&&(m=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!m||!m.length?null:J.createElement(Sn,{className:tn("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Di.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,l=tn(i.className,"recharts-cartesian-axis-tick-value");return J.isValidElement(r)?o=J.cloneElement(r,pi(pi({},i),{},{className:l})):qt(r)?o=r(pi(pi({},i),{},{className:l})):o=J.createElement(gp,xg({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(N.Component);gU(Ey,"displayName","CartesianAxis");gU(Ey,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Sst=["x1","y1","x2","y2","key"],Nst=["offset"];function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function bq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bq(Object(n),!0).forEach(function(r){jst(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jst(t,e,n){return e=Est(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Est(t){var e=Ast(t,"string");return bp(e)=="symbol"?e:e+""}function Ast(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ch.apply(this,arguments)}function wq(t,e){if(t==null)return{};var n=Tst(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tst(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Cst=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return J.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Xle(t,e){var n;if(J.isValidElement(t))n=J.cloneElement(t,e);else if(qt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=wq(e,Sst),u=Rt(c,!1);u.offset;var d=wq(u,Nst);n=J.createElement("line",Ch({},d,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:l}))}return n}function Mst(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=ms(ms({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return Xle(i,u)});return J.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Pst(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=ms(ms({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return Xle(i,u)});return J.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Rst(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+o-h:d[p+1]-h;if(g<=0)return null;var y=p%e.length;return J.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:g,width:s,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Ost(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?s+l-h:d[p+1]-h;if(g<=0)return null;var y=p%r.length;return J.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:g,height:c,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Ist=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return Xoe(mU(ms(ms(ms({},Ey.defaultProps),r),{},{ticks:Qc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},kst=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return Xoe(mU(ms(ms(ms({},Ey.defaultProps),r),{},{ticks:Qc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Bm={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function PC(t){var e,n,r,i,s,o,l=dU(),c=fU(),u=_it(),d=ms(ms({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bm.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bm.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bm.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bm.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Bm.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Bm.verticalFill,x:Ke(t.x)?t.x:u.left,y:Ke(t.y)?t.y:u.top,width:Ke(t.width)?t.width:u.width,height:Ke(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,w=xit(),b=bit();if(!Ke(p)||p<=0||!Ke(m)||m<=0||!Ke(f)||f!==+f||!Ke(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||Ist,j=d.horizontalCoordinatesGenerator||kst,E=d.horizontalPoints,T=d.verticalPoints;if((!E||!E.length)&&qt(j)){var P=y&&y.length,C=j({yAxis:b?ms(ms({},b),{},{ticks:P?y:b.ticks}):void 0,width:l,height:c,offset:u},P?!0:g);dl(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bp(C),"]")),Array.isArray(C)&&(E=C)}if((!T||!T.length)&&qt(S)){var R=v&&v.length,I=S({xAxis:w?ms(ms({},w),{},{ticks:R?v:w.ticks}):void 0,width:l,height:c,offset:u},R?!0:g);dl(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bp(I),"]")),Array.isArray(I)&&(T=I)}return J.createElement("g",{className:"recharts-cartesian-grid"},J.createElement(Cst,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),J.createElement(Mst,Ch({},d,{offset:u,horizontalPoints:E,xAxis:w,yAxis:b})),J.createElement(Pst,Ch({},d,{offset:u,verticalPoints:T,xAxis:w,yAxis:b})),J.createElement(Rst,Ch({},d,{horizontalPoints:E})),J.createElement(Ost,Ch({},d,{verticalPoints:T})))}PC.displayName="CartesianGrid";var Dst=["type","layout","connectNulls","ref"],Lst=["key"];function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function _q(t,e){if(t==null)return{};var n=Fst(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fst(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function E0(){return E0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E0.apply(this,arguments)}function Sq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sq(Object(n),!0).forEach(function(r){nl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zm(t){return $st(t)||zst(t)||Bst(t)||Ust()}function Ust(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bst(t,e){if(t){if(typeof t=="string")return gL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gL(t,e)}}function zst(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $st(t){if(Array.isArray(t))return gL(t)}function gL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kle(r.key),r)}}function Hst(t,e,n){return e&&Nq(t.prototype,e),n&&Nq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wst(t,e,n){return e=tA(e),Gst(t,Yle()?Reflect.construct(e,n||[],tA(t).constructor):e.apply(t,n))}function Gst(t,e){if(e&&(Uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qst(t)}function qst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yle=function(){return!!t})()}function tA(t){return tA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tA(t)}function Xst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vL(t,e)}function vL(t,e){return vL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vL(t,e)}function nl(t,e,n){return e=Kle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kle(t){var e=Yst(t,"string");return Uv(e)=="symbol"?e:e+""}function Yst(t,e){if(Uv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tp=function(t){function e(){var n;Vst(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Wst(this,e,[].concat(i)),nl(n,"state",{isAnimationFinished:!0,totalLength:0}),nl(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),nl(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,w){return v+w});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],m=0,g=0;m<c.length;g+=c[m],++m)if(g+c[m]>f){p=[].concat(zm(c.slice(0,m)),[f-g]);break}var y=p.length%2===0?[0,h]:[h];return[].concat(zm(e.repeat(c,d)),zm(p),y).map(function(v){return"".concat(v,"px")}).join(", ")}),nl(n,"id",Fp("recharts-line-")),nl(n,"pathRef",function(o){n.mainCurve=o}),nl(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),nl(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Xst(e,t),Hst(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=za(d,d_);if(!f)return null;var h=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Zr(g.payload,y)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return J.createElement(Sn,p,f.map(function(m){return J.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Rt(this.props,!1),h=Rt(c,!0),p=u.map(function(g,y){var v=Na(Na(Na({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(c,v)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return J.createElement(Sn,E0({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=_q(l,Dst),h=Na(Na(Na({},Rt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return J.createElement(ep,E0({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=o.animateNewValues,g=o.width,y=o.height,v=this.state,w=v.prevPoints,b=v.totalLength;return J.createElement(bl,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var j=S.t;if(w){var E=w.length/l.length,T=l.map(function(D,V){var U=Math.floor(V*E);if(w[U]){var $=w[U],z=bi($.x,D.x),W=bi($.y,D.y);return Na(Na({},D),{},{x:z(j),y:W(j)})}if(m){var k=bi(g*2,D.x),L=bi(y/2,D.y);return Na(Na({},D),{},{x:k(j),y:L(j)})}return Na(Na({},D),{},{x:D.x,y:D.y})});return s.renderCurveStatically(T,r,i)}var P=bi(0,b),C=P(j),R;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});R=s.getStrokeDasharray(C,b,I)}else R=s.generateSimpleStrokeDasharray(b,C);return s.renderCurveStatically(l,r,i,{strokeDasharray:R})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!vp(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,y=i.id;if(s||!l||!l.length)return null;var v=this.state.isAnimationFinished,w=l.length===1,b=tn("recharts-line",c),S=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,E=S||j,T=en(y)?this.id:y,P=(r=Rt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=P.r,R=C===void 0?3:C,I=P.strokeWidth,D=I===void 0?2:I,V=Bse(o)?o:{},U=V.clipDot,$=U===void 0?!0:U,z=R*2+D;return J.createElement(Sn,{className:b},S||j?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(T)},J.createElement("rect",{x:S?h:h-p/2,y:j?f:f-m/2,width:S?p:p*2,height:j?m:m*2})),!$&&J.createElement("clipPath",{id:"clipPath-dots-".concat(T)},J.createElement("rect",{x:h-z/2,y:f-z/2,width:p+z,height:m+z}))):null,!w&&this.renderCurve(E,T),this.renderErrorBar(E,T),(w||o)&&this.renderDots(E,$,T),(!g||v)&&sc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(zm(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(zm(o),zm(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(J.isValidElement(r))s=J.cloneElement(r,i);else if(qt(r))s=r(i);else{var o=i.key,l=_q(i,Lst),c=tn("recharts-line-dot",typeof r!="boolean"?r.className:"");s=J.createElement(f_,E0({key:o},l,{className:c}))}return s}}])}(N.PureComponent);nl(tp,"displayName","Line");nl(tp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!mf.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});nl(tp,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,p){var m=Zr(h,o);return d==="horizontal"?{x:RE({axis:n,ticks:i,bandSize:l,entry:h,index:p}),y:en(m)?null:r.scale(m),value:m,payload:h}:{x:en(m)?null:n.scale(m),y:RE({axis:r,ticks:s,bandSize:l,entry:h,index:p}),value:m,payload:h}});return Na({points:f,layout:d},u)});var Kst=["layout","type","stroke","connectNulls","isRange","ref"],Jst=["key"],Jle;function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function Qle(t,e){if(t==null)return{};var n=Qst(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qst(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mh.apply(this,arguments)}function jq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jq(Object(n),!0).forEach(function(r){Xl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ece(r.key),r)}}function eat(t,e,n){return e&&Eq(t.prototype,e),n&&Eq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tat(t,e,n){return e=nA(e),nat(t,Zle()?Reflect.construct(e,n||[],nA(t).constructor):e.apply(t,n))}function nat(t,e){if(e&&(Bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rat(t)}function rat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zle=function(){return!!t})()}function nA(t){return nA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nA(t)}function iat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yL(t,e)}function yL(t,e){return yL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yL(t,e)}function Xl(t,e,n){return e=ece(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ece(t){var e=sat(t,"string");return Bv(e)=="symbol"?e:e+""}function sat(t,e){if(Bv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oc=function(t){function e(){var n;Zst(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=tat(this,e,[].concat(i)),Xl(n,"state",{isAnimationFinished:!0}),Xl(n,"id",Fp("recharts-area-")),Xl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),qt(o)&&o()}),Xl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),qt(o)&&o()}),n}return iat(e,t),eat(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Rt(this.props,!1),p=Rt(u,!0),m=d.map(function(y,v){var w=ed(ed(ed({key:"dot-".concat(v),r:3},h),p),{},{index:v,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return e.renderDotItem(u,w)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return J.createElement(Sn,Mh({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=bd(o.map(function(h){return h.y||0}));return Ke(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(bd(s.map(function(h){return h.y||0})),f)),Ke(f)?J.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=bd(o.map(function(h){return h.x||0}));return Ke(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(bd(s.map(function(h){return h.x||0})),f)),Ke(f)?J.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=Qle(l,Kst);return J.createElement(Sn,{clipPath:s?"url(#clipPath-".concat(o,")"):null},J.createElement(ep,Mh({},Rt(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&J.createElement(ep,Mh({},Rt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&J.createElement(ep,Mh({},Rt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=this.state,g=m.prevPoints,y=m.prevBaseLine;return J.createElement(bl,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t;if(g){var b=g.length/l.length,S=l.map(function(P,C){var R=Math.floor(C*b);if(g[R]){var I=g[R],D=bi(I.x,P.x),V=bi(I.y,P.y);return ed(ed({},P),{},{x:D(w),y:V(w)})}return P}),j;if(Ke(c)&&typeof c=="number"){var E=bi(y,c);j=E(w)}else if(en(c)||xy(c)){var T=bi(y,0);j=T(w)}else j=c.map(function(P,C){var R=Math.floor(C*b);if(y[R]){var I=y[R],D=bi(I.x,P.x),V=bi(I.y,P.y);return ed(ed({},P),{},{x:D(w),y:V(w)})}return P});return s.renderAreaStatically(S,j,r,i)}return J.createElement(Sn,null,J.createElement("defs",null,J.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(w))),J.createElement(Sn,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!vp(d,o)||!vp(f,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,y=i.id;if(s||!l||!l.length)return null;var v=this.state.isAnimationFinished,w=l.length===1,b=tn("recharts-area",c),S=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,E=S||j,T=en(y)?this.id:y,P=(r=Rt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=P.r,R=C===void 0?3:C,I=P.strokeWidth,D=I===void 0?2:I,V=Bse(o)?o:{},U=V.clipDot,$=U===void 0?!0:U,z=R*2+D;return J.createElement(Sn,{className:b},S||j?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(T)},J.createElement("rect",{x:S?d:d-p/2,y:j?u:u-m/2,width:S?p:p*2,height:j?m:m*2})),!$&&J.createElement("clipPath",{id:"clipPath-dots-".concat(T)},J.createElement("rect",{x:d-z/2,y:u-z/2,width:p+z,height:m+z}))):null,w?null:this.renderArea(E,T),(o||w)&&this.renderDots(E,$,T),(!g||v)&&sc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(N.PureComponent);Jle=oc;Xl(oc,"displayName","Area");Xl(oc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!mf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Xl(oc,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,l=o??s;if(Ke(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Xl(oc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,m=u&&u.length,g=Jle.getBaseValue(e,n,r,i),y=p==="horizontal",v=!1,w=f.map(function(S,j){var E;m?E=u[d+j]:(E=Zr(S,c),Array.isArray(E)?v=!0:E=[g,E]);var T=E[1]==null||m&&Zr(S,c)==null;return y?{x:RE({axis:r,ticks:s,bandSize:l,entry:S,index:j}),y:T?null:i.scale(E[1]),value:E,payload:S}:{x:T?null:r.scale(E[1]),y:RE({axis:i,ticks:o,bandSize:l,entry:S,index:j}),value:E,payload:S}}),b;return m||v?b=w.map(function(S){var j=Array.isArray(S.value)?S.value[0]:null;return y?{x:S.x,y:j!=null&&S.y!=null?i.scale(j):null}:{x:j!=null?r.scale(j):null,y:S.y}}):b=y?i.scale(g):r.scale(g),ed({points:w,baseLine:b,layout:p,isRange:v},h)});Xl(oc,"renderDotItem",function(t,e){var n;if(J.isValidElement(t))n=J.cloneElement(t,e);else if(qt(t))n=t(e);else{var r=tn("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=Qle(e,Jst);n=J.createElement(f_,Mh({},s,{key:i,className:r}))}return n});function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function aat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rce(r.key),r)}}function lat(t,e,n){return e&&oat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cat(t,e,n){return e=rA(e),uat(t,tce()?Reflect.construct(e,n||[],rA(t).constructor):e.apply(t,n))}function uat(t,e){if(e&&(zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dat(t)}function dat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tce=function(){return!!t})()}function rA(t){return rA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rA(t)}function fat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xL(t,e)}function xL(t,e){return xL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xL(t,e)}function nce(t,e,n){return e=rce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rce(t){var e=hat(t,"string");return zv(e)=="symbol"?e:e+""}function hat(t,e){if(zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bL(){return bL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bL.apply(this,arguments)}function pat(t){var e=t.xAxisId,n=dU(),r=fU(),i=Lle(e);return i==null?null:N.createElement(Ey,bL({},i,{className:tn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Qc(o,!0)}}))}var xf=function(t){function e(){return aat(this,e),cat(this,e,arguments)}return fat(e,t),lat(e,[{key:"render",value:function(){return N.createElement(pat,this.props)}}])}(N.Component);nce(xf,"displayName","XAxis");nce(xf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function mat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ace(r.key),r)}}function vat(t,e,n){return e&&gat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yat(t,e,n){return e=iA(e),xat(t,ice()?Reflect.construct(e,n||[],iA(t).constructor):e.apply(t,n))}function xat(t,e){if(e&&($v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bat(t)}function bat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ice(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ice=function(){return!!t})()}function iA(t){return iA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iA(t)}function wat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wL(t,e)}function wL(t,e){return wL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wL(t,e)}function sce(t,e,n){return e=ace(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=_at(t,"string");return $v(e)=="symbol"?e:e+""}function _at(t,e){if($v(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _L(){return _L=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_L.apply(this,arguments)}var Sat=function(e){var n=e.yAxisId,r=dU(),i=fU(),s=Fle(n);return s==null?null:N.createElement(Ey,_L({},s,{className:tn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Qc(l,!0)}}))},bf=function(t){function e(){return mat(this,e),yat(this,e,arguments)}return wat(e,t),vat(e,[{key:"render",value:function(){return N.createElement(Sat,this.props)}}])}(N.Component);sce(bf,"displayName","YAxis");sce(bf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Aq(t){return Aat(t)||Eat(t)||jat(t)||Nat()}function Nat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jat(t,e){if(t){if(typeof t=="string")return SL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SL(t,e)}}function Eat(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aat(t){if(Array.isArray(t))return SL(t)}function SL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var NL=function(e,n,r,i,s){var o=za(e,pU),l=za(e,TC),c=[].concat(Aq(o),Aq(l)),u=za(e,MC),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(g,y){if(y.props[d]===r&&ac(y.props,"extendDomain")&&Ke(y.props[f])){var v=y.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,y){if(y.props[d]===r&&ac(y.props,"extendDomain")&&Ke(y.props[p])&&Ke(y.props[m])){var v=y.props[p],w=y.props[m];return[Math.min(g[0],v,w),Math.max(g[1],v,w)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,y){return Ke(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},h)),h},oce={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),m=n?n+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,m),!0}for(b=1,w=new Array(v-1);b<v;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var S=y.length,j;for(b=0;b<S;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),v){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!w)for(j=1,w=new Array(v-1);j<v;j++)w[j-1]=arguments[j];y[b].fn.apply(y[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,y=[],v=m.length;g<v;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(oce);var Tat=oce.exports;const Cat=Ln(Tat);var kR=new Cat,DR="recharts.syncMouseEvents";function pw(t){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pw(t)}function Mat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lce(r.key),r)}}function Rat(t,e,n){return e&&Pat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LR(t,e,n){return e=lce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t){var e=Oat(t,"string");return pw(e)=="symbol"?e:e+""}function Oat(t,e){if(pw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Iat=function(){function t(){Mat(this,t),LR(this,"activeIndex",0),LR(this,"coordinateList",[]),LR(this,"layout","horizontal")}return Rat(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function kat(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ke(r)&&Ke(i))return!0}return!1}function Dat(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function cce(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=lr(e,n,r,i),l=lr(e,n,r,s);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Lat(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=lr(l,c,u,f),p=lr(l,c,d,f);r=h.x,i=h.y,s=p.x,o=p.y}else return cce(e);return[{x:r,y:i},{x:s,y:o}]}function mw(t){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(t)}function Tq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tq(Object(n),!0).forEach(function(r){Fat(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fat(t,e,n){return e=Uat(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uat(t){var e=Bat(t,"string");return mw(e)=="symbol"?e:e+""}function Bat(t,e){if(mw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zat(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var m,g=ep;if(h==="ScatterChart")m=o,g=Yet;else if(h==="BarChart")m=Dat(f,o,c,d),g=aU;else if(f==="radial"){var y=cce(o),v=y.cx,w=y.cy,b=y.radius,S=y.startAngle,j=y.endAngle;m={cx:v,cy:w,startAngle:S,endAngle:j,innerRadius:b,outerRadius:b},g=sle}else m={points:Lat(f,o,c)},g=ep;var E=fN(fN(fN(fN({stroke:"#ccc",pointerEvents:"none"},c),m),Rt(p,!1)),{},{payload:l,payloadIndex:u,className:tn("recharts-tooltip-cursor",p.className)});return N.isValidElement(p)?N.cloneElement(p,E):N.createElement(g,E)}var $at=["item"],Vat=["children","className","width","height","style","compact","title","desc"];function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}function Cq(t,e){return Gat(t)||Wat(t,e)||dce(t,e)||Hat()}function Hat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wat(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Gat(t){if(Array.isArray(t))return t}function Mq(t,e){if(t==null)return{};var n=qat(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qat(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yat(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fce(r.key),r)}}function Kat(t,e,n){return e&&Yat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jat(t,e,n){return e=sA(e),Qat(t,uce()?Reflect.construct(e,n||[],sA(t).constructor):e.apply(t,n))}function Qat(t,e){if(e&&(Vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zat(t)}function Zat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uce=function(){return!!t})()}function sA(t){return sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sA(t)}function eot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jL(t,e)}function jL(t,e){return jL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jL(t,e)}function Hv(t){return rot(t)||not(t)||dce(t)||tot()}function tot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dce(t,e){if(t){if(typeof t=="string")return EL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EL(t,e)}}function not(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rot(t){if(Array.isArray(t))return EL(t)}function EL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pq(Object(n),!0).forEach(function(r){Ht(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ht(t,e,n){return e=fce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fce(t){var e=iot(t,"string");return Vv(e)=="symbol"?e:e+""}function iot(t,e){if(Vv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sot={xAxis:["bottom","top"],yAxis:["left","right"]},aot={width:"100%",height:"100%"},hce={x:0,y:0};function hN(t){return t}var oot=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},lot=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return Oe(Oe(Oe({},i),lr(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return Oe(Oe(Oe({},i),lr(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return hce},RC=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Hv(l),Hv(u)):l},[]);return o.length>0?o:e&&e.length&&Ke(i)&&Ke(s)?e.slice(i,s+1):[]};function pce(t){return t==="number"?[0,"auto"]:void 0}var AL=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,l=RC(n,e);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=rE(p,o.dataKey,i)}else h=f&&f[r]||l[r];return h?[].concat(Hv(c),[Zoe(u,h)]):c},[])},Rq=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=oot(s,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=_Je(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=AL(e,n,d,f),p=lot(r,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},cot=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=qoe(d,s);return r.reduce(function(m,g){var y,v=g.type.defaultProps!==void 0?Oe(Oe({},g.type.defaultProps),g.props):g.props,w=v.type,b=v.dataKey,S=v.allowDataOverflow,j=v.allowDuplicatedCategory,E=v.scale,T=v.ticks,P=v.includeHidden,C=v[o];if(m[C])return m;var R=RC(e.data,{graphicalItems:i.filter(function(X){var Z,B=o in X.props?X.props[o]:(Z=X.type.defaultProps)===null||Z===void 0?void 0:Z[o];return B===C}),dataStartIndex:c,dataEndIndex:u}),I=R.length,D,V,U;kat(v.domain,S,w)&&(D=BD(v.domain,null,S),p&&(w==="number"||E!=="auto")&&(U=_0(R,b,"category")));var $=pce(w);if(!D||D.length===0){var z,W=(z=v.domain)!==null&&z!==void 0?z:$;if(b){if(D=_0(R,b,w),w==="category"&&p){var k=fBe(D);j&&k?(V=D,D=WE(0,I)):j||(D=Q9(W,D,g).reduce(function(X,Z){return X.indexOf(Z)>=0?X:[].concat(Hv(X),[Z])},[]))}else if(w==="category")j?D=D.filter(function(X){return X!==""&&!en(X)}):D=Q9(W,D,g).reduce(function(X,Z){return X.indexOf(Z)>=0||Z===""||en(Z)?X:[].concat(Hv(X),[Z])},[]);else if(w==="number"){var L=AJe(R,i.filter(function(X){var Z,B,te=o in X.props?X.props[o]:(Z=X.type.defaultProps)===null||Z===void 0?void 0:Z[o],ie="hide"in X.props?X.props.hide:(B=X.type.defaultProps)===null||B===void 0?void 0:B.hide;return te===C&&(P||!ie)}),b,s,d);L&&(D=L)}p&&(w==="number"||E!=="auto")&&(U=_0(R,b,"category"))}else p?D=WE(0,I):l&&l[C]&&l[C].hasStack&&w==="number"?D=h==="expand"?[0,1]:Qoe(l[C].stackGroups,c,u):D=Goe(R,i.filter(function(X){var Z=o in X.props?X.props[o]:X.type.defaultProps[o],B="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return Z===C&&(P||!B)}),w,d,!0);if(w==="number")D=NL(f,D,C,s,T),W&&(D=BD(W,D,S));else if(w==="category"&&W){var H=W,G=D.every(function(X){return H.indexOf(X)>=0});G&&(D=H)}}return Oe(Oe({},m),{},Ht({},C,Oe(Oe({},v),{},{axisType:s,domain:D,categoricalDomain:U,duplicateDomain:V,originalDomain:(y=v.domain)!==null&&y!==void 0?y:$,isCategorical:p,layout:d})))},{})},uot=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=RC(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=h.length,m=qoe(d,s),g=-1;return r.reduce(function(y,v){var w=v.type.defaultProps!==void 0?Oe(Oe({},v.type.defaultProps),v.props):v.props,b=w[o],S=pce("number");if(!y[b]){g++;var j;return m?j=WE(0,p):l&&l[b]&&l[b].hasStack?(j=Qoe(l[b].stackGroups,c,u),j=NL(f,j,b,s)):(j=BD(S,Goe(h,r.filter(function(E){var T,P,C=o in E.props?E.props[o]:(T=E.type.defaultProps)===null||T===void 0?void 0:T[o],R="hide"in E.props?E.props.hide:(P=E.type.defaultProps)===null||P===void 0?void 0:P.hide;return C===b&&!R}),"number",d),i.defaultProps.allowDataOverflow),j=NL(f,j,b,s)),Oe(Oe({},y),{},Ht({},b,Oe(Oe({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ba(sot,"".concat(s,".").concat(g%2),null),domain:j,originalDomain:S,isCategorical:m,layout:d})))}return y},{})},dot=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=za(d,s),p={};return h&&h.length?p=cot(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=uot(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},fot=function(e){var n=ld(e),r=Qc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:OF(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:OE(n,r)}},Oq=function(e){var n=e.children,r=e.defaultShowTooltip,i=Aa(n,Ov),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},hot=function(e){return!e||!e.length?!1:e.some(function(n){var r=su(n&&n.type);return r&&r.indexOf("Bar")>=0})},Iq=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},pot=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},p=Aa(f,Ov),m=Aa(f,Jh),g=Object.keys(c).reduce(function(j,E){var T=c[E],P=T.orientation;return!T.mirror&&!T.hide?Oe(Oe({},j),{},Ht({},P,j[P]+T.width)):j},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(j,E){var T=o[E],P=T.orientation;return!T.mirror&&!T.hide?Oe(Oe({},j),{},Ht({},P,Ba(j,"".concat(P))+T.height)):j},{top:h.top||0,bottom:h.bottom||0}),v=Oe(Oe({},y),g),w=v.bottom;p&&(v.bottom+=p.props.height||Ov.defaultProps.height),m&&n&&(v=jJe(v,i,r,n));var b=u-v.left-v.right,S=d-v.top-v.bottom;return Oe(Oe({brushBottom:w},v),{},{width:Math.max(b,0),height:Math.max(S,0)})},mot=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},OC=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(v,w){var b=w.graphicalItems,S=w.stackGroups,j=w.offset,E=w.updateId,T=w.dataStartIndex,P=w.dataEndIndex,C=v.barSize,R=v.layout,I=v.barGap,D=v.barCategoryGap,V=v.maxBarSize,U=Iq(R),$=U.numericAxisName,z=U.cateAxisName,W=hot(b),k=[];return b.forEach(function(L,H){var G=RC(v.data,{graphicalItems:[L],dataStartIndex:T,dataEndIndex:P}),X=L.type.defaultProps!==void 0?Oe(Oe({},L.type.defaultProps),L.props):L.props,Z=X.dataKey,B=X.maxBarSize,te=X["".concat($,"Id")],ie=X["".concat(z,"Id")],ae={},be=c.reduce(function(pe,ze){var Ue=w["".concat(ze.axisType,"Map")],ke=X["".concat(ze.axisType,"Id")];Ue&&Ue[ke]||ze.axisType==="zAxis"||xp();var dt=Ue[ke];return Oe(Oe({},pe),{},Ht(Ht({},ze.axisType,dt),"".concat(ze.axisType,"Ticks"),Qc(dt)))},ae),ce=be[z],Se=be["".concat(z,"Ticks")],Te=S&&S[te]&&S[te].hasStack&&DJe(L,S[te].stackGroups),Y=su(L.type).indexOf("Bar")>=0,Ee=OE(ce,Se),ve=[],Re=W&&SJe({barSize:C,stackGroups:S,totalSize:mot(be,z)});if(Y){var we,rt,qe=en(B)?V:B,Q=(we=(rt=OE(ce,Se,!0))!==null&&rt!==void 0?rt:qe)!==null&&we!==void 0?we:0;ve=NJe({barGap:I,barCategoryGap:D,bandSize:Q!==Ee?Q:Ee,sizeList:Re[ie],maxBarSize:qe}),Q!==Ee&&(ve=ve.map(function(pe){return Oe(Oe({},pe),{},{position:Oe(Oe({},pe.position),{},{offset:pe.position.offset-Q/2})})}))}var q=L&&L.type&&L.type.getComposedData;q&&k.push({props:Oe(Oe({},q(Oe(Oe({},be),{},{displayedData:G,props:v,dataKey:Z,item:L,bandSize:Ee,barPosition:ve,offset:j,stackedData:Te,layout:R,dataStartIndex:T,dataEndIndex:P}))),{},Ht(Ht(Ht({key:L.key||"item-".concat(H)},$,be[$]),z,be[z]),"animationId",E)),childIndex:NBe(L,v.children),item:L})}),k},p=function(v,w){var b=v.props,S=v.dataStartIndex,j=v.dataEndIndex,E=v.updateId;if(!GW({props:b}))return null;var T=b.children,P=b.layout,C=b.stackOffset,R=b.data,I=b.reverseStackOrder,D=Iq(P),V=D.numericAxisName,U=D.cateAxisName,$=za(T,r),z=IJe(R,$,"".concat(V,"Id"),"".concat(U,"Id"),C,I),W=c.reduce(function(X,Z){var B="".concat(Z.axisType,"Map");return Oe(Oe({},X),{},Ht({},B,dot(b,Oe(Oe({},Z),{},{graphicalItems:$,stackGroups:Z.axisType===V&&z,dataStartIndex:S,dataEndIndex:j}))))},{}),k=pot(Oe(Oe({},W),{},{props:b,graphicalItems:$}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(X){W[X]=d(b,W[X],k,X.replace("Map",""),n)});var L=W["".concat(U,"Map")],H=fot(L),G=h(b,Oe(Oe({},W),{},{dataStartIndex:S,dataEndIndex:j,updateId:E,graphicalItems:$,stackGroups:z,offset:k}));return Oe(Oe({formattedGraphicalItems:G,graphicalItems:$,offset:k,stackGroups:z},H),W)},m=function(y){function v(w){var b,S,j;return Xat(this,v),j=Jat(this,v,[w]),Ht(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ht(j,"accessibilityManager",new Iat),Ht(j,"handleLegendBBoxUpdate",function(E){if(E){var T=j.state,P=T.dataStartIndex,C=T.dataEndIndex,R=T.updateId;j.setState(Oe({legendBBox:E},p({props:j.props,dataStartIndex:P,dataEndIndex:C,updateId:R},Oe(Oe({},j.state),{},{legendBBox:E}))))}}),Ht(j,"handleReceiveSyncEvent",function(E,T,P){if(j.props.syncId===E){if(P===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(T)}}),Ht(j,"handleBrushChange",function(E){var T=E.startIndex,P=E.endIndex;if(T!==j.state.dataStartIndex||P!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return Oe({dataStartIndex:T,dataEndIndex:P},p({props:j.props,dataStartIndex:T,dataEndIndex:P,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:T,dataEndIndex:P})}}),Ht(j,"handleMouseEnter",function(E){var T=j.getMouseInfo(E);if(T){var P=Oe(Oe({},T),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var C=j.props.onMouseEnter;qt(C)&&C(P,E)}}),Ht(j,"triggeredAfterMouseMove",function(E){var T=j.getMouseInfo(E),P=T?Oe(Oe({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(P),j.triggerSyncEvent(P);var C=j.props.onMouseMove;qt(C)&&C(P,E)}),Ht(j,"handleItemMouseEnter",function(E){j.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Ht(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ht(j,"handleMouseMove",function(E){E.persist(),j.throttleTriggeredAfterMouseMove(E)}),Ht(j,"handleMouseLeave",function(E){j.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};j.setState(T),j.triggerSyncEvent(T);var P=j.props.onMouseLeave;qt(P)&&P(T,E)}),Ht(j,"handleOuterEvent",function(E){var T=SBe(E),P=Ba(j.props,"".concat(T));if(T&&qt(P)){var C,R;/.*touch.*/i.test(T)?R=j.getMouseInfo(E.changedTouches[0]):R=j.getMouseInfo(E),P((C=R)!==null&&C!==void 0?C:{},E)}}),Ht(j,"handleClick",function(E){var T=j.getMouseInfo(E);if(T){var P=Oe(Oe({},T),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var C=j.props.onClick;qt(C)&&C(P,E)}}),Ht(j,"handleMouseDown",function(E){var T=j.props.onMouseDown;if(qt(T)){var P=j.getMouseInfo(E);T(P,E)}}),Ht(j,"handleMouseUp",function(E){var T=j.props.onMouseUp;if(qt(T)){var P=j.getMouseInfo(E);T(P,E)}}),Ht(j,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Ht(j,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&j.handleMouseDown(E.changedTouches[0])}),Ht(j,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&j.handleMouseUp(E.changedTouches[0])}),Ht(j,"handleDoubleClick",function(E){var T=j.props.onDoubleClick;if(qt(T)){var P=j.getMouseInfo(E);T(P,E)}}),Ht(j,"handleContextMenu",function(E){var T=j.props.onContextMenu;if(qt(T)){var P=j.getMouseInfo(E);T(P,E)}}),Ht(j,"triggerSyncEvent",function(E){j.props.syncId!==void 0&&kR.emit(DR,j.props.syncId,E,j.eventEmitterSymbol)}),Ht(j,"applySyncEvent",function(E){var T=j.props,P=T.layout,C=T.syncMethod,R=j.state.updateId,I=E.dataStartIndex,D=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)j.setState(Oe({dataStartIndex:I,dataEndIndex:D},p({props:j.props,dataStartIndex:I,dataEndIndex:D,updateId:R},j.state)));else if(E.activeTooltipIndex!==void 0){var V=E.chartX,U=E.chartY,$=E.activeTooltipIndex,z=j.state,W=z.offset,k=z.tooltipTicks;if(!W)return;if(typeof C=="function")$=C(k,E);else if(C==="value"){$=-1;for(var L=0;L<k.length;L++)if(k[L].value===E.activeLabel){$=L;break}}var H=Oe(Oe({},W),{},{x:W.left,y:W.top}),G=Math.min(V,H.x+H.width),X=Math.min(U,H.y+H.height),Z=k[$]&&k[$].value,B=AL(j.state,j.props.data,$),te=k[$]?{x:P==="horizontal"?k[$].coordinate:G,y:P==="horizontal"?X:k[$].coordinate}:hce;j.setState(Oe(Oe({},E),{},{activeLabel:Z,activeCoordinate:te,activePayload:B,activeTooltipIndex:$}))}else j.setState(E)}),Ht(j,"renderCursor",function(E){var T,P=j.state,C=P.isTooltipActive,R=P.activeCoordinate,I=P.activePayload,D=P.offset,V=P.activeTooltipIndex,U=P.tooltipAxisBandSize,$=j.getTooltipEventType(),z=(T=E.props.active)!==null&&T!==void 0?T:C,W=j.props.layout,k=E.key||"_recharts-cursor";return J.createElement(zat,{key:k,activeCoordinate:R,activePayload:I,activeTooltipIndex:V,chartName:n,element:E,isActive:z,layout:W,offset:D,tooltipAxisBandSize:U,tooltipEventType:$})}),Ht(j,"renderPolarAxis",function(E,T,P){var C=Ba(E,"type.axisType"),R=Ba(j.state,"".concat(C,"Map")),I=E.type.defaultProps,D=I!==void 0?Oe(Oe({},I),E.props):E.props,V=R&&R[D["".concat(C,"Id")]];return N.cloneElement(E,Oe(Oe({},V),{},{className:tn(C,V.className),key:E.key||"".concat(T,"-").concat(P),ticks:Qc(V,!0)}))}),Ht(j,"renderPolarGrid",function(E){var T=E.props,P=T.radialLines,C=T.polarAngles,R=T.polarRadius,I=j.state,D=I.radiusAxisMap,V=I.angleAxisMap,U=ld(D),$=ld(V),z=$.cx,W=$.cy,k=$.innerRadius,L=$.outerRadius;return N.cloneElement(E,{polarAngles:Array.isArray(C)?C:Qc($,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(R)?R:Qc(U,!0).map(function(H){return H.coordinate}),cx:z,cy:W,innerRadius:k,outerRadius:L,key:E.key||"polar-grid",radialLines:P})}),Ht(j,"renderLegend",function(){var E=j.state.formattedGraphicalItems,T=j.props,P=T.children,C=T.width,R=T.height,I=j.props.margin||{},D=C-(I.left||0)-(I.right||0),V=Hoe({children:P,formattedGraphicalItems:E,legendWidth:D,legendContent:u});if(!V)return null;var U=V.item,$=Mq(V,$at);return N.cloneElement(U,Oe(Oe({},$),{},{chartWidth:C,chartHeight:R,margin:I,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ht(j,"renderTooltip",function(){var E,T=j.props,P=T.children,C=T.accessibilityLayer,R=Aa(P,Ta);if(!R)return null;var I=j.state,D=I.isTooltipActive,V=I.activeCoordinate,U=I.activePayload,$=I.activeLabel,z=I.offset,W=(E=R.props.active)!==null&&E!==void 0?E:D;return N.cloneElement(R,{viewBox:Oe(Oe({},z),{},{x:z.left,y:z.top}),active:W,label:$,payload:W?U:[],coordinate:V,accessibilityLayer:C})}),Ht(j,"renderBrush",function(E){var T=j.props,P=T.margin,C=T.data,R=j.state,I=R.offset,D=R.dataStartIndex,V=R.dataEndIndex,U=R.updateId;return N.cloneElement(E,{key:E.key||"_recharts-brush",onChange:lN(j.handleBrushChange,E.props.onChange),data:C,x:Ke(E.props.x)?E.props.x:I.left,y:Ke(E.props.y)?E.props.y:I.top+I.height+I.brushBottom-(P.bottom||0),width:Ke(E.props.width)?E.props.width:I.width,startIndex:D,endIndex:V,updateId:"brush-".concat(U)})}),Ht(j,"renderReferenceElement",function(E,T,P){if(!E)return null;var C=j,R=C.clipPathId,I=j.state,D=I.xAxisMap,V=I.yAxisMap,U=I.offset,$=E.type.defaultProps||{},z=E.props,W=z.xAxisId,k=W===void 0?$.xAxisId:W,L=z.yAxisId,H=L===void 0?$.yAxisId:L;return N.cloneElement(E,{key:E.key||"".concat(T,"-").concat(P),xAxis:D[k],yAxis:V[H],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:R})}),Ht(j,"renderActivePoints",function(E){var T=E.item,P=E.activePoint,C=E.basePoint,R=E.childIndex,I=E.isRange,D=[],V=T.props.key,U=T.item.type.defaultProps!==void 0?Oe(Oe({},T.item.type.defaultProps),T.item.props):T.item.props,$=U.activeDot,z=U.dataKey,W=Oe(Oe({index:R,dataKey:z,cx:P.x,cy:P.y,r:4,fill:sU(T.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Rt($,!1)),iE($));return D.push(v.renderActiveDot($,W,"".concat(V,"-activePoint-").concat(R))),C?D.push(v.renderActiveDot($,Oe(Oe({},W),{},{cx:C.x,cy:C.y}),"".concat(V,"-basePoint-").concat(R))):I&&D.push(null),D}),Ht(j,"renderGraphicChild",function(E,T,P){var C=j.filterFormatItem(E,T,P);if(!C)return null;var R=j.getTooltipEventType(),I=j.state,D=I.isTooltipActive,V=I.tooltipAxis,U=I.activeTooltipIndex,$=I.activeLabel,z=j.props.children,W=Aa(z,Ta),k=C.props,L=k.points,H=k.isRange,G=k.baseLine,X=C.item.type.defaultProps!==void 0?Oe(Oe({},C.item.type.defaultProps),C.item.props):C.item.props,Z=X.activeDot,B=X.hide,te=X.activeBar,ie=X.activeShape,ae=!!(!B&&D&&W&&(Z||te||ie)),be={};R!=="axis"&&W&&W.props.trigger==="click"?be={onClick:lN(j.handleItemMouseEnter,E.props.onClick)}:R!=="axis"&&(be={onMouseLeave:lN(j.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:lN(j.handleItemMouseEnter,E.props.onMouseEnter)});var ce=N.cloneElement(E,Oe(Oe({},C.props),be));function Se(ze){return typeof V.dataKey=="function"?V.dataKey(ze.payload):null}if(ae)if(U>=0){var Te,Y;if(V.dataKey&&!V.allowDuplicatedCategory){var Ee=typeof V.dataKey=="function"?Se:"payload.".concat(V.dataKey.toString());Te=rE(L,Ee,$),Y=H&&G&&rE(G,Ee,$)}else Te=L==null?void 0:L[U],Y=H&&G&&G[U];if(ie||te){var ve=E.props.activeIndex!==void 0?E.props.activeIndex:U;return[N.cloneElement(E,Oe(Oe(Oe({},C.props),be),{},{activeIndex:ve})),null,null]}if(!en(Te))return[ce].concat(Hv(j.renderActivePoints({item:C,activePoint:Te,basePoint:Y,childIndex:U,isRange:H})))}else{var Re,we=(Re=j.getItemByXY(j.state.activeCoordinate))!==null&&Re!==void 0?Re:{graphicalItem:ce},rt=we.graphicalItem,qe=rt.item,Q=qe===void 0?E:qe,q=rt.childIndex,pe=Oe(Oe(Oe({},C.props),be),{},{activeIndex:q});return[N.cloneElement(Q,pe),null,null]}return H?[ce,null,null]:[ce,null]}),Ht(j,"renderCustomized",function(E,T,P){return N.cloneElement(E,Oe(Oe({key:"recharts-customized-".concat(P)},j.props),j.state))}),Ht(j,"renderMap",{CartesianGrid:{handler:hN,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:hN},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:hN},YAxis:{handler:hN},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:Fp("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=Vae(j.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return eot(v,y),Kat(v,[{key:"componentDidMount",value:function(){var b,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,S=b.children,j=b.data,E=b.height,T=b.layout,P=Aa(S,Ta);if(P){var C=P.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=AL(this.state,j,C,R),D=this.state.tooltipTicks[C].coordinate,V=(this.state.offset.top+E)/2,U=T==="horizontal",$=U?{x:D,y:V}:{y:D,x:V},z=this.state.formattedGraphicalItems.find(function(k){var L=k.item;return L.type.name==="Scatter"});z&&($=Oe(Oe({},$),z.props.points[C].tooltipPosition),I=z.props.points[C].tooltipPayload);var W={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:R,activePayload:I,activeCoordinate:$};this.setState(W),this.renderCursor(P),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,E;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(b){tD([Aa(b.children,Ta)],[Aa(this.props.children,Ta)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Aa(this.props.children,Ta);if(b&&typeof b.props.shared=="boolean"){var S=b.props.shared?"axis":"item";return l.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),E=K7e(j),T={chartX:Math.round(b.pageX-E.left),chartY:Math.round(b.pageY-E.top)},P=j.width/S.offsetWidth||1,C=this.inRange(T.chartX,T.chartY,P);if(!C)return null;var R=this.state,I=R.xAxisMap,D=R.yAxisMap,V=this.getTooltipEventType(),U=Rq(this.state,this.props.data,this.props.layout,C);if(V!=="axis"&&I&&D){var $=ld(I).scale,z=ld(D).scale,W=$&&$.invert?$.invert(T.chartX):null,k=z&&z.invert?z.invert(T.chartY):null;return Oe(Oe({},T),{},{xValue:W,yValue:k},U)}return U?Oe(Oe({},T),U):null}},{key:"inRange",value:function(b,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,T=b/j,P=S/j;if(E==="horizontal"||E==="vertical"){var C=this.state.offset,R=T>=C.left&&T<=C.left+C.width&&P>=C.top&&P<=C.top+C.height;return R?{x:T,y:P}:null}var I=this.state,D=I.angleAxisMap,V=I.radiusAxisMap;if(D&&V){var U=ld(D);return t7({x:T,y:P},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,S=this.getTooltipEventType(),j=Aa(b,Ta),E={};j&&S==="axis"&&(j.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=iE(this.props,this.handleOuterEvent);return Oe(Oe({},T),E)}},{key:"addListener",value:function(){kR.on(DR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){kR.removeListener(DR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,S,j){for(var E=this.state.formattedGraphicalItems,T=0,P=E.length;T<P;T++){var C=E[T];if(C.item===b||C.props.key===b.key||S===su(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,S=this.state.offset,j=S.left,E=S.top,T=S.height,P=S.width;return J.createElement("defs",null,J.createElement("clipPath",{id:b},J.createElement("rect",{x:j,y:E,height:T,width:P})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(S,j){var E=Cq(j,2),T=E[0],P=E[1];return Oe(Oe({},S),{},Ht({},T,P.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(S,j){var E=Cq(j,2),T=E[0],P=E[1];return Oe(Oe({},S),{},Ht({},T,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(b){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[b])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(b){var S=this.state,j=S.formattedGraphicalItems,E=S.activeItem;if(j&&j.length)for(var T=0,P=j.length;T<P;T++){var C=j[T],R=C.props,I=C.item,D=I.type.defaultProps!==void 0?Oe(Oe({},I.type.defaultProps),I.props):I.props,V=su(I.type);if(V==="Bar"){var U=(R.data||[]).find(function(k){return Cet(b,k)});if(U)return{graphicalItem:C,payload:U}}else if(V==="RadialBar"){var $=(R.data||[]).find(function(k){return t7(b,k)});if($)return{graphicalItem:C,payload:$}}else if(NC(C,E)||jC(C,E)||cw(C,E)){var z=vnt({graphicalItem:C,activeTooltipItem:E,itemData:D.data}),W=D.activeIndex===void 0?z:D.activeIndex;return{graphicalItem:Oe(Oe({},C),{},{childIndex:W}),payload:cw(C,E)?D.data[z]:C.props.data[z]}}}return null}},{key:"render",value:function(){var b=this;if(!GW(this))return null;var S=this.props,j=S.children,E=S.className,T=S.width,P=S.height,C=S.style,R=S.compact,I=S.title,D=S.desc,V=Mq(S,Vat),U=Rt(V,!1);if(R)return J.createElement(cq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement(rD,bg({},U,{width:T,height:P,title:I,desc:D}),this.renderClipPath(),XW(j,this.renderMap)));if(this.props.accessibilityLayer){var $,z;U.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,U.role=(z=this.props.role)!==null&&z!==void 0?z:"application",U.onKeyDown=function(k){b.accessibilityManager.keyboardEvent(k)},U.onFocus=function(){b.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return J.createElement(cq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement("div",bg({className:tn("recharts-wrapper",E),style:Oe({position:"relative",cursor:"default",width:T,height:P},C)},W,{ref:function(L){b.container=L}}),J.createElement(rD,bg({},U,{width:T,height:P,title:I,desc:D,style:aot}),this.renderClipPath(),XW(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);Ht(m,"displayName",n),Ht(m,"defaultProps",Oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ht(m,"getDerivedStateFromProps",function(y,v){var w=y.dataKey,b=y.data,S=y.children,j=y.width,E=y.height,T=y.layout,P=y.stackOffset,C=y.margin,R=v.dataStartIndex,I=v.dataEndIndex;if(v.updateId===void 0){var D=Oq(y);return Oe(Oe(Oe({},D),{},{updateId:0},p(Oe(Oe({props:y},D),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:b,prevWidth:j,prevHeight:E,prevLayout:T,prevStackOffset:P,prevMargin:C,prevChildren:S})}if(w!==v.prevDataKey||b!==v.prevData||j!==v.prevWidth||E!==v.prevHeight||T!==v.prevLayout||P!==v.prevStackOffset||!kg(C,v.prevMargin)){var V=Oq(y),U={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=Oe(Oe({},Rq(v,b,T)),{},{updateId:v.updateId+1}),z=Oe(Oe(Oe({},V),U),$);return Oe(Oe(Oe({},z),p(Oe({props:y},z),v)),{},{prevDataKey:w,prevData:b,prevWidth:j,prevHeight:E,prevLayout:T,prevStackOffset:P,prevMargin:C,prevChildren:S})}if(!tD(S,v.prevChildren)){var W,k,L,H,G=Aa(S,Ov),X=G&&(W=(k=G.props)===null||k===void 0?void 0:k.startIndex)!==null&&W!==void 0?W:R,Z=G&&(L=(H=G.props)===null||H===void 0?void 0:H.endIndex)!==null&&L!==void 0?L:I,B=X!==R||Z!==I,te=!en(b),ie=te&&!B?v.updateId:v.updateId+1;return Oe(Oe({updateId:ie},p(Oe(Oe({props:y},v),{},{updateId:ie,dataStartIndex:X,dataEndIndex:Z}),v)),{},{prevChildren:S,dataStartIndex:X,dataEndIndex:Z})}return null}),Ht(m,"renderActiveDot",function(y,v,w){var b;return N.isValidElement(y)?b=N.cloneElement(y,v):qt(y)?b=y(v):b=J.createElement(f_,v),J.createElement(Sn,{className:"recharts-active-dot",key:w},b)});var g=N.forwardRef(function(v,w){return J.createElement(m,bg({},v,{ref:w}))});return g.displayName=m.displayName,g},got=OC({chartName:"LineChart",GraphicalChild:tp,axisComponents:[{axisType:"xAxis",AxisComp:xf},{axisType:"yAxis",AxisComp:bf}],formatAxisMap:oU}),vot=OC({chartName:"BarChart",GraphicalChild:Kd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xf},{axisType:"yAxis",AxisComp:bf}],formatAxisMap:oU}),yot=OC({chartName:"PieChart",GraphicalChild:Au,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:SC},{axisType:"radiusAxis",AxisComp:wC}],formatAxisMap:GJe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),xot=OC({chartName:"AreaChart",GraphicalChild:oc,axisComponents:[{axisType:"xAxis",AxisComp:xf},{axisType:"yAxis",AxisComp:bf}],formatAxisMap:oU});const bot=()=>{const t=_u(),{user:e,profile:n}=ln(),{pendingTasks:r,inProgressTasks:i,isLoading:s}=BT(),{data:o=[],isLoading:l}=hu({queryKey:["agency-clients",n==null?void 0:n.agency_id],queryFn:async()=>{if(!(n!=null&&n.agency_id))return[];const{data:m,error:g}=await ue.from("profiles").select(`
          *,
          user_roles!inner(role)
        `).eq("agency_id",n.agency_id).eq("user_roles.role","client");if(g)throw g;if(!m||m.length===0)return[];const y=m.map(j=>j.user_id),[v,w]=await Promise.all([ue.from("score_history").select("user_id, experian, equifax, transunion, recorded_at").in("user_id",y).order("recorded_at",{ascending:!1}),ue.from("dispute_items").select("client_id, outcome").in("client_id",y)]),b=new Map;(v.data||[]).forEach(j=>{const E=b.get(j.user_id)||[];E.push(j),b.set(j.user_id,E)});const S=new Map;return(w.data||[]).forEach(j=>{const E=S.get(j.client_id)||[];E.push(j),S.set(j.client_id,E)}),m.map(j=>{const E=b.get(j.user_id)||[],T=S.get(j.user_id)||[],P=E[0],C=E[1],R=P?Math.round(((P.experian||0)+(P.equifax||0)+(P.transunion||0))/3):0,I=C?Math.round(((C.experian||0)+(C.equifax||0)+(C.transunion||0))/3):R;return{id:j.user_id,name:`${j.first_name||""} ${j.last_name||""}`.trim()||"Unnamed Client",email:j.email||"",phone:j.phone||"",status:"active",score:R,scoreChange:R-I,activeDisputes:T.filter(D=>D.outcome==="pending"||D.outcome==="in_progress").length,totalDisputes:T.length,deletedItems:T.filter(D=>D.outcome==="deleted").length,joinDate:new Date(j.created_at).toLocaleDateString()}})},enabled:!!(n!=null&&n.agency_id),staleTime:3e4}),{data:c,isLoading:u}=hu({queryKey:["agency-metrics",n==null?void 0:n.agency_id],queryFn:async()=>{if(!(n!=null&&n.agency_id))return null;const[m,g,y]=await Promise.all([ue.from("profiles").select("user_id",{count:"exact"}).eq("agency_id",n.agency_id),ue.from("dispute_items").select("outcome"),ue.from("invoices").select("amount, status").eq("agency_id",n.agency_id)]),v=m.count||0,w=g.data||[],b=y.data||[],S=w.filter(P=>P.outcome==="deleted").length,j=w.length,E=j>0?Math.round(S/j*100):0,T=b.filter(P=>P.status==="paid").reduce((P,C)=>P+(C.amount||0),0);return{activeClients:v,averageScoreIncrease:47,monthlyRecurring:T,deletionRate:E}},enabled:!!(n!=null&&n.agency_id)}),d=[{month:"Aug",equifax:580,experian:575,transunion:585},{month:"Sep",equifax:592,experian:588,transunion:595},{month:"Oct",equifax:605,experian:601,transunion:608},{month:"Nov",equifax:618,experian:615,transunion:620},{month:"Dec",equifax:630,experian:628,transunion:632},{month:"Jan",equifax:642,experian:640,transunion:645}],f=l||s||u,h=o.filter(m=>m.status==="active"),p=[...r,...i];return f?a.jsx(_r,{children:a.jsxs("div",{className:"space-y-8 p-2",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(kt,{className:"h-10 w-64 rounded-xl"}),a.jsx(kt,{className:"h-5 w-96 rounded-lg"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(kt,{className:"h-11 w-32 rounded-xl"}),a.jsx(kt,{className:"h-11 w-36 rounded-xl"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[1,2,3,4].map(m=>a.jsx(kt,{className:"h-40 rounded-2xl"},m))}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[a.jsx(kt,{className:"xl:col-span-2 h-96 rounded-2xl"}),a.jsx(kt,{className:"h-96 rounded-2xl"})]})]})}):a.jsx(_r,{children:a.jsxs("div",{className:"space-y-8 p-2",children:[a.jsxs(Me.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-primary to-primary/80 shadow-lg shadow-primary/25",children:a.jsx(tr,{className:"w-7 h-7 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:["Welcome back",(n==null?void 0:n.first_name)&&a.jsxs("span",{className:"text-primary",children:[", ",n.first_name]})]}),a.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's your agency overview."})]})]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ge,{variant:"outline",onClick:()=>t("/clients"),className:"rounded-xl border-border/60 hover:border-primary/40 hover:bg-primary/5 transition-all",children:[a.jsx(br,{className:"w-4 h-4 mr-2"}),"View Clients"]}),a.jsxs(ge,{onClick:()=>t("/clients"),className:"rounded-xl bg-gradient-to-r from-primary to-primary/90 hover:shadow-lg hover:shadow-primary/25 transition-all",children:[a.jsx(ml,{className:"w-4 h-4 mr-2"}),"New Client"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:[a.jsx(ZS,{title:"Active Clients",value:(c==null?void 0:c.activeClients)||0,change:12,changeLabel:"vs last month",icon:a.jsx(br,{className:"w-7 h-7"}),variant:"primary"}),a.jsx(ZS,{title:"Avg Score Increase",value:`+${(c==null?void 0:c.averageScoreIncrease)||0}`,change:8,changeLabel:"points",icon:a.jsx(gr,{className:"w-7 h-7"}),variant:"success"}),a.jsx(ZS,{title:"Monthly Revenue",value:`$${((c==null?void 0:c.monthlyRecurring)||0).toLocaleString()}`,change:15,changeLabel:"vs last month",icon:a.jsx(Jv,{className:"w-7 h-7"}),variant:"primary"}),a.jsx(ZS,{title:"Deletion Rate",value:`${(c==null?void 0:c.deletionRate)||0}%`,change:5,changeLabel:"improvement",icon:a.jsx(Fs,{className:"w-7 h-7"}),variant:"success"})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[a.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"xl:col-span-2 rounded-2xl border border-border/50 bg-card p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 rounded-xl bg-primary/10",children:a.jsx(gr,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Score Trends"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Average client score progression"})]})]}),a.jsxs(ge,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-primary rounded-lg",onClick:()=>t("/analytics"),children:["View Details",a.jsx(sl,{className:"w-4 h-4 ml-1"})]})]}),a.jsx(vE,{width:"100%",height:300,children:a.jsxs(xot,{data:d,children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"colorEquifax",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]}),a.jsxs("linearGradient",{id:"colorExperian",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"hsl(var(--info))",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"hsl(var(--info))",stopOpacity:0})]}),a.jsxs("linearGradient",{id:"colorTransunion",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"hsl(var(--warning))",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"hsl(var(--warning))",stopOpacity:0})]})]}),a.jsx(PC,{strokeDasharray:"3 3",className:"stroke-muted"}),a.jsx(xf,{dataKey:"month",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),a.jsx(bf,{domain:[550,700],className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),a.jsx(Ta,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"0 10px 40px -10px rgba(0,0,0,0.2)"}}),a.jsx(oc,{type:"monotone",dataKey:"equifax",stroke:"hsl(var(--primary))",strokeWidth:2.5,fill:"url(#colorEquifax)",dot:{fill:"hsl(var(--primary))",strokeWidth:0,r:4},activeDot:{r:6,fill:"hsl(var(--primary))"}}),a.jsx(oc,{type:"monotone",dataKey:"experian",stroke:"hsl(var(--info))",strokeWidth:2.5,fill:"url(#colorExperian)",dot:{fill:"hsl(var(--info))",strokeWidth:0,r:4},activeDot:{r:6,fill:"hsl(var(--info))"}}),a.jsx(oc,{type:"monotone",dataKey:"transunion",stroke:"hsl(var(--warning))",strokeWidth:2.5,fill:"url(#colorTransunion)",dot:{fill:"hsl(var(--warning))",strokeWidth:0,r:4},activeDot:{r:6,fill:"hsl(var(--warning))"}})]})}),a.jsx("div",{className:"flex items-center justify-center gap-6 mt-4",children:[{name:"Equifax",color:"bg-primary"},{name:"Experian",color:"bg-info"},{name:"TransUnion",color:"bg-warning"}].map(m=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:je("w-3 h-3 rounded-full",m.color)}),a.jsx("span",{className:"text-sm text-muted-foreground",children:m.name})]},m.name))})]}),a.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"rounded-2xl bg-gradient-to-br from-sidebar-background via-sidebar-background to-sidebar-accent/20 border border-sidebar-border p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2.5 rounded-xl bg-primary/20",children:a.jsx(jn,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-sidebar-foreground",children:"AI Insights"}),a.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"Powered by Credit AI"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Me.div,{whileHover:{scale:1.02},className:"p-4 rounded-xl bg-sidebar-accent/40 border border-sidebar-border/50 hover:border-primary/30 transition-all cursor-pointer",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-success/20",children:a.jsx(Wa,{className:"w-4 h-4 text-success"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-sidebar-foreground mb-1",children:"High Success Opportunity"}),a.jsx("p",{className:"text-xs text-sidebar-foreground/70",children:o.length>0?`${Math.min(5,o.length)} clients have disputes with 90%+ deletion probability.`:"Add clients to see AI-powered insights."})]})]})}),a.jsx(Me.div,{whileHover:{scale:1.02},className:"p-4 rounded-xl bg-sidebar-accent/40 border border-sidebar-border/50 hover:border-primary/30 transition-all cursor-pointer",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-warning/20",children:a.jsx(nr,{className:"w-4 h-4 text-warning"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-sidebar-foreground mb-1",children:"Task Queue"}),a.jsxs("p",{className:"text-xs text-sidebar-foreground/70",children:[p.length," tasks awaiting action"]})]})]})}),a.jsx(Me.div,{whileHover:{scale:1.02},className:"p-4 rounded-xl bg-sidebar-accent/40 border border-sidebar-border/50 hover:border-primary/30 transition-all cursor-pointer",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-info/20",children:a.jsx(zn,{className:"w-4 h-4 text-info"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-sidebar-foreground mb-1",children:"Round Completion"}),a.jsxs("p",{className:"text-xs text-sidebar-foreground/70",children:[o.filter(m=>m.activeDisputes>0).length," clients ready for next dispute round"]})]})]})})]}),a.jsxs(ge,{variant:"outline",className:"w-full mt-6 rounded-xl border-sidebar-border text-sidebar-foreground hover:bg-primary/10 hover:border-primary/50 transition-all",onClick:()=>t("/ai-engine"),children:[a.jsx(tr,{className:"w-4 h-4 mr-2"}),"Open AI Engine",a.jsx(sl,{className:"w-4 h-4 ml-auto"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[a.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"rounded-2xl border border-border/50 bg-card overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 rounded-xl bg-warning/10",children:a.jsx($t,{className:"w-5 h-5 text-warning"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"VA Tasks"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.length," pending"]})]})]}),a.jsxs(ge,{variant:"ghost",size:"sm",onClick:()=>t("/tasks"),className:"rounded-lg hover:bg-primary/5",children:["View All",a.jsx(sl,{className:"w-4 h-4 ml-1"})]})]}),a.jsx("div",{className:"p-4 space-y-3 max-h-[400px] overflow-y-auto",children:a.jsx(ib,{children:p.length>0?p.slice(0,3).map((m,g)=>a.jsx(Me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},whileHover:{scale:1.01},className:"p-4 rounded-xl border border-border/50 bg-card hover:border-primary/30 hover:shadow-md transition-all cursor-pointer",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:je("p-2.5 rounded-xl",m.priority==="urgent"?"bg-destructive/10":m.priority==="high"?"bg-warning/10":"bg-info/10"),children:m.priority==="urgent"?a.jsx(Bi,{className:je("w-5 h-5","text-destructive")}):a.jsx($t,{className:je("w-5 h-5",m.priority==="high"?"text-warning":"text-info")})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[a.jsx("h4",{className:"font-semibold text-foreground truncate",children:m.title}),a.jsx(De,{className:je("text-xs rounded-full",m.priority==="urgent"?"bg-destructive/15 text-destructive border-destructive/20":m.priority==="high"?"bg-warning/15 text-warning border-warning/20":"bg-info/15 text-info border-info/20"),children:m.priority})]}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:m.description}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(De,{variant:"outline",className:je("text-xs rounded-full",m.status==="in_progress"?"border-info/30 text-info":"border-muted"),children:m.status==="in_progress"?"In Progress":"Pending"})})]})]})},m.id)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"p-4 rounded-full bg-muted/50 w-fit mx-auto mb-4",children:a.jsx(zn,{className:"w-8 h-8 text-muted-foreground"})}),a.jsx("p",{className:"text-muted-foreground text-sm",children:"No pending tasks. Create tasks from the Tasks page."})]})})})]}),a.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"rounded-2xl border border-border/50 bg-card overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 rounded-xl bg-primary/10",children:a.jsx(br,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Recent Clients"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.length," active"]})]})]}),a.jsxs(ge,{variant:"ghost",size:"sm",onClick:()=>t("/clients"),className:"rounded-lg hover:bg-primary/5",children:["View All",a.jsx(sl,{className:"w-4 h-4 ml-1"})]})]}),a.jsx("div",{className:"p-4 space-y-3 max-h-[400px] overflow-y-auto",children:a.jsx(ib,{children:h.length>0?h.slice(0,3).map((m,g)=>a.jsx(Me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},whileHover:{scale:1.01},onClick:()=>t(`/clients/${m.id}`),className:"p-4 rounded-xl border border-border/50 bg-card cursor-pointer hover:border-primary/30 hover:shadow-md transition-all",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center text-primary font-bold text-lg",children:m.name.split(" ").map(y=>y[0]).join("").toUpperCase().slice(0,2)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[a.jsx("h3",{className:"font-semibold text-foreground truncate",children:m.name}),a.jsx(De,{className:"bg-success/15 text-success border-success/20 rounded-full text-xs",children:"active"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:m.email}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"p-2 rounded-lg bg-muted/30 text-center",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:"Score"}),a.jsxs("p",{className:"font-semibold text-sm",children:[m.score||"-",m.scoreChange>0&&a.jsxs("span",{className:"text-success text-xs ml-1",children:["+",m.scoreChange]})]})]}),a.jsxs("div",{className:"p-2 rounded-lg bg-muted/30 text-center",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:"Deleted"}),a.jsxs("p",{className:"font-semibold text-sm text-success",children:[m.deletedItems,"/",m.totalDisputes]})]}),a.jsxs("div",{className:"p-2 rounded-lg bg-muted/30 text-center",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:"Active"}),a.jsx("p",{className:"font-semibold text-sm",children:m.activeDisputes})]})]})]})]})},m.id)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"p-4 rounded-full bg-muted/50 w-fit mx-auto mb-4",children:a.jsx(br,{className:"w-8 h-8 text-muted-foreground"})}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No clients yet. Add clients to get started."}),a.jsxs(ge,{onClick:()=>t("/clients"),className:"rounded-xl",children:[a.jsx(ml,{className:"w-4 h-4 mr-2"}),"Add First Client"]})]})})})]})]}),a.jsxs(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"rounded-2xl border border-border/50 bg-card overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 rounded-xl bg-info/10",children:a.jsx(nr,{className:"w-5 h-5 text-info"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest updates across your agency"})]})]}),a.jsxs(ge,{variant:"ghost",size:"sm",className:"rounded-lg hover:bg-primary/5",children:["View All",a.jsx(sl,{className:"w-4 h-4 ml-1"})]})]}),a.jsx("div",{className:"p-6",children:a.jsx(O4e,{})})]})]})})};var wot="Label",mce=N.forwardRef((t,e)=>a.jsx(pt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));mce.displayName=wot;var gce=mce;const _ot=Aw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ht=N.forwardRef(({className:t,...e},n)=>a.jsx(gce,{ref:n,className:je(_ot(),t),...e}));ht.displayName=gce.displayName;var IC="Tabs",[Sot]=zi(IC,[RT]),vce=RT(),[Not,vU]=Sot(IC),yce=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=hy(l),[f,h]=Va({prop:r,onChange:i,defaultProp:s??"",caller:IC});return a.jsx(Not,{scope:n,baseId:La(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(pt.div,{dir:d,"data-orientation":o,...u,ref:e})})});yce.displayName=IC;var xce="TabsList",bce=N.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=vU(xce,n),o=vce(n);return a.jsx(Jre,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(pt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});bce.displayName=xce;var wce="TabsTrigger",_ce=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=vU(wce,n),l=vce(n),c=jce(o.baseId,r),u=Ece(o.baseId,r),d=r===o.value;return a.jsx(Qre,{asChild:!0,...l,focusable:!i,active:d,children:a.jsx(pt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Ge(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ge(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ge(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});_ce.displayName=wce;var Sce="TabsContent",Nce=N.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,l=vU(Sce,n),c=jce(l.baseId,r),u=Ece(l.baseId,r),d=r===l.value,f=N.useRef(d);return N.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Ai,{present:i||d,children:({present:h})=>a.jsx(pt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});Nce.displayName=Sce;function jce(t,e){return`${t}-trigger-${e}`}function Ece(t,e){return`${t}-content-${e}`}var jot=yce,Ace=bce,Tce=_ce,Cce=Nce;const jl=jot,Io=N.forwardRef(({className:t,...e},n)=>a.jsx(Ace,{ref:n,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Io.displayName=Ace.displayName;const hn=N.forwardRef(({className:t,...e},n)=>a.jsx(Tce,{ref:n,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));hn.displayName=Tce.displayName;const gn=N.forwardRef(({className:t,...e},n)=>a.jsx(Cce,{ref:n,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));gn.displayName=Cce.displayName;function Eot({password:t}){const e=N.useMemo(()=>[{label:"At least 8 characters",met:t.length>=8},{label:"Contains uppercase letter",met:/[A-Z]/.test(t)},{label:"Contains lowercase letter",met:/[a-z]/.test(t)},{label:"Contains a number",met:/[0-9]/.test(t)},{label:"Contains special character",met:/[!@#$%^&*(),.?":{}|<>]/.test(t)}],[t]),n=N.useMemo(()=>{const r=e.filter(i=>i.met).length;return r===0?{level:0,label:"",color:"bg-muted"}:r<=2?{level:1,label:"Weak",color:"bg-destructive"}:r<=3?{level:2,label:"Fair",color:"bg-warning"}:r<=4?{level:3,label:"Good",color:"bg-info"}:{level:4,label:"Strong",color:"bg-success"}},[e]);return t?a.jsxs("div",{className:"space-y-3 mt-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Password strength"}),a.jsx("span",{className:je("text-xs font-medium",n.level===1&&"text-destructive",n.level===2&&"text-warning",n.level===3&&"text-info",n.level===4&&"text-success"),children:n.label})]}),a.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(r=>a.jsx("div",{className:je("h-1.5 flex-1 rounded-full transition-all duration-300",r<=n.level?n.color:"bg-muted")},r))})]}),a.jsx("div",{className:"grid grid-cols-1 gap-1.5",children:e.map((r,i)=>a.jsxs("div",{className:je("flex items-center gap-2 text-xs transition-colors duration-200",r.met?"text-success":"text-muted-foreground"),children:[a.jsx("div",{className:je("w-4 h-4 rounded-full flex items-center justify-center transition-all duration-200",r.met?"bg-success/20":"bg-muted"),children:r.met?a.jsx(pl,{className:"w-3 h-3"}):a.jsx(Qv,{className:"w-3 h-3"})}),a.jsx("span",{children:r.label})]},i))})]}):null}const kq=[{value:"client",label:"Client",description:"Individual consumer looking to repair credit",icon:Gs,gradient:"from-blue-500 to-cyan-500",features:["Personal Dashboard","Score Tracking","Dispute Progress"]},{value:"agency_owner",label:"Business Owner",description:"Credit repair business with full platform access",icon:H0,gradient:"from-primary to-emerald-400",features:["Unlimited Clients","White-Label Portal","Advanced Analytics"],badge:"Most Popular"},{value:"va_staff",label:"VA / Staff",description:"Business employee with operations access",icon:br,gradient:"from-purple-500 to-pink-500",features:["Client Management","Dispute Letters","Task Automation"]}],Aot={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Tot={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};function Cot(){const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(""),[d,f]=N.useState(null),[h,p]=N.useState(!1),[m,g]=N.useState(!1),[y,v]=N.useState("role"),[w,b]=N.useState(!1),[S,j]=N.useState(""),[E,T]=N.useState(!1),[P,C]=N.useState(null),[R,I]=N.useState(0),{signIn:D,signUp:V}=ln(),{brand:U}=Ow(),$=_u(),{toast:z}=Mr(),W=async X=>{X.preventDefault(),g(!0);const{error:Z}=await D(t,n);Z?z({title:"Sign in failed",description:Z.message,variant:"destructive"}):(z({title:"Welcome back!",description:"You have been signed in successfully."}),$("/")),g(!1)};N.useEffect(()=>{if(R<=0)return;const X=setInterval(()=>{I(Z=>Z<=1?(clearInterval(X),0):Z-1)},1e3);return()=>clearInterval(X)},[R]);const k=async X=>{var B;if(X.preventDefault(),R>0)return;g(!0);const{error:Z}=await ue.auth.resetPasswordForEmail(S,{redirectTo:`${window.location.origin}/reset-password`});Z?(B=Z.message)!=null&&B.toLowerCase().includes("rate")||Z.status===429?(I(60),z({title:"Please wait",description:"Too many requests. Please wait 60 seconds before trying again.",variant:"destructive"})):z({title:"Error",description:Z.message,variant:"destructive"}):(T(!0),I(60),z({title:"Email sent!",description:"Check your inbox for the password reset link."})),g(!1)},L=async X=>{if(X.preventDefault(),!d)return;g(!0);const{error:Z}=await V(t,n,d,i,o,d==="agency_owner"?c:void 0);Z?z({title:"Sign up failed",description:Z.message,variant:"destructive"}):(await ue.auth.signOut(),z({title:"Check your email!",description:"We sent you a confirmation link. Please verify your email to sign in."}),v("role"),e(""),r(""),s(""),l(""),u(""),f(null)),g(!1)},H=()=>{d&&v("details")},G=U.login_background_url?{backgroundImage:`url(${U.login_background_url})`,backgroundSize:"cover",backgroundPosition:"center"}:{};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/20 to-background flex items-center justify-center p-4 sm:p-6 lg:p-8 relative overflow-hidden",style:G,children:[!U.login_background_url&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] sm:w-[700px] sm:h-[700px] bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 animate-pulse-slow"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] sm:w-[700px] sm:h-[700px] bg-accent/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2 animate-pulse-slow"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 w-[300px] h-[300px] bg-primary/3 rounded-full blur-2xl -translate-x-1/2 -translate-y-1/2"})]}),U.login_background_url&&a.jsx("div",{className:"absolute inset-0 bg-background/85 backdrop-blur-sm"}),a.jsxs(Me.div,{className:"w-full max-w-md sm:max-w-lg lg:max-w-xl relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(Me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:a.jsxs(pr,{to:"/",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-all duration-300 mb-6 group",children:[a.jsx(xh,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),a.jsx("span",{className:"text-sm font-medium",children:"Back to home"})]})}),a.jsxs(Me.div,{className:"flex flex-col items-center justify-center gap-3 mb-6 sm:mb-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3,type:"spring",stiffness:200},children:[U.logo_url?a.jsx("img",{src:U.logo_url,alt:U.company_name,className:"h-12 sm:h-14 w-auto"}):a.jsx("img",{src:"/images/credit-ai-logo.png",alt:"Credit AI Platform",className:"h-12 sm:h-14 w-auto"}),U.login_tagline&&a.jsx("p",{className:"text-muted-foreground text-center text-sm max-w-sm px-4",children:U.login_tagline})]}),a.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsx(le,{className:"border-border/50 bg-card/90 backdrop-blur-xl shadow-2xl shadow-primary/5 overflow-hidden",children:a.jsxs(jl,{defaultValue:"signin",className:"w-full",children:[a.jsx(Ye,{className:"pb-4 px-4 sm:px-6",children:a.jsxs(Io,{className:"grid w-full grid-cols-2 bg-secondary/80 p-1 rounded-xl h-12",children:[a.jsx(hn,{value:"signin",className:"rounded-lg text-sm font-semibold transition-all duration-300 data-[state=active]:bg-gradient-to-r data-[state=active]:from-primary data-[state=active]:to-primary/80 data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg",children:"Sign In"}),a.jsx(hn,{value:"signup",className:"rounded-lg text-sm font-semibold transition-all duration-300 data-[state=active]:bg-gradient-to-r data-[state=active]:from-primary data-[state=active]:to-primary/80 data-[state=active]:text-primary-foreground data-[state=active]:shadow-lg",onClick:()=>v("role"),children:"Sign Up"})]})}),a.jsxs(Ne,{className:"px-4 sm:px-6 pb-6",children:[a.jsx(gn,{value:"signin",className:"mt-0",children:a.jsx(ib,{mode:"wait",children:w?E?a.jsxs(Me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"text-center space-y-4 py-4",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center mx-auto ring-4 ring-primary/10",children:a.jsx(Li,{className:"w-10 h-10 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Check your email"}),a.jsxs("p",{className:"text-muted-foreground text-sm mt-2 px-4",children:["We sent a password reset link to ",a.jsx("strong",{className:"text-foreground",children:S})]})]}),a.jsxs(ge,{variant:"outline",onClick:()=>{b(!1),T(!1)},className:"w-full h-12 rounded-xl border-2 hover:bg-secondary/50",children:[a.jsx(xh,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]},"forgot-sent"):a.jsxs(Me.form,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},onSubmit:k,className:"space-y-5",children:[a.jsxs("button",{type:"button",onClick:()=>b(!1),className:"text-sm text-primary hover:text-primary/80 flex items-center gap-1 font-medium transition-colors",children:[a.jsx(xh,{className:"w-3 h-3"}),"Back to sign in"]}),a.jsxs("div",{children:[a.jsx(Xe,{className:"text-xl sm:text-2xl text-foreground",children:"Forgot Password?"}),a.jsx(Zt,{className:"text-muted-foreground mt-1",children:"Enter your email and we'll send you a reset link"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"forgot-email",className:"text-foreground font-medium",children:"Email Address"}),a.jsxs("div",{className:"relative group",children:[a.jsx(Li,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground group-focus-within:text-primary transition-colors"}),a.jsx(Ct,{id:"forgot-email",type:"email",placeholder:"you@example.com",value:S,onChange:X=>j(X.target.value),className:"pl-12 h-12 bg-background border-2 border-border/50 rounded-xl focus:border-primary/50 transition-all",required:!0})]})]}),a.jsx(ge,{type:"submit",className:"w-full h-12 rounded-xl bg-gradient-to-r from-primary to-primary/80 hover:opacity-90 transition-opacity text-base font-semibold shadow-lg shadow-primary/25",disabled:m||R>0,children:m?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),"Sending..."]}):R>0?a.jsxs("span",{children:["Wait ",R,"s before retrying"]}):a.jsxs(a.Fragment,{children:["Send Reset Link",a.jsx(wi,{className:"w-5 h-5 ml-2"})]})})]},"forgot-form"):a.jsxs(Me.form,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onSubmit:W,className:"space-y-5",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"signin-email",className:"text-foreground font-medium",children:"Email Address"}),a.jsxs("div",{className:"relative group",children:[a.jsx(Li,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground group-focus-within:text-primary transition-colors"}),a.jsx(Ct,{id:"signin-email",type:"email",placeholder:"you@example.com",value:t,onChange:X=>e(X.target.value),className:"pl-12 h-12 bg-background border-2 border-border/50 rounded-xl focus:border-primary/50 transition-all",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ht,{htmlFor:"signin-password",className:"text-foreground font-medium",children:"Password"}),a.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-xs text-primary hover:text-primary/80 font-medium transition-colors",children:"Forgot password?"})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(tu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground group-focus-within:text-primary transition-colors"}),a.jsx(Ct,{id:"signin-password",type:h?"text":"password",placeholder:"",value:n,onChange:X=>r(X.target.value),className:"pl-12 pr-12 h-12 bg-background border-2 border-border/50 rounded-xl focus:border-primary/50 transition-all",required:!0}),a.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:h?a.jsx(Nj,{className:"w-5 h-5"}):a.jsx(Qi,{className:"w-5 h-5"})})]})]}),a.jsx(ge,{type:"submit",className:"w-full h-12 rounded-xl bg-gradient-to-r from-primary to-primary/80 hover:opacity-90 transition-opacity text-base font-semibold shadow-lg shadow-primary/25",disabled:m,children:m?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),"Signing in..."]}):a.jsxs(a.Fragment,{children:["Sign In",a.jsx(wi,{className:"w-5 h-5 ml-2"})]})}),a.jsxs("div",{className:"flex items-center justify-center gap-4 pt-2",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[a.jsx(xr,{className:"w-3.5 h-3.5 text-primary"}),a.jsx("span",{children:"Secure Login"})]}),a.jsx("div",{className:"w-1 h-1 rounded-full bg-border"}),a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[a.jsx(tu,{className:"w-3.5 h-3.5 text-primary"}),a.jsx("span",{children:"256-bit SSL"})]})]})]},"signin-form")})}),a.jsx(gn,{value:"signup",className:"mt-0",children:a.jsx(ib,{mode:"wait",children:y==="role"?a.jsxs(Me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-5",children:[a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsxs(Xe,{className:"text-xl sm:text-2xl text-foreground flex items-center gap-2 justify-center sm:justify-start",children:[a.jsx(jn,{className:"w-5 h-5 text-primary"}),"Choose Your Role"]}),a.jsxs(Zt,{className:"text-muted-foreground mt-1",children:["Select how you'll be using ",U.company_name]})]}),a.jsx(Me.div,{className:"space-y-3",variants:Aot,initial:"hidden",animate:"visible",children:kq.map(X=>{const Z=X.icon,B=d===X.value,te=P===X.value;return a.jsxs(Me.button,{type:"button",variants:Tot,onClick:()=>f(X.value),onMouseEnter:()=>C(X.value),onMouseLeave:()=>C(null),className:je("w-full p-4 sm:p-5 rounded-2xl border-2 text-left transition-all duration-300 relative overflow-hidden group",B?"border-primary bg-gradient-to-r from-primary/10 to-primary/5 shadow-lg shadow-primary/10":"border-border/50 bg-background/50 hover:border-primary/40 hover:bg-secondary/30"),children:[X.badge&&a.jsx("div",{className:"absolute -top-0 right-4 bg-gradient-to-r from-primary to-primary/80 text-primary-foreground text-[10px] font-bold px-3 py-1 rounded-b-lg shadow-lg",children:X.badge}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:je("w-12 h-12 sm:w-14 sm:h-14 rounded-xl flex items-center justify-center flex-shrink-0 transition-all duration-300 bg-gradient-to-br",X.gradient,B||te?"shadow-lg scale-105":"opacity-80"),children:a.jsx(Z,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"font-bold text-base sm:text-lg text-foreground",children:X.label}),B&&a.jsx(Me.div,{initial:{scale:0},animate:{scale:1},className:"w-6 h-6 rounded-full bg-primary flex items-center justify-center",children:a.jsx(pl,{className:"w-4 h-4 text-primary-foreground"})})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:X.description}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:X.features.map((ie,ae)=>a.jsx("span",{className:je("text-[10px] sm:text-xs px-2 py-0.5 rounded-full font-medium transition-colors",B?"bg-primary/15 text-primary":"bg-secondary text-muted-foreground"),children:ie},ae))})]})]})]},X.value)})}),a.jsxs(ge,{onClick:H,className:"w-full h-12 rounded-xl bg-gradient-to-r from-primary to-primary/80 hover:opacity-90 transition-opacity text-base font-semibold shadow-lg shadow-primary/25 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!d,children:["Continue",a.jsx(wi,{className:"w-5 h-5 ml-2"})]})]},"role-selection"):a.jsxs(Me.form,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},onSubmit:L,className:"space-y-5",children:[a.jsxs("button",{type:"button",onClick:()=>v("role"),className:"text-sm text-primary hover:text-primary/80 flex items-center gap-1 font-medium transition-colors",children:[a.jsx(xh,{className:"w-3 h-3"}),"Back to role selection"]}),d&&a.jsx("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-primary/10 border border-primary/20",children:(()=>{const X=kq.find(B=>B.value===d),Z=(X==null?void 0:X.icon)||Gs;return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:je("w-10 h-10 rounded-lg flex items-center justify-center bg-gradient-to-br",X==null?void 0:X.gradient),children:a.jsx(Z,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-sm text-foreground",children:["Signing up as ",X==null?void 0:X.label]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:X==null?void 0:X.description})]})]})})()}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"firstName",className:"text-foreground font-medium text-sm",children:"First Name"}),a.jsx(Ct,{id:"firstName",placeholder:"John",value:i,onChange:X=>s(X.target.value),className:"h-11 bg-background border-2 border-border/50 rounded-xl focus:border-primary/50 transition-all",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"lastName",className:"text-foreground font-medium text-sm",children:"Last Name"}),a.jsx(Ct,{id:"lastName",placeholder:"Doe",value:o,onChange:X=>l(X.target.value),className:"h-11 bg-background border-2 border-border/50 rounded-xl focus:border-primary/50 transition-all",required:!0})]})]}),d==="agency_owner"&&a.jsxs(Me.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[a.jsxs(ht,{htmlFor:"agencyName",className:"text-foreground font-medium text-sm flex items-center gap-2",children:[a.jsx(eu,{className:"w-4 h-4 text-primary"}),"Business Name"]}),a.jsx(Ct,{id:"agencyName",placeholder:"Your Credit Repair Business",value:c,onChange:X=>u(X.target.value),className:"h-11 bg-background border-2 border-border/50 rounded-xl focus:border-primary/50 transition-all",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"signup-email",className:"text-foreground font-medium text-sm",children:"Email Address"}),a.jsxs("div",{className:"relative group",children:[a.jsx(Li,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground group-focus-within:text-primary transition-colors"}),a.jsx(Ct,{id:"signup-email",type:"email",placeholder:"you@example.com",value:t,onChange:X=>e(X.target.value),className:"pl-12 h-11 bg-background border-2 border-border/50 rounded-xl focus:border-primary/50 transition-all",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"signup-password",className:"text-foreground font-medium text-sm",children:"Password"}),a.jsxs("div",{className:"relative group",children:[a.jsx(tu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground group-focus-within:text-primary transition-colors"}),a.jsx(Ct,{id:"signup-password",type:h?"text":"password",placeholder:"Create a strong password",value:n,onChange:X=>r(X.target.value),className:"pl-12 pr-12 h-11 bg-background border-2 border-border/50 rounded-xl focus:border-primary/50 transition-all",required:!0}),a.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:h?a.jsx(Nj,{className:"w-5 h-5"}):a.jsx(Qi,{className:"w-5 h-5"})})]}),a.jsx(Eot,{password:n})]}),a.jsx(ge,{type:"submit",className:"w-full h-12 rounded-xl bg-gradient-to-r from-primary to-primary/80 hover:opacity-90 transition-opacity text-base font-semibold shadow-lg shadow-primary/25",disabled:m,children:m?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),"Creating account..."]}):a.jsxs(a.Fragment,{children:["Create Account",a.jsx(wi,{className:"w-5 h-5 ml-2"})]})}),a.jsxs("div",{className:"flex items-center justify-center gap-4 pt-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[a.jsx(xr,{className:"w-3.5 h-3.5 text-primary"}),a.jsx("span",{children:"Secure"})]}),a.jsx("div",{className:"w-1 h-1 rounded-full bg-border"}),a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[a.jsx(cJ,{className:"w-3.5 h-3.5 text-primary"}),a.jsx("span",{children:"Free Trial"})]}),a.jsx("div",{className:"w-1 h-1 rounded-full bg-border"}),a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[a.jsx(gr,{className:"w-3.5 h-3.5 text-primary"}),a.jsx("span",{children:"No CC Required"})]})]})]},"details-form")})})]})]})})}),a.jsxs(Me.p,{className:"text-center text-xs text-muted-foreground mt-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:["By continuing, you agree to our"," ",U.terms_url?a.jsx("a",{href:U.terms_url,className:"text-primary hover:underline",children:"Terms"}):a.jsx("span",{className:"text-primary",children:"Terms"})," ","and"," ",U.privacy_url?a.jsx("a",{href:U.privacy_url,className:"text-primary hover:underline",children:"Privacy Policy"}):a.jsx("span",{className:"text-primary",children:"Privacy Policy"})]})]})]})}const aA=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:je("w-full caption-bottom text-sm",t),...e})}));aA.displayName="Table";const oA=N.forwardRef(({className:t,...e},n)=>a.jsx("thead",{ref:n,className:je("[&_tr]:border-b",t),...e}));oA.displayName="TableHeader";const lA=N.forwardRef(({className:t,...e},n)=>a.jsx("tbody",{ref:n,className:je("[&_tr:last-child]:border-0",t),...e}));lA.displayName="TableBody";const Mot=N.forwardRef(({className:t,...e},n)=>a.jsx("tfoot",{ref:n,className:je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Mot.displayName="TableFooter";const Ph=N.forwardRef(({className:t,...e},n)=>a.jsx("tr",{ref:n,className:je("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));Ph.displayName="TableRow";const Xi=N.forwardRef(({className:t,...e},n)=>a.jsx("th",{ref:n,className:je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Xi.displayName="TableHead";const Yi=N.forwardRef(({className:t,...e},n)=>a.jsx("td",{ref:n,className:je("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Yi.displayName="TableCell";const Pot=N.forwardRef(({className:t,...e},n)=>a.jsx("caption",{ref:n,className:je("mt-4 text-sm text-muted-foreground",t),...e}));Pot.displayName="TableCaption";function kC(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Rot=[" ","Enter","ArrowUp","ArrowDown"],Oot=[" ","Enter"],wp="Select",[DC,LC,Iot]=jw(wp),[Ay]=zi(wp,[Iot,sf]),FC=sf(),[kot,wf]=Ay(wp),[Dot,Lot]=Ay(wp),Mce=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:m}=t,g=FC(e),[y,v]=N.useState(null),[w,b]=N.useState(null),[S,j]=N.useState(!1),E=hy(u),[T,P]=Va({prop:r,defaultProp:i??!1,onChange:s,caller:wp}),[C,R]=Va({prop:o,defaultProp:l,onChange:c,caller:wp}),I=N.useRef(null),D=y?m||!!y.closest("form"):!0,[V,U]=N.useState(new Set),$=Array.from(V).map(z=>z.props.value).join(";");return a.jsx(BA,{...g,children:a.jsxs(kot,{required:p,scope:e,trigger:y,onTriggerChange:v,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:La(),value:C,onValueChange:R,open:T,onOpenChange:P,dir:E,triggerPointerDownPosRef:I,disabled:h,children:[a.jsx(DC.Provider,{scope:e,children:a.jsx(Dot,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(z=>{U(W=>new Set(W).add(z))},[]),onNativeOptionRemove:N.useCallback(z=>{U(W=>{const k=new Set(W);return k.delete(z),k})},[]),children:n})}),D?a.jsxs(eue,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:z=>R(z.target.value),disabled:h,form:m,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(V)]},$):null]})})};Mce.displayName=wp;var Pce="SelectTrigger",Rce=N.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=FC(n),o=wf(Pce,n),l=o.disabled||r,c=Xt(e,o.onTriggerChange),u=LC(n),d=N.useRef("touch"),[f,h,p]=nue(g=>{const y=u().filter(b=>!b.disabled),v=y.find(b=>b.value===o.value),w=rue(y,g,v);w!==void 0&&o.onValueChange(w.value)}),m=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(Mw,{asChild:!0,...s,children:a.jsx(pt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":tue(o.value)?"":void 0,...i,ref:c,onClick:Ge(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:Ge(i.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:Ge(i.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&Rot.includes(g.key)&&(m(),g.preventDefault())})})})});Rce.displayName=Pce;var Oce="SelectValue",Ice=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=t,c=wf(Oce,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Xt(e,c.onValueNodeChange);return $r(()=>{u(d)},[u,d]),a.jsx(pt.span,{...l,ref:f,style:{pointerEvents:"none"},children:tue(c.value)?a.jsx(a.Fragment,{children:o}):s})});Ice.displayName=Oce;var Fot="SelectIcon",kce=N.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return a.jsx(pt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});kce.displayName=Fot;var Uot="SelectPortal",Dce=t=>a.jsx(Kv,{asChild:!0,...t});Dce.displayName=Uot;var _p="SelectContent",Lce=N.forwardRef((t,e)=>{const n=wf(_p,t.__scopeSelect),[r,i]=N.useState();if($r(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ep.createPortal(a.jsx(Fce,{scope:t.__scopeSelect,children:a.jsx(DC.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(Uce,{...t,ref:e})});Lce.displayName=_p;var Go=10,[Fce,_f]=Ay(_p),Bot="SelectContentImpl",zot=zd("SelectContent.RemoveScroll"),Uce=N.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:y,...v}=t,w=wf(_p,n),[b,S]=N.useState(null),[j,E]=N.useState(null),T=Xt(e,ae=>S(ae)),[P,C]=N.useState(null),[R,I]=N.useState(null),D=LC(n),[V,U]=N.useState(!1),$=N.useRef(!1);N.useEffect(()=>{if(b)return OT(b)},[b]),PT();const z=N.useCallback(ae=>{const[be,...ce]=D().map(Y=>Y.ref.current),[Se]=ce.slice(-1),Te=document.activeElement;for(const Y of ae)if(Y===Te||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===be&&j&&(j.scrollTop=0),Y===Se&&j&&(j.scrollTop=j.scrollHeight),Y==null||Y.focus(),document.activeElement!==Te))return},[D,j]),W=N.useCallback(()=>z([P,b]),[z,P,b]);N.useEffect(()=>{V&&W()},[V,W]);const{onOpenChange:k,triggerPointerDownPosRef:L}=w;N.useEffect(()=>{if(b){let ae={x:0,y:0};const be=Se=>{var Te,Y;ae={x:Math.abs(Math.round(Se.pageX)-(((Te=L.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(Se.pageY)-(((Y=L.current)==null?void 0:Y.y)??0))}},ce=Se=>{ae.x<=10&&ae.y<=10?Se.preventDefault():b.contains(Se.target)||k(!1),document.removeEventListener("pointermove",be),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",ce,{capture:!0})}}},[b,k,L]),N.useEffect(()=>{const ae=()=>k(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[k]);const[H,G]=nue(ae=>{const be=D().filter(Te=>!Te.disabled),ce=be.find(Te=>Te.ref.current===document.activeElement),Se=rue(be,ae,ce);Se&&setTimeout(()=>Se.ref.current.focus())}),X=N.useCallback((ae,be,ce)=>{const Se=!$.current&&!ce;(w.value!==void 0&&w.value===be||Se)&&(C(ae),Se&&($.current=!0))},[w.value]),Z=N.useCallback(()=>b==null?void 0:b.focus(),[b]),B=N.useCallback((ae,be,ce)=>{const Se=!$.current&&!ce;(w.value!==void 0&&w.value===be||Se)&&I(ae)},[w.value]),te=r==="popper"?TL:Bce,ie=te===TL?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:y}:{};return a.jsx(Fce,{scope:n,content:b,viewport:j,onViewportChange:E,itemRefCallback:X,selectedItem:P,onItemLeave:Z,itemTextRefCallback:B,focusSelectedItem:W,selectedItemText:R,position:r,isPositioned:V,searchRef:H,children:a.jsx(t_,{as:zot,allowPinchZoom:!0,children:a.jsx(Zw,{asChild:!0,trapped:w.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ge(i,ae=>{var be;(be=w.trigger)==null||be.focus({preventScroll:!0}),ae.preventDefault()}),children:a.jsx(Ap,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:a.jsx(te,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ae=>ae.preventDefault(),...v,...ie,onPlaced:()=>U(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ge(v.onKeyDown,ae=>{const be=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!be&&ae.key.length===1&&G(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Se=D().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Te=ae.target,Y=Se.indexOf(Te);Se=Se.slice(Y+1)}setTimeout(()=>z(Se)),ae.preventDefault()}})})})})})})});Uce.displayName=Bot;var $ot="SelectItemAlignedPosition",Bce=N.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=wf(_p,n),o=_f(_p,n),[l,c]=N.useState(null),[u,d]=N.useState(null),f=Xt(e,T=>d(T)),h=LC(n),p=N.useRef(!1),m=N.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:v,focusSelectedItem:w}=o,b=N.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&g&&y&&v){const T=s.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),R=v.getBoundingClientRect();if(s.dir!=="rtl"){const Te=R.left-P.left,Y=C.left-Te,Ee=T.left-Y,ve=T.width+Ee,Re=Math.max(ve,P.width),we=window.innerWidth-Go,rt=Ob(Y,[Go,Math.max(Go,we-Re)]);l.style.minWidth=ve+"px",l.style.left=rt+"px"}else{const Te=P.right-R.right,Y=window.innerWidth-C.right-Te,Ee=window.innerWidth-T.right-Y,ve=T.width+Ee,Re=Math.max(ve,P.width),we=window.innerWidth-Go,rt=Ob(Y,[Go,Math.max(Go,we-Re)]);l.style.minWidth=ve+"px",l.style.right=rt+"px"}const I=h(),D=window.innerHeight-Go*2,V=g.scrollHeight,U=window.getComputedStyle(u),$=parseInt(U.borderTopWidth,10),z=parseInt(U.paddingTop,10),W=parseInt(U.borderBottomWidth,10),k=parseInt(U.paddingBottom,10),L=$+z+V+k+W,H=Math.min(y.offsetHeight*5,L),G=window.getComputedStyle(g),X=parseInt(G.paddingTop,10),Z=parseInt(G.paddingBottom,10),B=T.top+T.height/2-Go,te=D-B,ie=y.offsetHeight/2,ae=y.offsetTop+ie,be=$+z+ae,ce=L-be;if(be<=B){const Te=I.length>0&&y===I[I.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-g.offsetTop-g.offsetHeight,Ee=Math.max(te,ie+(Te?Z:0)+Y+W),ve=be+Ee;l.style.height=ve+"px"}else{const Te=I.length>0&&y===I[0].ref.current;l.style.top="0px";const Ee=Math.max(B,$+g.offsetTop+(Te?X:0)+ie)+ce;l.style.height=Ee+"px",g.scrollTop=be-B+g.offsetTop}l.style.margin=`${Go}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,l,u,g,y,v,s.dir,r]);$r(()=>b(),[b]);const[S,j]=N.useState();$r(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const E=N.useCallback(T=>{T&&m.current===!0&&(b(),w==null||w(),m.current=!1)},[b,w]);return a.jsx(Hot,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:E,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(pt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Bce.displayName=$ot;var Vot="SelectPopperPosition",TL=N.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Go,...s}=t,o=FC(n);return a.jsx(zA,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});TL.displayName=Vot;var[Hot,yU]=Ay(_p,{}),CL="SelectViewport",zce=N.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=_f(CL,n),o=yU(CL,n),l=Xt(e,s.onViewportChange),c=N.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(DC.Slot,{scope:n,children:a.jsx(pt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ge(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const m=window.innerHeight-Go*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),v=Math.max(g,y);if(v<m){const w=v+p,b=Math.min(m,w),S=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});zce.displayName=CL;var $ce="SelectGroup",[Wot,Got]=Ay($ce),qot=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=La();return a.jsx(Wot,{scope:n,id:i,children:a.jsx(pt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});qot.displayName=$ce;var Vce="SelectLabel",Hce=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Got(Vce,n);return a.jsx(pt.div,{id:i.id,...r,ref:e})});Hce.displayName=Vce;var cA="SelectItem",[Xot,Wce]=Ay(cA),Gce=N.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,l=wf(cA,n),c=_f(cA,n),u=l.value===r,[d,f]=N.useState(s??""),[h,p]=N.useState(!1),m=Xt(e,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,r,i)}),g=La(),y=N.useRef("touch"),v=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Xot,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:N.useCallback(w=>{f(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:a.jsx(DC.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:a.jsx(pt.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:m,onFocus:Ge(o.onFocus,()=>p(!0)),onBlur:Ge(o.onBlur,()=>p(!1)),onClick:Ge(o.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:Ge(o.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:Ge(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:Ge(o.onPointerMove,w=>{var b;y.current=w.pointerType,i?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ge(o.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Ge(o.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(Oot.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});Gce.displayName=cA;var Yx="SelectItemText",qce=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=wf(Yx,n),l=_f(Yx,n),c=Wce(Yx,n),u=Lot(Yx,n),[d,f]=N.useState(null),h=Xt(e,v=>f(v),c.onItemTextChange,v=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,m=N.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return $r(()=>(g(m),()=>y(m)),[g,y,m]),a.jsxs(a.Fragment,{children:[a.jsx(pt.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ep.createPortal(s.children,o.valueNode):null]})});qce.displayName=Yx;var Xce="SelectItemIndicator",Yce=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Wce(Xce,n).isSelected?a.jsx(pt.span,{"aria-hidden":!0,...r,ref:e}):null});Yce.displayName=Xce;var ML="SelectScrollUpButton",Kce=N.forwardRef((t,e)=>{const n=_f(ML,t.__scopeSelect),r=yU(ML,t.__scopeSelect),[i,s]=N.useState(!1),o=Xt(e,r.onScrollButtonChange);return $r(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(Qce,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Kce.displayName=ML;var PL="SelectScrollDownButton",Jce=N.forwardRef((t,e)=>{const n=_f(PL,t.__scopeSelect),r=yU(PL,t.__scopeSelect),[i,s]=N.useState(!1),o=Xt(e,r.onScrollButtonChange);return $r(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(Qce,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Jce.displayName=PL;var Qce=N.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=_f("SelectScrollButton",n),o=N.useRef(null),l=LC(n),c=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),$r(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(pt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ge(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ge(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ge(i.onPointerLeave,()=>{c()})})}),Yot="SelectSeparator",Zce=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(pt.div,{"aria-hidden":!0,...r,ref:e})});Zce.displayName=Yot;var RL="SelectArrow",Kot=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=FC(n),s=wf(RL,n),o=_f(RL,n);return s.open&&o.position==="popper"?a.jsx($A,{...i,...r,ref:e}):null});Kot.displayName=RL;var Jot="SelectBubbleInput",eue=N.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=N.useRef(null),s=Xt(r,i),o=kC(e);return N.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[o,e]),a.jsx(pt.select,{...n,style:{...CK,...n.style},ref:s,defaultValue:e})});eue.displayName=Jot;function tue(t){return t===""||t===void 0}function nue(t){const e=Ur(t),n=N.useRef(""),r=N.useRef(0),i=N.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function rue(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Qot(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Qot(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Zot=Mce,iue=Rce,elt=Ice,tlt=kce,nlt=Dce,sue=Lce,rlt=zce,aue=Hce,oue=Gce,ilt=qce,slt=Yce,lue=Kce,cue=Jce,uue=Zce;const ni=Zot,ri=elt,Br=N.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(iue,{ref:r,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(tlt,{asChild:!0,children:a.jsx(B3,{className:"h-4 w-4 opacity-50"})})]}));Br.displayName=iue.displayName;const due=N.forwardRef(({className:t,...e},n)=>a.jsx(lue,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(hge,{className:"h-4 w-4"})}));due.displayName=lue.displayName;const fue=N.forwardRef(({className:t,...e},n)=>a.jsx(cue,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(B3,{className:"h-4 w-4"})}));fue.displayName=cue.displayName;const zr=N.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>a.jsx(nlt,{children:a.jsxs(sue,{ref:i,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(due,{}),a.jsx(rlt,{className:je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(fue,{})]})}));zr.displayName=sue.displayName;const alt=N.forwardRef(({className:t,...e},n)=>a.jsx(aue,{ref:n,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));alt.displayName=aue.displayName;const ut=N.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(oue,{ref:r,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(slt,{children:a.jsx(pl,{className:"h-4 w-4"})})}),a.jsx(ilt,{children:e})]}));ut.displayName=oue.displayName;const olt=N.forwardRef(({className:t,...e},n)=>a.jsx(uue,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));olt.displayName=uue.displayName;var UC="Dialog",[hue]=zi(UC),[llt,El]=hue(UC),pue=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=N.useRef(null),c=N.useRef(null),[u,d]=Va({prop:r,defaultProp:i??!1,onChange:s,caller:UC});return a.jsx(llt,{scope:e,triggerRef:l,contentRef:c,contentId:La(),titleId:La(),descriptionId:La(),open:u,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};pue.displayName=UC;var mue="DialogTrigger",gue=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=El(mue,n),s=Xt(e,i.triggerRef);return a.jsx(pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":wU(i.open),...r,ref:s,onClick:Ge(t.onClick,i.onOpenToggle)})});gue.displayName=mue;var xU="DialogPortal",[clt,vue]=hue(xU,{forceMount:void 0}),yue=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=El(xU,e);return a.jsx(clt,{scope:e,forceMount:n,children:N.Children.map(r,o=>a.jsx(Ai,{present:n||s.open,children:a.jsx(Kv,{asChild:!0,container:i,children:o})}))})};yue.displayName=xU;var uA="DialogOverlay",xue=N.forwardRef((t,e)=>{const n=vue(uA,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=El(uA,t.__scopeDialog);return s.modal?a.jsx(Ai,{present:r||s.open,children:a.jsx(dlt,{...i,ref:e})}):null});xue.displayName=uA;var ult=zd("DialogOverlay.RemoveScroll"),dlt=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=El(uA,n);return a.jsx(t_,{as:ult,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(pt.div,{"data-state":wU(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Sp="DialogContent",bue=N.forwardRef((t,e)=>{const n=vue(Sp,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=El(Sp,t.__scopeDialog);return a.jsx(Ai,{present:r||s.open,children:s.modal?a.jsx(flt,{...i,ref:e}):a.jsx(hlt,{...i,ref:e})})});bue.displayName=Sp;var flt=N.forwardRef((t,e)=>{const n=El(Sp,t.__scopeDialog),r=N.useRef(null),i=Xt(e,n.contentRef,r);return N.useEffect(()=>{const s=r.current;if(s)return OT(s)},[]),a.jsx(wue,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ge(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ge(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Ge(t.onFocusOutside,s=>s.preventDefault())})}),hlt=N.forwardRef((t,e)=>{const n=El(Sp,t.__scopeDialog),r=N.useRef(!1),i=N.useRef(!1);return a.jsx(wue,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),wue=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=El(Sp,n),c=N.useRef(null),u=Xt(e,c);return PT(),a.jsxs(a.Fragment,{children:[a.jsx(Zw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(Ap,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":wU(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(plt,{titleId:l.titleId}),a.jsx(glt,{contentRef:c,descriptionId:l.descriptionId})]})]})}),bU="DialogTitle",_ue=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=El(bU,n);return a.jsx(pt.h2,{id:i.titleId,...r,ref:e})});_ue.displayName=bU;var Sue="DialogDescription",Nue=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=El(Sue,n);return a.jsx(pt.p,{id:i.descriptionId,...r,ref:e})});Nue.displayName=Sue;var jue="DialogClose",Eue=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=El(jue,n);return a.jsx(pt.button,{type:"button",...r,ref:e,onClick:Ge(t.onClick,()=>i.onOpenChange(!1))})});Eue.displayName=jue;function wU(t){return t?"open":"closed"}var Aue="DialogTitleWarning",[Zdt,Tue]=cme(Aue,{contentName:Sp,titleName:bU,docsSlug:"dialog"}),plt=({titleId:t})=>{const e=Tue(Aue),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},mlt="DialogDescriptionWarning",glt=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tue(mlt).contentName}}.`;return N.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},vlt=pue,ylt=gue,xlt=yue,Cue=xue,Mue=bue,Pue=_ue,Rue=Nue,blt=Eue;const wl=vlt,_U=ylt,wlt=xlt,Oue=N.forwardRef(({className:t,...e},n)=>a.jsx(Cue,{ref:n,className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Oue.displayName=Cue.displayName;const Ao=N.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(wlt,{children:[a.jsx(Oue,{}),a.jsxs(Mue,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(blt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Qv,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ao.displayName=Mue.displayName;const To=({className:t,...e})=>a.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});To.displayName="DialogHeader";const Co=N.forwardRef(({className:t,...e},n)=>a.jsx(Pue,{ref:n,className:je("text-lg font-semibold leading-none tracking-tight",t),...e}));Co.displayName=Pue.displayName;const Wv=N.forwardRef(({className:t,...e},n)=>a.jsx(Rue,{ref:n,className:je("text-sm text-muted-foreground",t),...e}));Wv.displayName=Rue.displayName;function SU(){const{user:t,role:e}=ln(),[n,r]=N.useState([]),[i,s]=N.useState([]),[o,l]=N.useState(!0),c=N.useCallback(async()=>{if(t)try{const{data:h,error:p}=await ue.from("va_assignments").select("*").order("assigned_at",{ascending:!1});if(p)throw p;if(h!=null&&h.length){const m=[...new Set(h.map(b=>b.va_user_id))],g=[...new Set(h.map(b=>b.client_user_id))],{data:y}=await ue.from("profiles").select("user_id, first_name, last_name, email").in("user_id",[...m,...g]),v=new Map(y==null?void 0:y.map(b=>[b.user_id,b])),w=h.map(b=>({...b,va_profile:v.get(b.va_user_id),client_profile:v.get(b.client_user_id)}));r(w)}else r([])}catch(h){console.error("Error fetching assignments:",h)}finally{l(!1)}},[t]),u=N.useCallback(async()=>{if(!(!t||e!=="agency_owner"))try{const{data:h}=await ue.from("profiles").select("agency_id").eq("user_id",t.id).single();if(!(h!=null&&h.agency_id))return;const{data:p}=await ue.from("profiles").select("user_id, first_name, last_name, email").eq("agency_id",h.agency_id),{data:m}=await ue.from("user_roles").select("user_id").eq("role","va_staff"),g=new Set(m==null?void 0:m.map(b=>b.user_id)),y=(p||[]).filter(b=>g.has(b.user_id)),v=new Map;n.forEach(b=>{v.set(b.va_user_id,(v.get(b.va_user_id)||0)+1)});const w=y.map(b=>({...b,assignedClients:v.get(b.user_id)||0}));s(w)}catch(h){console.error("Error fetching VA staff:",h)}},[t,e,n]),d=N.useCallback(async(h,p)=>{if(!t)return null;try{const{data:m}=await ue.from("profiles").select("agency_id").eq("user_id",t.id).single();if(!(m!=null&&m.agency_id))throw new Error("No agency found");const{data:g}=await ue.from("va_assignments").select("id").eq("va_user_id",h).eq("client_user_id",p).maybeSingle();if(g)throw new Error("Assignment already exists");const{data:y,error:v}=await ue.from("va_assignments").insert({agency_id:m.agency_id,va_user_id:h,client_user_id:p}).select().single();if(v)throw v;return await c(),y}catch(m){return console.error("Error assigning VA:",m),null}},[t,c]),f=N.useCallback(async h=>{try{const{error:p}=await ue.from("va_assignments").delete().eq("id",h);if(p)throw p;await c()}catch(p){console.error("Error removing assignment:",p)}},[c]);return N.useEffect(()=>{c()},[c]),N.useEffect(()=>{u()},[u]),{assignments:n,vaStaff:i,isLoading:o,assignVAToClient:d,removeAssignment:f,refetch:c}}const _lt=()=>{const[t,e]=N.useState(""),[n,r]=N.useState("all"),[i,s]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(null),[d,f]=N.useState(""),[h,p]=N.useState({first_name:"",last_name:"",email:"",phone:""}),[m,g]=N.useState(!1),y=_u(),{user:v,role:w}=ln(),{assignments:b,vaStaff:S,assignVAToClient:j,removeAssignment:E,isLoading:T}=SU(),P=GA(),{data:C=[],isLoading:R}=hu({queryKey:["clients",v==null?void 0:v.id],queryFn:async()=>{if(!v)return[];const{data:z}=await ue.from("profiles").select("agency_id").eq("user_id",v.id).single();if(!(z!=null&&z.agency_id))return[];const{data:W}=await ue.from("profiles").select("*").eq("agency_id",z.agency_id),{data:k}=await ue.from("user_roles").select("user_id").eq("role","client"),L=new Set(k==null?void 0:k.map(B=>B.user_id)),H=(W||[]).filter(B=>L.has(B.user_id)),G=H.map(B=>B.user_id),{data:X}=await ue.from("score_history").select("*").in("user_id",G).order("recorded_at",{ascending:!1}),{data:Z}=await ue.from("dispute_items").select("client_id, outcome").in("client_id",G);return H.map(B=>{const te=X==null?void 0:X.find(ce=>ce.user_id===B.user_id),ie=(Z==null?void 0:Z.filter(ce=>ce.client_id===B.user_id))||[],ae=ie.filter(ce=>ce.outcome==="deleted").length,be=b.find(ce=>ce.client_user_id===B.user_id);return{...B,currentScore:te?Math.round(((te.experian||0)+(te.equifax||0)+(te.transunion||0))/3):null,totalDisputes:ie.length,deletedItems:ae,assignedVA:be!=null&&be.va_profile?`${be.va_profile.first_name} ${be.va_profile.last_name}`:null,assignmentId:be==null?void 0:be.id,status:ie.length>0?"active":"lead"}})},enabled:!!v&&w==="agency_owner"}),I=C.filter(z=>{const W=`${z.first_name||""} ${z.last_name||""}`.toLowerCase().includes(t.toLowerCase())||(z.email||"").toLowerCase().includes(t.toLowerCase()),k=n==="all"||z.status===n;return W&&k}),D={lead:"bg-info/10 text-info border-info/20",active:"bg-success/10 text-success border-success/20",paused:"bg-warning/10 text-warning border-warning/20",completed:"bg-primary/10 text-primary border-primary/20",cancelled:"bg-destructive/10 text-destructive border-destructive/20"},V=async()=>{if(!c||!d)return;await j(d,c.user_id)?(It.success("VA assigned successfully"),s(!1),u(null),f("")):It.error("Failed to assign VA")},U=async z=>{await E(z),It.success("Assignment removed")},$=async()=>{if(!h.email.trim()||!h.first_name.trim()){It.error("Email and first name are required");return}g(!0);try{const{data:z}=await ue.from("profiles").select("agency_id").eq("user_id",v==null?void 0:v.id).single();if(!(z!=null&&z.agency_id)){It.error("No agency found");return}const W=crypto.randomUUID(),{error:k}=await ue.from("profiles").insert({user_id:W,agency_id:z.agency_id,first_name:h.first_name,last_name:h.last_name,email:h.email,phone:h.phone});if(k)throw k;const{error:L}=await ue.from("user_roles").insert({user_id:W,role:"client"});if(L)throw L;It.success("Client added successfully"),l(!1),p({first_name:"",last_name:"",email:"",phone:""}),P.invalidateQueries({queryKey:["clients"]})}catch(z){console.error("Error adding client:",z),It.error(z.message||"Failed to add client")}finally{g(!1)}};return a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Clients"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your credit repair clients and their progress."})]}),a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",onClick:()=>l(!0),children:[a.jsx(ml,{className:"w-4 h-4 mr-2"}),"Add Client"]})]}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(nf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Ct,{placeholder:"Search by name or email...",value:t,onChange:z=>e(z.target.value),className:"pl-9"})]}),a.jsxs(ni,{value:n,onValueChange:r,children:[a.jsxs(Br,{className:"w-full sm:w-40",children:[a.jsx(V3,{className:"w-4 h-4 mr-2"}),a.jsx(ri,{placeholder:"Status"})]}),a.jsxs(zr,{children:[a.jsx(ut,{value:"all",children:"All Status"}),a.jsx(ut,{value:"lead",children:"Lead"}),a.jsx(ut,{value:"active",children:"Active"}),a.jsx(ut,{value:"paused",children:"Paused"}),a.jsx(ut,{value:"completed",children:"Completed"}),a.jsx(ut,{value:"cancelled",children:"Cancelled"})]})]}),a.jsxs(ge,{variant:"outline",children:[a.jsx($d,{className:"w-4 h-4 mr-2"}),"Export"]})]})}),a.jsx(le,{children:R||T?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Dn,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):I.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(br,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No clients found"}),a.jsx("p",{className:"text-sm",children:"Add your first client to get started"})]}):a.jsxs(aA,{children:[a.jsx(oA,{children:a.jsxs(Ph,{children:[a.jsx(Xi,{children:"Client"}),a.jsx(Xi,{children:"Status"}),a.jsx(Xi,{className:"text-center",children:"Current Score"}),a.jsx(Xi,{className:"text-center",children:"Progress"}),a.jsx(Xi,{children:"Assigned VA"}),a.jsx(Xi,{className:"text-right",children:"Actions"})]})}),a.jsx(lA,{children:I.map(z=>{var W,k;return a.jsxs(Ph,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>y(`/clients/${z.user_id}`),children:[a.jsx(Yi,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ws,{className:"w-10 h-10",children:a.jsxs(_s,{className:"bg-secondary text-foreground font-semibold text-sm",children:[((W=z.first_name)==null?void 0:W[0])||"?",((k=z.last_name)==null?void 0:k[0])||""]})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[z.first_name||"Unknown"," ",z.last_name||""]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(Li,{className:"w-3 h-3"}),z.email||"No email"]})]})]})}),a.jsx(Yi,{children:a.jsx(De,{variant:"outline",className:je("capitalize",D[z.status]||D.lead),children:z.status})}),a.jsx(Yi,{className:"text-center",children:a.jsx("div",{className:"flex items-center justify-center gap-1",children:a.jsx("span",{className:"font-semibold",children:z.currentScore||""})})}),a.jsx(Yi,{className:"text-center",children:a.jsxs("span",{className:"text-sm",children:[z.deletedItems,"/",z.totalDisputes," deleted"]})}),a.jsx(Yi,{children:z.assignedVA?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:z.assignedVA}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),U(z.assignmentId)},className:"h-6 text-xs text-destructive hover:text-destructive",children:"Remove"})]}):a.jsxs(ge,{variant:"outline",size:"sm",onClick:L=>{L.stopPropagation(),u(z),s(!0)},className:"h-7",children:[a.jsx(Wge,{className:"w-3 h-3 mr-1"}),"Assign VA"]})}),a.jsx(Yi,{className:"text-right",children:a.jsxs(Kk,{children:[a.jsx(Jk,{asChild:!0,onClick:L=>L.stopPropagation(),children:a.jsx(ge,{variant:"ghost",size:"icon",children:a.jsx(mge,{className:"w-4 h-4"})})}),a.jsxs(Qj,{align:"end",children:[a.jsx(Yc,{onClick:()=>y(`/clients/${z.user_id}`),children:"View Profile"}),a.jsx(Yc,{children:"Generate Letters"}),a.jsx(Yc,{children:"Send Message"}),a.jsx(Yc,{children:"Edit Client"})]})]})})]},z.user_id)})})]})}),a.jsx(wl,{open:i,onOpenChange:s,children:a.jsxs(Ao,{children:[a.jsxs(To,{children:[a.jsx(Co,{children:"Assign VA to Client"}),a.jsxs(Wv,{children:["Select a VA to assign to ",c==null?void 0:c.first_name," ",c==null?void 0:c.last_name]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs(ni,{value:d,onValueChange:f,children:[a.jsx(Br,{children:a.jsx(ri,{placeholder:"Select a VA"})}),a.jsx(zr,{children:S.map(z=>a.jsxs(ut,{value:z.user_id,children:[z.first_name," ",z.last_name," (",z.assignedClients," clients)"]},z.user_id))})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ge,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsx(ge,{onClick:V,disabled:!d,className:"bg-gradient-primary",children:"Assign VA"})]})]})]})}),a.jsx(wl,{open:o,onOpenChange:l,children:a.jsxs(Ao,{children:[a.jsxs(To,{children:[a.jsx(Co,{children:"Add New Client"}),a.jsx(Wv,{children:"Enter the client's information to add them to your agency."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"first_name",children:"First Name *"}),a.jsx(Ct,{id:"first_name",value:h.first_name,onChange:z=>p(W=>({...W,first_name:z.target.value})),placeholder:"John"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"last_name",children:"Last Name"}),a.jsx(Ct,{id:"last_name",value:h.last_name,onChange:z=>p(W=>({...W,last_name:z.target.value})),placeholder:"Doe"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"email",children:"Email *"}),a.jsx(Ct,{id:"email",type:"email",value:h.email,onChange:z=>p(W=>({...W,email:z.target.value})),placeholder:"john.doe@example.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"phone",children:"Phone"}),a.jsx(Ct,{id:"phone",type:"tel",value:h.phone,onChange:z=>p(W=>({...W,phone:z.target.value})),placeholder:"(555) 123-4567"})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ge,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),a.jsx(ge,{onClick:$,disabled:m||!h.email.trim()||!h.first_name.trim(),className:"bg-gradient-primary",children:m?"Adding...":"Add Client"})]})]})]})})]})})},Slt=[{id:"1",firstName:"Marcus",lastName:"Johnson",email:"marcus.j@email.com",phone:"(555) 123-4567",status:"active",assignedVA:"Sarah Chen",currentScores:[{bureau:"equifax",score:612,previousScore:580,date:"2024-01-15"},{bureau:"experian",score:598,previousScore:565,date:"2024-01-15"},{bureau:"transunion",score:605,previousScore:572,date:"2024-01-15"}],targetScore:720,startDate:"2023-10-01",nextPaymentDate:"2024-02-01",monthlyFee:149,totalPaid:596,currentRound:3,totalItemsDisputed:18,itemsDeleted:7,lastActivity:"2024-01-18",tags:["high-priority","mortgage-ready"],notes:"Client is looking to buy home in 6 months"},{id:"2",firstName:"Jennifer",lastName:"Williams",email:"jen.w@email.com",phone:"(555) 234-5678",status:"active",assignedVA:"Mike Torres",currentScores:[{bureau:"equifax",score:545,previousScore:512,date:"2024-01-14"},{bureau:"experian",score:538,previousScore:498,date:"2024-01-14"},{bureau:"transunion",score:552,previousScore:521,date:"2024-01-14"}],targetScore:680,startDate:"2023-11-15",nextPaymentDate:"2024-02-15",monthlyFee:99,totalPaid:297,currentRound:2,totalItemsDisputed:12,itemsDeleted:3,lastActivity:"2024-01-17",tags:["collections-focus"],notes:"Multiple medical collections to dispute"},{id:"3",firstName:"David",lastName:"Martinez",email:"david.m@email.com",phone:"(555) 345-6789",status:"active",assignedVA:"Sarah Chen",currentScores:[{bureau:"equifax",score:678,previousScore:645,date:"2024-01-16"},{bureau:"experian",score:685,previousScore:652,date:"2024-01-16"},{bureau:"transunion",score:672,previousScore:638,date:"2024-01-16"}],targetScore:740,startDate:"2023-09-01",nextPaymentDate:"2024-02-01",monthlyFee:199,totalPaid:995,currentRound:4,totalItemsDisputed:8,itemsDeleted:6,lastActivity:"2024-01-19",tags:["auto-loan","premium"],notes:"Looking for auto refinance"},{id:"4",firstName:"Ashley",lastName:"Thompson",email:"ashley.t@email.com",phone:"(555) 456-7890",status:"lead",currentScores:[{bureau:"equifax",score:498,date:"2024-01-10"},{bureau:"experian",score:485,date:"2024-01-10"},{bureau:"transunion",score:502,date:"2024-01-10"}],targetScore:650,startDate:"2024-01-20",monthlyFee:149,totalPaid:0,currentRound:0,totalItemsDisputed:0,itemsDeleted:0,lastActivity:"2024-01-20",tags:["new-lead"],notes:"Submitted intake form, awaiting credit report"},{id:"5",firstName:"Robert",lastName:"Garcia",email:"robert.g@email.com",phone:"(555) 567-8901",status:"completed",assignedVA:"Mike Torres",currentScores:[{bureau:"equifax",score:742,previousScore:598,date:"2024-01-12"},{bureau:"experian",score:738,previousScore:585,date:"2024-01-12"},{bureau:"transunion",score:745,previousScore:602,date:"2024-01-12"}],targetScore:720,startDate:"2023-03-01",monthlyFee:149,totalPaid:1639,currentRound:6,totalItemsDisputed:24,itemsDeleted:19,lastActivity:"2024-01-12",tags:["success-story","testimonial"],notes:"Amazing results - increased 145 points average!"}],Nlt=[{id:"t1",creditor:"Capital One",accountNumber:"****4532",accountType:"credit_card",status:"collection",balance:2450,creditLimit:3e3,paymentStatus:"collection",openDate:"2019-06-15",bureaus:["equifax","experian","transunion"],disputable:!0,disputeReason:"Account sold to collection agency - original creditor data outdated",deletionProbability:78,expectedScoreImpact:35},{id:"t2",creditor:"Midland Credit Management",accountNumber:"****7891",accountType:"collection",status:"collection",balance:1890,paymentStatus:"collection",openDate:"2021-03-22",bureaus:["equifax","transunion"],disputable:!0,disputeReason:"Unable to validate debt - missing original contract",deletionProbability:85,expectedScoreImpact:42},{id:"t3",creditor:"Chase Bank",accountNumber:"****2345",accountType:"credit_card",status:"open",balance:1200,creditLimit:5e3,paymentStatus:"late_30",openDate:"2020-01-10",bureaus:["equifax","experian","transunion"],disputable:!0,disputeReason:"Late payment during COVID - goodwill adjustment possible",deletionProbability:45,expectedScoreImpact:18},{id:"t4",creditor:"Medical Center Collections",accountNumber:"****9012",accountType:"collection",status:"collection",balance:425,paymentStatus:"collection",openDate:"2022-08-05",bureaus:["experian"],disputable:!0,disputeReason:"Medical debt under HIPAA - privacy violation potential",deletionProbability:92,expectedScoreImpact:28},{id:"t5",creditor:"Bank of America",accountNumber:"****5678",accountType:"auto",status:"closed",balance:0,paymentStatus:"current",openDate:"2018-04-20",bureaus:["equifax","experian","transunion"],disputable:!1}],jlt=[{id:"d1",clientId:"1",round:3,status:"pending_approval",bureau:"equifax",tradelineId:"t1",letterType:"FCRA 605b Deletion Request",letterContent:"Dear Equifax, I am writing to dispute...",reason:"Data furnished contains inaccurate DOFD",createdDate:"2024-01-18",aiRecommendation:"High probability of deletion due to data age discrepancy",deletionProbability:78,documents:["id_front.jpg","proof_of_address.pdf"]},{id:"d2",clientId:"1",round:3,status:"approved",bureau:"experian",tradelineId:"t2",letterType:"Debt Validation Request",letterContent:"Dear Experian, Pursuant to the FDCPA...",reason:"Collection agency cannot provide original contract",createdDate:"2024-01-17",sentDate:"2024-01-18",aiRecommendation:"Request full validation - likely to fail verification",deletionProbability:85,documents:["id_front.jpg","proof_of_address.pdf","ssn_card.jpg"]},{id:"d3",clientId:"2",round:2,status:"response_received",bureau:"transunion",tradelineId:"t4",letterType:"HIPAA Medical Debt Letter",letterContent:"Dear TransUnion, Under HIPAA regulations...",reason:"Medical collection reported without proper authorization",createdDate:"2024-01-05",sentDate:"2024-01-06",responseDate:"2024-01-19",outcome:"deleted",aiRecommendation:"Medical debts have high deletion rate under HIPAA",deletionProbability:92,documents:["id_front.jpg","hipaa_form.pdf"]}],Elt=[{month:"Aug",equifax:580,experian:565,transunion:572},{month:"Sep",equifax:585,experian:570,transunion:578},{month:"Oct",equifax:592,experian:578,transunion:585},{month:"Nov",equifax:598,experian:585,transunion:592},{month:"Dec",equifax:605,experian:590,transunion:598},{month:"Jan",equifax:612,experian:598,transunion:605}];var NU="Progress",jU=100,[Alt]=zi(NU),[Tlt,Clt]=Alt(NU),Iue=N.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=Mlt,...o}=t;(i||i===0)&&!Dq(i)&&console.error(Plt(`${i}`,"Progress"));const l=Dq(i)?i:jU;r!==null&&!Lq(r,l)&&console.error(Rlt(`${r}`,"Progress"));const c=Lq(r,l)?r:null,u=dA(c)?s(c,l):void 0;return a.jsx(Tlt,{scope:n,value:c,max:l,children:a.jsx(pt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":dA(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Lue(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});Iue.displayName=NU;var kue="ProgressIndicator",Due=N.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=Clt(kue,n);return a.jsx(pt.div,{"data-state":Lue(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});Due.displayName=kue;function Mlt(t,e){return`${Math.round(t/e*100)}%`}function Lue(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function dA(t){return typeof t=="number"}function Dq(t){return dA(t)&&!isNaN(t)&&t>0}function Lq(t,e){return dA(t)&&!isNaN(t)&&t<=e&&t>=0}function Plt(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jU}\`.`}function Rlt(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jU} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Fue=Iue,Olt=Due;const Jd=N.forwardRef(({className:t,value:e,...n},r)=>a.jsx(Fue,{ref:r,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:a.jsx(Olt,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Jd.displayName=Fue.displayName;function np({score:t,previousScore:e,bureau:n,size:r="md"}){const i=typeof t=="number"&&!isNaN(t)?t:0,s=typeof e=="number"&&!isNaN(e)?e:void 0,o=s?i-s:0,l=Math.max(0,Math.min(100,(i-300)/550*100)),c=d=>d>=750?"text-success":d>=700?"text-primary":d>=650?"text-info":d>=600?"text-warning":"text-destructive",u={sm:{wrapper:"w-24 h-24",text:"text-xl",label:"text-xs"},md:{wrapper:"w-32 h-32",text:"text-3xl",label:"text-sm"},lg:{wrapper:"w-40 h-40",text:"text-4xl",label:"text-base"}};return a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsxs("div",{className:je("relative",u[r].wrapper),children:[a.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[a.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-muted"}),a.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"url(#gradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${l*2.83} 283`,className:"transition-all duration-1000 ease-out"}),a.jsx("defs",{children:a.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[a.jsx("stop",{offset:"0%",className:je("stop-color-current",c(i))}),a.jsx("stop",{offset:"100%",className:je("stop-color-current",c(i)),style:{stopOpacity:.7}})]})})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[a.jsx("span",{className:je("font-bold",u[r].text,c(i)),children:i>0?i:"--"}),o!==0&&a.jsxs("span",{className:je("text-xs font-medium",o>0?"text-success":"text-destructive"),children:[o>0?"+":"",o]})]})]}),n&&a.jsx("span",{className:je("font-medium text-muted-foreground capitalize",u[r].label),children:n})]})}const Ilt=()=>{const{id:t}=nbe(),e=_u(),n=Slt.find(s=>s.id===t);if(!n)return a.jsx(_r,{children:a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsx("p",{className:"text-muted-foreground",children:"Client not found"})})});const r=jlt.filter(s=>s.clientId===t),i={lead:"bg-info/10 text-info border-info/20",active:"bg-success/10 text-success border-success/20",paused:"bg-warning/10 text-warning border-warning/20",completed:"bg-primary/10 text-primary border-primary/20",cancelled:"bg-destructive/10 text-destructive border-destructive/20"};return a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>e("/clients"),children:a.jsx(xh,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[n.firstName," ",n.lastName]}),a.jsx(De,{variant:"outline",className:je("capitalize",i[n.status]),children:n.status})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Li,{className:"w-4 h-4"})," ",n.email]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(IA,{className:"w-4 h-4"})," ",n.phone]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ha,{className:"w-4 h-4"})," Started ",n.startDate]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{variant:"outline",children:[a.jsx(Li,{className:"w-4 h-4 mr-2"}),"Message"]}),a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",children:[a.jsx(tr,{className:"w-4 h-4 mr-2"}),"Generate Letters"]})]})]}),a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsx(Xe,{className:"text-lg",children:"Credit Scores"})}),a.jsx(Ne,{children:a.jsx("div",{className:"flex justify-around items-center",children:n.currentScores.map(s=>a.jsx(np,{score:s.score,previousScore:s.previousScore,bureau:s.bureau,size:"lg"},s.bureau))})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx($t,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:n.currentRound}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Round"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:a.jsx(Ls,{className:"w-5 h-5 text-success"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:[n.itemsDeleted,"/",n.totalItemsDisputed]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Items Deleted"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-info/10",children:a.jsx(gr,{className:"w-5 h-5 text-info"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:n.targetScore}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Target Score"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:a.jsx(Jv,{className:"w-5 h-5 text-warning"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",n.totalPaid]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Paid"})]})]})})]}),a.jsxs(jl,{defaultValue:"tradelines",className:"space-y-4",children:[a.jsxs(Io,{children:[a.jsx(hn,{value:"tradelines",children:"Tradelines"}),a.jsx(hn,{value:"disputes",children:"Disputes"}),a.jsx(hn,{value:"history",children:"Score History"}),a.jsx(hn,{value:"documents",children:"Documents"})]}),a.jsx(gn,{value:"tradelines",className:"space-y-4",children:Nlt.map(s=>a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h4",{className:"font-semibold",children:s.creditor}),a.jsx(De,{variant:"outline",className:je(s.status==="collection"&&"bg-destructive/10 text-destructive",s.status==="open"&&"bg-success/10 text-success",s.status==="closed"&&"bg-muted text-muted-foreground"),children:s.status}),s.disputable&&a.jsxs(De,{className:"bg-primary/10 text-primary border-0",children:[a.jsx(jn,{className:"w-3 h-3 mr-1"}),"Disputable"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Balance"}),a.jsxs("p",{className:"font-medium",children:["$",s.balance.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Account Type"}),a.jsx("p",{className:"font-medium capitalize",children:s.accountType.replace("_"," ")})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Bureaus"}),a.jsx("div",{className:"flex gap-1",children:s.bureaus.map(o=>a.jsx(De,{variant:"secondary",className:"text-xs capitalize",children:o.slice(0,2)},o))})]}),s.deletionProbability&&a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Deletion Probability"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jd,{value:s.deletionProbability,className:"w-20 h-2"}),a.jsxs("span",{className:"font-medium text-success",children:[s.deletionProbability,"%"]})]})]})]}),s.disputeReason&&a.jsx("div",{className:"mt-3 p-2 rounded-lg bg-accent/50",children:a.jsxs("p",{className:"text-xs text-accent-foreground",children:[a.jsx(jn,{className:"w-3 h-3 inline mr-1"}),"AI Reason: ",s.disputeReason]})})]}),s.disputable&&a.jsx(ge,{size:"sm",variant:"outline",children:"Add to Dispute"})]})},s.id))}),a.jsx(gn,{value:"disputes",className:"space-y-4",children:r.map(s=>a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h4",{className:"font-semibold",children:s.letterType}),a.jsx(De,{variant:"outline",className:je(s.status==="pending_approval"&&"bg-warning/10 text-warning",s.status==="approved"&&"bg-info/10 text-info",s.status==="sent"&&"bg-primary/10 text-primary",s.status==="response_received"&&"bg-success/10 text-success"),children:s.status.replace("_"," ")}),a.jsx(De,{variant:"secondary",className:"capitalize",children:s.bureau})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.reason}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ha,{className:"w-3 h-3"}),"Created ",s.createdDate]}),s.sentDate&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Li,{className:"w-3 h-3"}),"Sent ",s.sentDate]}),s.outcome&&a.jsxs("span",{className:je("flex items-center gap-1 font-medium",s.outcome==="deleted"&&"text-success"),children:[a.jsx(Ls,{className:"w-3 h-3"}),s.outcome]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Deletion Probability"}),a.jsxs("p",{className:"text-xl font-bold text-success",children:[s.deletionProbability,"%"]})]})]})},s.id))}),a.jsx(gn,{value:"history",children:a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsx(Xe,{children:"Score Progress"})}),a.jsx(Ne,{children:a.jsx(vE,{width:"100%",height:300,children:a.jsxs(got,{data:Elt,children:[a.jsx(PC,{strokeDasharray:"3 3",className:"stroke-muted"}),a.jsx(xf,{dataKey:"month"}),a.jsx(bf,{domain:[550,650]}),a.jsx(Ta,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),a.jsx(tp,{type:"monotone",dataKey:"equifax",stroke:"hsl(var(--primary))",strokeWidth:2}),a.jsx(tp,{type:"monotone",dataKey:"experian",stroke:"hsl(var(--info))",strokeWidth:2}),a.jsx(tp,{type:"monotone",dataKey:"transunion",stroke:"hsl(var(--warning))",strokeWidth:2})]})})})]})}),a.jsx(gn,{value:"documents",children:a.jsx(le,{className:"p-8",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx($t,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Document management coming soon"})]})})})]})]})})},mc=N.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));mc.displayName="Textarea";const klt={low:"bg-muted text-muted-foreground",medium:"bg-info/10 text-info border-info/20",high:"bg-warning/10 text-warning border-warning/20",urgent:"bg-destructive/10 text-destructive border-destructive/20"},FR=({task:t,onUpdate:e,onDelete:n})=>{const r=()=>e(t.id,{status:"in_progress"}),i=()=>e(t.id,{status:"completed"}),s=t.ai_generated??!1,o=t.client_name;return a.jsx(le,{className:"p-4 hover:border-primary/30 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[a.jsx("h4",{className:"font-medium",children:t.title}),a.jsx(De,{variant:"outline",className:je("text-xs",klt[t.priority]),children:t.priority}),s&&a.jsxs(De,{variant:"secondary",className:"text-xs bg-gradient-primary text-primary-foreground",children:[a.jsx(jn,{className:"w-3 h-3 mr-1"}),"AI"]})]}),t.description&&a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:t.description}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground flex-wrap",children:[a.jsxs("span",{children:["Type: ",t.task_type]}),o&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Gs,{className:"w-3 h-3"}),o]}),t.due_date&&a.jsxs("span",{children:["Due: ",new Date(t.due_date).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[t.status==="pending"&&a.jsxs(ge,{size:"sm",variant:"outline",onClick:r,children:[a.jsx(oJ,{className:"w-3 h-3 mr-1"}),"Start"]}),t.status==="in_progress"&&a.jsxs(ge,{size:"sm",className:"bg-gradient-primary",onClick:i,children:[a.jsx(Ls,{className:"w-3 h-3 mr-1"}),"Complete"]}),a.jsx(ge,{size:"sm",variant:"ghost",onClick:()=>n(t.id),children:a.jsx(uJ,{className:"w-3 h-3"})})]})]})})},Dlt=()=>{const[t,e]=N.useState("all"),[n,r]=N.useState(!1),[i,s]=N.useState({title:"",description:"",priority:"medium",task_type:"general"}),{isLoading:o,tasks:l,pendingTasks:c,inProgressTasks:u,completedTasks:d,createTask:f,updateTask:h,deleteTask:p}=BT(),{tasks:m,pendingTasks:g,inProgressTasks:y,completedTasks:v}={tasks:l,pendingTasks:c,inProgressTasks:u,completedTasks:d},w=t==="all"?g:g.filter(T=>T.priority===t),b=t==="all"?y:y.filter(T=>T.priority===t),S=t==="all"?v.slice(0,10):v.filter(T=>T.priority===t).slice(0,10),j=async()=>{i.title.trim()&&(await f(i),s({title:"",description:"",priority:"medium",task_type:"general"}),r(!1))},E=m.length>0?Math.round(v.length/m.length*100):0;return o?a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(kt,{className:"h-10 w-64"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(T=>a.jsx(le,{className:"p-4",children:a.jsx(kt,{className:"h-12 w-full"})},T))}),a.jsx(kt,{className:"h-96 w-full"})]})}):a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"VA Tasks"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage and track all virtual assistant tasks."})]}),a.jsxs(wl,{open:n,onOpenChange:r,children:[a.jsx(_U,{asChild:!0,children:a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",children:[a.jsx(ml,{className:"w-4 h-4 mr-2"}),"New Task"]})}),a.jsxs(Ao,{children:[a.jsx(To,{children:a.jsx(Co,{children:"Create New Task"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ht,{children:"Title"}),a.jsx(Ct,{value:i.title,onChange:T=>s(P=>({...P,title:T.target.value})),placeholder:"Task title..."})]}),a.jsxs("div",{children:[a.jsx(ht,{children:"Description"}),a.jsx(mc,{value:i.description,onChange:T=>s(P=>({...P,description:T.target.value})),placeholder:"Task description..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ht,{children:"Priority"}),a.jsxs(ni,{value:i.priority,onValueChange:T=>s(P=>({...P,priority:T})),children:[a.jsx(Br,{children:a.jsx(ri,{})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"low",children:"Low"}),a.jsx(ut,{value:"medium",children:"Medium"}),a.jsx(ut,{value:"high",children:"High"}),a.jsx(ut,{value:"urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{children:[a.jsx(ht,{children:"Type"}),a.jsxs(ni,{value:i.task_type,onValueChange:T=>s(P=>({...P,task_type:T})),children:[a.jsx(Br,{children:a.jsx(ri,{})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"general",children:"General"}),a.jsx(ut,{value:"letter_review",children:"Letter Review"}),a.jsx(ut,{value:"document_review",children:"Document Review"}),a.jsx(ut,{value:"client_followup",children:"Client Follow-up"}),a.jsx(ut,{value:"dispute_action",children:"Dispute Action"})]})]})]})]}),a.jsx(ge,{className:"w-full",onClick:j,children:"Create Task"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:a.jsx(nr,{className:"w-5 h-5 text-warning"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:g.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-info/10",children:a.jsx(Bi,{className:"w-5 h-5 text-info"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:y.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:a.jsx(Ls,{className:"w-5 h-5 text-success"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:v.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(gr,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:[E,"%"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Completion Rate"})]})]})})]}),a.jsx(le,{className:"p-4",children:a.jsx("div",{className:"flex flex-wrap gap-4",children:a.jsxs(ni,{value:t,onValueChange:e,children:[a.jsxs(Br,{className:"w-40",children:[a.jsx(V3,{className:"w-4 h-4 mr-2"}),a.jsx(ri,{placeholder:"Priority"})]}),a.jsxs(zr,{children:[a.jsx(ut,{value:"all",children:"All Priorities"}),a.jsx(ut,{value:"urgent",children:"Urgent"}),a.jsx(ut,{value:"high",children:"High"}),a.jsx(ut,{value:"medium",children:"Medium"}),a.jsx(ut,{value:"low",children:"Low"})]})]})})}),m.length===0&&a.jsxs(le,{className:"p-12 text-center",children:[a.jsx($t,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Tasks Yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first task or wait for AI-generated tasks from dispute workflows."}),a.jsxs(ge,{onClick:()=>r(!0),children:[a.jsx(ml,{className:"w-4 h-4 mr-2"}),"Create First Task"]})]}),m.length>0&&a.jsxs(jl,{defaultValue:"pending",className:"space-y-4",children:[a.jsxs(Io,{children:[a.jsxs(hn,{value:"pending",className:"gap-2",children:["Pending",a.jsx(De,{variant:"secondary",className:"ml-1",children:w.length})]}),a.jsxs(hn,{value:"in_progress",className:"gap-2",children:["In Progress",a.jsx(De,{variant:"secondary",className:"ml-1",children:b.length})]}),a.jsxs(hn,{value:"completed",children:["Completed",a.jsx(De,{variant:"secondary",className:"ml-1",children:S.length})]})]}),a.jsxs(gn,{value:"pending",className:"space-y-3",children:[w.map(T=>a.jsx(FR,{task:T,onUpdate:h,onDelete:p},T.id)),w.length===0&&a.jsx(le,{className:"p-8",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(Ls,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No pending tasks!"})]})})]}),a.jsxs(gn,{value:"in_progress",className:"space-y-3",children:[b.map(T=>a.jsx(FR,{task:T,onUpdate:h,onDelete:p},T.id)),b.length===0&&a.jsx(le,{className:"p-8",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(nr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No tasks in progress"})]})})]}),a.jsxs(gn,{value:"completed",className:"space-y-3",children:[S.map(T=>a.jsx(FR,{task:T,onUpdate:h,onDelete:p},T.id)),S.length===0&&a.jsx(le,{className:"p-8",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx($t,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No completed tasks yet"})]})})]})]})]})})};function EU(){const[t,e]=N.useState(!1),[n,r]=N.useState([]),[i,s]=N.useState(null),{user:o}=ln(),{toast:l}=Mr(),c=N.useCallback(async()=>{if(o){e(!0);try{let p=ue.from("dispute_rounds").select("*").order("round_number",{ascending:!1});const{data:m,error:g}=await p;if(g)throw g;const y=[];for(const v of m||[]){const{data:w}=await ue.from("dispute_items").select("*").eq("round_id",v.id);y.push({...v,items:w||[]})}r(y),y.length>0&&s(y[0])}catch(p){console.error("Error fetching dispute rounds:",p)}finally{e(!1)}}},[o]),u=N.useCallback(async p=>{if(!o)return null;try{const m=p||o.id,{data:g}=await ue.from("dispute_rounds").select("round_number").eq("client_id",m).order("round_number",{ascending:!1}).limit(1),y=g&&g.length>0?g[0].round_number+1:1,{data:v,error:w}=await ue.from("dispute_rounds").insert({client_id:m,round_number:y,status:"pending",started_at:new Date().toISOString()}).select().single();if(w)throw w;const b={...v,items:[]};return r(S=>[b,...S]),s(b),l({title:"Round Created",description:`Dispute Round ${y} has been created.`}),b}catch(m){return console.error("Error creating round:",m),l({title:"Error",description:m.message,variant:"destructive"}),null}},[o,l]),d=N.useCallback(async(p,m)=>{if(!o)return null;try{const g={round_id:p,client_id:o.id,creditor_name:m.creditor_name,bureau:m.bureau,letter_type:m.letter_type,dispute_reason:m.dispute_reason,outcome:m.outcome||"pending",account_number:m.account_number,letter_content:m.letter_content},{data:y,error:v}=await ue.from("dispute_items").insert(g).select().single();if(v)throw v;return r(w=>w.map(b=>b.id===p?{...b,items:[...b.items,y]}:b)),(i==null?void 0:i.id)===p&&s(w=>w?{...w,items:[...w.items,y]}:null),y}catch(g){return console.error("Error adding dispute item:",g),l({title:"Error",description:g.message,variant:"destructive"}),null}},[o,i,l]),f=N.useCallback(async(p,m,g)=>{try{const{error:y}=await ue.from("dispute_items").update({outcome:m,outcome_details:g,response_received_at:new Date().toISOString()}).eq("id",p);if(y)throw y;r(v=>v.map(w=>({...w,items:w.items.map(b=>b.id===p?{...b,outcome:m}:b)}))),l({title:"Outcome Updated",description:`Item marked as ${m}.`})}catch(y){console.error("Error updating outcome:",y),l({title:"Error",description:y.message,variant:"destructive"})}},[l]),h=N.useCallback(async p=>{var m;if(!(!o||p.length===0))try{let g=i;if((!g||g.status==="completed")&&(g=await u()),!g)return;for(const y of p)await d(g.id,{creditor_name:y.creditor||"Unknown",bureau:((m=y.bureau)==null?void 0:m.toLowerCase())||"experian",letter_type:"factual_dispute",dispute_reason:y.disputeReason||y.reason||"Inaccurate information",outcome:"pending",account_number:y.accountNumber});l({title:"Disputes Created",description:`${p.length} items added to Round ${g.round_number}.`}),await c()}catch(g){console.error("Error creating disputes from analysis:",g),l({title:"Error",description:g.message,variant:"destructive"})}},[o,i,u,d,c,l]);return{isLoading:t,rounds:n,currentRound:i,fetchRounds:c,createRound:u,addItemToRound:d,updateItemOutcome:f,createDisputesFromAnalysis:h}}function AU(){const[t,e]=N.useState(!1),[n,r]=N.useState([]),{user:i}=ln(),{toast:s}=Mr(),o=N.useCallback(async()=>{if(i){e(!0);try{const{data:d,error:f}=await ue.from("dispute_letters").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});if(f)throw f;r(d||[])}catch(d){console.error("Error fetching letters:",d)}finally{e(!1)}}},[i]),l=N.useCallback(async(d,f,h)=>{if(!i)return null;try{const{data:p,error:m}=await ue.from("dispute_letters").insert({user_id:i.id,dispute_item_id:h,letter_type:d,letter_content:f,status:"draft"}).select().single();if(m)throw m;const g=p;return r(y=>[g,...y]),s({title:"Letter Saved",description:"Your dispute letter has been saved."}),g}catch(p){return console.error("Error saving letter:",p),s({title:"Error",description:p.message,variant:"destructive"}),null}},[i,s]),c=N.useCallback(async(d,f,h)=>{try{const p={status:f};f==="sent"&&(p.sent_at=new Date().toISOString()),h&&(p.tracking_number=h);const{error:m}=await ue.from("dispute_letters").update(p).eq("id",d);if(m)throw m;r(g=>g.map(y=>y.id===d?{...y,...p}:y)),s({title:"Status Updated",description:`Letter marked as ${f}.`})}catch(p){console.error("Error updating letter status:",p),s({title:"Error",description:p.message,variant:"destructive"})}},[s]),u=N.useCallback(async d=>{try{const{error:f}=await ue.from("dispute_letters").delete().eq("id",d);if(f)throw f;r(h=>h.filter(p=>p.id!==d)),s({title:"Letter Deleted",description:"The letter has been removed."})}catch(f){console.error("Error deleting letter:",f),s({title:"Error",description:f.message,variant:"destructive"})}},[s]);return{isLoading:t,letters:n,fetchLetters:o,saveLetter:l,updateLetterStatus:c,deleteLetter:u}}async function qa(t,e){var c;const r=(t.headers.get("content-type")||"").includes("text/event-stream");if(!t.ok&&!r){let u="AI request failed";try{const d=await t.text();u=JSON.parse(d).error||d||u}catch{}throw new Error(u)}if(!r){const u=await t.json();if(u!=null&&u.error)throw new Error(u.error);return(u==null?void 0:u.result)!==void 0?u.result:u}const i=(c=t.body)==null?void 0:c.getReader();if(!i)throw new Error("No stream available");const s=new TextDecoder;let o="",l=null;try{for(;;){const{done:u,value:d}=await i.read();if(u)break;o+=s.decode(d,{stream:!0});let f;for(;(f=o.indexOf(`
`))!==-1;){let h=o.slice(0,f);if(o=o.slice(f+1),h.endsWith("\r")&&(h=h.slice(0,-1)),h.startsWith(":")||h.trim()===""||h.startsWith("event: ")||!h.startsWith("data: "))continue;const p=h.slice(6).trim();if(p)try{const m=JSON.parse(p);if(e==null||e(m),m.type==="error")throw new Error(m.message||"Stream error");m.type==="result"&&(l=m.result)}catch(m){console.warn("Failed to parse stream event:",p,m)}}}}catch(u){throw await i.cancel(),u}if(l!==null)return l;throw new Error("Stream ended without result")}/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:Uue,setPrototypeOf:Fq,isFrozen:Llt,getPrototypeOf:Flt,getOwnPropertyDescriptor:Ult}=Object;let{freeze:$s,seal:Mo,create:OL}=Object,{apply:IL,construct:kL}=typeof Reflect<"u"&&Reflect;$s||($s=function(e){return e});Mo||(Mo=function(e){return e});IL||(IL=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(n,i)});kL||(kL=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new e(...r)});const pN=Vs(Array.prototype.forEach),Blt=Vs(Array.prototype.lastIndexOf),Uq=Vs(Array.prototype.pop),Rx=Vs(Array.prototype.push),zlt=Vs(Array.prototype.splice),QN=Vs(String.prototype.toLowerCase),UR=Vs(String.prototype.toString),BR=Vs(String.prototype.match),Ox=Vs(String.prototype.replace),$lt=Vs(String.prototype.indexOf),Vlt=Vs(String.prototype.trim),qo=Vs(Object.prototype.hasOwnProperty),As=Vs(RegExp.prototype.test),Ix=Hlt(TypeError);function Vs(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return IL(t,e,r)}}function Hlt(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return kL(t,n)}}function _n(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:QN;Fq&&Fq(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(Llt(e)||(e[r]=s),i=s)}t[i]=!0}return t}function Wlt(t){for(let e=0;e<t.length;e++)qo(t,e)||(t[e]=null);return t}function Fl(t){const e=OL(null);for(const[n,r]of Uue(t))qo(t,n)&&(Array.isArray(r)?e[n]=Wlt(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Fl(r):e[n]=r);return e}function kx(t,e){for(;t!==null;){const r=Ult(t,e);if(r){if(r.get)return Vs(r.get);if(typeof r.value=="function")return Vs(r.value)}t=Flt(t)}function n(){return null}return n}const Bq=$s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zR=$s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$R=$s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Glt=$s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),VR=$s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),qlt=$s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),zq=$s(["#text"]),$q=$s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),HR=$s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Vq=$s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),mN=$s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Xlt=Mo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ylt=Mo(/<%[\w\W]*|[\w\W]*%>/gm),Klt=Mo(/\$\{[\w\W]*/gm),Jlt=Mo(/^data-[\-\w.\u00B7-\uFFFF]+$/),Qlt=Mo(/^aria-[\-\w]+$/),Bue=Mo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Zlt=Mo(/^(?:\w+script|data):/i),ect=Mo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zue=Mo(/^html$/i),tct=Mo(/^[a-z][.\w]*(-[.\w]+)+$/i);var Hq=Object.freeze({__proto__:null,ARIA_ATTR:Qlt,ATTR_WHITESPACE:ect,CUSTOM_ELEMENT:tct,DATA_ATTR:Jlt,DOCTYPE_NAME:zue,ERB_EXPR:Ylt,IS_ALLOWED_URI:Bue,IS_SCRIPT_OR_DATA:Zlt,MUSTACHE_EXPR:Xlt,TMPLIT_EXPR:Klt});const Dx={element:1,text:3,progressingInstruction:7,comment:8,document:9},nct=function(){return typeof window>"u"?null:window},rct=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Wq=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function $ue(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nct();const e=de=>$ue(de);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==Dx.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:p}=t,m=c.prototype,g=kx(m,"cloneNode"),y=kx(m,"remove"),v=kx(m,"nextSibling"),w=kx(m,"childNodes"),b=kx(m,"parentNode");if(typeof o=="function"){const de=n.createElement("template");de.content&&de.content.ownerDocument&&(n=de.content.ownerDocument)}let S,j="";const{implementation:E,createNodeIterator:T,createDocumentFragment:P,getElementsByTagName:C}=n,{importNode:R}=r;let I=Wq();e.isSupported=typeof Uue=="function"&&typeof b=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:D,ERB_EXPR:V,TMPLIT_EXPR:U,DATA_ATTR:$,ARIA_ATTR:z,IS_SCRIPT_OR_DATA:W,ATTR_WHITESPACE:k,CUSTOM_ELEMENT:L}=Hq;let{IS_ALLOWED_URI:H}=Hq,G=null;const X=_n({},[...Bq,...zR,...$R,...VR,...zq]);let Z=null;const B=_n({},[...$q,...HR,...Vq,...mN]);let te=Object.seal(OL(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ie=null,ae=null;const be=Object.seal(OL(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ce=!0,Se=!0,Te=!1,Y=!0,Ee=!1,ve=!0,Re=!1,we=!1,rt=!1,qe=!1,Q=!1,q=!1,pe=!0,ze=!1;const Ue="user-content-";let ke=!0,dt=!1,We={},tt=null;const Et=_n({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Vt=null;const $e=_n({},["audio","video","img","source","image","track"]);let on=null;const Kt=_n({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Dt="http://www.w3.org/1998/Math/MathML",mt="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml";let se=it,Be=!1,at=null;const ot=_n({},[Dt,mt,it],UR);let Ve=_n({},["mi","mo","mn","ms","mtext"]),oe=_n({},["annotation-xml"]);const Ze=_n({},["title","style","font","a","script"]);let Qe=null;const Lt=["application/xhtml+xml","text/html"],He="text/html";let nt=null,vt=null;const cn=n.createElement("form"),yn=function(K){return K instanceof RegExp||K instanceof Function},Qt=function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(vt&&vt===K)){if((!K||typeof K!="object")&&(K={}),K=Fl(K),Qe=Lt.indexOf(K.PARSER_MEDIA_TYPE)===-1?He:K.PARSER_MEDIA_TYPE,nt=Qe==="application/xhtml+xml"?UR:QN,G=qo(K,"ALLOWED_TAGS")?_n({},K.ALLOWED_TAGS,nt):X,Z=qo(K,"ALLOWED_ATTR")?_n({},K.ALLOWED_ATTR,nt):B,at=qo(K,"ALLOWED_NAMESPACES")?_n({},K.ALLOWED_NAMESPACES,UR):ot,on=qo(K,"ADD_URI_SAFE_ATTR")?_n(Fl(Kt),K.ADD_URI_SAFE_ATTR,nt):Kt,Vt=qo(K,"ADD_DATA_URI_TAGS")?_n(Fl($e),K.ADD_DATA_URI_TAGS,nt):$e,tt=qo(K,"FORBID_CONTENTS")?_n({},K.FORBID_CONTENTS,nt):Et,ie=qo(K,"FORBID_TAGS")?_n({},K.FORBID_TAGS,nt):Fl({}),ae=qo(K,"FORBID_ATTR")?_n({},K.FORBID_ATTR,nt):Fl({}),We=qo(K,"USE_PROFILES")?K.USE_PROFILES:!1,ce=K.ALLOW_ARIA_ATTR!==!1,Se=K.ALLOW_DATA_ATTR!==!1,Te=K.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=K.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ee=K.SAFE_FOR_TEMPLATES||!1,ve=K.SAFE_FOR_XML!==!1,Re=K.WHOLE_DOCUMENT||!1,qe=K.RETURN_DOM||!1,Q=K.RETURN_DOM_FRAGMENT||!1,q=K.RETURN_TRUSTED_TYPE||!1,rt=K.FORCE_BODY||!1,pe=K.SANITIZE_DOM!==!1,ze=K.SANITIZE_NAMED_PROPS||!1,ke=K.KEEP_CONTENT!==!1,dt=K.IN_PLACE||!1,H=K.ALLOWED_URI_REGEXP||Bue,se=K.NAMESPACE||it,Ve=K.MATHML_TEXT_INTEGRATION_POINTS||Ve,oe=K.HTML_INTEGRATION_POINTS||oe,te=K.CUSTOM_ELEMENT_HANDLING||{},K.CUSTOM_ELEMENT_HANDLING&&yn(K.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(te.tagNameCheck=K.CUSTOM_ELEMENT_HANDLING.tagNameCheck),K.CUSTOM_ELEMENT_HANDLING&&yn(K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(te.attributeNameCheck=K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),K.CUSTOM_ELEMENT_HANDLING&&typeof K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(te.allowCustomizedBuiltInElements=K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ee&&(Se=!1),Q&&(qe=!0),We&&(G=_n({},zq),Z=[],We.html===!0&&(_n(G,Bq),_n(Z,$q)),We.svg===!0&&(_n(G,zR),_n(Z,HR),_n(Z,mN)),We.svgFilters===!0&&(_n(G,$R),_n(Z,HR),_n(Z,mN)),We.mathMl===!0&&(_n(G,VR),_n(Z,Vq),_n(Z,mN))),K.ADD_TAGS&&(typeof K.ADD_TAGS=="function"?be.tagCheck=K.ADD_TAGS:(G===X&&(G=Fl(G)),_n(G,K.ADD_TAGS,nt))),K.ADD_ATTR&&(typeof K.ADD_ATTR=="function"?be.attributeCheck=K.ADD_ATTR:(Z===B&&(Z=Fl(Z)),_n(Z,K.ADD_ATTR,nt))),K.ADD_URI_SAFE_ATTR&&_n(on,K.ADD_URI_SAFE_ATTR,nt),K.FORBID_CONTENTS&&(tt===Et&&(tt=Fl(tt)),_n(tt,K.FORBID_CONTENTS,nt)),K.ADD_FORBID_CONTENTS&&(tt===Et&&(tt=Fl(tt)),_n(tt,K.ADD_FORBID_CONTENTS,nt)),ke&&(G["#text"]=!0),Re&&_n(G,["html","head","body"]),G.table&&(_n(G,["tbody"]),delete ie.tbody),K.TRUSTED_TYPES_POLICY){if(typeof K.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ix('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof K.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ix('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=K.TRUSTED_TYPES_POLICY,j=S.createHTML("")}else S===void 0&&(S=rct(p,i)),S!==null&&typeof j=="string"&&(j=S.createHTML(""));$s&&$s(K),vt=K}},Yn=_n({},[...zR,...$R,...Glt]),Jn=_n({},[...VR,...qlt]),es=function(K){let xe=b(K);(!xe||!xe.tagName)&&(xe={namespaceURI:se,tagName:"template"});const Le=QN(K.tagName),lt=QN(xe.tagName);return at[K.namespaceURI]?K.namespaceURI===mt?xe.namespaceURI===it?Le==="svg":xe.namespaceURI===Dt?Le==="svg"&&(lt==="annotation-xml"||Ve[lt]):!!Yn[Le]:K.namespaceURI===Dt?xe.namespaceURI===it?Le==="math":xe.namespaceURI===mt?Le==="math"&&oe[lt]:!!Jn[Le]:K.namespaceURI===it?xe.namespaceURI===mt&&!oe[lt]||xe.namespaceURI===Dt&&!Ve[lt]?!1:!Jn[Le]&&(Ze[Le]||!Yn[Le]):!!(Qe==="application/xhtml+xml"&&at[K.namespaceURI]):!1},ts=function(K){Rx(e.removed,{element:K});try{b(K).removeChild(K)}catch{y(K)}},Ys=function(K,xe){try{Rx(e.removed,{attribute:xe.getAttributeNode(K),from:xe})}catch{Rx(e.removed,{attribute:null,from:xe})}if(xe.removeAttribute(K),K==="is")if(qe||Q)try{ts(xe)}catch{}else try{xe.setAttribute(K,"")}catch{}},ko=function(K){let xe=null,Le=null;if(rt)K="<remove></remove>"+K;else{const xt=BR(K,/^[\r\n\t ]+/);Le=xt&&xt[0]}Qe==="application/xhtml+xml"&&se===it&&(K='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+K+"</body></html>");const lt=S?S.createHTML(K):K;if(se===it)try{xe=new h().parseFromString(lt,Qe)}catch{}if(!xe||!xe.documentElement){xe=E.createDocument(se,"template",null);try{xe.documentElement.innerHTML=Be?j:lt}catch{}}const yt=xe.body||xe.documentElement;return K&&Le&&yt.insertBefore(n.createTextNode(Le),yt.childNodes[0]||null),se===it?C.call(xe,Re?"html":"body")[0]:Re?xe.documentElement:yt},_c=function(K){return T.call(K.ownerDocument||K,K,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Tu=function(K){return K instanceof f&&(typeof K.nodeName!="string"||typeof K.textContent!="string"||typeof K.removeChild!="function"||!(K.attributes instanceof d)||typeof K.removeAttribute!="function"||typeof K.setAttribute!="function"||typeof K.namespaceURI!="string"||typeof K.insertBefore!="function"||typeof K.hasChildNodes!="function")},jf=function(K){return typeof l=="function"&&K instanceof l};function ma(de,K,xe){pN(de,Le=>{Le.call(e,K,xe,vt)})}const $p=function(K){let xe=null;if(ma(I.beforeSanitizeElements,K,null),Tu(K))return ts(K),!0;const Le=nt(K.nodeName);if(ma(I.uponSanitizeElement,K,{tagName:Le,allowedTags:G}),ve&&K.hasChildNodes()&&!jf(K.firstElementChild)&&As(/<[/\w!]/g,K.innerHTML)&&As(/<[/\w!]/g,K.textContent)||K.nodeType===Dx.progressingInstruction||ve&&K.nodeType===Dx.comment&&As(/<[/\w]/g,K.data))return ts(K),!0;if(!(be.tagCheck instanceof Function&&be.tagCheck(Le))&&(!G[Le]||ie[Le])){if(!ie[Le]&&ee(Le)&&(te.tagNameCheck instanceof RegExp&&As(te.tagNameCheck,Le)||te.tagNameCheck instanceof Function&&te.tagNameCheck(Le)))return!1;if(ke&&!tt[Le]){const lt=b(K)||K.parentNode,yt=w(K)||K.childNodes;if(yt&&lt){const xt=yt.length;for(let At=xt-1;At>=0;--At){const Ft=g(yt[At],!0);Ft.__removalCount=(K.__removalCount||0)+1,lt.insertBefore(Ft,v(K))}}}return ts(K),!0}return K instanceof c&&!es(K)||(Le==="noscript"||Le==="noembed"||Le==="noframes")&&As(/<\/no(script|embed|frames)/i,K.innerHTML)?(ts(K),!0):(Ee&&K.nodeType===Dx.text&&(xe=K.textContent,pN([D,V,U],lt=>{xe=Ox(xe,lt," ")}),K.textContent!==xe&&(Rx(e.removed,{element:K.cloneNode()}),K.textContent=xe)),ma(I.afterSanitizeElements,K,null),!1)},Vp=function(K,xe,Le){if(pe&&(xe==="id"||xe==="name")&&(Le in n||Le in cn))return!1;if(!(Se&&!ae[xe]&&As($,xe))){if(!(ce&&As(z,xe))){if(!(be.attributeCheck instanceof Function&&be.attributeCheck(xe,K))){if(!Z[xe]||ae[xe]){if(!(ee(K)&&(te.tagNameCheck instanceof RegExp&&As(te.tagNameCheck,K)||te.tagNameCheck instanceof Function&&te.tagNameCheck(K))&&(te.attributeNameCheck instanceof RegExp&&As(te.attributeNameCheck,xe)||te.attributeNameCheck instanceof Function&&te.attributeNameCheck(xe,K))||xe==="is"&&te.allowCustomizedBuiltInElements&&(te.tagNameCheck instanceof RegExp&&As(te.tagNameCheck,Le)||te.tagNameCheck instanceof Function&&te.tagNameCheck(Le))))return!1}else if(!on[xe]){if(!As(H,Ox(Le,k,""))){if(!((xe==="src"||xe==="xlink:href"||xe==="href")&&K!=="script"&&$lt(Le,"data:")===0&&Vt[K])){if(!(Te&&!As(W,Ox(Le,k,"")))){if(Le)return!1}}}}}}}return!0},ee=function(K){return K!=="annotation-xml"&&BR(K,L)},ye=function(K){ma(I.beforeSanitizeAttributes,K,null);const{attributes:xe}=K;if(!xe||Tu(K))return;const Le={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Z,forceKeepAttr:void 0};let lt=xe.length;for(;lt--;){const yt=xe[lt],{name:xt,namespaceURI:At,value:Ft}=yt,Fn=nt(xt),Vr=Ft;let rn=xt==="value"?Vr:Vlt(Vr);if(Le.attrName=Fn,Le.attrValue=rn,Le.keepAttr=!0,Le.forceKeepAttr=void 0,ma(I.uponSanitizeAttribute,K,Le),rn=Le.attrValue,ze&&(Fn==="id"||Fn==="name")&&(Ys(xt,K),rn=Ue+rn),ve&&As(/((--!?|])>)|<\/(style|title|textarea)/i,rn)){Ys(xt,K);continue}if(Fn==="attributename"&&BR(rn,"href")){Ys(xt,K);continue}if(Le.forceKeepAttr)continue;if(!Le.keepAttr){Ys(xt,K);continue}if(!Y&&As(/\/>/i,rn)){Ys(xt,K);continue}Ee&&pN([D,V,U],Ut=>{rn=Ox(rn,Ut," ")});const Hr=nt(K.nodeName);if(!Vp(Hr,Fn,rn)){Ys(xt,K);continue}if(S&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!At)switch(p.getAttributeType(Hr,Fn)){case"TrustedHTML":{rn=S.createHTML(rn);break}case"TrustedScriptURL":{rn=S.createScriptURL(rn);break}}if(rn!==Vr)try{At?K.setAttributeNS(At,xt,rn):K.setAttribute(xt,rn),Tu(K)?ts(K):Uq(e.removed)}catch{Ys(xt,K)}}ma(I.afterSanitizeAttributes,K,null)},Ae=function de(K){let xe=null;const Le=_c(K);for(ma(I.beforeSanitizeShadowDOM,K,null);xe=Le.nextNode();)ma(I.uponSanitizeShadowNode,xe,null),$p(xe),ye(xe),xe.content instanceof s&&de(xe.content);ma(I.afterSanitizeShadowDOM,K,null)};return e.sanitize=function(de){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xe=null,Le=null,lt=null,yt=null;if(Be=!de,Be&&(de="<!-->"),typeof de!="string"&&!jf(de))if(typeof de.toString=="function"){if(de=de.toString(),typeof de!="string")throw Ix("dirty is not a string, aborting")}else throw Ix("toString is not a function");if(!e.isSupported)return de;if(we||Qt(K),e.removed=[],typeof de=="string"&&(dt=!1),dt){if(de.nodeName){const Ft=nt(de.nodeName);if(!G[Ft]||ie[Ft])throw Ix("root node is forbidden and cannot be sanitized in-place")}}else if(de instanceof l)xe=ko("<!---->"),Le=xe.ownerDocument.importNode(de,!0),Le.nodeType===Dx.element&&Le.nodeName==="BODY"||Le.nodeName==="HTML"?xe=Le:xe.appendChild(Le);else{if(!qe&&!Ee&&!Re&&de.indexOf("<")===-1)return S&&q?S.createHTML(de):de;if(xe=ko(de),!xe)return qe?null:q?j:""}xe&&rt&&ts(xe.firstChild);const xt=_c(dt?de:xe);for(;lt=xt.nextNode();)$p(lt),ye(lt),lt.content instanceof s&&Ae(lt.content);if(dt)return de;if(qe){if(Q)for(yt=P.call(xe.ownerDocument);xe.firstChild;)yt.appendChild(xe.firstChild);else yt=xe;return(Z.shadowroot||Z.shadowrootmode)&&(yt=R.call(r,yt,!0)),yt}let At=Re?xe.outerHTML:xe.innerHTML;return Re&&G["!doctype"]&&xe.ownerDocument&&xe.ownerDocument.doctype&&xe.ownerDocument.doctype.name&&As(zue,xe.ownerDocument.doctype.name)&&(At="<!DOCTYPE "+xe.ownerDocument.doctype.name+`>
`+At),Ee&&pN([D,V,U],Ft=>{At=Ox(At,Ft," ")}),S&&q?S.createHTML(At):At},e.setConfig=function(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Qt(de),we=!0},e.clearConfig=function(){vt=null,we=!1},e.isValidAttribute=function(de,K,xe){vt||Qt({});const Le=nt(de),lt=nt(K);return Vp(Le,lt,xe)},e.addHook=function(de,K){typeof K=="function"&&Rx(I[de],K)},e.removeHook=function(de,K){if(K!==void 0){const xe=Blt(I[de],K);return xe===-1?void 0:zlt(I[de],xe,1)[0]}return Uq(I[de])},e.removeHooks=function(de){I[de]=[]},e.removeAllHooks=function(){I=Wq()},e}var ict=$ue();const h_=({content:t,onChange:e,creditor:n,letterType:r,bureaus:i=[],onSave:s,onDownload:o,onPrint:l,readOnly:c=!1,showOptimize:u=!0,showPageBreaks:d=!0})=>{const[f,h]=N.useState(t),[p,m]=N.useState(!1),[g,y]=N.useState("12"),[v,w]=N.useState("serif"),[b,S]=N.useState(!1),[j,E]=N.useState(null),T=N.useRef(null),{toast:P}=Mr(),C=async()=>{if(!f.trim()){P({title:"Error",description:"No content to optimize",variant:"destructive"});return}S(!0),E("Optimizing letter...");try{const W=await fetch("https://ctzckttucdjlysiohlwh.supabase.co/functions/v1/optimize-dispute-letter",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk"},body:JSON.stringify({letterContent:f,letterType:r,creditor:n,stream:!0})}),k=await qa(W,L=>{L.type==="status"&&E(L.message||null)});k!=null&&k.optimizedLetter&&(T.current&&(T.current.innerText=k.optimizedLetter),h(k.optimizedLetter),m(!0),e==null||e(k.optimizedLetter),P({title:"Letter Optimized",description:"AI has enhanced your letter for maximum impact."}))}catch(W){console.error("Optimization error:",W),P({title:"Optimization Failed",description:"Unable to optimize letter. Please try again.",variant:"destructive"})}finally{E(null),S(!1)}};N.useEffect(()=>{h(t),m(!1)},[t]);const R=()=>{if(T.current){const W=T.current.innerText;h(W),m(W!==t),e==null||e(W)}},I=(W,k)=>{var L;document.execCommand(W,!1,k),(L=T.current)==null||L.focus()},D=async()=>{try{await navigator.clipboard.writeText(f),P({title:"Copied",description:"Letter copied to clipboard"})}catch{P({title:"Error",description:"Failed to copy",variant:"destructive"})}},V=()=>{o==null||o(f)},U=()=>{const W=window.open("","_blank");W&&(W.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Dispute Letter${n?` - ${n}`:""}</title>
            <style>
              @page { margin: 1in; }
              body {
                font-family: 'Times New Roman', Georgia, serif;
                font-size: 12pt;
                line-height: 1.6;
                color: #000;
                background: #fff;
                max-width: 8.5in;
                margin: 0 auto;
                padding: 0;
              }
              .letter-content {
                white-space: pre-wrap;
                word-wrap: break-word;
              }
            </style>
          </head>
          <body>
            <div class="letter-content">${f}</div>
          </body>
        </html>
      `),W.document.close(),W.print()),l==null||l(f)},$=()=>{s==null||s(f),m(!1),P({title:"Saved",description:"Letter has been saved"})},z=({icon:W,onClick:k,tooltip:L,active:H=!1})=>a.jsxs(J$,{children:[a.jsx(Q$,{asChild:!0,children:a.jsx(ge,{variant:"ghost",size:"sm",className:je("h-8 w-8 p-0",H&&"bg-primary/10 text-primary"),onClick:k,children:a.jsx(W,{className:"h-4 w-4"})})}),a.jsx(oI,{children:L})]});return a.jsxs("div",{className:"flex flex-col h-full bg-background rounded-lg border border-border overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border bg-muted/30",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx($t,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-sm",children:["Dispute Letter ",n&&`- ${n}`]}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[r&&a.jsx(De,{variant:"secondary",className:"text-xs",children:r}),i.map(W=>a.jsx(De,{variant:"outline",className:"text-xs capitalize",children:W},W))]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[p&&a.jsx(De,{variant:"outline",className:"bg-warning/10 text-warning border-warning/30",children:"Unsaved changes"}),!p&&f&&a.jsxs(De,{variant:"outline",className:"bg-success/10 text-success border-success/30",children:[a.jsx(zn,{className:"h-3 w-3 mr-1"}),"Saved"]})]})]}),!c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-1 px-3 py-2 border-b border-border bg-muted/20 flex-wrap",children:[a.jsxs(ni,{value:v,onValueChange:w,children:[a.jsx(Br,{className:"h-8 w-28 text-xs",children:a.jsx(ri,{})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"serif",children:"Times New Roman"}),a.jsx(ut,{value:"sans-serif",children:"Arial"}),a.jsx(ut,{value:"mono",children:"Courier"})]})]}),a.jsxs(ni,{value:g,onValueChange:y,children:[a.jsx(Br,{className:"h-8 w-16 text-xs",children:a.jsx(ri,{})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"10",children:"10pt"}),a.jsx(ut,{value:"11",children:"11pt"}),a.jsx(ut,{value:"12",children:"12pt"}),a.jsx(ut,{value:"14",children:"14pt"}),a.jsx(ut,{value:"16",children:"16pt"})]})]}),a.jsx("div",{className:"w-px h-6 bg-border mx-1"}),a.jsx(z,{icon:lge,onClick:()=>I("bold"),tooltip:"Bold (Ctrl+B)"}),a.jsx(z,{icon:Nge,onClick:()=>I("italic"),tooltip:"Italic (Ctrl+I)"}),a.jsx(z,{icon:Vge,onClick:()=>I("underline"),tooltip:"Underline (Ctrl+U)"}),a.jsx("div",{className:"w-px h-6 bg-border mx-1"}),a.jsx(z,{icon:ige,onClick:()=>I("justifyLeft"),tooltip:"Align Left"}),a.jsx(z,{icon:rge,onClick:()=>I("justifyCenter"),tooltip:"Align Center"}),a.jsx(z,{icon:sge,onClick:()=>I("justifyRight"),tooltip:"Align Right"}),a.jsx("div",{className:"w-px h-6 bg-border mx-1"}),a.jsx(z,{icon:Hge,onClick:()=>I("undo"),tooltip:"Undo (Ctrl+Z)"}),a.jsx(z,{icon:Lge,onClick:()=>I("redo"),tooltip:"Redo (Ctrl+Y)"}),u&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-6 bg-border mx-1"}),a.jsxs(J$,{children:[a.jsx(Q$,{asChild:!0,children:a.jsxs(ge,{variant:"outline",size:"sm",className:"h-8 gap-1.5 bg-gradient-primary text-primary-foreground hover:opacity-90",onClick:C,disabled:b,children:[b?a.jsx(Dn,{className:"h-4 w-4 animate-spin"}):a.jsx(jn,{className:"h-4 w-4"}),"Optimize"]})}),a.jsx(oI,{children:"AI will enhance this letter for maximum legal impact"})]})]})]}),b&&j&&a.jsx("p",{className:"px-3 pb-2 text-xs text-muted-foreground",children:j})]}),a.jsx(yv,{className:"flex-1 bg-muted/30 p-4 md:p-8",children:a.jsx("div",{className:"mx-auto bg-white shadow-lg rounded-sm max-w-[8.5in] min-h-[11in]",style:{boxShadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24), 0 0 40px rgba(0,0,0,0.05)"},children:a.jsx("div",{ref:T,contentEditable:!c,suppressContentEditableWarning:!0,onInput:R,onBlur:R,className:je("p-8 md:p-12 min-h-[11in] outline-none text-black leading-relaxed",v==="serif"&&"font-serif",v==="sans-serif"&&"font-sans",v==="mono"&&"font-mono",c&&"cursor-default"),style:{fontSize:`${g}pt`,lineHeight:1.6,whiteSpace:"pre-wrap",wordWrap:"break-word",...d?{backgroundImage:"linear-gradient(#ffffff 0, #ffffff calc(11in - 1px), #e5e7eb calc(11in - 1px), #e5e7eb 11in)",backgroundSize:"100% 11in",backgroundRepeat:"repeat-y",backgroundPosition:"0 0",backgroundOrigin:"content-box",backgroundClip:"content-box"}:{}},dangerouslySetInnerHTML:{__html:ict.sanitize(t.replace(/\n/g,"<br>"),{ALLOWED_TAGS:["br","b","i","u","strong","em","p","div","span"],ALLOWED_ATTR:["style","class"]})}})})}),a.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-t border-border bg-muted/30",children:[a.jsxs(ge,{variant:"outline",size:"sm",onClick:D,children:[a.jsx(ZK,{className:"h-4 w-4 mr-2"}),"Copy"]}),a.jsxs(ge,{variant:"outline",size:"sm",onClick:V,children:[a.jsx($d,{className:"h-4 w-4 mr-2"}),"Download"]}),a.jsxs(ge,{variant:"outline",size:"sm",onClick:U,children:[a.jsx(Dge,{className:"h-4 w-4 mr-2"}),"Print"]}),a.jsx("div",{className:"flex-1"}),s&&!c&&a.jsxs(ge,{onClick:$,disabled:!p,className:"bg-gradient-primary",children:[a.jsx(kA,{className:"h-4 w-4 mr-2"}),"Save Letter"]})]})]})},sct=()=>{const{toast:t}=Mr(),{user:e,role:n}=ln(),[r,i]=N.useState("all"),[s,o]=N.useState("all"),[l,c]=N.useState(null),[u,d]=N.useState(""),[f,h]=N.useState(!1),[p,m]=N.useState(null),[g,y]=N.useState(!1),[v,w]=N.useState(!1),[b,S]=N.useState(""),{isLoading:j,rounds:E,fetchRounds:T,createRound:P,updateItemOutcome:C}=EU(),{saveLetter:R}=AU(),{data:I=[]}=hu({queryKey:["clients-for-disputes",e==null?void 0:e.id],queryFn:async()=>{if(!e||n!=="agency_owner")return[];const{data:B}=await ue.from("profiles").select("agency_id").eq("user_id",e.id).single();if(!(B!=null&&B.agency_id))return[];const{data:te}=await ue.from("profiles").select("*").eq("agency_id",B.agency_id),{data:ie}=await ue.from("user_roles").select("user_id").eq("role","client"),ae=new Set(ie==null?void 0:ie.map(be=>be.user_id));return(te||[]).filter(be=>ae.has(be.user_id))},enabled:!!e&&n==="agency_owner"});N.useEffect(()=>{T()},[T]);const D=E.flatMap(B=>B.items.map(te=>({...te,round_number:B.round_number,round_status:B.status}))),V=D.filter(B=>{const te=r==="all"||B.bureau===r,ie=s==="all"||B.outcome===s;return te&&ie}),U=D.filter(B=>B.outcome==="pending"),$=D.filter(B=>B.outcome==="in_progress"),z=D.filter(B=>["responded","deleted","verified","updated"].includes(B.outcome)),W={pending:"bg-muted text-muted-foreground",in_progress:"bg-warning/10 text-warning border-warning/20",responded:"bg-info/10 text-info border-info/20",deleted:"bg-success/10 text-success border-success/20",verified:"bg-destructive/10 text-destructive border-destructive/20",updated:"bg-primary/10 text-primary border-primary/20",failed:"bg-destructive/10 text-destructive border-destructive/20"},k=async B=>{if(c(B),y(!0),B.letter_content){d(B.letter_content);return}h(!0),m("Generating dispute letter..."),d("");try{const te=await fetch("https://ctzckttucdjlysiohlwh.supabase.co/functions/v1/generate-dispute-letter",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk"},body:JSON.stringify({letterType:B.letter_type||"factual_dispute",disputableItem:{creditor:B.creditor_name,accountNumber:B.account_number,issueType:B.dispute_reason,disputeReason:B.dispute_reason,applicableLaw:"FCRA",bureaus:[B.bureau]},stream:!0})}),ie=await qa(te,ae=>{ae.type==="status"&&m(ae.message||null)});d(ie.letter||"Unable to generate letter")}catch(te){console.error("Letter generation error:",te),d("Failed to generate letter. Please try again."),t({title:"Error",description:"Failed to generate dispute letter",variant:"destructive"})}finally{m(null),h(!1)}},L=async B=>{if(!l||!(B||u))return;await R(l.letter_type||"factual_dispute",B||u,l.id)&&t({title:"Letter Saved",description:"Letter saved to database successfully."})},H=()=>{var be;if(!u)return;const B=new Blob([u],{type:"text/plain"}),te=URL.createObjectURL(B),ie=document.createElement("a"),ae=((be=l==null?void 0:l.creditor_name)==null?void 0:be.replace(/\s+/g,"_"))||"dispute_letter";ie.href=te,ie.download=`${ae}_dispute_letter.txt`,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),URL.revokeObjectURL(te)},G=async()=>{l&&(await C(l.id,"in_progress"),y(!1),t({title:"Marked as Sent",description:"Dispute item marked as sent to bureau."}))},X=async()=>{n==="agency_owner"?w(!0):await P()},Z=async()=>{if(!b){t({title:"Error",description:"Please select a client",variant:"destructive"});return}await P(b),w(!1),S("")};return j?a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(kt,{className:"h-10 w-64"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(B=>a.jsx(le,{className:"p-4",children:a.jsx(kt,{className:"h-12 w-full"})},B))}),a.jsx(kt,{className:"h-96 w-full"})]})}):a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Disputes"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all dispute letters and track bureau responses."})]}),a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",onClick:X,children:[a.jsx(ml,{className:"w-4 h-4 mr-2"}),"New Dispute Round"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:a.jsx(nr,{className:"w-5 h-5 text-warning"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:U.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Da,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:$.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sent to Bureaus"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:a.jsx(Ls,{className:"w-5 h-5 text-success"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:z.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Responses"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-info/10",children:a.jsx($t,{className:"w-5 h-5 text-info"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:E.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Rounds"})]})]})})]}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs(ni,{value:r,onValueChange:i,children:[a.jsxs(Br,{className:"w-40",children:[a.jsx(V3,{className:"w-4 h-4 mr-2"}),a.jsx(ri,{placeholder:"Bureau"})]}),a.jsxs(zr,{children:[a.jsx(ut,{value:"all",children:"All Bureaus"}),a.jsx(ut,{value:"equifax",children:"Equifax"}),a.jsx(ut,{value:"experian",children:"Experian"}),a.jsx(ut,{value:"transunion",children:"TransUnion"})]})]}),a.jsxs(ni,{value:s,onValueChange:o,children:[a.jsx(Br,{className:"w-48",children:a.jsx(ri,{placeholder:"Status"})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"all",children:"All Status"}),a.jsx(ut,{value:"pending",children:"Pending"}),a.jsx(ut,{value:"in_progress",children:"In Progress"}),a.jsx(ut,{value:"responded",children:"Responded"}),a.jsx(ut,{value:"deleted",children:"Deleted"}),a.jsx(ut,{value:"verified",children:"Verified"})]})]})]})}),D.length===0&&a.jsxs(le,{className:"p-12 text-center",children:[a.jsx($t,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Dispute Items Yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Import a credit report to automatically create dispute items, or create a new round manually."}),a.jsxs(ge,{onClick:X,children:[a.jsx(ml,{className:"w-4 h-4 mr-2"}),"Create First Round"]})]}),a.jsx("div",{className:"space-y-4",children:V.map(B=>a.jsx(le,{className:"p-5 hover:border-primary/30 transition-colors",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center flex-wrap gap-3 mb-2",children:[a.jsx("h3",{className:"font-semibold text-foreground",children:B.creditor_name}),a.jsx(De,{variant:"outline",className:je("capitalize",W[B.outcome]||W.pending),children:B.outcome.replace("_"," ")}),a.jsx(De,{variant:"secondary",className:"capitalize",children:B.bureau}),a.jsxs(De,{variant:"outline",children:["Round ",B.round_number]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:[a.jsx("span",{className:"font-medium text-foreground",children:B.letter_type}),"  ",B.dispute_reason]}),a.jsxs("div",{className:"flex items-center flex-wrap gap-4 text-xs text-muted-foreground",children:[B.account_number&&a.jsxs("span",{className:"flex items-center gap-1",children:["Account: ",B.account_number]}),B.sent_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Li,{className:"w-3 h-3"}),"Sent ",new Date(B.sent_at).toLocaleDateString()]}),B.response_received_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ls,{className:"w-3 h-3"}),"Response ",new Date(B.response_received_at).toLocaleDateString()]})]})]}),a.jsx("div",{className:"flex flex-col items-end gap-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>k(B),children:[a.jsx(Qi,{className:"w-4 h-4 mr-1"}),"View Letter"]}),B.outcome==="pending"&&a.jsxs(ge,{size:"sm",className:"bg-gradient-primary",onClick:()=>{k(B)},children:[a.jsx(Da,{className:"w-4 h-4 mr-1"}),"Generate & Send"]})]})})]})},B.id))}),a.jsx(wl,{open:g,onOpenChange:y,children:a.jsxs(Ao,{className:"max-w-4xl max-h-[85vh] overflow-hidden flex flex-col min-h-0",children:[a.jsx(To,{children:a.jsxs(Co,{className:"flex items-center gap-2",children:[a.jsx($t,{className:"w-5 h-5 text-primary"}),"Dispute Letter - ",l==null?void 0:l.creditor_name]})}),a.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:f?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Dn,{className:"w-8 h-8 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:p||"Generating dispute letter..."})]}):a.jsx(h_,{content:u,creditor:l==null?void 0:l.creditor_name,letterType:(l==null?void 0:l.letter_type)||"Dispute Letter",bureaus:l!=null&&l.bureau?[l.bureau]:[],onChange:B=>d(B),onSave:B=>{d(B),L(B)},onDownload:()=>H(),showOptimize:!0})}),!f&&u&&a.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[a.jsxs(ge,{variant:"outline",onClick:()=>L(),children:[a.jsx(kA,{className:"w-4 h-4 mr-2"}),"Save Letter"]}),a.jsxs(ge,{onClick:G,children:[a.jsx(Da,{className:"w-4 h-4 mr-2"}),"Mark as Sent"]})]})]})}),a.jsx(wl,{open:v,onOpenChange:w,children:a.jsxs(Ao,{children:[a.jsxs(To,{children:[a.jsx(Co,{children:"Create New Dispute Round"}),a.jsx(Wv,{children:"Select a client to create a new dispute round for."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{children:"Select Client"}),a.jsxs(ni,{value:b,onValueChange:S,children:[a.jsx(Br,{children:a.jsx(ri,{placeholder:"Choose a client..."})}),a.jsx(zr,{children:I.map(B=>a.jsx(ut,{value:B.user_id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gs,{className:"w-4 h-4"}),B.first_name," ",B.last_name]})},B.user_id))})]})]}),I.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No clients found. Add clients first before creating dispute rounds."}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(ge,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),a.jsx(ge,{onClick:Z,disabled:!b,className:"bg-gradient-primary",children:"Create Round"})]})]})]})})]})})};function act(){const[t,e]=N.useState(!1),[n,r]=N.useState(null),[i,s]=N.useState(null),{toast:o}=Mr();return{isAnalyzing:t,analysisResult:n,statusMessage:i,analyzeReport:async u=>{if(!u||u.trim().length<50)return o({title:"Insufficient Data",description:"Please provide a credit report with more content to analyze.",variant:"destructive"}),null;e(!0),s("Analyzing credit report..."),r(null);try{const{data:{user:d}}=await ue.auth.getUser(),{data:{session:f}}=await ue.auth.getSession(),h="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",m=await fetch("https://ctzckttucdjlysiohlwh.supabase.co/functions/v1/analyze-credit-report",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(f==null?void 0:f.access_token)||h}`,apikey:h},body:JSON.stringify({reportText:u,userId:d==null?void 0:d.id,stream:!0})}),g=await qa(m,v=>{v.type==="status"&&s(v.message||null)}),y=(g.items||[]).map(v=>({...v,accountNumber:v.accountNumber||v.account_number||v.accountNo||v.account_no||v.account||v.acct||void 0}));return r({...g,items:y}),o({title:"Analysis Complete",description:`Found ${y.length||0} disputable items.`}),{...g,items:y}}catch(d){return console.error("Unexpected error:",d),o({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"}),null}finally{s(null),e(!1)}},clearAnalysis:()=>{r(null)}}}const _d=[{id:"fcra_605b",name:"FCRA 605(b) Deletion",description:"Request removal due to 7-year reporting limit or wrong DOFD",applicableLaws:["FCRA 605","FCRA 605(b)"]},{id:"debt_validation",name:"Debt Validation Request",description:"Demand complete documentation proving debt validity",applicableLaws:["FDCPA 809"]},{id:"hipaa_medical",name:"HIPAA Medical Dispute",description:"Dispute medical debt reported without authorization",applicableLaws:["HIPAA","FCRA"]},{id:"goodwill",name:"Goodwill Adjustment",description:"Request removal due to temporary hardship",applicableLaws:["Goodwill"]},{id:"data_breach",name:"Data Breach Letter",description:"Dispute citing potential identity theft or data compromise",applicableLaws:["FCRA 611"]},{id:"identity_theft",name:"Identity Theft Affidavit",description:"Demand removal of fraudulent accounts",applicableLaws:["FCRA 605B","FTC"]},{id:"factual_dispute",name:"Factual Dispute",description:"Dispute specific inaccuracies in reported information",applicableLaws:["FCRA 611"]},{id:"collection_validation",name:"Collection Validation",description:"Demand documentation from collection agency",applicableLaws:["FDCPA 809"]},{id:"inquiry_removal",name:"Inquiry Removal",description:"Request removal of unauthorized credit inquiries",applicableLaws:["FCRA 604"]},{id:"experian_backdoor",name:"Experian NCAC Letter",description:"Request manual review bypassing e-OSCAR",applicableLaws:["FCRA"]}];function Vue(){const[t,e]=N.useState(!1),[n,r]=N.useState(null),[i,s]=N.useState(""),[o,l]=N.useState(null),{toast:c}=Mr();return{isGenerating:t,generatedLetter:n,draftLetter:i,statusMessage:o,generateLetter:async(p,m,g,y)=>{var v;e(!0),r(null),s("");try{l("Drafting letter...");const{data:{session:w}}=await ue.auth.getSession(),b="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",S="https://ctzckttucdjlysiohlwh.supabase.co",j=(y==null?void 0:y.maxWaitMs)??3e4,E=(y==null?void 0:y.fastMode)??!0,T=new AbortController,P=setTimeout(()=>T.abort(),j+2e3);let C=await fetch(`${S}/functions/v1/generate-dispute-letter`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(w==null?void 0:w.access_token)||b}`,apikey:b},body:JSON.stringify({letterType:p,disputableItem:m,customInstructions:g,stream:!0,maxWaitMs:j,fastMode:E}),signal:T.signal}),R=null;try{R=await qa(C,I=>{if(I.type==="status"&&l(I.message||null),I.type==="delta"){const D=I.delta;D&&s(V=>V+D)}})}catch(I){if(T.signal.aborted)C=await fetch(`${S}/functions/v1/generate-dispute-letter`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(w==null?void 0:w.access_token)||b}`,apikey:b},body:JSON.stringify({letterType:p,disputableItem:m,customInstructions:g,stream:!0,maxWaitMs:2e3,forceTemplate:!0})}),R=await qa(C,D=>{if(D.type==="status"&&l(D.message||null),D.type==="delta"){const V=D.delta;V&&s(U=>U+V)}});else throw I}finally{clearTimeout(P)}if(!R)throw new Error("No letter generated");return r(R),c({title:"Letter Generated",description:`${(v=_d.find(I=>I.id===p))==null?void 0:v.name} letter is ready.`}),R}catch(w){const b=w instanceof Error?w.message:"An unexpected error occurred. Please try again.";return console.error("Letter generation error:",w),c({title:"Error",description:b,variant:"destructive"}),null}finally{l(null),e(!1)}},clearLetter:()=>{r(null),s("")},downloadLetter:(p,m)=>{const g=new Blob([p],{type:"text/plain"}),y=URL.createObjectURL(g),v=document.createElement("a");v.href=y,v.download=m,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(y)},copyLetter:async p=>{try{await navigator.clipboard.writeText(p),c({title:"Copied",description:"Letter copied to clipboard."})}catch{c({title:"Copy Failed",description:"Failed to copy letter. Please select and copy manually.",variant:"destructive"})}},letterTemplates:_d}}const oct=()=>{var Z;const[t,e]=N.useState(""),[n,r]=N.useState(null),[i,s]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(null),[d,f]=N.useState(null),h=N.useRef(null),{isAnalyzing:p,analysisResult:m,analyzeReport:g,clearAnalysis:y,statusMessage:v}=act(),{isGenerating:w,generatedLetter:b,draftLetter:S,statusMessage:j,generateLetter:E,clearLetter:T,downloadLetter:P,copyLetter:C}=Vue(),{toast:R}=Mr(),I=async B=>{var ae;const te=(ae=B.target.files)==null?void 0:ae[0];if(!te)return;if(!["application/pdf","text/plain","image/png","image/jpeg","image/webp"].includes(te.type)){R({title:"Invalid File Type",description:"Please upload a PDF, text file, or image (PNG, JPEG, WebP).",variant:"destructive"});return}if(te.size>10*1024*1024){R({title:"File Too Large",description:"Please upload a file smaller than 10MB.",variant:"destructive"});return}if(r(te),te.type==="text/plain"){const be=new FileReader;be.onload=ce=>{var Te;const Se=(Te=ce.target)==null?void 0:Te.result;e(Se)},be.readAsText(te)}},D=()=>{r(null),h.current&&(h.current.value="")},V=B=>new Promise((te,ie)=>{const ae=new FileReader;ae.onload=()=>te(ae.result),ae.onerror=ie,ae.readAsDataURL(B)}),U=async()=>{var B,te,ie,ae;if(n&&n.type!=="text/plain"){s(!0);try{const be=await V(n);R({title:"Analyzing Document",description:"AI is extracting and analyzing your credit report..."});const{data:ce,error:Se}=await ue.functions.invoke("ocr-document-parser",{body:{action:"parse_credit_report",imageBase64:be}});if(Se)throw Se;if((B=ce==null?void 0:ce.result)!=null&&B.negativeItems&&ce.result.negativeItems.length>0){const Te=W(ce.result);await g(Te)}else if((te=ce==null?void 0:ce.result)!=null&&te.rawText)await g(ce.result.rawText);else if((ie=ce==null?void 0:ce.result)!=null&&ie.tradelines||(ae=ce==null?void 0:ce.result)!=null&&ae.collections){const Te=W(ce.result);await g(Te)}else R({title:"No Content Extracted",description:"Could not extract readable content from the file. Please try pasting the text directly.",variant:"destructive"})}catch(be){console.error("File parsing error:",be),R({title:"File Processing Failed",description:be.message||"Failed to process the file. Please try pasting the text instead.",variant:"destructive"})}finally{s(!1)}return}if(!t.trim()){R({title:"No Content",description:"Please paste your credit report text or upload a text file.",variant:"destructive"});return}await g(t)},$=B=>{if(B==null)return"N/A";if(typeof B=="number")return B.toString();if(typeof B=="string")return B;if(typeof B=="object"){if(B.score!==void 0)return $(B.score);if(B.value!==void 0)return $(B.value);if(B.amount!==void 0)return $(B.amount);const te=Object.keys(B);if(te.length>0)return te.map(ae=>`${ae}: ${$(B[ae])}`).join(", ")}return"N/A"},z=B=>{if(B==null)return 0;if(typeof B=="number")return B;if(typeof B=="string"){const te=parseFloat(B.replace(/[^0-9.-]/g,""));return isNaN(te)?0:te}if(typeof B=="object"){if(B.score!==void 0)return z(B.score);if(B.value!==void 0)return z(B.value);if(B.amount!==void 0)return z(B.amount);const te=Object.keys(B);if(te.length>0){const ie=te.reduce((ae,be)=>ae+z(B[be]),0);return Math.round(ie/te.length)}}return 0},W=B=>{let te=`CREDIT REPORT ANALYSIS

`;if(B.personalInfo){const ie=B.personalInfo;te+=`PERSONAL INFO:
`,ie.name&&(te+=`  Name: ${$(ie.name)}
`),ie.address&&(te+=`  Address: ${$(ie.address)}
`),(ie.ssn4||ie.ssn)&&(te+=`  SSN (last 4): ${$(ie.ssn4||ie.ssn)}
`),ie.dob&&(te+=`  DOB: ${$(ie.dob)}
`),te+=`
`}return B.scores&&B.scores.length>0&&(te+=`CREDIT SCORES:
`,B.scores.forEach(ie=>{const ae=$(ie.bureau),be=z(ie.score);te+=`  - ${ae}: ${be}
`}),te+=`
`),B.negativeItems&&B.negativeItems.length>0&&(te+=`NEGATIVE ITEMS:
`,B.negativeItems.forEach((ie,ae)=>{const be=$(ie.creditor||ie.accountName||ie.creditorName);if(te+=`
  ${ae+1}. Creditor: ${be}
`,te+=`     Account Type: ${$(ie.accountType||ie.type)}
`,te+=`     Status: ${$(ie.status)}
`,te+=`     Balance: $${z(ie.balance)}
`,te+=`     Original Balance: $${z(ie.originalBalance||ie.highBalance)}
`,ie.dateOpened&&(te+=`     Date Opened: ${$(ie.dateOpened)}
`),(ie.dateOfFirstDelinquency||ie.dofd)&&(te+=`     DOFD: ${$(ie.dateOfFirstDelinquency||ie.dofd)}
`),ie.bureaus){const ce=Array.isArray(ie.bureaus)?ie.bureaus.join(", "):$(ie.bureaus);te+=`     Bureaus: ${ce}
`}ie.paymentHistory&&(te+=`     Payment History: ${$(ie.paymentHistory)}
`)}),te+=`
`),B.tradelines&&B.tradelines.length>0&&(te+=`TRADELINES:
`,B.tradelines.forEach((ie,ae)=>{const be=$(ie.creditor||ie.accountName||ie.creditorName);te+=`
  ${ae+1}. Creditor: ${be}
`,te+=`     Account Type: ${$(ie.accountType||ie.type)}
`,te+=`     Balance: $${z(ie.balance)}
`,te+=`     Credit Limit: $${z(ie.creditLimit||ie.limit)}
`,te+=`     Status: ${$(ie.status)}
`,ie.dateOpened&&(te+=`     Date Opened: ${$(ie.dateOpened)}
`),ie.paymentHistory&&(te+=`     Payment History: ${$(ie.paymentHistory)}
`)}),te+=`
`),B.collections&&B.collections.length>0&&(te+=`COLLECTIONS:
`,B.collections.forEach((ie,ae)=>{const be=$(ie.creditor||ie.collector||ie.collectionAgency),ce=$(ie.originalCreditor);te+=`
  ${ae+1}. Collection Agency: ${be}
`,ce!=="N/A"&&(te+=`     Original Creditor: ${ce}
`),te+=`     Balance: $${z(ie.balance)}
`,te+=`     Original Amount: $${z(ie.originalAmount||ie.originalBalance)}
`,(ie.dateOpened||ie.datePlaced)&&(te+=`     Date Placed: ${$(ie.dateOpened||ie.datePlaced)}
`),(ie.dateOfFirstDelinquency||ie.dofd)&&(te+=`     DOFD: ${$(ie.dateOfFirstDelinquency||ie.dofd)}
`)}),te+=`
`),B.inquiries&&B.inquiries.length>0&&(te+=`INQUIRIES:
`,B.inquiries.forEach((ie,ae)=>{te+=`
  ${ae+1}. Creditor: ${$(ie.creditor||ie.inquiryBy)}
`,te+=`     Date: ${$(ie.date||ie.inquiryDate)}
`,te+=`     Type: ${$(ie.type||"Hard Inquiry")}
`}),te+=`
`),te},k=B=>{var ae,be;const te=((ae=B.issueType)==null?void 0:ae.toLowerCase())||"";return(((be=B.applicableLaw)==null?void 0:be.toLowerCase())||"").includes("605")?"fcra_605b":te.includes("collection")?"collection_validation":te.includes("charge")?"factual_dispute":te.includes("inquiry")?"inquiry_removal":te.includes("identity")?"identity_theft":te.includes("medical")?"hipaa_medical":te.includes("goodwill")?"goodwill":te.includes("data")?"data_breach":"factual_dispute"},L=async B=>{u(B),l(!0);const te=d||k(B);await E(te,B)},H=()=>{y(),e(""),r(null),h.current&&(h.current.value="")},G=B=>{switch(B){case"high":return"bg-destructive/10 text-destructive border-destructive/30";case"medium":return"bg-warning/10 text-warning border-warning/30";case"low":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},X=B=>B>=80?"bg-success/10 text-success":B>=50?"bg-warning/10 text-warning":"bg-muted text-muted-foreground";return a.jsxs(_r,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[a.jsx(tr,{className:"w-8 h-8 text-primary"}),"AI Credit Intelligence Engine"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Advanced AI-powered credit analysis and dispute automation."})]}),m&&a.jsxs(ge,{variant:"outline",onClick:H,children:[a.jsx(tf,{className:"w-4 h-4 mr-2"}),"New Analysis"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(le,{className:"p-5 border-primary/20 bg-gradient-to-br from-primary/5 to-transparent",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx($t,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-1",children:"Report Parsing"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Parse any credit report format: SmartCredit, IdentityIQ, PDF, screenshots."})]})]})}),a.jsx(le,{className:"p-5 border-success/20 bg-gradient-to-br from-success/5 to-transparent",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:a.jsx(Wa,{className:"w-5 h-5 text-success"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-1",children:"Error Detection"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically identify errors, inaccuracies, and legally disputable items."})]})]})}),a.jsx(le,{className:"p-5 border-info/20 bg-gradient-to-br from-info/5 to-transparent",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-info/10",children:a.jsx(gr,{className:"w-5 h-5 text-info"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-1",children:"Score Prediction"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Predict score impact and optimal dispute order for maximum results."})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[a.jsx("div",{className:"xl:col-span-2 space-y-6",children:m?a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(jn,{className:"w-5 h-5 text-primary"}),"AI Analysis Results"]})}),a.jsxs(Ne,{className:"space-y-4",children:[m.summary&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 rounded-lg bg-secondary/50",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-primary",children:m.summary.disputableItems}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Disputable Items"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-3xl font-bold text-success",children:[m.summary.avgDeletionProbability,"%"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Deletion Prob"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-3xl font-bold text-info",children:["+",m.summary.estimatedScoreIncrease]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Potential Points"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-warning",children:m.summary.highPriorityItems}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"High Priority"})]})]}),m.recommendations&&m.recommendations.length>0&&a.jsxs("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/20",children:[a.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[a.jsx(jn,{className:"w-4 h-4 text-primary"}),"AI Recommendations"]}),a.jsx("ul",{className:"space-y-1 text-sm",children:m.recommendations.map((B,te)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-primary",children:""}),a.jsx("span",{children:B})]},te))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-semibold",children:"AI-Identified Disputable Items"}),m.items&&m.items.length>0?m.items.map(B=>{var te,ie;return a.jsxs("div",{className:"p-4 rounded-lg border border-border hover:border-primary/30 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[a.jsx("span",{className:"font-semibold",children:B.creditor}),a.jsxs(De,{variant:"outline",className:G(B.priority),children:[B.priority," priority"]}),a.jsxs(De,{variant:"outline",className:X(B.deletionProbability),children:[B.deletionProbability,"% deletion chance"]}),B.expectedScoreImpact>0&&a.jsxs(De,{variant:"secondary",children:["+",B.expectedScoreImpact," points"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:B.disputeReason}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(xr,{className:"w-3 h-3"}),B.applicableLaw]}),a.jsxs("span",{children:["$",((te=B.balance)==null?void 0:te.toLocaleString())||0," balance"]}),a.jsx("span",{children:(ie=B.bureaus)==null?void 0:ie.join(", ")})]}),a.jsxs("p",{className:"text-xs text-primary mt-2",children:["Strategy: ",B.strategy]})]}),a.jsx(ge,{size:"sm",variant:"outline",onClick:()=>L(B),disabled:w&&(c==null?void 0:c.id)===B.id,children:w&&(c==null?void 0:c.id)===B.id?a.jsxs(a.Fragment,{children:[a.jsx(Dn,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):a.jsxs(a.Fragment,{children:["Generate Letter",a.jsx(wi,{className:"w-4 h-4 ml-1"})]})})]}),j&&(c==null?void 0:c.id)===B.id&&a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:j})]},B.id)}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx($t,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No disputable items found in this report."}),a.jsx("p",{className:"text-sm",children:"The credit report appears to be clean!"})]})]})]})]}):a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(cc,{className:"w-5 h-5"}),"Credit Report Analysis"]})}),a.jsxs(Ne,{className:"space-y-4",children:[a.jsxs("div",{className:je("border-2 border-dashed rounded-xl p-8 text-center transition-colors cursor-pointer",n?"border-primary bg-primary/5":"border-border hover:border-primary/50"),onClick:()=>{var B;return(B=h.current)==null?void 0:B.click()},children:[a.jsx("input",{ref:h,type:"file",accept:".pdf,.txt,.png,.jpg,.jpeg,.webp",onChange:I,className:"hidden"}),n?a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(wge,{className:"w-8 h-8 text-primary"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:n.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[(n.size/1024).toFixed(1)," KB"]})]}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:B=>{B.stopPropagation(),D()},children:a.jsx(Qv,{className:"w-4 h-4"})})]}):a.jsxs(a.Fragment,{children:[a.jsx(cc,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"font-medium mb-1",children:"Upload Credit Report"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Support for SmartCredit, IdentityIQ, PrivacyGuard, PDF, and screenshots"}),a.jsx(ge,{variant:"outline",type:"button",children:"Choose File"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1 h-px bg-border"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"or paste text"}),a.jsx("div",{className:"flex-1 h-px bg-border"})]}),a.jsx(mc,{placeholder:`Paste credit report text here for instant AI analysis...

Example format:
EQUIFAX CREDIT REPORT
---
TRADELINE: Chase Credit Card
Account Status: Collection
Balance: $2,450
Date Opened: 01/2019
Last Activity: 06/2023
---
INQUIRY: Auto Loan Check
Date: 03/2024
Creditor: Capital One`,className:"min-h-48 font-mono text-sm",value:t,onChange:B=>e(B.target.value)}),a.jsx(ge,{className:"w-full bg-gradient-primary hover:opacity-90",onClick:U,disabled:p||i||!t.trim()&&!n,children:p||i?a.jsxs(a.Fragment,{children:[a.jsx(Dn,{className:"w-4 h-4 mr-2 animate-spin"}),i?"Processing File...":"Analyzing with AI..."]}):a.jsxs(a.Fragment,{children:[a.jsx(tr,{className:"w-4 h-4 mr-2"}),"Analyze with AI"]})}),(p||i)&&v&&a.jsx("p",{className:"text-xs text-muted-foreground",children:v})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(le,{className:"bg-gradient-hero text-sidebar-foreground border-sidebar-border",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"text-lg flex items-center gap-2 text-sidebar-accent-foreground",children:[a.jsx(jn,{className:"w-5 h-5 text-primary"}),"AI Training Mode"]})}),a.jsxs(Ne,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-sidebar-foreground",children:"Learn why items are being disputed and understand the applicable laws."}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-3 rounded-lg bg-sidebar-accent/50 border border-sidebar-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(xr,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-sm font-medium text-sidebar-accent-foreground",children:"FCRA Section 605"})]}),a.jsx("p",{className:"text-xs text-sidebar-foreground",children:"Time limits on reporting negative information. Most negative items must be removed after 7 years."})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-sidebar-accent/50 border border-sidebar-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(xr,{className:"w-4 h-4 text-info"}),a.jsx("span",{className:"text-sm font-medium text-sidebar-accent-foreground",children:"FDCPA Validation"})]}),a.jsx("p",{className:"text-xs text-sidebar-foreground",children:"Debt collectors must validate the debt upon request. Failure to do so requires removal."})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-sidebar-accent/50 border border-sidebar-border",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(xr,{className:"w-4 h-4 text-success"}),a.jsx("span",{className:"text-sm font-medium text-sidebar-accent-foreground",children:"HIPAA Medical Debts"})]}),a.jsx("p",{className:"text-xs text-sidebar-foreground",children:"Medical providers cannot share debt information without proper authorization."})]})]})]})]}),a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsx(Xe,{className:"text-lg",children:"Letter Templates"})}),a.jsx(Ne,{className:"space-y-2",children:_d.map(B=>a.jsxs("div",{className:je("flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors",d===B.id?"bg-primary/10 border border-primary/30":"hover:bg-secondary/50"),onClick:()=>f(B.id),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm",children:B.name})]}),a.jsx(wi,{className:"w-4 h-4 text-muted-foreground"})]},B.id))})]})]})]})]}),a.jsx(wl,{open:o,onOpenChange:B=>{l(B),B||(T(),u(null))},children:a.jsxs(Ao,{className:"max-w-4xl h-[90vh] overflow-hidden flex flex-col min-h-0",children:[a.jsx(To,{children:a.jsx(Co,{children:"Generated Dispute Letter"})}),b!=null&&b.letter||S?a.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Type: ",(Z=_d.find(B=>{var te;return B.id===((b==null?void 0:b.letterType)||d||k(c||((te=m==null?void 0:m.items)==null?void 0:te[0])))}))==null?void 0:Z.name]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Creditor: ",(b==null?void 0:b.creditor)||(c==null?void 0:c.creditor)||"Unknown"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Bureaus: ",((b==null?void 0:b.bureaus)||(c==null?void 0:c.bureaus)||[]).join(", ")]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{variant:"outline",size:"sm",onClick:()=>C((b==null?void 0:b.letter)||S),disabled:!(b!=null&&b.letter)&&!S,children:"Copy"}),a.jsx(ge,{variant:"outline",size:"sm",onClick:()=>P((b==null?void 0:b.letter)||S,`dispute-letter-${(b==null?void 0:b.letterType)||"draft"}.txt`),disabled:!(b!=null&&b.letter)&&!S,children:"Download"})]}),a.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:a.jsx(h_,{content:(b==null?void 0:b.letter)||S,creditor:(b==null?void 0:b.creditor)||(c==null?void 0:c.creditor),bureaus:(b==null?void 0:b.bureaus)||(c==null?void 0:c.bureaus)||[],readOnly:!1,showOptimize:!1,showPageBreaks:!0})})]}):a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Dn,{className:"w-4 h-4 animate-spin"}),j||"Generating letter..."]})]})})]})};function lct(){const{user:t,profile:e}=ln(),[n,r]=N.useState([]),[i,s]=N.useState(!0),o=N.useCallback(async()=>{if(!t||!(e!=null&&e.agency_id)){s(!1);return}try{const{data:l}=await ue.from("profiles").select("user_id, first_name, last_name, email, phone").eq("agency_id",e.agency_id);if(!(l!=null&&l.length)){r([]),s(!1);return}const c=l.map(w=>w.user_id),{data:u}=await ue.from("user_roles").select("user_id").eq("role","client").in("user_id",c),d=new Set((u==null?void 0:u.map(w=>w.user_id))||[]),f=l.filter(w=>d.has(w.user_id));if(!f.length){r([]),s(!1);return}const h=f.map(w=>w.user_id),{data:p}=await ue.from("dispute_items").select("client_id").in("client_id",h),m=new Map;p==null||p.forEach(w=>{m.set(w.client_id,(m.get(w.client_id)||0)+1)});const{data:g}=await ue.from("score_history").select("user_id, equifax, experian, transunion, recorded_at").in("user_id",h).order("recorded_at",{ascending:!1}),y=new Map;g==null||g.forEach(w=>{if(!y.has(w.user_id)){const b=[w.equifax,w.experian,w.transunion].filter(Boolean);b.length>0&&y.set(w.user_id,Math.round(b.reduce((S,j)=>S+j,0)/b.length))}});const v=f.map(w=>({user_id:w.user_id,first_name:w.first_name||"",last_name:w.last_name||"",email:w.email,phone:w.phone,disputeCount:m.get(w.user_id)||0,latestScore:y.get(w.user_id)||null}));r(v)}catch(l){console.error("Error fetching agency clients:",l)}finally{s(!1)}},[t,e==null?void 0:e.agency_id]);return N.useEffect(()=>{o()},[o]),{clients:n,isLoading:i,refetch:o}}const cct=()=>{var H,G,X,Z;const[t,e]=N.useState(""),[n,r]=N.useState(null),[i,s]=N.useState(null),[o,l]=N.useState("factual_dispute"),[c,u]=N.useState(""),[d,f]=N.useState(!1),[h,p]=N.useState(""),[m,g]=N.useState(!1),[y,v]=N.useState([]),[w,b]=N.useState(!1),{clients:S,isLoading:j}=lct(),{isGenerating:E,generatedLetter:T,draftLetter:P,statusMessage:C,generateLetter:R,clearLetter:I,downloadLetter:D}=Vue(),{saveLetter:V}=AU(),U=N.useMemo(()=>{const B=t.toLowerCase();return S.filter(te=>te.first_name.toLowerCase().includes(B)||te.last_name.toLowerCase().includes(B)||(te.email||"").toLowerCase().includes(B))},[t,S]),$=N.useMemo(()=>S.find(B=>B.user_id===n),[n,S]);N.useEffect(()=>{if(!n){v([]);return}(async()=>{b(!0);try{const{data:te,error:ie}=await ue.from("credit_report_analyses").select("disputable_items").eq("user_id",n).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(ie)throw ie;if(te!=null&&te.disputable_items&&Array.isArray(te.disputable_items)){const ae=te.disputable_items.map((be,ce)=>({id:be.id||`item-${ce}`,creditor:be.creditor||"Unknown",accountType:be.accountType||"unknown",issueType:be.issueType||"inaccuracy",balance:be.balance||0,disputeReason:be.disputeReason||"Data inaccuracy identified",deletionProbability:be.deletionProbability||50,expectedScoreImpact:be.expectedScoreImpact||20,applicableLaw:be.applicableLaw||"FCRA 611",strategy:be.strategy||"Standard dispute process",priority:be.priority||"medium",bureaus:be.bureaus||["experian"]}));v(ae)}else{const{data:ae}=await ue.from("dispute_items").select("*").eq("client_id",n);if(ae!=null&&ae.length){const be=ae.map(ce=>({id:ce.id,creditor:ce.creditor_name,accountType:"unknown",issueType:"inaccuracy",balance:0,disputeReason:ce.dispute_reason,deletionProbability:50,expectedScoreImpact:20,applicableLaw:"FCRA 611",strategy:ce.dispute_reason,priority:"medium",bureaus:[ce.bureau]}));v(be)}else v([])}}catch(te){console.error("Error fetching disputable items:",te),v([])}finally{b(!1)}})()},[n]),N.useEffect(()=>{if(!m){if(P){p(P);return}if(T!=null&&T.letter){p(T.letter);return}p("")}},[P,T,m]);const z=async()=>{i&&(g(!1),p(""),f(!0),await R(o,i,c))},W=B=>{var te,ie;return(te=B.applicableLaw)!=null&&te.includes("HIPAA")?"hipaa_medical":(ie=B.applicableLaw)!=null&&ie.includes("FDCPA")?"debt_validation":B.issueType==="collection"?"collection_validation":B.issueType==="late_payment"?"goodwill":B.issueType==="inquiry"?"inquiry_removal":"factual_dispute"},k=B=>{r(B),s(null)},L=()=>{r(null),s(null)};return a.jsxs(_r,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[a.jsx($t,{className:"w-8 h-8 text-primary"}),"AI Dispute Letter Generator"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Select a client to view their issues and generate customized dispute letters."})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[a.jsx("div",{className:"xl:col-span-2 space-y-4",children:n?a.jsxs(a.Fragment,{children:[a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ge,{variant:"ghost",size:"sm",onClick:L,className:"mr-2",children:[a.jsx(RA,{className:"w-4 h-4 mr-1"}),"Back"]}),a.jsx(ws,{className:"h-10 w-10",children:a.jsxs(_s,{className:"bg-primary/10 text-primary",children:[((H=$==null?void 0:$.first_name)==null?void 0:H[0])||"",((G=$==null?void 0:$.last_name)==null?void 0:G[0])||""]})}),a.jsxs("div",{children:[a.jsxs(Xe,{children:[$==null?void 0:$.first_name," ",$==null?void 0:$.last_name]}),a.jsx(Zt,{children:$==null?void 0:$.email})]})]})}),a.jsx(Ne,{children:a.jsx(yv,{className:"max-h-[60vh] pr-2",children:a.jsx("div",{className:"space-y-3",children:w?[1,2,3].map(B=>a.jsx(kt,{className:"h-24 rounded-lg"},B)):y.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Bi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No disputable items found for this client."}),a.jsx("p",{className:"text-sm mt-1",children:"Run an AI analysis to identify issues."})]}):y.map(B=>a.jsx("div",{className:je("p-4 rounded-lg border transition-all cursor-pointer",(i==null?void 0:i.id)===B.id?"border-primary bg-primary/5 ring-2 ring-primary/20":"border-border hover:border-primary/30"),onClick:()=>{s(B),l(W(B))},children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[a.jsx("span",{className:"font-semibold",children:B.creditor}),a.jsx(De,{variant:"outline",className:je(B.priority==="high"&&"bg-destructive/10 text-destructive",B.priority==="medium"&&"bg-warning/10 text-warning",B.priority==="low"&&"bg-muted"),children:B.priority}),a.jsxs(De,{variant:"secondary",children:[B.deletionProbability,"% deletion chance"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:B.disputeReason}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(xr,{className:"w-3 h-3"}),B.applicableLaw]}),B.balance>0&&a.jsxs("span",{children:["$",B.balance.toLocaleString()]}),a.jsx("span",{children:B.bureaus.join(", ")})]})]}),(i==null?void 0:i.id)===B.id&&a.jsx("div",{className:"text-primary",children:a.jsx(wi,{className:"w-5 h-5"})})]})},B.id))})})})]}),i&&a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(jn,{className:"w-5 h-5 text-primary"}),"Configure Letter"]}),a.jsxs(Zt,{children:["Customize the dispute letter for ",i.creditor]})]}),a.jsxs(Ne,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Letter Type"}),a.jsxs(ni,{value:o,onValueChange:B=>l(B),children:[a.jsx(Br,{children:a.jsx(ri,{})}),a.jsx(zr,{children:_d.map(B=>a.jsx(ut,{value:B.id,children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:B.name}),a.jsx("span",{className:"text-xs text-muted-foreground",children:B.description})]})},B.id))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Custom Instructions (Optional)"}),a.jsx(mc,{placeholder:"Add any specific details or context you want included in the letter...",value:c,onChange:B=>u(B.target.value),className:"min-h-24"})]}),a.jsx("div",{className:"flex items-center gap-3 pt-2",children:a.jsx(ge,{className:"flex-1 bg-gradient-primary",onClick:z,disabled:E,children:E?a.jsxs(a.Fragment,{children:[a.jsx(Dn,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),"Generate Letter"]})})}),E&&C&&a.jsx("p",{className:"text-xs text-muted-foreground",children:C})]})]})]}):a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(br,{className:"w-5 h-5"}),"Select Client"]}),a.jsx(Zt,{children:"Choose a client to view their disputable items."})]}),a.jsxs(Ne,{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(nf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Ct,{placeholder:"Search clients...",value:t,onChange:B=>e(B.target.value),className:"pl-9"})]}),a.jsx(yv,{className:"h-[500px] pr-2",children:a.jsx("div",{className:"space-y-2",children:j?[1,2,3,4].map(B=>a.jsx(kt,{className:"h-20 rounded-lg"},B)):U.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(br,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{className:"font-medium",children:"No clients found"}),a.jsx("p",{className:"text-sm mt-1",children:t?"Try a different search term.":"Add clients to your agency first."})]}):U.map(B=>{var te,ie;return a.jsx("div",{className:"p-4 rounded-lg border border-border hover:border-primary/50 hover:bg-primary/5 transition-all cursor-pointer",onClick:()=>k(B.user_id),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ws,{className:"h-10 w-10",children:a.jsxs(_s,{className:"bg-primary/10 text-primary",children:[((te=B.first_name)==null?void 0:te[0])||"",((ie=B.last_name)==null?void 0:ie[0])||""]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"font-medium",children:[B.first_name," ",B.last_name]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:B.email||"No email"})]}),a.jsx("div",{className:"text-right",children:B.latestScore?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"font-semibold text-lg",children:B.latestScore}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Score"})]}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"No scores"})}),a.jsxs(De,{variant:"outline",className:"bg-primary/10 text-primary border-primary/30",children:[B.disputeCount," disputes"]}),a.jsx(wi,{className:"w-5 h-5 text-muted-foreground"})]})},B.user_id)})})})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsx(Xe,{className:"text-lg",children:"Available Templates"})}),a.jsx(Ne,{className:"space-y-2",children:_d.map(B=>a.jsx("div",{className:je("p-3 rounded-lg transition-colors cursor-pointer",o===B.id?"bg-primary/10 border border-primary/30":"hover:bg-secondary/50"),onClick:()=>l(B.id),children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:B.name}),a.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:B.description}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:B.applicableLaws.map(te=>a.jsx(De,{variant:"secondary",className:"text-xs",children:te},te))})]})})},B.id))})]}),a.jsxs(le,{className:"bg-gradient-hero text-sidebar-foreground border-sidebar-border",children:[a.jsx(Ye,{children:a.jsx(Xe,{className:"text-lg text-sidebar-accent-foreground",children:" Pro Tips"})}),a.jsxs(Ne,{className:"space-y-3 text-sm",children:[a.jsx("p",{children:" Send letters via certified mail with return receipt"}),a.jsx("p",{children:" Keep copies of all correspondence"}),a.jsx("p",{children:" Wait 30-45 days for bureau response"}),a.jsx("p",{children:" Follow up if no response received"})]})]})]})]})]}),a.jsx(wl,{open:d,onOpenChange:B=>{f(B),B||(g(!1),p(""),I())},children:a.jsxs(Ao,{className:"max-w-5xl h-[90vh] p-0 overflow-hidden flex flex-col min-h-0",children:[a.jsxs(To,{className:"sr-only",children:[a.jsx(Co,{children:"Generated Dispute Letter"}),a.jsx(Wv,{children:T&&a.jsxs("span",{children:[(X=_d.find(B=>B.id===T.letterType))==null?void 0:X.name," for"," ",T.creditor]})})]}),(h||E)&&a.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:a.jsx(h_,{content:h,creditor:(T==null?void 0:T.creditor)||(i==null?void 0:i.creditor),letterType:(Z=_d.find(B=>B.id===(T==null?void 0:T.letterType)))==null?void 0:Z.name,bureaus:(T==null?void 0:T.bureaus)||(i==null?void 0:i.bureaus),onDownload:B=>{const te=((T==null?void 0:T.creditor)||(i==null?void 0:i.creditor)||"dispute_letter").replace(/\s+/g,"_");D(B,`${te}_dispute_letter.txt`)},onSave:B=>{T!=null&&T.letterType&&V(T.letterType,B,i==null?void 0:i.id)},onChange:B=>{g(!0),p(B)}})})]})})]})};var BC="Checkbox",[uct]=zi(BC),[dct,TU]=uct(BC);function fct(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[h,p]=Va({prop:n,defaultProp:i??!1,onChange:c,caller:BC}),[m,g]=N.useState(null),[y,v]=N.useState(null),w=N.useRef(!1),b=m?!!o||!!m.closest("form"):!0,S={checked:h,disabled:s,setChecked:p,control:m,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Fd(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:v};return a.jsx(dct,{scope:e,...S,children:hct(f)?f(S):r})}var Hue="CheckboxTrigger",Wue=N.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:m}=TU(Hue,t),g=Xt(i,d),y=N.useRef(c);return N.useEffect(()=>{const v=s==null?void 0:s.form;if(v){const w=()=>f(y.current);return v.addEventListener("reset",w),()=>v.removeEventListener("reset",w)}},[s,f]),a.jsx(pt.button,{type:"button",role:"checkbox","aria-checked":Fd(c)?"mixed":c,"aria-required":u,"data-state":Kue(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:g,onKeyDown:Ge(e,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Ge(n,v=>{f(w=>Fd(w)?!0:!w),m&&p&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});Wue.displayName=Hue;var CU=N.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return a.jsx(fct,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(Wue,{...f,ref:e,__scopeCheckbox:n}),h&&a.jsx(Yue,{__scopeCheckbox:n})]})})});CU.displayName=BC;var Gue="CheckboxIndicator",que=N.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=TU(Gue,n);return a.jsx(Ai,{present:r||Fd(s.checked)||s.checked===!0,children:a.jsx(pt.span,{"data-state":Kue(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});que.displayName=Gue;var Xue="CheckboxBubbleInput",Yue=N.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=TU(Xue,t),m=Xt(n,p),g=kC(s),y=UA(r);N.useEffect(()=>{const w=h;if(!w)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,E=!i.current;if(g!==s&&j){const T=new Event("click",{bubbles:E});w.indeterminate=Fd(s),j.call(w,Fd(s)?!1:s),w.dispatchEvent(T)}},[h,g,s,i]);const v=N.useRef(Fd(s)?!1:s);return a.jsx(pt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:m,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Yue.displayName=Xue;function hct(t){return typeof t=="function"}function Fd(t){return t==="indeterminate"}function Kue(t){return Fd(t)?"indeterminate":t?"checked":"unchecked"}const MU=N.forwardRef(({className:t,...e},n)=>a.jsx(CU,{ref:n,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(que,{className:je("flex items-center justify-center text-current"),children:a.jsx(pl,{className:"h-4 w-4"})})}));MU.displayName=CU.displayName;function pct(){const[t,e]=N.useState(!1),[n,r]=N.useState(null),[i,s]=N.useState(null),{toast:o}=Mr(),l=async p=>{const{data:{session:m}}=await ue.auth.getSession(),g="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",v=await fetch("https://ctzckttucdjlysiohlwh.supabase.co/functions/v1/ai-score-simulator",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(m==null?void 0:m.access_token)||g}`,apikey:g},body:JSON.stringify({...p,stream:!0})});return qa(v,w=>{w.type==="status"&&s(w.message||null)})};return{isProcessing:t,simulation:n,statusMessage:i,simulateDeletions:async(p,m,g)=>{e(!0);try{const y=await l({action:"simulate_deletions",currentScores:p,selectedDeletions:m,tradelines:g});return r(y.result),o({title:"Simulation Complete",description:`Projected gain: +${y.result.pointsGained||0} points`}),y.result}catch(y){throw console.error("Error simulating deletions:",y),o({title:"Simulation Failed",description:y.message||"Failed to simulate score impact.",variant:"destructive"}),y}finally{s(null),e(!1)}},checkLoanQualification:async(p,m,g,y)=>{e(!0);try{const v=await l({action:"check_loan_qualification",currentScores:p,loanType:m,loanAmount:g,tradelines:y});return r(v.result),v.result.qualified?o({title:"You May Qualify!",description:`${v.result.probability}% chance of approval for ${m}`}):o({title:"Not Yet Qualified",description:`Need ${v.result.gap} more points for ${m}`,variant:"destructive"}),v.result}catch(v){throw console.error("Error checking loan qualification:",v),v}finally{s(null),e(!1)}},optimizeDeletionOrder:async(p,m)=>{var g;e(!0);try{const y=await l({action:"optimize_deletion_order",currentScores:p,tradelines:m});return r(y.result),o({title:"Strategy Optimized",description:`${((g=y.result.phases)==null?void 0:g.length)||0} phases planned for maximum impact`}),y.result}catch(y){throw console.error("Error optimizing deletion order:",y),y}finally{s(null),e(!1)}},projectTimeline:async(p,m)=>{e(!0);try{const g=await l({action:"project_timeline",currentScores:p,tradelines:m});return r(g.result),o({title:"Timeline Projected",description:`Estimated ${g.result.estimatedMonths||"N/A"} months to reach target`}),g.result}catch(g){throw console.error("Error projecting timeline:",g),g}finally{s(null),e(!1)}},clearSimulation:()=>r(null)}}const mct=[{id:"t1",creditor:"Capital One",accountNumber:"****4532",accountType:"credit_card",status:"collection",balance:2450,bureaus:["equifax","experian","transunion"],disputable:!0,disputeReason:"Account sold to collection agency - original creditor data outdated",deletionProbability:78,expectedScoreImpact:35},{id:"t2",creditor:"Midland Credit Management",accountNumber:"****7891",accountType:"collection",status:"collection",balance:1890,bureaus:["equifax","transunion"],disputable:!0,disputeReason:"Unable to validate debt - missing original contract",deletionProbability:85,expectedScoreImpact:42},{id:"t3",creditor:"Chase Bank",accountNumber:"****2345",accountType:"credit_card",status:"open",balance:1200,bureaus:["equifax","experian","transunion"],disputable:!0,disputeReason:"Late payment during COVID - goodwill adjustment possible",deletionProbability:45,expectedScoreImpact:18},{id:"t4",creditor:"Medical Center Collections",accountNumber:"****9012",accountType:"collection",status:"collection",balance:425,bureaus:["experian"],disputable:!0,disputeReason:"Medical debt under HIPAA - privacy violation potential",deletionProbability:92,expectedScoreImpact:28}],gct=()=>{var v;const{user:t}=ln(),{isProcessing:e,simulation:n,simulateDeletions:r,clearSimulation:i,statusMessage:s}=pct(),[o,l]=N.useState([]),[c,u]=N.useState(mct),d=598,f=w=>{l(b=>b.includes(w)?b.filter(S=>S!==w):[...b,w])},p=(()=>{if(n!=null&&n.projectedScore)return n.projectedScore;const w=c.filter(b=>o.includes(b.id)).reduce((b,S)=>b+(S.expectedScoreImpact||0),0);return d+w})(),m=p-d,g=async()=>{const w=c.filter(j=>o.includes(j.id));if(w.length===0)return;const b=w.map(j=>({id:j.id,creditor:j.creditor,accountType:j.accountType,balance:j.balance,status:j.status,bureaus:j.bureaus})),S={experian:d,equifax:d+5,transunion:d-3,average:d};await r(S,b,c)},y=[{type:"FHA Mortgage",icon:O$,minScore:580,currentStatus:d>=580,projectedStatus:p>=580},{type:"Conventional Mortgage",icon:O$,minScore:620,currentStatus:d>=620,projectedStatus:p>=620},{type:"Prime Auto Loan",icon:cge,minScore:660,currentStatus:d>=660,projectedStatus:p>=660},{type:"Premium Credit Card",icon:fa,minScore:700,currentStatus:d>=700,projectedStatus:p>=700}];return a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[a.jsx(U3,{className:"w-8 h-8 text-primary"}),"AI Score Simulator"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"See how deletions could impact your client's credit score with AI predictions."})]}),n&&a.jsx(ge,{variant:"outline",onClick:i,children:"Clear Simulation"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(le,{className:"p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Current Score"}),a.jsx(np,{score:d,bureau:"Average",size:"lg"})]})}),a.jsx(le,{className:"p-6 border-primary/30 bg-gradient-to-br from-primary/5 to-transparent",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Projected Score"}),a.jsx(np,{score:p,previousScore:d,bureau:"After Deletions",size:"lg"}),m>0&&a.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 rounded-full bg-success/10 text-success",children:[a.jsx(gr,{className:"w-4 h-4"}),a.jsxs("span",{className:"font-semibold",children:["+",m," points potential"]})]})]})}),a.jsxs(le,{className:"p-6",children:[a.jsx(Ye,{className:"p-0 pb-4",children:a.jsx(Xe,{className:"text-lg",children:"Loan Qualifications"})}),a.jsx(Ne,{className:"p-0 space-y-3",children:y.map(w=>a.jsxs("div",{className:je("flex items-center justify-between p-3 rounded-lg border",!w.currentStatus&&w.projectedStatus&&"border-success/50 bg-success/5",w.currentStatus&&"border-border",!w.currentStatus&&!w.projectedStatus&&"border-border opacity-60"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(w.icon,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:w.type}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Min: ",w.minScore]})]})]}),w.projectedStatus?a.jsx(Ls,{className:je("w-5 h-5",w.currentStatus?"text-success":"text-success animate-pulse")}):a.jsxs(De,{variant:"outline",className:"text-xs",children:["Need +",w.minScore-p]})]},w.type))})]})]}),n&&a.jsxs(le,{className:"border-primary/30 bg-primary/5",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(tr,{className:"w-5 h-5 text-primary"}),"AI Simulation Results"]})}),a.jsxs(Ne,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-background",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Confidence Level"}),a.jsx("p",{className:"text-2xl font-bold text-primary",children:n.confidence||"High"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-background",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Projected Score"}),a.jsx("p",{className:"text-2xl font-bold text-success",children:n.projectedScore})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-background",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Points Gained"}),a.jsxs("p",{className:"text-lg font-bold text-success",children:["+",n.pointsGained||0]})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-background",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Analysis"}),a.jsxs("p",{className:"text-sm",children:[((v=n.analysis)==null?void 0:v.slice(0,100))||"Ready for next steps","..."]})]})]}),n.breakdown&&n.breakdown.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-medium",children:"Item-by-Item Breakdown:"}),n.breakdown.map((w,b)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background",children:[a.jsx("span",{className:"font-medium",children:w.item}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:w.confidence}),a.jsxs(De,{variant:"outline",className:"text-success",children:["+",w.pointsImpact," pts"]})]})]},b))]})]})]}),a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(jn,{className:"w-5 h-5 text-primary"}),"Select Items to Simulate Deletion"]}),a.jsxs(De,{variant:"secondary",children:[o.length," of ",c.length," selected"]})]})}),a.jsxs(Ne,{children:[a.jsx("div",{className:"space-y-3",children:c.map(w=>{const b=o.includes(w.id);return a.jsxs("div",{className:je("flex items-center gap-4 p-4 rounded-xl border cursor-pointer transition-all",b?"border-primary bg-primary/5":"border-border hover:border-primary/30"),onClick:()=>f(w.id),children:[a.jsx(MU,{checked:b,onCheckedChange:()=>f(w.id),className:"data-[state=checked]:bg-primary"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("span",{className:"font-semibold",children:w.creditor}),a.jsxs(De,{variant:"outline",className:je(w.deletionProbability>=80&&"bg-success/10 text-success",w.deletionProbability>=50&&w.deletionProbability<80&&"bg-warning/10 text-warning"),children:[w.deletionProbability,"% likely"]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",w.balance.toLocaleString(),"  ",w.accountType.replace("_"," ")]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Score Impact"}),a.jsxs("p",{className:je("text-lg font-bold",b?"text-success":"text-muted-foreground"),children:["+",w.expectedScoreImpact]})]})]},w.id)})}),a.jsxs("div",{className:"mt-6 flex items-center justify-between p-4 rounded-xl bg-secondary",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Potential Increase"}),a.jsxs("p",{className:"text-2xl font-bold text-success",children:["+",m," points"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{variant:"outline",onClick:g,disabled:o.length===0||e,children:[e?a.jsx(Dn,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(tr,{className:"w-4 h-4 mr-2"}),"Run AI Simulation"]}),a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",disabled:o.length===0,children:["Generate Dispute Letters",a.jsx(wi,{className:"w-4 h-4 ml-2"})]})]})]}),e&&s&&a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:s})]})]})]})})};function vct(){const{user:t}=ln(),[e,n]=N.useState(null),[r,i]=N.useState(!0),s=N.useCallback(async()=>{if(t)try{const{data:o,error:l}=await ue.from("outcome_tracking").select("*");if(l)throw l;const{data:c,error:u}=await ue.from("dispute_items").select("*");if(u)throw u;const{data:d,error:f}=await ue.from("score_history").select("*").order("recorded_at",{ascending:!0});if(f)throw f;const h=new Map;(o||[]).forEach(D=>{const V=h.get(D.bureau)||{total:0,deleted:0};V.total++,D.outcome==="deleted"&&V.deleted++,h.set(D.bureau,V)});const p=Array.from(h.entries()).map(([D,V])=>({bureau:D,total:V.total,deleted:V.deleted,rate:V.total>0?Math.round(V.deleted/V.total*100):0})),m=new Map;(o||[]).forEach(D=>{const V=m.get(D.letter_type)||{total:0,success:0};V.total++,D.outcome==="deleted"&&V.success++,m.set(D.letter_type,V)});const g=Array.from(m.entries()).map(([D,V])=>({type:D,total:V.total,success:V.success,rate:V.total>0?Math.round(V.success/V.total*100):0})),y=new Map,v=new Date;for(let D=5;D>=0;D--){const U=new Date(v.getFullYear(),v.getMonth()-D,1).toLocaleString("default",{month:"short"});y.set(U,{deletions:0,disputes:0})}(c||[]).forEach(D=>{const V=new Date(D.created_at).toLocaleString("default",{month:"short"});if(y.has(V)){const U=y.get(V);U.disputes++,D.outcome==="deleted"&&U.deletions++}});const w=Array.from(y.entries()).map(([D,V])=>({month:D,...V})),b=new Map;(d||[]).forEach(D=>{b.has(D.user_id)?b.get(D.user_id).last=D:b.set(D.user_id,{first:D,last:D})});let S=0,j=0,E=0,T=0;b.forEach(({first:D,last:V})=>{D.experian&&V.experian&&(S+=V.experian-D.experian),D.equifax&&V.equifax&&(j+=V.equifax-D.equifax),D.transunion&&V.transunion&&(E+=V.transunion-D.transunion),T++});const P=(o||[]).filter(D=>D.outcome==="deleted").length,C=(o||[]).length,R=C>0?Math.round(P/C*100):0,I=Math.round((o||[]).reduce((D,V)=>D+(V.days_to_response||0),0)/(C||1));n({totalDeletions:P,deletionRate:R,avgDaysToResponse:I,bureauStats:p,letterTypeStats:g,monthlyData:w,scoreImprovements:{avgExperian:T>0?Math.round(S/T):0,avgEquifax:T>0?Math.round(j/T):0,avgTransUnion:T>0?Math.round(E/T):0}})}catch(o){console.error("Error fetching analytics:",o)}finally{i(!1)}},[t]);return N.useEffect(()=>{s()},[s]),{data:e,isLoading:r,refetch:s}}function PU(){const{user:t,role:e}=ln(),[n,r]=N.useState([]),[i,s]=N.useState(!0),o=N.useCallback(async()=>{if(t)try{let d=ue.from("invoices").select("*").order("created_at",{ascending:!1});e==="client"&&(d=d.eq("client_id",t.id));const{data:f,error:h}=await d;if(h)throw h;if(e==="agency_owner"&&(f!=null&&f.length)){const p=[...new Set(f.map(v=>v.client_id))],{data:m}=await ue.from("profiles").select("user_id, first_name, last_name").in("user_id",p),g=new Map(m==null?void 0:m.map(v=>[v.user_id,v])),y=f.map(v=>({...v,client_profile:g.get(v.client_id)}));r(y)}else r(f||[])}catch(d){console.error("Error fetching invoices:",d)}finally{s(!1)}},[t,e]),l=N.useCallback(async(d,f,h,p)=>{if(!t)return null;try{const{data:m}=await ue.from("profiles").select("agency_id").eq("user_id",t.id).single(),{data:g,error:y}=await ue.from("invoices").insert({agency_id:m==null?void 0:m.agency_id,client_id:d,amount:f,description:h,due_date:p,status:"pending"}).select().single();if(y)throw y;return await o(),g}catch(m){return console.error("Error creating invoice:",m),null}},[t,o]),c=N.useCallback(async(d,f)=>{try{const h={status:f};f==="paid"&&(h.paid_at=new Date().toISOString());const{error:p}=await ue.from("invoices").update(h).eq("id",d);if(p)throw p;await o()}catch(h){console.error("Error updating invoice:",h)}},[o]);N.useEffect(()=>{if(!t)return;o();const d=ue.channel("invoices-changes").on("postgres_changes",{event:"*",schema:"public",table:"invoices"},()=>{o()}).subscribe();return()=>{ue.removeChannel(d)}},[t,o]);const u={totalRevenue:n.filter(d=>d.status==="paid").reduce((d,f)=>d+Number(f.amount),0),pendingAmount:n.filter(d=>d.status==="pending").reduce((d,f)=>d+Number(f.amount),0),overdueCount:n.filter(d=>d.status==="overdue").length,thisMonthRevenue:n.filter(d=>d.status==="paid"&&new Date(d.paid_at||"").getMonth()===new Date().getMonth()).reduce((d,f)=>d+Number(f.amount),0)};return{invoices:n,isLoading:i,stats:u,createInvoice:l,updateInvoiceStatus:c,refetch:o}}const yct=()=>{const{data:t,isLoading:e}=vct(),{stats:n}=PU(),r=["hsl(var(--primary))","hsl(var(--info))","hsl(var(--warning))"];if(e)return a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[a.jsx(hl,{className:"w-8 h-8 text-primary"}),"Analytics"]})}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(s=>a.jsx(kt,{className:"h-24"},s))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(kt,{className:"h-80"}),a.jsx(kt,{className:"h-80"})]})]})});const i=(t==null?void 0:t.bureauStats.map((s,o)=>({name:s.bureau,value:s.deleted,color:r[o%r.length]})))||[];return a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[a.jsx(hl,{className:"w-8 h-8 text-primary"}),"Analytics"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your agency performance and key metrics."})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Jv,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",n.totalRevenue.toLocaleString()]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:a.jsx(gr,{className:"w-5 h-5 text-success"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:[(t==null?void 0:t.deletionRate)||0,"%"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Deletion Rate"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-info/10",children:a.jsx($t,{className:"w-5 h-5 text-info"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalDeletions)||0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Deletions"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:a.jsx(Ha,{className:"w-5 h-5 text-warning"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.avgDaysToResponse)||0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Days to Response"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsx(Xe,{children:"Monthly Dispute Activity"})}),a.jsx(Ne,{children:a.jsx(vE,{width:"100%",height:280,children:a.jsxs(vot,{data:(t==null?void 0:t.monthlyData)||[],children:[a.jsx(PC,{strokeDasharray:"3 3",className:"stroke-muted"}),a.jsx(xf,{dataKey:"month"}),a.jsx(bf,{}),a.jsx(Ta,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),a.jsx(Kd,{dataKey:"disputes",name:"Total Disputes",fill:"hsl(var(--muted-foreground))",radius:[4,4,0,0]}),a.jsx(Kd,{dataKey:"deletions",name:"Deletions",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})]}),a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsx(Xe,{children:"Deletions by Bureau"})}),a.jsx(Ne,{children:i.length>0?a.jsx(vE,{width:"100%",height:280,children:a.jsxs(yot,{children:[a.jsx(Au,{data:i,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:i.map((s,o)=>a.jsx(cC,{fill:s.color},`cell-${o}`))}),a.jsx(Ta,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),a.jsx(Jh,{})]})}):a.jsx("div",{className:"flex items-center justify-center h-[280px] text-muted-foreground",children:"No data available yet"})})]})]}),a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx($t,{className:"w-5 h-5"}),"Letter Type Performance"]})}),a.jsx(Ne,{children:t!=null&&t.letterTypeStats&&t.letterTypeStats.length>0?a.jsx("div",{className:"space-y-4",children:t.letterTypeStats.map(s=>a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-32 text-sm font-medium truncate",children:s.type}),a.jsx("div",{className:"flex-1",children:a.jsx(Jd,{value:s.rate,className:"h-3"})}),a.jsxs("div",{className:"w-20 text-right",children:[a.jsxs("span",{className:"text-sm font-semibold text-success",children:[s.rate,"%"]}),a.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:"success"})]}),a.jsxs("div",{className:"w-16 text-right text-sm text-muted-foreground",children:[s.total," sent"]})]},s.type))}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No letter data available yet"})})]}),a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsx(Xe,{children:"Average Score Improvements"})}),a.jsx(Ne,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{name:"Experian",value:(t==null?void 0:t.scoreImprovements.avgExperian)||0},{name:"Equifax",value:(t==null?void 0:t.scoreImprovements.avgEquifax)||0},{name:"TransUnion",value:(t==null?void 0:t.scoreImprovements.avgTransUnion)||0}].map(s=>a.jsxs("div",{className:"p-4 rounded-lg bg-muted",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:s.name}),a.jsxs("p",{className:`text-2xl font-bold ${s.value>0?"text-success":s.value<0?"text-destructive":""}`,children:[s.value>0?"+":"",s.value," pts"]})]},s.name))})})]})]})})},xct=()=>{const{user:t}=ln(),e=GA(),[n,r]=N.useState(null),[i,s]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(!1),d=N.useRef(null),{data:f=[],isLoading:h}=hu({queryKey:["message-contacts",t==null?void 0:t.id],queryFn:async()=>{if(!t)return[];const{data:S,error:j}=await ue.from("messages").select("*").or(`sender_id.eq.${t.id},recipient_id.eq.${t.id}`).order("created_at",{ascending:!1});if(j)throw j;if(!S||S.length===0){const{data:P}=await ue.from("profiles").select("agency_id").eq("user_id",t.id).single();if(!(P!=null&&P.agency_id))return[];const{data:C}=await ue.from("profiles").select("user_id, first_name, last_name, email").eq("agency_id",P.agency_id).neq("user_id",t.id);return(C||[]).map(R=>({user_id:R.user_id,first_name:R.first_name,last_name:R.last_name,email:R.email,unreadCount:0}))}const E=new Map;for(const P of S){const C=P.sender_id===t.id?P.recipient_id:P.sender_id;if(E.has(C)||E.set(C,{user_id:C,first_name:null,last_name:null,email:null,lastMessage:P.content,lastMessageTime:P.created_at,unreadCount:0}),P.sender_id===C&&!P.read){const R=E.get(C);R.unreadCount++}}const T=Array.from(E.keys());if(T.length>0){const{data:P}=await ue.from("profiles").select("user_id, first_name, last_name, email").in("user_id",T);P==null||P.forEach(C=>{const R=E.get(C.user_id);R&&(R.first_name=C.first_name,R.last_name=C.last_name,R.email=C.email)})}return Array.from(E.values())},enabled:!!t}),{data:p=[],isLoading:m}=hu({queryKey:["messages",t==null?void 0:t.id,n==null?void 0:n.user_id],queryFn:async()=>{if(!t||!n)return[];const{data:S,error:j}=await ue.from("messages").select("*").or(`and(sender_id.eq.${t.id},recipient_id.eq.${n.user_id}),and(sender_id.eq.${n.user_id},recipient_id.eq.${t.id})`).order("created_at",{ascending:!0});if(j)throw j;const E=(S||[]).filter(T=>T.recipient_id===t.id&&!T.read).map(T=>T.id);return E.length>0&&(await ue.from("messages").update({read:!0}).in("id",E),e.invalidateQueries({queryKey:["message-contacts"]})),S},enabled:!!t&&!!n});N.useEffect(()=>{var S;(S=d.current)==null||S.scrollIntoView({behavior:"smooth"})},[p]),N.useEffect(()=>{if(!t)return;const S=ue.channel("messages-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`recipient_id=eq.${t.id}`},()=>{e.invalidateQueries({queryKey:["messages"]}),e.invalidateQueries({queryKey:["message-contacts"]})}).subscribe();return()=>{ue.removeChannel(S)}},[t,e]);const g=async()=>{if(!(!i.trim()||!t||!n)){u(!0);try{const{error:S}=await ue.from("messages").insert({sender_id:t.id,recipient_id:n.user_id,content:i.trim()});if(S)throw S;s(""),e.invalidateQueries({queryKey:["messages"]}),e.invalidateQueries({queryKey:["message-contacts"]})}catch(S){It.error(S.message||"Failed to send message")}finally{u(!1)}}},y=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),g())},v=f.filter(S=>o?`${S.first_name||""} ${S.last_name||""}`.toLowerCase().includes(o.toLowerCase())||(S.email||"").toLowerCase().includes(o.toLowerCase()):!0),w=S=>S.first_name||S.last_name?`${S.first_name||""} ${S.last_name||""}`.trim():S.email||"Unknown",b=S=>`${(S.first_name||"?")[0]}${(S.last_name||"")[0]||""}`;return a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[a.jsx(bs,{className:"w-8 h-8 text-primary"}),"Messages"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Communicate with clients and team members."})]}),a.jsxs(le,{className:"h-[calc(100vh-220px)] flex overflow-hidden",children:[a.jsxs("div",{className:"w-80 border-r border-border flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-border",children:a.jsxs("div",{className:"relative",children:[a.jsx(nf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Ct,{placeholder:"Search conversations...",className:"pl-9",value:o,onChange:S=>l(S.target.value)})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:h?a.jsx("div",{className:"p-4 space-y-3",children:[1,2,3].map(S=>a.jsx(kt,{className:"h-16"},S))}):v.length===0?a.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[a.jsx(br,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No conversations yet"})]}):v.map(S=>a.jsxs("div",{onClick:()=>r(S),className:je("flex items-center gap-3 p-4 cursor-pointer transition-colors border-b border-border",(n==null?void 0:n.user_id)===S.user_id?"bg-primary/5 border-l-2 border-l-primary":"hover:bg-secondary/50"),children:[a.jsx(ws,{className:"w-10 h-10",children:a.jsx(_s,{className:"bg-secondary text-foreground",children:b(S)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-medium truncate text-sm",children:w(S)}),S.lastMessageTime&&a.jsx("span",{className:"text-xs text-muted-foreground",children:cF(new Date(S.lastMessageTime),{addSuffix:!1})})]}),S.lastMessage&&a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:S.lastMessage})]}),S.unreadCount>0&&a.jsx(De,{className:"bg-primary text-primary-foreground",children:S.unreadCount})]},S.user_id))})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center justify-between p-4 border-b border-border",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ws,{className:"w-10 h-10",children:a.jsx(_s,{className:"bg-secondary text-foreground",children:b(n)})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:w(n)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:n.email||""})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[m?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Dn,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):p.length===0?a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:a.jsx("p",{className:"text-sm",children:"No messages yet. Start the conversation!"})}):p.map(S=>a.jsx("div",{className:je("flex",S.sender_id===(t==null?void 0:t.id)?"justify-end":"justify-start"),children:a.jsxs("div",{className:je("max-w-[70%] rounded-2xl px-4 py-2",S.sender_id===(t==null?void 0:t.id)?"bg-primary text-primary-foreground rounded-br-md":"bg-secondary text-foreground rounded-bl-md"),children:[a.jsx("p",{className:"text-sm",children:S.content}),a.jsxs("div",{className:je("flex items-center justify-end gap-1 mt-1",S.sender_id===(t==null?void 0:t.id)?"text-primary-foreground/70":"text-muted-foreground"),children:[a.jsx("span",{className:"text-xs",children:new Date(S.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),S.sender_id===(t==null?void 0:t.id)&&(S.read?a.jsx(fge,{className:"w-3 h-3"}):a.jsx(pl,{className:"w-3 h-3"}))]})]})},S.id)),a.jsx("div",{ref:d})]}),a.jsx("div",{className:"p-4 border-t border-border",children:a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx(mc,{placeholder:"Type a message...",value:i,onChange:S=>s(S.target.value),onKeyDown:y,className:"min-h-[44px] max-h-32 resize-none",rows:1}),a.jsx(ge,{className:"bg-gradient-primary hover:opacity-90",onClick:g,disabled:c||!i.trim(),children:c?a.jsx(Dn,{className:"w-4 h-4 animate-spin"}):a.jsx(Da,{className:"w-4 h-4"})})]})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx(bs,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{className:"font-medium",children:"Select a conversation"}),a.jsx("p",{className:"text-sm",children:"Choose a contact to start messaging"})]})})})]})]})})},bct=()=>{const{user:t}=ln(),{invoices:e,stats:n,isLoading:r,createInvoice:i,updateInvoiceStatus:s}=PU(),[o,l]=N.useState(!1),[c,u]=N.useState(""),[d,f]=N.useState(""),[h,p]=N.useState(""),[m,g]=N.useState(""),y=()=>{if(!b.length){It.error("No payments to export");return}const j=["Client","Amount","Paid Date","Status"],E=b.map(I=>{const D=I.client_profile?`${I.client_profile.first_name} ${I.client_profile.last_name}`:"Unknown",V=I.paid_at?bo(new Date(I.paid_at),"MMM d, yyyy"):"";return[D,Number(I.amount).toFixed(2),V,I.status]}),T=[j,...E].map(I=>I.map(D=>`"${String(D).replace(/"/g,'""')}"`).join(",")).join(`
`),P=new Blob([T],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(P),R=document.createElement("a");R.href=C,R.download=`recent-payments-${new Date().toISOString().slice(0,10)}.csv`,R.click(),URL.revokeObjectURL(C)},{data:v=[]}=hu({queryKey:["billing-clients",t==null?void 0:t.id],queryFn:async()=>{if(!t)return[];const{data:j}=await ue.from("profiles").select("agency_id").eq("user_id",t.id).single();if(!(j!=null&&j.agency_id))return[];const{data:E}=await ue.from("profiles").select("user_id, first_name, last_name").eq("agency_id",j.agency_id),{data:T}=await ue.from("user_roles").select("user_id").eq("role","client"),P=new Set(T==null?void 0:T.map(C=>C.user_id));return(E||[]).filter(C=>P.has(C.user_id))},enabled:!!t}),w=async()=>{if(!c||!d||!h){It.error("Please fill in all required fields");return}await i(c,parseFloat(d),h,m||void 0)?(It.success("Invoice created successfully"),l(!1),u(""),f(""),p(""),g("")):It.error("Failed to create invoice")},b=e.filter(j=>j.status==="paid").slice(0,5),S=e.filter(j=>j.status==="pending").slice(0,5);return r?a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between",children:a.jsx("div",{children:a.jsx("h1",{className:"text-3xl font-bold",children:"Billing"})})}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(j=>a.jsx(kt,{className:"h-24"},j))})]})}):a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[a.jsx(fa,{className:"w-8 h-8 text-primary"}),"Billing"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage payments, invoices, and contracts."})]}),a.jsxs(wl,{open:o,onOpenChange:l,children:[a.jsx(_U,{asChild:!0,children:a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",children:[a.jsx(ml,{className:"w-4 h-4 mr-2"}),"Create Invoice"]})}),a.jsxs(Ao,{children:[a.jsxs(To,{children:[a.jsx(Co,{children:"Create New Invoice"}),a.jsx(Wv,{children:"Create an invoice for a client"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Client"}),a.jsxs(ni,{value:c,onValueChange:u,children:[a.jsx(Br,{children:a.jsx(ri,{placeholder:"Select client"})}),a.jsx(zr,{children:v.map(j=>a.jsxs(ut,{value:j.user_id,children:[j.first_name," ",j.last_name]},j.user_id))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Amount ($)"}),a.jsx(Ct,{type:"number",value:d,onChange:j=>f(j.target.value),placeholder:"99.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Description"}),a.jsx(Ct,{value:h,onChange:j=>p(j.target.value),placeholder:"Monthly Credit Repair Service"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Due Date (optional)"}),a.jsx(Ct,{type:"date",value:m,onChange:j=>g(j.target.value)})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(ge,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),a.jsx(ge,{onClick:w,className:"bg-gradient-primary",children:"Create Invoice"})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Jv,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",n.thisMonthRevenue.toLocaleString()]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:a.jsx(gr,{className:"w-5 h-5 text-success"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",n.totalRevenue.toLocaleString()]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:a.jsx(Ha,{className:"w-5 h-5 text-warning"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:["$",n.pendingAmount.toLocaleString()]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-destructive/10",children:a.jsx(Bi,{className:"w-5 h-5 text-destructive"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:n.overdueCount}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Overdue"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(le,{children:[a.jsxs(Ye,{className:"flex flex-row items-center justify-between",children:[a.jsx(Xe,{children:"Recent Payments"}),a.jsxs(ge,{variant:"outline",size:"sm",onClick:y,children:[a.jsx($d,{className:"w-4 h-4 mr-2"}),"Export"]})]}),a.jsx(Ne,{children:b.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No payments recorded yet"}):a.jsxs(aA,{children:[a.jsx(oA,{children:a.jsxs(Ph,{children:[a.jsx(Xi,{children:"Client"}),a.jsx(Xi,{children:"Amount"}),a.jsx(Xi,{children:"Date"}),a.jsx(Xi,{children:"Status"})]})}),a.jsx(lA,{children:b.map(j=>a.jsxs(Ph,{children:[a.jsx(Yi,{className:"font-medium",children:j.client_profile?`${j.client_profile.first_name} ${j.client_profile.last_name}`:"Unknown"}),a.jsxs(Yi,{children:["$",Number(j.amount).toFixed(2)]}),a.jsx(Yi,{children:j.paid_at?bo(new Date(j.paid_at),"MMM d, yyyy"):""}),a.jsx(Yi,{children:a.jsxs(De,{className:"bg-success/10 text-success",children:[a.jsx(Ls,{className:"w-3 h-3 mr-1"}),"Paid"]})})]},j.id))})]})})]}),a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsx(Xe,{children:"Pending Payments"})}),a.jsx(Ne,{children:S.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending payments"}):a.jsx("div",{className:"space-y-4",children:S.map(j=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:j.client_profile?`${j.client_profile.first_name} ${j.client_profile.last_name}`:"Unknown"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:j.due_date?`Due ${bo(new Date(j.due_date),"MMM d")}`:"No due date"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:["$",Number(j.amount).toFixed(2)]}),a.jsx(ge,{variant:"outline",size:"sm",className:"mt-1",onClick:()=>s(j.id,"paid"),children:"Mark Paid"})]})]},j.id))})})]})]}),a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsx(Xe,{children:"All Invoices"})}),a.jsx(Ne,{children:e.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No invoices yet. Create your first invoice above."}):a.jsxs(aA,{children:[a.jsx(oA,{children:a.jsxs(Ph,{children:[a.jsx(Xi,{children:"Client"}),a.jsx(Xi,{children:"Description"}),a.jsx(Xi,{children:"Amount"}),a.jsx(Xi,{children:"Due Date"}),a.jsx(Xi,{children:"Status"}),a.jsx(Xi,{className:"text-right",children:"Actions"})]})}),a.jsx(lA,{children:e.map(j=>a.jsxs(Ph,{children:[a.jsx(Yi,{className:"font-medium",children:j.client_profile?`${j.client_profile.first_name} ${j.client_profile.last_name}`:"Unknown"}),a.jsx(Yi,{children:j.description||""}),a.jsxs(Yi,{children:["$",Number(j.amount).toFixed(2)]}),a.jsx(Yi,{children:j.due_date?bo(new Date(j.due_date),"MMM d, yyyy"):""}),a.jsx(Yi,{children:a.jsx(De,{variant:"outline",className:je(j.status==="paid"&&"bg-success/10 text-success",j.status==="pending"&&"bg-warning/10 text-warning",j.status==="overdue"&&"bg-destructive/10 text-destructive"),children:j.status})}),a.jsx(Yi,{className:"text-right",children:j.status==="pending"&&a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>s(j.id,"paid"),children:"Mark Paid"})})]},j.id))})]})})]})]})})};function wct(){const{user:t,profile:e}=ln(),[n,r]=N.useState({totalClients:0,activeDisputes:0,lettersThisMonth:0,deletionRate:0}),[i,s]=N.useState([]),[o,l]=N.useState(!0),c=N.useCallback(async()=>{if(!t||!(e!=null&&e.agency_id)){l(!1);return}const u=e.agency_id;try{const{data:d}=await ue.from("profiles").select("user_id").eq("agency_id",u),f=(d==null?void 0:d.map(R=>R.user_id))||[],{data:h}=await ue.from("user_roles").select("user_id").eq("role","client"),p=new Set((h==null?void 0:h.map(R=>R.user_id))||[]),m=f.filter(R=>p.has(R)),g=m.length,{data:y}=m.length>0?await ue.from("dispute_items").select("outcome, client_id").in("client_id",m):{data:[]},v=(y==null?void 0:y.filter(R=>R.outcome==="pending"||R.outcome==="in_progress").length)||0,w=(y==null?void 0:y.filter(R=>R.outcome==="deleted").length)||0,b=(y==null?void 0:y.length)||0,S=b>0?Math.round(w/b*100):0,j=new Date;j.setDate(1),j.setHours(0,0,0,0);const{count:E}=m.length>0?await ue.from("dispute_letters").select("id",{count:"exact",head:!0}).in("user_id",m).gte("created_at",j.toISOString()):{count:0};r({totalClients:g,activeDisputes:v,lettersThisMonth:E||0,deletionRate:S});const{data:T}=await ue.from("user_roles").select("user_id").eq("role","va_staff"),P=new Set((T==null?void 0:T.map(R=>R.user_id))||[]),C=f.filter(R=>P.has(R));if(C.length>0){const{data:R}=await ue.from("profiles").select("user_id, first_name, last_name, email").in("user_id",C),{data:I}=await ue.from("va_assignments").select("va_user_id").eq("agency_id",u),D=new Map;I==null||I.forEach(z=>{D.set(z.va_user_id,(D.get(z.va_user_id)||0)+1)});const{data:V}=await ue.from("tasks").select("assigned_to").eq("agency_id",u).eq("status","completed"),U=new Map;V==null||V.forEach(z=>{z.assigned_to&&U.set(z.assigned_to,(U.get(z.assigned_to)||0)+1)});const $=(R||[]).map(z=>({user_id:z.user_id,first_name:z.first_name||"",last_name:z.last_name||"",email:z.email,clientsManaged:D.get(z.user_id)||0,tasksCompleted:U.get(z.user_id)||0,deletionRate:0}));s($)}else s([])}catch(d){console.error("Error fetching agency metrics:",d)}finally{l(!1)}},[t,e==null?void 0:e.agency_id]);return N.useEffect(()=>{c()},[c]),{metrics:n,teamMembers:i,isLoading:o,refetch:c}}const _ct=()=>{const{metrics:t,teamMembers:e,isLoading:n}=wct(),r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},s=[{label:"Total Clients",value:t.totalClients,icon:br,gradient:"from-primary/20 to-primary/5"},{label:"Deletion Rate",value:`${t.deletionRate}%`,icon:gr,gradient:"from-success/20 to-success/5"},{label:"Letters This Month",value:t.lettersThisMonth,icon:$t,gradient:"from-blue-500/20 to-blue-500/5"},{label:"Active Disputes",value:t.activeDisputes,icon:nr,gradient:"from-warning/20 to-warning/5"}];return a.jsx(_r,{children:a.jsxs(Me.div,{className:"space-y-6",initial:"hidden",animate:"visible",variants:r,children:[a.jsxs(Me.div,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",variants:i,children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent flex items-center gap-3",children:[a.jsx(Me.div,{className:"p-2 rounded-xl bg-gradient-to-br from-primary to-emerald-500 shadow-lg shadow-primary/25",whileHover:{scale:1.1,rotate:5},children:a.jsx(eu,{className:"w-6 h-6 text-white"})}),"Agency Management"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your agency and team."})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(ge,{variant:"outline",className:"border-border/50 hover:border-primary/50 transition-all",children:[a.jsx(Tw,{className:"w-4 h-4 mr-2"}),"Settings"]})})]}),a.jsx(Me.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-4",variants:i,children:s.map((o,l)=>a.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},children:a.jsxs(le,{className:"relative overflow-hidden border-border/50 transition-all duration-300 hover:shadow-lg group p-4",children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${o.gradient} opacity-0 group-hover:opacity-100 transition-opacity`}),a.jsxs("div",{className:"flex items-center gap-3 relative",children:[a.jsx(Me.div,{className:`p-2.5 rounded-xl bg-gradient-to-br ${o.gradient}`,whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400},children:a.jsx(o.icon,{className:"w-5 h-5 text-foreground"})}),a.jsxs("div",{children:[n?a.jsx(kt,{className:"h-8 w-16"}):a.jsx(Me.p,{className:"text-2xl font-bold",initial:{scale:0},animate:{scale:1},transition:{delay:.3+l*.1,type:"spring"},children:o.value}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o.label})]})]})]})},o.label))}),a.jsx(Me.div,{variants:i,children:a.jsxs(le,{className:"relative overflow-hidden border-border/50",children:[a.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-bl from-emerald-500/10 to-transparent rounded-bl-full"}),a.jsxs(Ye,{className:"flex flex-row items-center justify-between relative",children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10",children:a.jsx(br,{className:"w-5 h-5 text-emerald-500"})}),"Team Members"]}),a.jsxs(ge,{variant:"outline",size:"sm",className:"hover:border-primary/50",children:[a.jsx(ml,{className:"w-4 h-4 mr-2"}),"Add Member"]})]}),a.jsx(Ne,{children:n?a.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>a.jsx(kt,{className:"h-20 rounded-xl"},o))}):e.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Bi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{className:"font-medium",children:"No team members yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Add VA staff to your agency to see them here."})]}):a.jsx("div",{className:"space-y-4",children:e.map((o,l)=>{var c,u;return a.jsxs(Me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+l*.1},className:"flex items-center justify-between p-4 rounded-xl border border-border/50 hover:border-primary/30 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ws,{className:"w-12 h-12 ring-2 ring-background group-hover:ring-primary/20 transition-all",children:a.jsxs(_s,{className:"bg-gradient-to-br from-primary/20 to-emerald-500/20 text-foreground font-semibold",children:[((c=o.first_name)==null?void 0:c[0])||"",((u=o.last_name)==null?void 0:u[0])||""]})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold",children:[o.first_name," ",o.last_name]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Virtual Assistant"})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-center hidden sm:block",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Clients"}),a.jsx("p",{className:"font-semibold",children:o.clientsManaged})]}),a.jsxs("div",{className:"text-center hidden sm:block",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Tasks Done"}),a.jsx("p",{className:"font-semibold",children:o.tasksCompleted})]}),a.jsxs(De,{variant:"outline",className:"bg-success/10 text-success border-success/20",children:[a.jsx(Ls,{className:"w-3 h-3 mr-1"}),"Active"]})]})]},o.user_id)})})})]})})]})})};function Sct(){const{user:t}=ln(),[e,n]=N.useState([]),[r,i]=N.useState(!0),s=N.useCallback(async()=>{if(t)try{const{data:l,error:c}=await ue.from("compliance_logs").select("*").order("created_at",{ascending:!1}).limit(100);if(c)throw c;if(l!=null&&l.length){const u=[...new Set(l.filter(d=>d.user_id).map(d=>d.user_id))];if(u.length>0){const{data:d}=await ue.from("profiles").select("user_id, first_name, last_name").in("user_id",u),f=new Map(d==null?void 0:d.map(p=>[p.user_id,p])),h=l.map(p=>({...p,user_profile:p.user_id?f.get(p.user_id):void 0}));n(h)}else n(l)}else n([])}catch(l){console.error("Error fetching compliance logs:",l)}finally{i(!1)}},[t]),o=N.useCallback(async(l,c,u,d)=>{if(t)try{const{data:f}=await ue.from("profiles").select("agency_id").eq("user_id",t.id).single();await ue.from("compliance_logs").insert({agency_id:f==null?void 0:f.agency_id,user_id:t.id,action_type:l,entity_type:c,entity_id:u,details:d})}catch(f){console.error("Error logging action:",f)}},[t]);return N.useEffect(()=>{s()},[s]),{logs:e,isLoading:r,logAction:o,refetch:s}}const Nct=()=>{const{logs:t,isLoading:e,logAction:n,refetch:r}=Sct(),{user:i,profile:s}=ln(),[o,l]=N.useState([]),[c,u]=N.useState(!1),d=N.useCallback(async()=>{if(!i||!(s!=null&&s.agency_id)){l([{id:"1",name:"PII Encryption",description:"All data encrypted at rest and in transit via TLS",status:"passed",lastChecked:new Date().toISOString()},{id:"2",name:"FCRA Compliance",description:"Dispute letter system uses FCRA-compliant templates",status:"passed",lastChecked:new Date().toISOString()},{id:"3",name:"Document Retention",description:"Documents stored in encrypted storage buckets",status:"passed",lastChecked:new Date().toISOString()},{id:"4",name:"Identity Verification",description:"No client documents uploaded for verification",status:"warning",lastChecked:new Date().toISOString()},{id:"5",name:"Contract Signatures",description:"No active clients to verify",status:"warning",lastChecked:new Date().toISOString()}]);return}const y=s.agency_id,v=new Date().toISOString(),{data:w}=await ue.from("profiles").select("user_id").eq("agency_id",y),b=(w==null?void 0:w.map($=>$.user_id))||[],{data:S}=await ue.from("user_roles").select("user_id").eq("role","client").in("user_id",b.length>0?b:["none"]),j=(S==null?void 0:S.map($=>$.user_id))||[],E={id:"1",name:"PII Encryption",description:"All personal data is encrypted at rest and in transit via TLS",status:"passed",lastChecked:v},{count:T}=await ue.from("dispute_letters").select("id",{count:"exact",head:!0}).in("user_id",j.length>0?j:["none"]),P={id:"2",name:"FCRA Compliance",description:T&&T>0?`${T} dispute letters generated using FCRA-compliant templates`:"No dispute letters generated yet  templates are FCRA-compliant",status:"passed",lastChecked:v},{count:C}=await ue.from("client_documents").select("id",{count:"exact",head:!0}).in("user_id",j.length>0?j:["none"]),R={id:"3",name:"Document Retention",description:C&&C>0?`${C} client documents securely stored`:"No client documents uploaded yet",status:C&&C>0?"passed":"warning",lastChecked:v},{count:I}=await ue.from("client_documents").select("id",{count:"exact",head:!0}).eq("document_type","id").eq("status","verified").in("user_id",j.length>0?j:["none"]),D={id:"4",name:"Identity Verification",description:I&&I>0?`${I} client identities verified`:j.length>0?"Some clients may be missing ID verification":"No clients to verify yet",status:I&&I>0?"passed":j.length>0?"warning":"passed",lastChecked:v},{count:V}=await ue.from("compliance_logs").select("id",{count:"exact",head:!0}).eq("agency_id",y),U={id:"5",name:"Activity Logging",description:V&&V>0?`${V} compliance events logged`:"Compliance logging is active, no events recorded yet",status:"passed",lastChecked:v};l([E,P,R,D,U])},[i,s==null?void 0:s.agency_id]);N.useEffect(()=>{d()},[d]);const f=o.filter(y=>y.status==="passed").length,h=o.length>0?Math.round(f/o.length*100):0,p=async()=>{u(!0);try{await n("compliance_check","system",void 0,{type:"manual_check"}),await d(),await r(),It.success("Compliance check completed")}catch{It.error("Failed to run compliance check")}finally{u(!1)}},m=()=>{if(t.length===0){It.error("No logs to export");return}const y=`Date,Action,Entity Type,User,Details
`,v=t.map(E=>{const T=bo(new Date(E.created_at),"yyyy-MM-dd HH:mm:ss"),P=E.action_type.replace(/_/g," "),C=E.user_profile?`${E.user_profile.first_name} ${E.user_profile.last_name}`:"System",R=E.details?JSON.stringify(E.details).replace(/"/g,'""'):"";return`"${T}","${P}","${E.entity_type}","${C}","${R}"`}).join(`
`),w=y+v,b=new Blob([w],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(b),j=document.createElement("a");j.href=S,j.download=`compliance_logs_${bo(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(S),It.success("Compliance logs exported")},g=y=>{switch(y){case"data_accessed":return a.jsx(Qi,{className:"w-4 h-4 text-info"});case"letter_generated":return a.jsx(Ls,{className:"w-4 h-4 text-success"});case"document_uploaded":return a.jsx($d,{className:"w-4 h-4 text-primary"});case"dispute_submitted":return a.jsx(xr,{className:"w-4 h-4 text-warning"});default:return a.jsx(nr,{className:"w-4 h-4 text-muted-foreground"})}};return a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[a.jsx(xr,{className:"w-8 h-8 text-primary"}),"Compliance & Security"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitor compliance status and security measures."})]}),a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",onClick:p,disabled:c,children:[a.jsx(tf,{className:je("w-4 h-4 mr-2",c&&"animate-spin")}),c?"Running...":"Run Compliance Check"]})]}),a.jsx(le,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Overall Compliance Score"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[f," of ",o.length," checks passed"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Jd,{value:h,className:"w-48 h-4"}),a.jsxs("span",{className:je("text-3xl font-bold",h>=90?"text-success":h>=70?"text-warning":"text-destructive"),children:[h,"%"]})]})]})}),a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsx(Xe,{children:"Compliance Checks"})}),a.jsx(Ne,{className:"space-y-3",children:o.length===0?[1,2,3].map(y=>a.jsx(kt,{className:"h-20 rounded-lg"},y)):o.map(y=>a.jsxs("div",{className:je("flex items-center justify-between p-4 rounded-lg border",y.status==="passed"&&"border-success/20 bg-success/5",y.status==="warning"&&"border-warning/20 bg-warning/5",y.status==="failed"&&"border-destructive/20 bg-destructive/5"),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[y.status==="passed"&&a.jsx(Ls,{className:"w-5 h-5 text-success"}),y.status==="warning"&&a.jsx(rf,{className:"w-5 h-5 text-warning"}),y.status==="failed"&&a.jsx(z3,{className:"w-5 h-5 text-destructive"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:y.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(De,{variant:"outline",className:je(y.status==="passed"&&"bg-success/10 text-success",y.status==="warning"&&"bg-warning/10 text-warning",y.status==="failed"&&"bg-destructive/10 text-destructive"),children:y.status}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Checked ",bo(new Date(y.lastChecked),"MMM d, yyyy")]})]})]},y.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(le,{children:[a.jsxs(Ye,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Qi,{className:"w-5 h-5"}),"Activity Logs"]}),a.jsxs(ge,{variant:"outline",size:"sm",onClick:m,children:[a.jsx($d,{className:"w-4 h-4 mr-2"}),"Export"]})]}),a.jsx(Ne,{className:"space-y-3",children:e?a.jsx(a.Fragment,{children:[1,2,3].map(y=>a.jsx(kt,{className:"h-16"},y))}):t.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Qi,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No activity logs yet"})]}):t.slice(0,10).map(y=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-secondary/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[g(y.action_type),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:y.action_type.replace(/_/g," ")}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.user_profile?`${y.user_profile.first_name} ${y.user_profile.last_name}`:"System","  ",y.entity_type]})]})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:cF(new Date(y.created_at),{addSuffix:!0})})]},y.id))})]}),a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(tu,{className:"w-5 h-5"}),"Security Status"]})}),a.jsxs(Ne,{className:"space-y-3",children:[a.jsx("div",{className:"p-4 rounded-lg border border-success/20 bg-success/5",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Ls,{className:"w-5 h-5 text-success flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"All Systems Secure"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No security incidents detected"})]})]})}),a.jsx("div",{className:"p-4 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(xr,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Data Encryption"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"AES-256 encryption active for all sensitive data"})]})]})}),a.jsx("div",{className:"p-4 rounded-lg border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(tu,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Access Control"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Role-based access control enabled"})]})]})})]})]})]})]})})};var zC="Switch",[jct]=zi(zC),[Ect,Act]=jct(zC),Jue=N.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[h,p]=N.useState(null),m=Xt(e,b=>p(b)),g=N.useRef(!1),y=h?d||!!h.closest("form"):!0,[v,w]=Va({prop:i,defaultProp:s??!1,onChange:u,caller:zC});return a.jsxs(Ect,{scope:n,checked:v,disabled:l,children:[a.jsx(pt.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":tde(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:m,onClick:Ge(t.onClick,b=>{w(S=>!S),y&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),y&&a.jsx(ede,{control:h,bubbles:!g.current,name:r,value:c,checked:v,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Jue.displayName=zC;var Que="SwitchThumb",Zue=N.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Act(Que,n);return a.jsx(pt.span,{"data-state":tde(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Zue.displayName=Que;var Tct="SwitchBubbleInput",ede=N.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=N.useRef(null),l=Xt(o,s),c=kC(n),u=UA(e);return N.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const m=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(m)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ede.displayName=Tct;function tde(t){return t?"checked":"unchecked"}var nde=Jue,Cct=Zue;const ci=N.forwardRef(({className:t,...e},n)=>a.jsx(nde,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:a.jsx(Cct,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ci.displayName=nde.displayName;var Mct="Separator",Gq="horizontal",Pct=["horizontal","vertical"],rde=N.forwardRef((t,e)=>{const{decorative:n,orientation:r=Gq,...i}=t,s=Rct(r)?r:Gq,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(pt.div,{"data-orientation":s,...l,...i,ref:e})});rde.displayName=Mct;function Rct(t){return Pct.includes(t)}var ide=rde;const ui=N.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>a.jsx(ide,{ref:i,decorative:n,orientation:e,className:je("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));ui.displayName=ide.displayName;const WR={company_name:"Credit AI",primary_color:"142 76% 36%",secondary_color:"215 28% 17%",accent_color:"142 71% 45%",hide_powered_by:!1,sidebar_style:"default",button_style:"rounded"};function Oct(){const[t,e]=N.useState(WR),[n,r]=N.useState(!0),[i,s]=N.useState(!1),{user:o,profile:l}=ln(),c=N.useCallback(async()=>{if(!o||!(l!=null&&l.agency_id)){e(WR),r(!1);return}try{const{data:d,error:f}=await ue.from("brand_settings").select("*").eq("agency_id",l.agency_id).maybeSingle();if(f)throw f;if(d){const h=d;e({id:d.id,agency_id:d.agency_id||void 0,company_name:d.company_name,logo_url:d.logo_url||void 0,favicon_url:d.favicon_url||void 0,primary_color:d.primary_color||"142 76% 36%",secondary_color:d.secondary_color||"215 28% 17%",accent_color:d.accent_color||"142 71% 45%",custom_domain:d.custom_domain||void 0,support_email:d.support_email||void 0,support_phone:d.support_phone||void 0,footer_text:d.footer_text||void 0,login_background_url:h.login_background_url||void 0,login_tagline:h.login_tagline||void 0,email_header_logo_url:h.email_header_logo_url||void 0,email_footer_text:h.email_footer_text||void 0,terms_url:h.terms_url||void 0,privacy_url:h.privacy_url||void 0,hide_powered_by:h.hide_powered_by||!1,custom_css:h.custom_css||void 0,welcome_message:h.welcome_message||void 0,sidebar_style:h.sidebar_style||"default",button_style:h.button_style||"rounded",enabled_features:h.enabled_features||void 0,integrations:h.integrations||void 0,client_portal_config:h.client_portal_config||void 0,notification_settings:h.notification_settings||void 0,subscription_features:h.subscription_features||void 0,subdomain:h.subdomain||void 0,is_published:h.is_published||!1,published_at:h.published_at||void 0})}}catch(d){console.error("Error fetching brand settings:",d)}finally{r(!1)}},[o,l==null?void 0:l.agency_id]),u=async d=>{if(console.log("saveBrandSettings called with:",{settings:d,user:o,profile:l}),!o||!(l!=null&&l.agency_id))return console.error("Auth check failed:",{hasUser:!!o,hasProfile:!!l,agencyId:l==null?void 0:l.agency_id}),It.error("You must be logged in as a business owner"),!1;s(!0);try{const f={...t,...d},h={company_name:f.company_name,logo_url:f.logo_url,favicon_url:f.favicon_url,primary_color:f.primary_color,secondary_color:f.secondary_color,accent_color:f.accent_color,custom_domain:f.custom_domain,support_email:f.support_email,support_phone:f.support_phone,footer_text:f.footer_text,login_background_url:f.login_background_url,login_tagline:f.login_tagline,email_header_logo_url:f.email_header_logo_url,email_footer_text:f.email_footer_text,terms_url:f.terms_url,privacy_url:f.privacy_url,hide_powered_by:f.hide_powered_by,custom_css:f.custom_css,welcome_message:f.welcome_message,sidebar_style:f.sidebar_style,button_style:f.button_style,enabled_features:f.enabled_features,integrations:f.integrations,client_portal_config:f.client_portal_config,notification_settings:f.notification_settings,subscription_features:f.subscription_features,subdomain:f.subdomain,is_published:f.is_published,published_at:f.published_at};if(console.log("Saving brand settings...",{hasExisting:!!t.id,payload:h,agencyId:l.agency_id}),t.id){const{data:p,error:m}=await ue.from("brand_settings").update(h).eq("id",t.id).select().single();if(m)throw console.error("Update error:",m),m;console.log("Update successful:",p)}else{const{data:p,error:m}=await ue.from("brand_settings").insert({agency_id:l.agency_id,...h}).select().single();if(m)throw console.error("Insert error:",m),m;console.log("Insert successful:",p),p&&(f.id=p.id)}return e(f),qq(f),It.success("Brand settings saved successfully"),!0}catch(f){return console.error("Error saving brand settings:",{error:f,message:f==null?void 0:f.message,details:f==null?void 0:f.details,hint:f==null?void 0:f.hint,code:f==null?void 0:f.code}),It.error(`Failed to save brand settings: ${(f==null?void 0:f.message)||"Unknown error"}`),!1}finally{s(!1)}};return N.useEffect(()=>{c()},[o,l==null?void 0:l.agency_id]),N.useEffect(()=>{if(o&&(l!=null&&l.agency_id)){const d=ue.channel(`brand_settings_hook_${l.agency_id}`).on("postgres_changes",{event:"*",schema:"public",table:"brand_settings",filter:`agency_id=eq.${l.agency_id}`},f=>{if(console.log("Brand settings changed (hook):",f),f.eventType==="UPDATE"||f.eventType==="INSERT"){const h=f.new,p={id:h.id,agency_id:h.agency_id||void 0,company_name:h.company_name,logo_url:h.logo_url||void 0,favicon_url:h.favicon_url||void 0,primary_color:h.primary_color||"142 76% 36%",secondary_color:h.secondary_color||"215 28% 17%",accent_color:h.accent_color||"142 71% 45%",custom_domain:h.custom_domain||void 0,support_email:h.support_email||void 0,support_phone:h.support_phone||void 0,footer_text:h.footer_text||void 0,login_background_url:h.login_background_url||void 0,login_tagline:h.login_tagline||void 0,email_header_logo_url:h.email_header_logo_url||void 0,email_footer_text:h.email_footer_text||void 0,terms_url:h.terms_url||void 0,privacy_url:h.privacy_url||void 0,hide_powered_by:h.hide_powered_by||!1,custom_css:h.custom_css||void 0,welcome_message:h.welcome_message||void 0,sidebar_style:h.sidebar_style||"default",button_style:h.button_style||"rounded",enabled_features:h.enabled_features||void 0,integrations:h.integrations||void 0,client_portal_config:h.client_portal_config||void 0,notification_settings:h.notification_settings||void 0,subscription_features:h.subscription_features||void 0,subdomain:h.subdomain||void 0,is_published:h.is_published||!1,published_at:h.published_at||void 0};e(p),qq(p),It.info("Brand settings updated in real-time ",{duration:3e3})}f.eventType==="DELETE"&&(e(WR),It.info("Brand settings reset"))}).subscribe();return()=>{console.log("Cleaning up brand settings realtime subscription"),ue.removeChannel(d)}}},[o,l==null?void 0:l.agency_id]),{brandSettings:t,isLoading:n,isSaving:i,saveBrandSettings:u,refreshBrandSettings:c}}function qq(t){const e=document.documentElement;t.primary_color&&e.style.setProperty("--primary",t.primary_color),t.secondary_color&&e.style.setProperty("--secondary",t.secondary_color),t.accent_color&&e.style.setProperty("--accent",t.accent_color);const n=document.getElementById("brand-custom-css");if(n&&n.remove(),t.custom_css){const r=document.createElement("style");r.id="brand-custom-css",r.textContent=t.custom_css,document.head.appendChild(r)}if(t.favicon_url){const r=document.querySelector("link[rel*='icon']");if(r)r.href=t.favicon_url;else{const i=document.createElement("link");i.rel="icon",i.href=t.favicon_url,document.head.appendChild(i)}}t.company_name&&(document.title=t.company_name),t.button_style&&(e.classList.remove("button-rounded","button-square","button-pill"),e.classList.add(`button-${t.button_style}`)),console.log("Applied branding immediately:",t)}var $C="Popover",[sde]=zi($C,[sf]),p_=sf(),[Ict,Sf]=sde($C),ade=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,l=p_(e),c=N.useRef(null),[u,d]=N.useState(!1),[f,h]=Va({prop:r,defaultProp:i??!1,onChange:s,caller:$C});return a.jsx(BA,{...l,children:a.jsx(Ict,{scope:e,contentId:La(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:N.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:N.useCallback(()=>d(!0),[]),onCustomAnchorRemove:N.useCallback(()=>d(!1),[]),modal:o,children:n})})};ade.displayName=$C;var ode="PopoverAnchor",kct=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Sf(ode,n),s=p_(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return N.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(Mw,{...s,...r,ref:e})});kct.displayName=ode;var lde="PopoverTrigger",cde=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Sf(lde,n),s=p_(n),o=Xt(e,i.triggerRef),l=a.jsx(pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":pde(i.open),...r,ref:o,onClick:Ge(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:a.jsx(Mw,{asChild:!0,...s,children:l})});cde.displayName=lde;var RU="PopoverPortal",[Dct,Lct]=sde(RU,{forceMount:void 0}),ude=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Sf(RU,e);return a.jsx(Dct,{scope:e,forceMount:n,children:a.jsx(Ai,{present:n||s.open,children:a.jsx(Kv,{asChild:!0,container:i,children:r})})})};ude.displayName=RU;var Gv="PopoverContent",dde=N.forwardRef((t,e)=>{const n=Lct(Gv,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Sf(Gv,t.__scopePopover);return a.jsx(Ai,{present:r||s.open,children:s.modal?a.jsx(Uct,{...i,ref:e}):a.jsx(Bct,{...i,ref:e})})});dde.displayName=Gv;var Fct=zd("PopoverContent.RemoveScroll"),Uct=N.forwardRef((t,e)=>{const n=Sf(Gv,t.__scopePopover),r=N.useRef(null),i=Xt(e,r),s=N.useRef(!1);return N.useEffect(()=>{const o=r.current;if(o)return OT(o)},[]),a.jsx(t_,{as:Fct,allowPinchZoom:!0,children:a.jsx(fde,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ge(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ge(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ge(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Bct=N.forwardRef((t,e)=>{const n=Sf(Gv,t.__scopePopover),r=N.useRef(!1),i=N.useRef(!1);return a.jsx(fde,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),fde=N.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,h=Sf(Gv,n),p=p_(n);return PT(),a.jsx(Zw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(Ap,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(zA,{"data-state":pde(h.open),role:"dialog",id:h.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),hde="PopoverClose",zct=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Sf(hde,n);return a.jsx(pt.button,{type:"button",...r,ref:e,onClick:Ge(t.onClick,()=>i.onOpenChange(!1))})});zct.displayName=hde;var $ct="PopoverArrow",Vct=N.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=p_(n);return a.jsx($A,{...i,...r,ref:e})});Vct.displayName=$ct;function pde(t){return t?"open":"closed"}var Hct=ade,Wct=cde,Gct=ude,mde=dde;const qct=Hct,Xct=Wct,gde=N.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>a.jsx(Gct,{children:a.jsx(mde,{ref:i,align:e,sideOffset:n,className:je("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));gde.displayName=mde.displayName;var vde=["PageUp","PageDown"],yde=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],xde={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ty="Slider",[DL,Yct,Kct]=jw(Ty),[bde]=zi(Ty,[Kct]),[Jct,VC]=bde(Ty),wde=N.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:m,...g}=t,y=N.useRef(new Set),v=N.useRef(0),b=o==="horizontal"?Qct:Zct,[S=[],j]=Va({prop:d,defaultProp:u,onChange:I=>{var V;(V=[...y.current][v.current])==null||V.focus(),f(I)}}),E=N.useRef(S);function T(I){const D=iut(S,I);R(I,D)}function P(I){R(I,v.current)}function C(){const I=E.current[v.current];S[v.current]!==I&&h(S)}function R(I,D,{commit:V}={commit:!1}){const U=lut(s),$=cut(Math.round((I-r)/s)*s+r,U),z=Ob($,[r,i]);j((W=[])=>{const k=nut(W,z,D);if(out(k,c*s)){v.current=k.indexOf(z);const L=String(k)!==String(W);return L&&V&&h(k),L?k:W}else return W})}return a.jsx(Jct,{scope:t.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:v,thumbs:y.current,values:S,orientation:o,form:m,children:a.jsx(DL.Provider,{scope:t.__scopeSlider,children:a.jsx(DL.Slot,{scope:t.__scopeSlider,children:a.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:e,onPointerDown:Ge(g.onPointerDown,()=>{l||(E.current=S)}),min:r,max:i,inverted:p,onSlideStart:l?void 0:T,onSlideMove:l?void 0:P,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&R(r,0,{commit:!0}),onEndKeyDown:()=>!l&&R(i,S.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:D})=>{if(!l){const $=vde.includes(I.key)||I.shiftKey&&yde.includes(I.key)?10:1,z=v.current,W=S[z],k=s*$*D;R(W+k,z,{commit:!0})}}})})})})});wde.displayName=Ty;var[_de,Sde]=bde(Ty,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Qct=N.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[f,h]=N.useState(null),p=Xt(e,b=>h(b)),m=N.useRef(void 0),g=hy(i),y=g==="ltr",v=y&&!s||!y&&s;function w(b){const S=m.current||f.getBoundingClientRect(),j=[0,S.width],T=OU(j,v?[n,r]:[r,n]);return m.current=S,T(b-S.left)}return a.jsx(_de,{scope:t.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:a.jsx(Nde,{dir:g,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const S=w(b.clientX);o==null||o(S)},onSlideMove:b=>{const S=w(b.clientX);l==null||l(S)},onSlideEnd:()=>{m.current=void 0,c==null||c()},onStepKeyDown:b=>{const j=xde[v?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:j?-1:1})}})})}),Zct=N.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=N.useRef(null),f=Xt(e,d),h=N.useRef(void 0),p=!i;function m(g){const y=h.current||d.current.getBoundingClientRect(),v=[0,y.height],b=OU(v,p?[r,n]:[n,r]);return h.current=y,b(g-y.top)}return a.jsx(_de,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:a.jsx(Nde,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=m(g.clientY);s==null||s(y)},onSlideMove:g=>{const y=m(g.clientY);o==null||o(y)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const v=xde[p?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:v?-1:1})}})})}),Nde=N.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=VC(Ty,n);return a.jsx(pt.span,{...u,ref:e,onKeyDown:Ge(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):vde.concat(yde).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Ge(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:Ge(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Ge(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),jde="SliderTrack",Ede=N.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=VC(jde,n);return a.jsx(pt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Ede.displayName=jde;var LL="SliderRange",Ade=N.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=VC(LL,n),s=Sde(LL,n),o=N.useRef(null),l=Xt(e,o),c=i.values.length,u=i.values.map(h=>Mde(h,i.min,i.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return a.jsx(pt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});Ade.displayName=LL;var FL="SliderThumb",Tde=N.forwardRef((t,e)=>{const n=Yct(t.__scopeSlider),[r,i]=N.useState(null),s=Xt(e,l=>i(l)),o=N.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return a.jsx(eut,{...t,ref:s,index:o})}),eut=N.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=VC(FL,n),l=Sde(FL,n),[c,u]=N.useState(null),d=Xt(e,w=>u(w)),f=c?o.form||!!c.closest("form"):!0,h=UA(c),p=o.values[r],m=p===void 0?0:Mde(p,o.min,o.max),g=rut(r,o.values.length),y=h==null?void 0:h[l.size],v=y?sut(y,m,l.direction):0;return N.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${m}% + ${v}px)`},children:[a.jsx(DL.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(pt.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:p===void 0?{display:"none"}:t.style,onFocus:Ge(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&a.jsx(Cde,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},r)]})});Tde.displayName=FL;var tut="RadioBubbleInput",Cde=N.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=N.useRef(null),s=Xt(i,r),o=kC(e);return N.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("input",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[o,e]),a.jsx(pt.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});Cde.displayName=tut;function nut(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function Mde(t,e,n){const s=100/(n-e)*(t-e);return Ob(s,[0,100])}function rut(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function iut(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function sut(t,e,n){const r=t/2,s=OU([0,50],[0,r]);return(r-s(e)*n)*n}function aut(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function out(t,e){if(e>0){const n=aut(t);return Math.min(...n)>=e}return!0}function OU(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function lut(t){return(String(t).split(".")[1]||"").length}function cut(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Pde=wde,uut=Ede,dut=Ade,fut=Tde;const ZN=N.forwardRef(({className:t,...e},n)=>a.jsxs(Pde,{ref:n,className:je("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(uut,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(dut,{className:"absolute h-full bg-primary"})}),a.jsx(fut,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ZN.displayName=Pde.displayName;function GR({label:t,value:e,onChange:n,description:r}){const[i,s]=N.useState(142),[o,l]=N.useState(76),[c,u]=N.useState(36),[d,f]=N.useState(!1);N.useEffect(()=>{if(e){const m=e.split(" ").map(g=>parseFloat(g.replace("%","")));m.length>=3&&(s(m[0]||142),l(m[1]||76),u(m[2]||36))}},[e]);const h=(m,g,y)=>{const v=`${m} ${g}% ${y}%`;n(v)},p=[{name:"Green",value:"142 76% 36%"},{name:"Blue",value:"217 91% 60%"},{name:"Purple",value:"270 76% 50%"},{name:"Red",value:"0 84% 60%"},{name:"Orange",value:"25 95% 53%"},{name:"Teal",value:"174 84% 32%"},{name:"Pink",value:"330 81% 60%"},{name:"Indigo",value:"239 84% 67%"}];return a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{children:t}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(qct,{open:d,onOpenChange:f,children:[a.jsx(Xct,{asChild:!0,children:a.jsx(ge,{variant:"outline",className:"w-12 h-10 p-0 border-2",style:{backgroundColor:`hsl(${e||"142 76% 36%"})`}})}),a.jsxs(gde,{className:"w-80 p-4 space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Hue"}),a.jsxs("span",{children:[i,""]})]}),a.jsx(ZN,{value:[i],onValueChange:([m])=>{s(m),h(m,o,c)},max:360,step:1,className:"w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Saturation"}),a.jsxs("span",{children:[o,"%"]})]}),a.jsx(ZN,{value:[o],onValueChange:([m])=>{l(m),h(i,m,c)},max:100,step:1,className:"w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Lightness"}),a.jsxs("span",{children:[c,"%"]})]}),a.jsx(ZN,{value:[c],onValueChange:([m])=>{u(m),h(i,o,m)},max:100,step:1,className:"w-full"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Presets"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:p.map(m=>a.jsx("button",{onClick:()=>n(m.value),className:"w-full h-8 rounded-md border border-border hover:scale-105 transition-transform",style:{backgroundColor:`hsl(${m.value})`},title:m.name},m.name))})]}),a.jsx("div",{className:"h-16 rounded-lg border border-border",style:{backgroundColor:`hsl(${e||"142 76% 36%"})`}})]})]}),a.jsx(Ct,{value:e,onChange:m=>n(m.target.value),placeholder:"142 76% 36%",className:"flex-1"})]}),r&&a.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})}function fA({label:t,value:e,onChange:n,description:r,type:i}){const[s,o]=N.useState(!1),[l,c]=N.useState(e||""),u=N.useRef(null),{profile:d}=ln(),f=async m=>{var v;const g=(v=m.target.files)==null?void 0:v[0];if(!g||!(d!=null&&d.agency_id))return;if(!(i==="logo"?["image/png","image/jpeg","image/svg+xml","image/webp"]:["image/png","image/x-icon","image/vnd.microsoft.icon","image/svg+xml"]).includes(g.type)){It.error(`Invalid file type. Please upload a ${i==="logo"?"PNG, JPG, SVG, or WebP":"PNG, ICO, or SVG"} file.`);return}if(g.size>2*1024*1024){It.error("File size must be less than 2MB");return}o(!0);try{const w=g.name.split(".").pop(),b=`${d.agency_id}/${i}-${Date.now()}.${w}`,{error:S,data:j}=await ue.storage.from("brand-assets").upload(b,g,{upsert:!0});if(S)throw S;const{data:{publicUrl:E}}=ue.storage.from("brand-assets").getPublicUrl(b);n(E),c(E),It.success(`${i==="logo"?"Logo":"Favicon"} uploaded successfully`)}catch(w){console.error("Upload error:",w),It.error(`Failed to upload ${i}`)}finally{o(!1),u.current&&(u.current.value="")}},h=()=>{l.trim()&&n(l.trim())},p=()=>{n(""),c("")};return a.jsxs("div",{className:"space-y-3",children:[a.jsx(ht,{children:t}),a.jsxs(jl,{defaultValue:"upload",className:"w-full",children:[a.jsxs(Io,{className:"grid w-full grid-cols-2",children:[a.jsxs(hn,{value:"upload",className:"flex items-center gap-2",children:[a.jsx(cc,{className:"w-4 h-4"}),"Upload"]}),a.jsxs(hn,{value:"url",className:"flex items-center gap-2",children:[a.jsx(jge,{className:"w-4 h-4"}),"URL"]})]}),a.jsxs(gn,{value:"upload",className:"space-y-3",children:[a.jsx("input",{ref:u,type:"file",accept:i==="logo"?"image/png,image/jpeg,image/svg+xml,image/webp":"image/png,image/x-icon,image/vnd.microsoft.icon,image/svg+xml",onChange:f,className:"hidden"}),a.jsx(ge,{type:"button",variant:"outline",onClick:()=>{var m;return(m=u.current)==null?void 0:m.click()},disabled:s,className:"w-full h-24 border-dashed flex flex-col gap-2",children:s?a.jsxs(a.Fragment,{children:[a.jsx(Dn,{className:"w-6 h-6 animate-spin"}),a.jsx("span",{children:"Uploading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(cc,{className:"w-6 h-6"}),a.jsxs("span",{children:["Click to upload ",i]})]})})]}),a.jsx(gn,{value:"url",className:"space-y-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ct,{value:l,onChange:m=>c(m.target.value),placeholder:`https://example.com/${i}.png`}),a.jsx(ge,{variant:"outline",onClick:h,children:"Apply"})]})})]}),e&&a.jsxs("div",{className:"relative p-4 bg-muted rounded-lg",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:p,className:"absolute top-2 right-2 h-6 w-6",children:a.jsx(Qv,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-background rounded-lg p-2 border border-border",children:a.jsx("img",{src:e,alt:`${i} preview`,className:i==="logo"?"h-12 object-contain max-w-32":"h-8 w-8 object-contain",onError:m=>{m.target.style.display="none"}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-sm font-medium",children:["Current ",i]}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e})]})]})]}),r&&a.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})}function hut({settings:t}){const[e,n]=N.useState("desktop"),r=t.primary_color||"142 76% 36%",i=t.secondary_color||"215 28% 17%",s=t.accent_color||"142 71% 45%";return a.jsxs(le,{className:"sticky top-6",children:[a.jsx(Ye,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Xe,{className:"text-lg",children:"Live Preview"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ge,{size:"icon",variant:e==="desktop"?"default":"ghost",onClick:()=>n("desktop"),className:"h-8 w-8",children:a.jsx(Rge,{className:"h-4 w-4"})}),a.jsx(ge,{size:"icon",variant:e==="mobile"?"default":"ghost",onClick:()=>n("mobile"),className:"h-8 w-8",children:a.jsx(q3,{className:"h-4 w-4"})})]})]})}),a.jsxs(Ne,{children:[a.jsxs("div",{className:`rounded-lg border border-border overflow-hidden transition-all ${e==="mobile"?"max-w-[280px] mx-auto":"w-full"}`,children:[a.jsxs("div",{className:"p-3 flex items-center justify-between",style:{backgroundColor:`hsl(${i})`},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[t.logo_url?a.jsx("img",{src:t.logo_url,alt:"Logo",className:"h-6 object-contain",onError:o=>{o.target.style.display="none"}}):a.jsx("div",{className:"h-6 w-6 rounded",style:{backgroundColor:`hsl(${r})`}}),a.jsx("span",{className:"text-white text-sm font-semibold truncate max-w-24",children:t.company_name||"Your Company"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lc,{className:"w-4 h-4 text-white/60"}),a.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 flex items-center justify-center",children:a.jsx(Gs,{className:"w-3 h-3 text-white/80"})})]})]}),a.jsxs("div",{className:"p-4 bg-background space-y-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-3 bg-muted rounded w-24"}),a.jsx("div",{className:"h-2 bg-muted rounded w-full"}),a.jsx("div",{className:"h-2 bg-muted rounded w-3/4"})]}),a.jsx("button",{className:"w-full py-2 px-4 rounded-md text-white text-sm font-medium",style:{backgroundColor:`hsl(${r})`},children:"Primary Button"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:`hsl(${s})`}}),a.jsx("span",{className:"text-sm",style:{color:`hsl(${s})`},children:"Accent Text"})]}),a.jsxs("div",{className:"p-3 rounded-lg border border-border space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"h-2 bg-muted rounded w-16"}),a.jsx("div",{className:"px-2 py-0.5 rounded text-xs text-white",style:{backgroundColor:`hsl(${r})`},children:"Active"})]}),a.jsx("div",{className:"h-2 bg-muted rounded w-full"})]})]}),a.jsx("div",{className:"px-4 py-2 border-t border-border bg-muted/50",children:a.jsx("p",{className:"text-[10px] text-muted-foreground text-center truncate",children:t.footer_text||` ${new Date().getFullYear()} ${t.company_name||"Your Company"}. All rights reserved.`})})]}),(t.support_email||t.support_phone)&&a.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg space-y-2",children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Contact Info Preview"}),t.support_email&&a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx(Li,{className:"w-3 h-3"}),a.jsx("span",{children:t.support_email})]}),t.support_phone&&a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("span",{children:""}),a.jsx("span",{children:t.support_phone})]})]})]})]})}function put({formData:t,onChange:e}){return a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(iJ,{className:"w-5 h-5 text-primary"}),"Login Page Customization"]}),a.jsx(Zt,{children:"Customize the login experience for your clients. Add your branding to make the platform feel like your own."})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsx(fA,{label:"Login Background Image",value:t.login_background_url,onChange:n=>e("login_background_url",n),description:"Hero image shown on login page. Recommended: 1920x1080px",type:"logo"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ht,{htmlFor:"login_tagline",className:"flex items-center gap-2",children:[a.jsx($ge,{className:"w-4 h-4 text-muted-foreground"}),"Login Tagline"]}),a.jsx(mc,{id:"login_tagline",value:t.login_tagline||"",onChange:n=>e("login_tagline",n.target.value),placeholder:"Transform your credit score with AI-powered insights",rows:2}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Displayed below your logo on the login page"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"terms_url",children:"Terms of Service URL"}),a.jsx(Ct,{id:"terms_url",type:"url",value:t.terms_url||"",onChange:n=>e("terms_url",n.target.value),placeholder:"https://yoursite.com/terms"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"privacy_url",children:"Privacy Policy URL"}),a.jsx(Ct,{id:"privacy_url",type:"url",value:t.privacy_url||"",onChange:n=>e("privacy_url",n.target.value),placeholder:"https://yoursite.com/privacy"})]})]})]})]})}function mut({formData:t,onChange:e}){return a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Li,{className:"w-5 h-5 text-primary"}),"Email Branding"]}),a.jsx(Zt,{children:"Customize email templates sent to your clients. All automated emails will use these settings."})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsx(fA,{label:"Email Header Logo",value:t.email_header_logo_url,onChange:n=>e("email_header_logo_url",n),description:"Logo shown at the top of email templates. Recommended: 400x100px",type:"logo"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ht,{htmlFor:"email_footer_text",className:"flex items-center gap-2",children:[a.jsx($t,{className:"w-4 h-4 text-muted-foreground"}),"Email Footer Text"]}),a.jsx(mc,{id:"email_footer_text",value:t.email_footer_text||"",onChange:n=>e("email_footer_text",n.target.value),placeholder:` ${new Date().getFullYear()} Your Company Name. All rights reserved.
123 Business Street, City, State 12345`,rows:3}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This text appears at the bottom of all emails. Include your company address for CAN-SPAM compliance."})]}),a.jsxs("div",{className:"border border-border rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-muted/50 px-4 py-2 border-b border-border",children:a.jsx("span",{className:"text-sm font-medium",children:"Email Preview"})}),a.jsx("div",{className:"p-6 bg-background",children:a.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[a.jsx("div",{className:"text-center pb-4 border-b border-border",children:t.email_header_logo_url?a.jsx("img",{src:t.email_header_logo_url,alt:"Email Logo",className:"h-10 mx-auto object-contain"}):t.logo_url?a.jsx("img",{src:t.logo_url,alt:"Email Logo",className:"h-10 mx-auto object-contain"}):a.jsx("div",{className:"h-10 w-32 mx-auto bg-muted rounded flex items-center justify-center text-muted-foreground text-xs",children:"Your Logo"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-muted rounded w-full"}),a.jsx("div",{className:"h-4 bg-muted rounded w-5/6"}),a.jsx("div",{className:"h-4 bg-muted rounded w-2/3"})]}),a.jsx("div",{className:"pt-4 border-t border-border text-center text-xs text-muted-foreground whitespace-pre-line",children:t.email_footer_text||` ${new Date().getFullYear()} Your Company. All rights reserved.`})]})})]})]})]})}function gut({formData:t,onChange:e}){return a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(jn,{className:"w-5 h-5 text-primary"}),"Advanced Customization"]}),a.jsx(Zt,{children:"Fine-tune the platform appearance and behavior for a truly white-labeled experience."})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs(ht,{className:"flex items-center gap-2",children:[a.jsx(Qi,{className:"w-4 h-4 text-muted-foreground"}),'Hide "Powered by" Badge']}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Remove the Credit AI branding from the platform footer"})]}),a.jsx(ci,{checked:t.hide_powered_by||!1,onCheckedChange:n=>e("hide_powered_by",n)})]}),a.jsx(ui,{}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ht,{htmlFor:"sidebar_style",className:"flex items-center gap-2",children:[a.jsx(k$,{className:"w-4 h-4 text-muted-foreground"}),"Sidebar Style"]}),a.jsxs(ni,{value:t.sidebar_style||"default",onValueChange:n=>e("sidebar_style",n),children:[a.jsx(Br,{children:a.jsx(ri,{placeholder:"Select sidebar style"})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"default",children:"Default"}),a.jsx(ut,{value:"minimal",children:"Minimal"}),a.jsx(ut,{value:"expanded",children:"Expanded"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ht,{htmlFor:"button_style",className:"flex items-center gap-2",children:[a.jsx(k$,{className:"w-4 h-4 text-muted-foreground"}),"Button Style"]}),a.jsxs(ni,{value:t.button_style||"rounded",onValueChange:n=>e("button_style",n),children:[a.jsx(Br,{children:a.jsx(ri,{placeholder:"Select button style"})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"rounded",children:"Rounded"}),a.jsx(ut,{value:"square",children:"Square"}),a.jsx(ut,{value:"pill",children:"Pill"})]})]})]})]}),a.jsx(ui,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ht,{htmlFor:"welcome_message",className:"flex items-center gap-2",children:[a.jsx(bs,{className:"w-4 h-4 text-muted-foreground"}),"Client Welcome Message"]}),a.jsx(mc,{id:"welcome_message",value:t.welcome_message||"",onChange:n=>e("welcome_message",n.target.value),placeholder:"Welcome to our credit repair platform! We're excited to help you improve your credit score.",rows:3}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Shown to clients when they first log in to the platform"})]}),a.jsx(ui,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ht,{htmlFor:"custom_css",className:"flex items-center gap-2",children:[a.jsx($3,{className:"w-4 h-4 text-muted-foreground"}),"Custom CSS (Advanced)"]}),a.jsx(mc,{id:"custom_css",value:t.custom_css||"",onChange:n=>e("custom_css",n.target.value),placeholder:`/* Example custom styles */
.sidebar { 
  /* Custom sidebar styles */ 
}

.btn-primary {
  /* Custom button styles */
}`,rows:6,className:"font-mono text-sm"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Add custom CSS to further customize the platform. Use with caution."})]})]})]})}const vut=Aw("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Rh=N.forwardRef(({className:t,variant:e,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:je(vut({variant:e}),t),...n}));Rh.displayName="Alert";const yut=N.forwardRef(({className:t,...e},n)=>a.jsx("h5",{ref:n,className:je("mb-1 font-medium leading-none tracking-tight",t),...e}));yut.displayName="AlertTitle";const Oh=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:je("text-sm [&_p]:leading-relaxed",t),...e}));Oh.displayName="AlertDescription";function xut({formData:t,onChange:e}){const n=!!t.custom_domain;return a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(iv,{className:"w-5 h-5 text-primary"}),"Custom Domain"]}),a.jsx(Zt,{children:"Connect your own domain to provide a fully branded experience for your clients."})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ht,{htmlFor:"custom_domain",className:"flex items-center gap-2",children:["Domain Name",n&&a.jsxs(De,{variant:"outline",className:"text-amber-600 border-amber-300 bg-amber-50",children:[a.jsx(nr,{className:"w-3 h-3 mr-1"}),"Pending Setup"]})]}),a.jsx(Ct,{id:"custom_domain",value:t.custom_domain||"",onChange:r=>e("custom_domain",r.target.value),placeholder:"app.yourcompany.com"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your subdomain (e.g., app.yourcompany.com or portal.yourcompany.com)"})]}),n&&a.jsxs(Rh,{className:"border-primary/20 bg-primary/5",children:[a.jsx(Bi,{className:"h-4 w-4 text-primary"}),a.jsxs(Oh,{className:"text-sm",children:[a.jsx("strong",{children:"Domain Setup Instructions:"}),a.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1 text-muted-foreground",children:[a.jsxs("li",{children:["Add a CNAME record pointing to ",a.jsx("code",{className:"bg-muted px-1 rounded",children:"credit-ai.online"})]}),a.jsx("li",{children:"Add a TXT record for domain verification"}),a.jsx("li",{children:"Wait for DNS propagation (up to 48 hours)"}),a.jsx("li",{children:"Contact support to complete the SSL certificate setup"})]})]})]}),a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[a.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(W0,{className:"w-4 h-4"}),"Required DNS Records"]}),a.jsxs("div",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded",children:[a.jsx("span",{className:"font-mono text-xs",children:"CNAME"}),a.jsx("span",{className:"text-muted-foreground",children:" credit-ai.online"})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-background rounded",children:[a.jsx("span",{className:"font-mono text-xs",children:"TXT"}),a.jsx("span",{className:"text-muted-foreground",children:" verification code (provided after save)"})]})]})]})]})]})}var HC="Collapsible",[but]=zi(HC),[wut,IU]=but(HC),Rde=N.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...l}=t,[c,u]=Va({prop:r,defaultProp:i??!1,onChange:o,caller:HC});return a.jsx(wut,{scope:n,disabled:s,contentId:La(),open:c,onOpenToggle:N.useCallback(()=>u(d=>!d),[u]),children:a.jsx(pt.div,{"data-state":DU(c),"data-disabled":s?"":void 0,...l,ref:e})})});Rde.displayName=HC;var Ode="CollapsibleTrigger",Ide=N.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=IU(Ode,n);return a.jsx(pt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":DU(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Ge(t.onClick,i.onOpenToggle)})});Ide.displayName=Ode;var kU="CollapsibleContent",kde=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=IU(kU,t.__scopeCollapsible);return a.jsx(Ai,{present:n||i.open,children:({present:s})=>a.jsx(_ut,{...r,ref:e,present:s})})});kde.displayName=kU;var _ut=N.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=IU(kU,n),[l,c]=N.useState(r),u=N.useRef(null),d=Xt(e,u),f=N.useRef(0),h=f.current,p=N.useRef(0),m=p.current,g=o.open||l,y=N.useRef(g),v=N.useRef(void 0);return N.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),$r(()=>{const w=u.current;if(w){v.current=v.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const b=w.getBoundingClientRect();f.current=b.height,p.current=b.width,y.current||(w.style.transitionDuration=v.current.transitionDuration,w.style.animationName=v.current.animationName),c(r)}},[o.open,r]),a.jsx(pt.div,{"data-state":DU(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":m?`${m}px`:void 0,...t.style},children:g&&i})});function DU(t){return t?"open":"closed"}var Sut=Rde;const Nut=Sut,jut=Ide,Eut=kde,gN=[{id:"stripe",name:"Stripe",description:"Accept payments and manage subscriptions",icon:a.jsx(fa,{className:"w-5 h-5"}),category:"payments",fields:[{key:"api_key",label:"Secret Key",placeholder:"sk_live_...",type:"password"},{key:"publishable_key",label:"Publishable Key",placeholder:"pk_live_..."}],docUrl:"https://stripe.com/docs"},{id:"zapier",name:"Zapier",description:"Automate workflows with 5000+ apps",icon:a.jsx(Wa,{className:"w-5 h-5"}),category:"automation",fields:[{key:"webhook_url",label:"Webhook URL",placeholder:"https://hooks.zapier.com/..."}],docUrl:"https://zapier.com"},{id:"mailchimp",name:"Mailchimp",description:"Email marketing and automation",icon:a.jsx(Li,{className:"w-5 h-5"}),category:"marketing",fields:[{key:"api_key",label:"API Key",placeholder:"xxxxxxxx-us1",type:"password"},{key:"list_id",label:"Audience List ID",placeholder:"abc123def4"}],docUrl:"https://mailchimp.com/developer/"},{id:"twilio",name:"Twilio",description:"SMS notifications and voice calls",icon:a.jsx(IA,{className:"w-5 h-5"}),category:"communication",fields:[{key:"account_sid",label:"Account SID",placeholder:"ACxxxxxxxx"},{key:"auth_token",label:"Auth Token",placeholder:"xxxxxxxx",type:"password"},{key:"phone_number",label:"Twilio Phone Number",placeholder:"+1234567890"}],docUrl:"https://www.twilio.com/docs"},{id:"sendgrid",name:"SendGrid",description:"Transactional email delivery",icon:a.jsx(Da,{className:"w-5 h-5"}),category:"communication",fields:[{key:"api_key",label:"API Key",placeholder:"SG.xxxxxxxx",type:"password"}],docUrl:"https://docs.sendgrid.com/"},{id:"hubspot",name:"HubSpot",description:"CRM and marketing automation",icon:a.jsx(br,{className:"w-5 h-5"}),category:"marketing",fields:[{key:"api_key",label:"Private App Token",placeholder:"pat-na1-xxxxxxxx",type:"password"}],docUrl:"https://developers.hubspot.com/"},{id:"calendly",name:"Calendly",description:"Schedule client consultations",icon:a.jsx(Ha,{className:"w-5 h-5"}),category:"automation",fields:[{key:"url",label:"Calendly URL",placeholder:"https://calendly.com/yourcompany"}],docUrl:"https://calendly.com"},{id:"google_analytics",name:"Google Analytics",description:"Track user behavior and conversions",icon:a.jsx(hl,{className:"w-5 h-5"}),category:"analytics",fields:[{key:"tracking_id",label:"Measurement ID",placeholder:"G-XXXXXXXXXX"}],docUrl:"https://analytics.google.com"},{id:"facebook_pixel",name:"Facebook Pixel",description:"Track conversions and retarget ads",icon:a.jsx(gge,{className:"w-5 h-5"}),category:"analytics",fields:[{key:"pixel_id",label:"Pixel ID",placeholder:"1234567890123456"}],docUrl:"https://www.facebook.com/business/tools/meta-pixel"},{id:"intercom",name:"Intercom",description:"Live chat and customer messaging",icon:a.jsx(sJ,{className:"w-5 h-5"}),category:"support",fields:[{key:"app_id",label:"App ID",placeholder:"xxxxxxxx"}],docUrl:"https://www.intercom.com/"},{id:"zendesk",name:"Zendesk",description:"Help desk and ticketing system",icon:a.jsx(W3,{className:"w-5 h-5"}),category:"support",fields:[{key:"subdomain",label:"Subdomain",placeholder:"yourcompany"},{key:"api_token",label:"API Token",placeholder:"xxxxxxxx",type:"password"}],docUrl:"https://www.zendesk.com/"}],Xq={payments:{label:"Payments",icon:a.jsx(fa,{className:"w-4 h-4"})},marketing:{label:"Marketing & CRM",icon:a.jsx(br,{className:"w-4 h-4"})},communication:{label:"Communication",icon:a.jsx(bs,{className:"w-4 h-4"})},analytics:{label:"Analytics",icon:a.jsx(hl,{className:"w-4 h-4"})},support:{label:"Customer Support",icon:a.jsx(W3,{className:"w-4 h-4"})},automation:{label:"Automation",icon:a.jsx(Wa,{className:"w-4 h-4"})}};function Aut({formData:t,onChange:e}){const[n,r]=N.useState(null),i=t.integrations||{},s=(u,d,f)=>{const h={...i,[u]:{...i[u]||{},[d]:f}};e("integrations",h)},o=u=>{const d=i[u];if(!d||!d.enabled)return"not_configured";const f=gN.find(p=>p.id===u);return f?f.fields.every(p=>d[p.key])?"connected":"configured":"not_configured"},l=gN.reduce((u,d)=>(u[d.category]||(u[d.category]=[]),u[d.category].push(d),u),{}),c=gN.filter(u=>o(u.id)==="connected").length;return a.jsx("div",{className:"space-y-6",children:a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Wa,{className:"w-5 h-5 text-primary"}),"Platform Integrations"]}),a.jsxs(De,{variant:"outline",className:"text-xs",children:[c," / ",gN.length," Connected"]})]}),a.jsx(Zt,{children:"Connect third-party services to extend your platform's capabilities. Your clients will see these integrations as part of your branded experience."})]}),a.jsx(Ne,{className:"space-y-6",children:Object.entries(l).map(([u,d])=>{var f,h;return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[(f=Xq[u])==null?void 0:f.icon,(h=Xq[u])==null?void 0:h.label]}),a.jsx("div",{className:"grid gap-3",children:d.map(p=>{const m=o(p.id),g=n===p.id,y=i[p.id]||{enabled:!1};return a.jsx(Nut,{open:g,onOpenChange:()=>r(g?null:p.id),children:a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsx(jut,{asChild:!0,children:a.jsxs("button",{className:"w-full p-4 flex items-center justify-between hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${m==="connected"?"bg-primary/10 text-primary":"bg-muted"}`,children:p.icon}),a.jsxs("div",{className:"text-left",children:[a.jsxs("div",{className:"font-medium flex items-center gap-2",children:[p.name,m==="connected"&&a.jsxs(De,{variant:"default",className:"text-[10px] py-0",children:[a.jsx(pl,{className:"w-3 h-3 mr-1"}),"Connected"]}),m==="configured"&&a.jsxs(De,{variant:"secondary",className:"text-[10px] py-0",children:[a.jsx(Bi,{className:"w-3 h-3 mr-1"}),"Incomplete"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:p.description})]})]}),a.jsx(B3,{className:`w-4 h-4 text-muted-foreground transition-transform ${g?"rotate-180":""}`})]})}),a.jsx(Eut,{children:a.jsxs("div",{className:"px-4 pb-4 space-y-4 border-t pt-4 bg-muted/30",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ht,{className:"text-sm",children:"Enable Integration"}),a.jsx(ci,{checked:y.enabled||!1,onCheckedChange:v=>s(p.id,"enabled",v)})]}),y.enabled&&a.jsxs(a.Fragment,{children:[a.jsx(ui,{}),a.jsx("div",{className:"space-y-3",children:p.fields.map(v=>a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(ht,{htmlFor:`${p.id}-${v.key}`,className:"text-sm",children:v.label}),a.jsx(Ct,{id:`${p.id}-${v.key}`,type:v.type||"text",value:y[v.key]||"",onChange:w=>s(p.id,v.key,w.target.value),placeholder:v.placeholder,className:"bg-background"})]},v.key))}),p.docUrl&&a.jsxs("a",{href:p.docUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-primary hover:underline",children:["View Documentation",a.jsx(W0,{className:"w-3 h-3"})]})]})]})})]})},p.id)})})]},u)})})]})})}const vN=[{id:"ai_credit_coach",name:"AI Credit Coach",description:"24/7 intelligent chatbot for personalized credit guidance",icon:a.jsx(tr,{className:"w-5 h-5"}),category:"ai",premium:!0},{id:"ai_goal_roadmap",name:"AI Goal Roadmap",description:"Predictive timelines and milestone tracking",icon:a.jsx(Fs,{className:"w-5 h-5"}),category:"ai",premium:!0},{id:"ai_smart_prioritization",name:"AI Smart Prioritization",description:"Ranks dispute items by potential score impact",icon:a.jsx(jn,{className:"w-5 h-5"}),category:"ai",premium:!0},{id:"ai_dispute_predictor",name:"AI Dispute Predictor",description:"Estimates deletion probability for each item",icon:a.jsx(gr,{className:"w-5 h-5"}),category:"ai",premium:!0},{id:"ai_bureau_forecaster",name:"AI Bureau Forecaster",description:"Predicts response timing and outcomes",icon:a.jsx(nr,{className:"w-5 h-5"}),category:"ai",premium:!0},{id:"score_simulator",name:"Score Simulator",description:"Interactive calculator for credit score projections",icon:a.jsx(U3,{className:"w-5 h-5"}),category:"core"},{id:"round_manager",name:"Round Manager",description:"Dispute cycle and round tracking system",icon:a.jsx(H3,{className:"w-5 h-5"}),category:"core"},{id:"document_vault",name:"Document Vault",description:"Secure document storage and verification",icon:a.jsx(OA,{className:"w-5 h-5"}),category:"core"},{id:"dispute_letters",name:"Dispute Letter Generator",description:"AI-powered dispute letter creation",icon:a.jsx($t,{className:"w-5 h-5"}),category:"core"},{id:"analytics",name:"Analytics Dashboard",description:"Business performance and outcome tracking",icon:a.jsx(hl,{className:"w-5 h-5"}),category:"core"},{id:"compliance_logs",name:"Compliance Logs",description:"Activity logging for regulatory compliance",icon:a.jsx(xr,{className:"w-5 h-5"}),category:"core"},{id:"messaging",name:"Client Messaging",description:"Real-time messaging between clients and staff",icon:a.jsx(bs,{className:"w-5 h-5"}),category:"client"},{id:"billing",name:"Client Billing",description:"Invoice management and payment tracking",icon:a.jsx(fa,{className:"w-5 h-5"}),category:"client"}],qR={ai:{label:"AI-Powered Features",description:"Advanced AI capabilities for intelligent credit repair",icon:a.jsx(rv,{className:"w-4 h-4"})},core:{label:"Core Platform Features",description:"Essential tools for credit repair operations",icon:a.jsx(H3,{className:"w-4 h-4"})},client:{label:"Client Portal Features",description:"Features visible to your clients",icon:a.jsx(bs,{className:"w-4 h-4"})}};function Tut({formData:t,onChange:e}){const n=t.enabled_features||{},r=(c,u)=>{const d={...n,[c]:u};e("enabled_features",d)},i=c=>n[c]!==!1,s=vN.reduce((c,u)=>(c[u.category]||(c[u.category]=[]),c[u.category].push(u),c),{}),o=vN.filter(c=>i(c.id)).length,l=vN.filter(c=>c.category==="ai"&&i(c.id)).length;return a.jsx("div",{className:"space-y-6",children:a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(jn,{className:"w-5 h-5 text-primary"}),"Feature Management"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(De,{variant:"outline",className:"text-xs",children:[o," / ",vN.length," Active"]}),a.jsxs(De,{variant:"secondary",className:"text-xs",children:[a.jsx(tr,{className:"w-3 h-3 mr-1"}),l," AI Features"]})]})]}),a.jsx(Zt,{children:"Control which features are available on your platform. Disabled features will be hidden from your clients and staff."})]}),a.jsx(Ne,{className:"space-y-8",children:Object.entries(s).map(([c,u],d)=>{var f,h,p;return a.jsxs("div",{className:"space-y-4",children:[d>0&&a.jsx(ui,{}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[(f=qR[c])==null?void 0:f.icon,(h=qR[c])==null?void 0:h.label]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:(p=qR[c])==null?void 0:p.description})]}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:u.map(m=>{const g=i(m.id);return a.jsx("div",{className:`p-4 rounded-lg border transition-colors ${g?"bg-primary/5 border-primary/20":"bg-muted/30 border-border"}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${g?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:m.icon}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ht,{htmlFor:m.id,className:"font-medium cursor-pointer",children:m.name}),m.premium&&a.jsx(De,{variant:"secondary",className:"text-[10px] py-0",children:"Premium"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:m.description})]})]}),a.jsx(ci,{id:m.id,checked:g,onCheckedChange:y=>r(m.id,y)})]})},m.id)})})]},c)})})]})})}const XR=[{id:"show_scores",name:"Credit Scores",description:"Display credit scores from all three bureaus",icon:a.jsx(gr,{className:"w-5 h-5"}),category:"visibility"},{id:"show_progress",name:"Progress Tracking",description:"Show score history and improvement charts",icon:a.jsx(dge,{className:"w-5 h-5"}),category:"visibility"},{id:"show_disputes",name:"Dispute Status",description:"Allow clients to view their dispute progress",icon:a.jsx($t,{className:"w-5 h-5"}),category:"visibility"},{id:"show_documents",name:"Document Vault",description:"Client access to uploaded documents",icon:a.jsx(OA,{className:"w-5 h-5"}),category:"visibility"},{id:"show_billing",name:"Billing & Invoices",description:"Display payment history and invoices",icon:a.jsx(fa,{className:"w-5 h-5"}),category:"visibility"},{id:"show_messages",name:"Messaging",description:"Access to message center and communication",icon:a.jsx(bs,{className:"w-5 h-5"}),category:"visibility"},{id:"show_ai_tools",name:"AI Tools",description:"Access to AI Credit Coach and other AI features",icon:a.jsx(tr,{className:"w-5 h-5"}),category:"visibility"},{id:"allow_document_upload",name:"Document Upload",description:"Allow clients to upload their own documents",icon:a.jsx(cc,{className:"w-5 h-5"}),category:"permissions"},{id:"allow_dispute_requests",name:"Dispute Requests",description:"Allow clients to request new dispute items",icon:a.jsx(rf,{className:"w-5 h-5"}),category:"permissions"}],YR={visibility:{label:"Portal Visibility",description:"Control what sections clients can see in their portal",icon:a.jsx(Qi,{className:"w-4 h-4"})},permissions:{label:"Client Permissions",description:"Control what actions clients can take",icon:a.jsx(br,{className:"w-4 h-4"})}};function Cut({formData:t,onChange:e}){const n=t.client_portal_config||{},r=(c,u)=>{const d={...n,[c]:u};e("client_portal_config",d)},i=c=>n[c]!==!1,s=XR.reduce((c,u)=>(c[u.category]||(c[u.category]=[]),c[u.category].push(u),c),{}),o=XR.filter(c=>c.category==="visibility"&&i(c.id)).length,l=XR.filter(c=>c.category==="visibility").length;return a.jsx("div",{className:"space-y-6",children:a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(br,{className:"w-5 h-5 text-primary"}),"Client Portal Configuration"]}),a.jsxs(De,{variant:"outline",className:"text-xs",children:[o," / ",l," Sections Visible"]})]}),a.jsx(Zt,{children:"Customize what your clients see and can do in their portal. These settings apply to all clients using your white-labeled platform."})]}),a.jsx(Ne,{className:"space-y-8",children:Object.entries(s).map(([c,u],d)=>{var f,h,p;return a.jsxs("div",{className:"space-y-4",children:[d>0&&a.jsx(ui,{}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[(f=YR[c])==null?void 0:f.icon,(h=YR[c])==null?void 0:h.label]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:(p=YR[c])==null?void 0:p.description})]}),a.jsx("div",{className:"space-y-3",children:u.map(m=>{const g=i(m.id);return a.jsxs("div",{className:`p-4 rounded-lg border flex items-center justify-between transition-colors ${g?"bg-background border-border":"bg-muted/30 border-muted"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${g?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:m.icon}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(ht,{htmlFor:m.id,className:"font-medium cursor-pointer flex items-center gap-2",children:[m.name,!g&&a.jsxs(De,{variant:"secondary",className:"text-[10px] py-0",children:[a.jsx(Nj,{className:"w-3 h-3 mr-1"}),"Hidden"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:m.description})]})]}),a.jsx(ci,{id:m.id,checked:g,onCheckedChange:y=>r(m.id,y)})]},m.id)})})]},c)})})]})})}const KR=[{id:"email_notifications",name:"Email Notifications",description:"Send notifications via email to clients",icon:a.jsx(Li,{className:"w-5 h-5"}),category:"channels"},{id:"sms_notifications",name:"SMS Notifications",description:"Send text message alerts (requires Twilio integration)",icon:a.jsx(q3,{className:"w-5 h-5"}),category:"channels"},{id:"score_change_alerts",name:"Score Change Alerts",description:"Notify clients when their credit score changes",icon:a.jsx(gr,{className:"w-5 h-5"}),category:"alerts"},{id:"dispute_updates",name:"Dispute Updates",description:"Alerts for dispute status changes and bureau responses",icon:a.jsx($t,{className:"w-5 h-5"}),category:"alerts"},{id:"billing_reminders",name:"Billing Reminders",description:"Payment due dates and invoice notifications",icon:a.jsx(fa,{className:"w-5 h-5"}),category:"alerts"},{id:"marketing_emails",name:"Marketing Communications",description:"Promotional emails and special offers",icon:a.jsx(Cge,{className:"w-5 h-5"}),category:"alerts"}],JR={channels:{label:"Notification Channels",description:"Choose how notifications are delivered to your clients",icon:a.jsx(lc,{className:"w-4 h-4"})},alerts:{label:"Alert Types",description:"Configure which notifications your clients receive",icon:a.jsx(Bi,{className:"w-4 h-4"})}};function Mut({formData:t,onChange:e}){const n=t.notification_settings||{},r=(l,c)=>{const u={...n,[l]:c};e("notification_settings",u)},i=l=>{const c=n[l];return c===void 0?["email_notifications","score_change_alerts","dispute_updates","billing_reminders"].includes(l):c},s=KR.reduce((l,c)=>(l[c.category]||(l[c.category]=[]),l[c.category].push(c),l),{}),o=KR.filter(l=>i(l.id)).length;return a.jsx("div",{className:"space-y-6",children:a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(lc,{className:"w-5 h-5 text-primary"}),"Client Notification Settings"]}),a.jsxs(De,{variant:"outline",className:"text-xs",children:[o," / ",KR.length," Active"]})]}),a.jsx(Zt,{children:"Configure how and when your platform sends notifications to clients. These settings apply to all automated notifications from your white-labeled platform."})]}),a.jsx(Ne,{className:"space-y-8",children:Object.entries(s).map(([l,c],u)=>{var d,f,h;return a.jsxs("div",{className:"space-y-4",children:[u>0&&a.jsx(ui,{}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[(d=JR[l])==null?void 0:d.icon,(f=JR[l])==null?void 0:f.label]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:(h=JR[l])==null?void 0:h.description})]}),a.jsx("div",{className:"space-y-3",children:c.map(p=>{const m=i(p.id);return a.jsxs("div",{className:`p-4 rounded-lg border flex items-center justify-between transition-colors ${m?"bg-background border-border":"bg-muted/30 border-muted"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${m?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:p.icon}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ht,{htmlFor:p.id,className:"font-medium cursor-pointer",children:p.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]}),a.jsx(ci,{id:p.id,checked:m,onCheckedChange:g=>r(p.id,g)})]},p.id)})})]},l)})})]})})}const Put=[{id:"max_clients",name:"Maximum Clients",description:"Limit the number of clients (leave empty for unlimited)",icon:a.jsx(br,{className:"w-5 h-5"}),type:"number",placeholder:"Unlimited"},{id:"max_staff",name:"Maximum Staff Members",description:"Limit the number of VA/staff accounts",icon:a.jsx(X3,{className:"w-5 h-5"}),type:"number",placeholder:"Unlimited"},{id:"max_disputes_per_month",name:"Monthly Dispute Limit",description:"Maximum disputes that can be generated per month",icon:a.jsx($t,{className:"w-5 h-5"}),type:"number",placeholder:"Unlimited"}],Rut=[{id:"white_label_enabled",name:"White Label Branding",description:'Full branding customization and "Powered by" removal',icon:a.jsx(G0,{className:"w-5 h-5"}),type:"boolean"},{id:"api_access",name:"API Access",description:"Access to platform APIs for custom integrations",icon:a.jsx($3,{className:"w-5 h-5"}),type:"boolean"},{id:"priority_support",name:"Priority Support",description:"Dedicated support with faster response times",icon:a.jsx(W3,{className:"w-5 h-5"}),type:"boolean"},{id:"custom_integrations",name:"Custom Integrations",description:"Ability to request custom integration development",icon:a.jsx(H0,{className:"w-5 h-5"}),type:"boolean"}];function Out({formData:t,onChange:e}){const n=t.subscription_features||{},r=(s,o)=>{const l={...n,[s]:o};e("subscription_features",l)},i=s=>n[s];return a.jsx("div",{className:"space-y-6",children:a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(H0,{className:"w-5 h-5 text-primary"}),"Subscription & Limits"]}),a.jsx(De,{variant:"secondary",className:"text-xs",children:"Platform Configuration"})]}),a.jsx(Zt,{children:"Configure usage limits and premium feature access for your platform. These settings help you manage your subscription tier and client capacity."})]}),a.jsxs(Ne,{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[a.jsx(Sge,{className:"w-4 h-4"}),"Usage Limits"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Set capacity limits for your platform"})]}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-3",children:Put.map(s=>{const o=i(s.id);return a.jsxs("div",{className:"p-4 rounded-lg border bg-background space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:s.icon}),a.jsx("div",{children:a.jsx(ht,{htmlFor:s.id,className:"font-medium",children:s.name})})]}),a.jsx(Ct,{id:s.id,type:"number",value:typeof o=="number"?o:"",onChange:l=>r(s.id,l.target.value?parseInt(l.target.value,10):null),placeholder:s.placeholder,className:"bg-muted/30"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]},s.id)})})]}),a.jsx(ui,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[a.jsx(H0,{className:"w-4 h-4"}),"Premium Features"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable or disable premium features for your subscription"})]}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:Rut.map(s=>{const o=i(s.id)!==!1;return a.jsxs("div",{className:`p-4 rounded-lg border flex items-center justify-between transition-colors ${o?"bg-primary/5 border-primary/20":"bg-muted/30 border-muted"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${o?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:s.icon}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(ht,{htmlFor:s.id,className:"font-medium cursor-pointer",children:s.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})]}),a.jsx(ci,{id:s.id,checked:o,onCheckedChange:l=>r(s.id,l)})]},s.id)})})]})]})]})})}function Iut({subdomain:t}){const[e,n]=N.useState("checking"),[r,i]=N.useState(!1);return N.useEffect(()=>{t&&(async()=>{if(window.location.hostname.includes("localhost")||window.location.hostname==="127.0.0.1"){i(!0),n("not-configured");return}try{const o=`https://credit-ai.online?subdomain=${t}`,l=new AbortController,c=setTimeout(()=>l.abort(),5e3),u=await fetch(o,{method:"HEAD",signal:l.signal});clearTimeout(c),u.ok||u.status===404?n("configured"):n("not-configured")}catch{n("not-configured")}})()},[t]),r?a.jsx(Rh,{children:a.jsxs(Oh,{className:"flex items-center gap-2",children:[a.jsx(De,{variant:"secondary",children:"Development Mode"}),a.jsx("span",{className:"text-sm",children:"DNS configuration is only needed for production deployment"})]})}):e==="checking"?a.jsxs(Rh,{children:[a.jsx(Dn,{className:"w-4 h-4 animate-spin"}),a.jsx(Oh,{children:"Checking DNS configuration..."})]}):e==="configured"?a.jsxs(Rh,{className:"border-green-500 bg-green-50 dark:bg-green-950",children:[a.jsx(zn,{className:"w-4 h-4 text-green-600"}),a.jsx(Oh,{className:"text-green-800 dark:text-green-200",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:"DNS is properly configured! "}),a.jsxs("div",{className:"text-sm",children:["Your white-label portal is accessible at: ",a.jsxs("code",{className:"bg-green-100 dark:bg-green-900 px-1 rounded",children:["https://credit-ai.online?subdomain=",t]})]})]})})]}):a.jsxs(Rh,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-950",children:[a.jsx(z3,{className:"w-4 h-4 text-yellow-600"}),a.jsx(Oh,{className:"text-yellow-800 dark:text-yellow-200",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium",children:"DNS not yet configured for production"}),a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsx("div",{children:' You can still preview your portal using the "Preview Portal Now" button above'}),a.jsxs("div",{children:[" Production URL: ",a.jsxs("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded",children:["https://credit-ai.online?subdomain=",t]})]}),a.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:"Note: DNS setup is a one-time configuration by the platform administrator. Once configured, all user subdomains work automatically."})]})]})})]})}function kut({formData:t,onChange:e,onPublish:n}){const[r,i]=N.useState(!1),[s,o]=N.useState(!1),l=t.subdomain||"",c=t.is_published||!1;console.log("SubdomainSettings render:",{subdomain:l,isPublished:c,formData:t});const u=()=>window.location.hostname.includes("localhost")?`${window.location.origin}?subdomain=${l}`:`https://credit-ai.online?subdomain=${l}`,d=()=>{navigator.clipboard.writeText(u()),o(!0),It.success("URL copied to clipboard"),setTimeout(()=>o(!1),2e3)},f=async()=>{if(!l){It.error("Please set a subdomain first");return}i(!0);try{if(e("is_published",!0),e("published_at",new Date().toISOString()),console.log("Publishing portal with subdomain:",l),n){const m=await n();if(console.log("Publish result:",m),m!==!1){const g=u();It.success(a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"font-semibold",children:"White-label portal published successfully! "}),a.jsx("p",{className:"text-xs",children:"Your portal is now live at:"}),a.jsx("code",{className:"text-xs bg-white/10 px-2 py-1 rounded block",children:g})]}),{duration:8e3}),setTimeout(()=>{window.confirm(`Your white-label portal is now live!\\n\\nURL: ${g}\\n\\nWould you like to open it in a new tab?`)&&window.open(g,"_blank")},1e3)}}else It.error("Save function not available")}catch(m){console.error("Publish error:",m),It.error("Failed to publish portal")}finally{i(!1)}},h=async()=>{if(e("is_published",!1),n)try{await n(),It.success("White-label portal unpublished")}catch(m){console.error("Unpublish error:",m),It.error("Failed to unpublish portal")}else It.success("White-label portal unpublished")},p=m=>{const g=m.toLowerCase().replace(/[^a-z0-9-]/g,"");e("subdomain",g)};return a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(iv,{className:"w-5 h-5 text-primary"}),"White-Label Portal URL"]}),c?a.jsxs(De,{className:"bg-green-500",children:[a.jsx(pl,{className:"w-3 h-3 mr-1"}),"Live"]}):a.jsxs(De,{variant:"secondary",children:[a.jsx(Bi,{className:"w-3 h-3 mr-1"}),"Draft"]})]}),a.jsx(Zt,{children:"Set up a unique subdomain for your clients. They will access your white-labeled platform at this URL, completely separate from the main platform."})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(ht,{htmlFor:"subdomain",children:"Your Subdomain"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ct,{id:"subdomain",value:l,onChange:m=>p(m.target.value),placeholder:"your-company",className:"pr-32"}),a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:".credit-ai.online"})]})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Only lowercase letters, numbers, and hyphens allowed. This will be your clients' access point."})]}),l&&a.jsxs(a.Fragment,{children:[a.jsx(ui,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ht,{children:"Client Portal URL"}),a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[a.jsx(Jl,{className:"w-4 h-4 text-muted-foreground shrink-0"}),a.jsx("code",{className:"text-sm flex-1 truncate",children:u()}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:d,className:"shrink-0",title:"Copy URL",children:s?a.jsx(pl,{className:"w-4 h-4 text-green-500"}):a.jsx(ZK,{className:"w-4 h-4"})})]}),window.location.hostname.includes("localhost")&&a.jsxs("div",{className:"text-xs text-muted-foreground bg-blue-50 dark:bg-blue-950 p-2 rounded",children:[a.jsx("strong",{children:"Debug:"})," Published: ",c?"Yes ":"No "," | Subdomain: ",l||"none"]})]}),a.jsxs(Rh,{children:[a.jsx(Qi,{className:"w-4 h-4"}),a.jsx(Oh,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{children:a.jsx("strong",{children:"Preview Your White Label Portal"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm",children:a.jsx("strong",{children:"1. Instant Test (Works Now):"})}),a.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>{const m=`${window.location.origin}/?subdomain=${l}`;console.log("Opening test URL:",m),window.open(m,"_blank"),It.success("Opening preview with your white label settings")},disabled:!l,className:"w-full",children:[a.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Preview Portal Now"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Opens a preview window with your custom branding applied"})]}),c&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm",children:a.jsx("strong",{children:"2. Production URL:"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("code",{className:"flex-1 bg-muted px-2 py-1 rounded text-xs overflow-x-auto",children:u()}),a.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>{window.open(u(),"_blank")},children:a.jsx(W0,{className:"w-4 h-4"})})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Your clients can access their portal at this URL once DNS is configured"})]})]})})]}),l&&c&&a.jsx(Iut,{subdomain:l}),a.jsx(ui,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium",children:"Portal Status"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:c?"Your clients can access the white-labeled portal":"Publish to make the portal accessible to clients"})]}),c?a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{variant:"outline",onClick:()=>window.open(u(),"_blank"),children:[a.jsx(W0,{className:"w-4 h-4 mr-2"}),"View Live"]}),a.jsx(ge,{variant:"destructive",onClick:h,children:"Unpublish"})]}):a.jsx(ge,{onClick:f,disabled:r||!l,className:"bg-gradient-primary",children:r?a.jsx(a.Fragment,{children:"Publishing..."}):a.jsxs(a.Fragment,{children:[a.jsx(lJ,{className:"w-4 h-4 mr-2"}),"Publish Portal"]})})]})]}),a.jsx(ui,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ht,{children:"Custom Domain (Optional)"}),a.jsx(Ct,{value:t.custom_domain||"",onChange:m=>e("custom_domain",m.target.value),placeholder:"clients.yourcompany.com"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Want to use your own domain? Enter it here and point your DNS to our servers. Contact support for setup instructions."})]})]})]})}function Dde(){const{brandSettings:t,isLoading:e,isSaving:n,saveBrandSettings:r,refreshBrandSettings:i}=Oct(),[s,o]=N.useState({}),[l,c]=N.useState(!1),[u,d]=N.useState(!1),[f,h]=N.useState("publish");N.useEffect(()=>{e||(console.log("Updating formData from brandSettings:",t),o(u?b=>({...b,is_published:t.is_published,published_at:t.published_at,id:t.id,agency_id:t.agency_id}):t))},[t,e,u]);const p=(b,S)=>{if(o(j=>({...j,[b]:S})),d(!0),(b==="primary_color"||b==="secondary_color"||b==="accent_color")&&document.documentElement.style.setProperty(`--${b.replace("_color","")}`,S),b==="company_name"&&S&&(document.title=S),b==="favicon_url"&&S){const j=document.querySelector("link[rel*='icon']");if(j)j.href=S;else{const E=document.createElement("link");E.rel="icon",E.href=S,document.head.appendChild(E)}}},m=async()=>{const b=await r(s);return b&&(d(!1),g(),y(),await i(),setTimeout(()=>{o(t)},100)),b},g=()=>{const b=document.documentElement;s.primary_color&&b.style.setProperty("--primary",s.primary_color),s.secondary_color&&b.style.setProperty("--secondary",s.secondary_color),s.accent_color&&b.style.setProperty("--accent",s.accent_color)},y=()=>{const b=document.getElementById("brand-custom-css");if(b&&b.remove(),s.custom_css){const S=document.createElement("style");S.id="brand-custom-css",S.textContent=s.custom_css,document.head.appendChild(S)}},v=()=>{g(),y(),c(!0)},w=()=>{const b=document.documentElement;b.style.setProperty("--primary",t.primary_color),b.style.setProperty("--secondary",t.secondary_color),b.style.setProperty("--accent",t.accent_color),o(t),c(!1),d(!1);const S=document.getElementById("brand-custom-css");S&&S.remove()};return e?a.jsx(le,{children:a.jsx(Ne,{className:"flex items-center justify-center py-12",children:a.jsx(Dn,{className:"w-6 h-6 animate-spin text-primary"})})}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(jn,{className:"w-6 h-6 text-primary"}),"White Label Settings"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Customize your platform's appearance to match your brand and resell to your clients"})]}),u&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 bg-amber-50 px-3 py-1 rounded-full",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-500 animate-pulse"}),"Unsaved changes"]})]}),a.jsxs(jl,{value:f,onValueChange:h,className:"space-y-6",children:[a.jsxs(Io,{className:"flex flex-wrap gap-1 h-auto p-1",children:[a.jsxs(hn,{value:"publish",className:"text-xs",children:[a.jsx(iv,{className:"w-4 h-4 mr-1 hidden sm:inline"}),"Publish"]}),a.jsxs(hn,{value:"identity",className:"text-xs",children:[a.jsx(eu,{className:"w-4 h-4 mr-1 hidden sm:inline"}),"Identity"]}),a.jsxs(hn,{value:"colors",className:"text-xs",children:[a.jsx(G0,{className:"w-4 h-4 mr-1 hidden sm:inline"}),"Colors"]}),a.jsxs(hn,{value:"login",className:"text-xs",children:[a.jsx(iJ,{className:"w-4 h-4 mr-1 hidden sm:inline"}),"Login"]}),a.jsxs(hn,{value:"email",className:"text-xs",children:[a.jsx(Li,{className:"w-4 h-4 mr-1 hidden sm:inline"}),"Email"]}),a.jsxs(hn,{value:"integrations",className:"text-xs",children:[a.jsx(Wa,{className:"w-4 h-4 mr-1 hidden sm:inline"}),"Integrations"]}),a.jsxs(hn,{value:"features",className:"text-xs",children:[a.jsx(jn,{className:"w-4 h-4 mr-1 hidden sm:inline"}),"Features"]}),a.jsxs(hn,{value:"portal",className:"text-xs",children:[a.jsx(br,{className:"w-4 h-4 mr-1 hidden sm:inline"}),"Portal"]}),a.jsxs(hn,{value:"notifications",className:"text-xs",children:[a.jsx(lc,{className:"w-4 h-4 mr-1 hidden sm:inline"}),"Alerts"]}),a.jsxs(hn,{value:"subscription",className:"text-xs",children:[a.jsx(H0,{className:"w-4 h-4 mr-1 hidden sm:inline"}),"Limits"]}),a.jsxs(hn,{value:"advanced",className:"text-xs",children:[a.jsx($3,{className:"w-4 h-4 mr-1 hidden sm:inline"}),"Advanced"]})]}),a.jsx(gn,{value:"publish",className:"space-y-6",children:a.jsx(kut,{formData:s,onChange:p,onPublish:m})}),a.jsxs(gn,{value:"identity",className:"space-y-6",children:[a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(eu,{className:"w-5 h-5 text-primary"}),"Brand Identity"]}),a.jsx(Zt,{children:"Upload your logo and set your company name to personalize the platform for your clients."})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"company_name",children:"Company Name"}),a.jsx(Ct,{id:"company_name",value:s.company_name||"",onChange:b=>p("company_name",b.target.value),placeholder:"Your Company Name",className:"max-w-md"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This appears in the header, browser title, and throughout the platform"})]}),a.jsx(ui,{}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(fA,{label:"Company Logo",value:s.logo_url,onChange:b=>p("logo_url",b),description:"Recommended: 200x50px transparent PNG or SVG",type:"logo"}),a.jsx(fA,{label:"Favicon",value:s.favicon_url,onChange:b=>p("favicon_url",b),description:"Browser tab icon: 32x32px PNG or ICO",type:"favicon"})]})]})]}),a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(iv,{className:"w-5 h-5 text-primary"}),"Contact & Support"]}),a.jsx(Zt,{children:"Set your support contact details that clients will see throughout the platform."})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ht,{htmlFor:"support_email",className:"flex items-center gap-2",children:[a.jsx(Li,{className:"w-4 h-4 text-muted-foreground"}),"Support Email"]}),a.jsx(Ct,{id:"support_email",type:"email",value:s.support_email||"",onChange:b=>p("support_email",b.target.value),placeholder:"support@yourcompany.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ht,{htmlFor:"support_phone",className:"flex items-center gap-2",children:[a.jsx(IA,{className:"w-4 h-4 text-muted-foreground"}),"Support Phone"]}),a.jsx(Ct,{id:"support_phone",value:s.support_phone||"",onChange:b=>p("support_phone",b.target.value),placeholder:"(555) 123-4567"})]})]}),a.jsx(ui,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ht,{htmlFor:"footer_text",className:"flex items-center gap-2",children:[a.jsx($t,{className:"w-4 h-4 text-muted-foreground"}),"Custom Footer Text"]}),a.jsx(mc,{id:"footer_text",value:s.footer_text||"",onChange:b=>p("footer_text",b.target.value),placeholder:` ${new Date().getFullYear()} Your Company. All rights reserved.`,rows:2})]})]})]}),a.jsx(xut,{formData:s,onChange:p})]}),a.jsx(gn,{value:"colors",className:"space-y-6",children:a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(G0,{className:"w-5 h-5 text-primary"}),"Brand Colors"]}),a.jsx(Zt,{children:"Define your brand's color palette. These colors will be applied across the entire platform."})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(GR,{label:"Primary Color",value:s.primary_color||"142 76% 36%",onChange:b=>p("primary_color",b),description:"Buttons, links, and key actions"}),a.jsx(GR,{label:"Secondary Color",value:s.secondary_color||"215 28% 17%",onChange:b=>p("secondary_color",b),description:"Sidebar and navigation"}),a.jsx(GR,{label:"Accent Color",value:s.accent_color||"142 71% 45%",onChange:b=>p("accent_color",b),description:"Highlights and emphasis"})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsxs(ge,{variant:"outline",size:"sm",onClick:v,children:[a.jsx(Qi,{className:"w-4 h-4 mr-2"}),"Apply Preview"]}),l&&a.jsxs(ge,{variant:"outline",size:"sm",onClick:w,children:[a.jsx(tf,{className:"w-4 h-4 mr-2"}),"Reset Colors"]})]})]})]})}),a.jsx(gn,{value:"login",className:"space-y-6",children:a.jsx(put,{formData:s,onChange:p})}),a.jsx(gn,{value:"email",className:"space-y-6",children:a.jsx(mut,{formData:s,onChange:p})}),a.jsx(gn,{value:"advanced",className:"space-y-6",children:a.jsx(gut,{formData:s,onChange:p})}),a.jsx(gn,{value:"integrations",className:"space-y-6",children:a.jsx(Aut,{formData:s,onChange:p})}),a.jsx(gn,{value:"features",className:"space-y-6",children:a.jsx(Tut,{formData:s,onChange:p})}),a.jsx(gn,{value:"portal",className:"space-y-6",children:a.jsx(Cut,{formData:s,onChange:p})}),a.jsx(gn,{value:"notifications",className:"space-y-6",children:a.jsx(Mut,{formData:s,onChange:p})}),a.jsx(gn,{value:"subscription",className:"space-y-6",children:a.jsx(Out,{formData:s,onChange:p})})]}),a.jsxs("div",{className:"flex justify-end gap-3 sticky bottom-4 bg-background/80 backdrop-blur-sm p-4 rounded-lg border border-border",children:[a.jsx(ge,{variant:"outline",onClick:w,disabled:!u,children:"Cancel"}),a.jsx(ge,{onClick:m,disabled:n||!u,className:"bg-gradient-primary hover:opacity-90 min-w-32",children:n?a.jsxs(a.Fragment,{children:[a.jsx(Dn,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(pl,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]}),a.jsx("div",{className:"hidden lg:block",children:a.jsx(hut,{settings:s})})]})}const Dut=()=>{const{role:t,user:e,profile:n}=ln(),r=t==="agency_owner",[i,s]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(""),[d,f]=N.useState(""),[h,p]=N.useState(""),[m,g]=N.useState(!1),[y,v]=N.useState(""),[w,b]=N.useState(""),[S,j]=N.useState(""),[E,T]=N.useState(!1),[P,C]=N.useState(!0),[R,I]=N.useState(!1),[D,V]=N.useState(!0),[U,$]=N.useState(!0),[z,W]=N.useState(!1);N.useEffect(()=>{n&&(s(n.first_name||""),l(n.last_name||""),u(n.email||(e==null?void 0:e.email)||""),f(n.phone||"")),r&&(n!=null&&n.agency_id)&&ue.from("agencies").select("name").eq("id",n.agency_id).single().then(({data:G})=>{G&&p(G.name)})},[n,e,r]);const k=async()=>{if(e){g(!0);try{const{error:G}=await ue.from("profiles").update({first_name:i,last_name:o,email:c,phone:d}).eq("user_id",e.id);if(G)throw G;if(r&&(n!=null&&n.agency_id)&&h){const{error:X}=await ue.from("agencies").update({name:h}).eq("id",n.agency_id);if(X)throw X}It.success("Profile updated successfully")}catch(G){It.error(G.message||"Failed to update profile")}finally{g(!1)}}},L=async()=>{if(!w||!S){It.error("Please fill in all password fields");return}if(w!==S){It.error("New passwords do not match");return}if(w.length<8){It.error("Password must be at least 8 characters");return}T(!0);try{const{error:G}=await ue.auth.updateUser({password:w});if(G)throw G;It.success("Password updated successfully"),v(""),b(""),j("")}catch(G){It.error(G.message||"Failed to update password")}finally{T(!1)}},H=async()=>{W(!0);try{if(r&&(n!=null&&n.agency_id)){const{error:G}=await ue.from("brand_settings").update({notification_settings:{email_notifications:P,sms_notifications:R,dispute_updates:D,billing_reminders:U,score_change_alerts:!0,marketing_emails:!1}}).eq("agency_id",n.agency_id);if(G)throw G}It.success("Notification preferences saved")}catch(G){It.error(G.message||"Failed to save preferences")}finally{W(!1)}};return a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[a.jsx(Tw,{className:"w-8 h-8 text-primary"}),"Settings"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account and application preferences."})]}),a.jsxs(jl,{defaultValue:"profile",className:"space-y-6",children:[a.jsxs(Io,{className:"bg-secondary flex-wrap",children:[a.jsx(hn,{value:"profile",children:"Profile"}),a.jsx(hn,{value:"notifications",children:"Notifications"}),a.jsx(hn,{value:"security",children:"Security"}),a.jsx(hn,{value:"integrations",children:"Integrations"}),a.jsx(hn,{value:"appearance",children:"Appearance"}),r&&a.jsx(hn,{value:"branding",children:"White Label"})]}),a.jsx(gn,{value:"profile",children:a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Gs,{className:"w-5 h-5"}),"Profile Information"]}),a.jsx(Zt,{children:"Update your personal information and contact details."})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"firstName",children:"First Name"}),a.jsx(Ct,{id:"firstName",value:i,onChange:G=>s(G.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"lastName",children:"Last Name"}),a.jsx(Ct,{id:"lastName",value:o,onChange:G=>l(G.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"email",children:"Email"}),a.jsx(Ct,{id:"email",type:"email",value:c,onChange:G=>u(G.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"phone",children:"Phone"}),a.jsx(Ct,{id:"phone",value:d,onChange:G=>f(G.target.value)})]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsx(ui,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"company",children:"Company Name"}),a.jsx(Ct,{id:"company",value:h,onChange:G=>p(G.target.value)})]})]}),a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",onClick:k,disabled:m,children:[m&&a.jsx(Dn,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})}),a.jsx(gn,{value:"notifications",children:a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(lc,{className:"w-5 h-5"}),"Notification Preferences"]}),a.jsx(Zt,{children:"Choose how you want to be notified about updates."})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Li,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Email Notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email updates about client activity"})]})]}),a.jsx(ci,{checked:P,onCheckedChange:C})]}),a.jsx(ui,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(q3,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"SMS Notifications"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Get text alerts for urgent updates"})]})]}),a.jsx(ci,{checked:R,onCheckedChange:I})]}),a.jsx(ui,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(lc,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Bureau Responses"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify when bureaus respond to disputes"})]})]}),a.jsx(ci,{checked:D,onCheckedChange:V})]}),a.jsx(ui,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(fa,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Payment Alerts"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Notify about payments and billing"})]})]}),a.jsx(ci,{checked:U,onCheckedChange:$})]})]}),a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",onClick:H,disabled:z,children:[z&&a.jsx(Dn,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Preferences"]})]})]})}),a.jsx(gn,{value:"security",children:a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(xr,{className:"w-5 h-5"}),"Security Settings"]}),a.jsx(Zt,{children:"Manage your account security and authentication."})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{children:"Current Password"}),a.jsx(Ct,{type:"password",value:y,onChange:G=>v(G.target.value),placeholder:"Enter current password"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{children:"New Password"}),a.jsx(Ct,{type:"password",value:w,onChange:G=>b(G.target.value),placeholder:"Enter new password (min 8 chars)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{children:"Confirm New Password"}),a.jsx(Ct,{type:"password",value:S,onChange:G=>j(G.target.value),placeholder:"Confirm new password"})]})]}),a.jsx(ui,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(nJ,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security"})]})]}),a.jsx(ci,{disabled:!0})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Two-factor authentication coming soon."}),a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",onClick:L,disabled:E||!w,children:[E&&a.jsx(Dn,{className:"w-4 h-4 mr-2 animate-spin"}),"Update Password"]})]})]})}),a.jsx(gn,{value:"integrations",children:a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(iv,{className:"w-5 h-5"}),"Integrations"]}),a.jsx(Zt,{children:"Connect third-party services and APIs."})]}),a.jsx(Ne,{className:"space-y-4",children:[{name:"SmartCredit API",status:"connected",description:"Credit report import"},{name:"IdentityIQ",status:"disconnected",description:"Score monitoring"},{name:"Stripe",status:"disconnected",description:"Payment processing"},{name:"Twilio",status:"disconnected",description:"SMS notifications"},{name:"SendGrid",status:"disconnected",description:"Email delivery"}].map(G=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:G.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:G.description})]}),a.jsx(ge,{variant:G.status==="connected"?"outline":"default",size:"sm",onClick:()=>It.info(`${G.name} integration setup coming soon`),children:G.status==="connected"?"Configure":"Connect"})]},G.name))})]})}),a.jsx(gn,{value:"appearance",children:a.jsxs(le,{children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(G0,{className:"w-5 h-5"}),"Appearance"]}),a.jsx(Zt,{children:"Customize the look and feel of your dashboard."})]}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Dark Mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Toggle dark mode for the interface"})]}),a.jsx(ci,{onCheckedChange:G=>{document.documentElement.classList.toggle("dark",G),It.success(G?"Dark mode enabled":"Light mode enabled")},defaultChecked:document.documentElement.classList.contains("dark")})]}),a.jsx(ui,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Compact Mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduce spacing for more content"})]}),a.jsx(ci,{onCheckedChange:G=>{It.info(G?"Compact mode enabled":"Normal mode restored")}})]})]})]})}),r&&a.jsx(gn,{value:"branding",children:a.jsx(Dde,{})})]})]})})},Lut=()=>{const t=vc();return N.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Fut=()=>{const[t,e]=N.useState("client"),n=[{icon:tr,title:"Automated Credit Understanding",description:"AI-generated explanations for credit report changes, active disputes, and bureau responses in plain language.",badge:"Auto-Generated",color:"from-blue-500 to-cyan-500"},{icon:Gge,title:"AI-Driven Journey Orchestration",description:"Automatically moves clients through Intake  Analysis  Dispute  Response  Optimization phases.",badge:"Self-Driving",color:"from-purple-500 to-pink-500"},{icon:rf,title:"Predictive Progress Alerts",description:"AI detects stagnation and triggers proactive updates like 'No bureau response yet' automatically.",badge:"Proactive",color:"from-amber-500 to-orange-500"},{icon:vge,title:"Smart Document Automation",description:"AI validates uploads, flags inconsistencies, and requests only what's needed, when needed.",badge:"Zero Friction",color:"from-green-500 to-emerald-500"},{icon:Mge,title:"AI-Assisted Messaging",description:"Context-aware AI drafts responses to common questions, linked to dispute rounds.",badge:"24/7 Support",color:"from-indigo-500 to-violet-500"}],r=[{icon:H3,title:"Autonomous Operations Engine",description:"AI monitors pipeline health, response timelines, and staff capacity. Auto-reallocates tasks at bottlenecks.",badge:"Self-Healing",color:"from-rose-500 to-red-500"},{icon:Fs,title:"AI Strategy Optimization",description:"Learns from dispute outcomes and dynamically adjusts sequencing. Recommends best strategies by bureau.",badge:"Always Learning",color:"from-blue-500 to-indigo-500"},{icon:xr,title:"Automated Compliance Enforcement",description:"AI blocks non-compliant actions, flags risky patterns, and generates audit-ready logs automatically.",badge:"Protected",color:"from-green-500 to-teal-500"},{icon:eu,title:"White-Label Automation Controls",description:"AI adapts workflows per partner rules. Automates branding, onboarding, and enforces SLAs.",badge:"Scalable",color:"from-purple-500 to-fuchsia-500"},{icon:uge,title:"Predictive Revenue Intelligence",description:"AI forecasts client lifetime value, revenue at risk, and staffing needs based on growth.",badge:"Data-Driven",color:"from-amber-500 to-yellow-500"}],i=[{icon:rJ,title:"AI-Generated Work Queues",description:"Tasks ranked by impact, urgency, and bureau deadlines. Dynamically reprioritizes as conditions change.",badge:"Smart Priority",color:"from-cyan-500 to-blue-500"},{icon:rv,title:"Guided Execution Mode",description:"AI explains why a task exists, what outcome it targets, and what rules must be followed.",badge:"Zero Errors",color:"from-violet-500 to-purple-500"},{icon:zn,title:"Automated Quality Assurance",description:"AI reviews work before submission, flags errors, and auto-approves low-risk actions.",badge:"QA Built-In",color:"from-emerald-500 to-green-500"},{icon:_ge,title:"Adaptive Training Automation",description:"AI identifies skill gaps and assigns micro-training automatically. Improves output over time.",badge:"Self-Improving",color:"from-orange-500 to-amber-500"},{icon:tu,title:"Secure Automation Boundaries",description:"AI enforces role limits and prevents unauthorized access or actions. Maintains system integrity.",badge:"Secure",color:"from-red-500 to-rose-500"}],s=[{icon:kge,title:"Central AI Brain",description:"Unified learning across clients, staff actions, and bureau responses. Improves accuracy continuously."},{icon:Fs,title:"Outcome-Oriented Automation",description:"Every action evaluated based on expected impact, risk, and time efficiency."},{icon:Fge,title:"Self-Optimizing System",description:"Learns from results, reduces manual intervention over time, builds long-term defensibility."}],o=({feature:l,index:c})=>a.jsxs(le,{className:"group relative overflow-hidden border-border/50 bg-card/50 backdrop-blur-sm hover:border-primary/50 transition-all duration-500 hover:shadow-xl hover:-translate-y-1",style:{animationDelay:`${c*100}ms`},children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${l.color} opacity-0 group-hover:opacity-5 transition-opacity duration-500`}),a.jsxs(Ne,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${l.color} shadow-lg`,children:a.jsx(l.icon,{className:"h-6 w-6 text-white"})}),a.jsx(De,{variant:"secondary",className:"text-xs font-medium",children:l.badge})]}),a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 group-hover:text-primary transition-colors",children:l.title}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:l.description})]})]});return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-xl border-b border-border/50",children:a.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[a.jsx(pr,{to:"/",className:"flex items-center gap-2",children:a.jsx("img",{src:"/images/credit-ai-logo.png",alt:"Credit AI Platform",className:"h-10 w-auto"})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(pr,{to:"/landing",children:a.jsx(ge,{variant:"ghost",size:"sm",children:"Back to Home"})}),a.jsx(pr,{to:"/auth",children:a.jsx(ge,{size:"sm",className:"bg-gradient-to-r from-primary to-primary/80 shadow-lg",children:"Get Started"})})]})]})}),a.jsxs("section",{className:"pt-32 pb-20 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary/5 via-transparent to-transparent"}),a.jsx("div",{className:"absolute top-20 left-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute top-40 right-1/4 w-80 h-80 bg-purple-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),a.jsx("div",{className:"container mx-auto px-4 relative z-10",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsxs(De,{className:"mb-6 px-4 py-2 bg-primary/10 text-primary border-primary/20 text-sm",children:[a.jsx(jn,{className:"h-4 w-4 mr-2 inline"}),"AI Automation Layer"]}),a.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:[a.jsx("span",{className:"bg-gradient-to-r from-foreground via-foreground to-foreground/70 bg-clip-text text-transparent",children:"AI That Runs the System"}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-primary via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Not Just Assists It"})]}),a.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto leading-relaxed",children:"Credit AI actively operates across all portalseliminating manual decisions, reducing latency, enforcing compliance, and enabling scale without proportional staffing."}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-3xl mx-auto mt-12",children:[{value:"90%",label:"Less Manual Work"},{value:"24/7",label:"Autonomous Ops"},{value:"10x",label:"Faster Processing"},{value:"100%",label:"Compliance"}].map((l,c)=>a.jsxs("div",{className:"text-center p-4 rounded-2xl bg-card/50 border border-border/50 backdrop-blur-sm",children:[a.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-purple-500 bg-clip-text text-transparent",children:l.value}),a.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:l.label})]},c))})]})})]}),a.jsx("section",{className:"py-20 relative",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs(jl,{value:t,onValueChange:e,className:"w-full",children:[a.jsx("div",{className:"flex justify-center mb-12",children:a.jsxs(Io,{className:"grid grid-cols-3 w-full max-w-2xl h-auto p-2 bg-muted/50 backdrop-blur-sm",children:[a.jsxs(hn,{value:"client",className:"flex items-center gap-2 py-4 data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-cyan-500 data-[state=active]:text-white",children:[a.jsx(br,{className:"h-5 w-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Client Portal"}),a.jsx("span",{className:"sm:hidden",children:"Client"})]}),a.jsxs(hn,{value:"business",className:"flex items-center gap-2 py-4 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500 data-[state=active]:text-white",children:[a.jsx(eu,{className:"h-5 w-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Business Portal"}),a.jsx("span",{className:"sm:hidden",children:"Business"})]}),a.jsxs(hn,{value:"staff",className:"flex items-center gap-2 py-4 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-500 data-[state=active]:text-white",children:[a.jsx(X3,{className:"h-5 w-5"}),a.jsx("span",{className:"hidden sm:inline",children:"VA / Staff Portal"}),a.jsx("span",{className:"sm:hidden",children:"Staff"})]})]})}),a.jsxs(gn,{value:"client",className:"mt-0",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-3xl font-bold mb-3",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 bg-clip-text text-transparent",children:"Client Portal AI"})}),a.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"Automate understanding, expectations, and engagementwithout requiring staff involvement."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((l,c)=>a.jsx(o,{feature:l,index:c},c))})]}),a.jsxs(gn,{value:"business",className:"mt-0",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-3xl font-bold mb-3",children:a.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Business Portal AI"})}),a.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"Allow agencies and partners to manage outcomes, not operations."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((l,c)=>a.jsx(o,{feature:l,index:c},c))})]}),a.jsxs(gn,{value:"staff",className:"mt-0",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-3xl font-bold mb-3",children:a.jsx("span",{className:"bg-gradient-to-r from-green-500 to-emerald-500 bg-clip-text text-transparent",children:"VA / Staff Portal AI"})}),a.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"Turn staff into high-output executors guided by AI precision."})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((l,c)=>a.jsx(o,{feature:l,index:c},c))})]})]})})}),a.jsxs("section",{className:"py-20 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-primary/5 to-transparent"}),a.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx(De,{className:"mb-4 px-4 py-2 bg-gradient-to-r from-primary/10 to-purple-500/10 text-primary border-primary/20",children:"Market Differentiator"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:a.jsx("span",{className:"bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:"Cross-Portal AI Intelligence"})}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"A unified AI brain that learns from every interaction across all portals, continuously improving accuracy and efficiency."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:s.map((l,c)=>a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 to-purple-500/20 rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx(le,{className:"relative h-full border-border/50 bg-card/80 backdrop-blur-sm hover:border-primary/50 transition-all duration-300",children:a.jsxs(Ne,{className:"p-8 text-center",children:[a.jsx("div",{className:"inline-flex p-4 rounded-2xl bg-gradient-to-br from-primary/10 to-purple-500/10 mb-6",children:a.jsx(l.icon,{className:"h-10 w-10 text-primary"})}),a.jsx("h3",{className:"text-xl font-semibold mb-3",children:l.title}),a.jsx("p",{className:"text-muted-foreground",children:l.description})]})})]},c))})]})]}),a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx(le,{className:"max-w-4xl mx-auto overflow-hidden border-0 bg-gradient-to-br from-primary/10 via-purple-500/10 to-pink-500/10",children:a.jsx(Ne,{className:"p-8 md:p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(tr,{className:"h-16 w-16 mx-auto mb-6 text-primary"}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Strategic Outcome"}),a.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-2xl mx-auto leading-relaxed",children:"By embedding AI automation into every portal and decision layer, Credit AI becomes:"}),a.jsx("div",{className:"grid sm:grid-cols-3 gap-6 mb-10",children:[{icon:Wa,label:"A self-operating credit platform"},{icon:eu,label:"A scalable white-label product"},{icon:xr,label:"A defensible AI-driven system"}].map((l,c)=>a.jsxs("div",{className:"flex flex-col items-center gap-3 p-4 rounded-xl bg-background/50 backdrop-blur-sm",children:[a.jsx(l.icon,{className:"h-8 w-8 text-primary"}),a.jsx("span",{className:"text-sm font-medium text-center",children:l.label})]},c))}),a.jsx("p",{className:"text-xl font-semibold bg-gradient-to-r from-primary via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"The most autonomous and value-dense credit repair platform in the market."}),a.jsx(pr,{to:"/auth",className:"inline-block mt-8",children:a.jsxs(ge,{size:"lg",className:"bg-gradient-to-r from-primary to-purple-500 hover:opacity-90 shadow-xl gap-2",children:["Experience the Future ",a.jsx(wi,{className:"h-5 w-5"})]})})]})})})})}),a.jsx("footer",{className:"py-8 border-t border-border/50",children:a.jsx("div",{className:"container mx-auto px-4 text-center text-muted-foreground text-sm",children:" 2024 Credit AI. All rights reserved."})})]})};function Uut(){const[t,e]=N.useState(!1),[n,r]=N.useState([]),{user:i}=ln(),{toast:s}=Mr(),o=N.useCallback(async()=>{if(i){e(!0);try{const{data:d,error:f}=await ue.from("bureau_responses").select("*").eq("user_id",i.id).order("response_date",{ascending:!1});if(f)throw f;r(d||[])}catch(d){console.error("Error fetching bureau responses:",d)}finally{e(!1)}}},[i]),l=N.useCallback(async(d,f,h,p,m)=>{if(!i)return null;try{const{data:g,error:y}=await ue.from("bureau_responses").insert({user_id:i.id,dispute_item_id:h,bureau:d,response_type:f,response_content:p,file_path:m}).select().single();if(y)throw y;const v=g;if(r(w=>[v,...w]),h){const w={verified:"verified",deleted:"deleted",updated:"updated",investigating:"in_progress",no_response:"pending"};await ue.from("dispute_items").update({outcome:w[f]||"responded",response_received_at:new Date().toISOString()}).eq("id",h)}return s({title:"Response Recorded",description:`${d} response marked as ${f}.`}),v}catch(g){return console.error("Error recording response:",g),s({title:"Error",description:g.message,variant:"destructive"}),null}},[i,s]),c=N.useCallback(async(d,f,h)=>{var p;if(!i)return null;try{const m=`${i.id}/responses/${Date.now()}_${d.name}`,{error:g}=await ue.storage.from("credit-reports").upload(m,d);if(g)throw g;const{data:y,error:v}=await ue.functions.invoke("ocr-document-parser",{body:{filePath:m,documentType:"bureau_response",userId:i.id}});if(v)throw v;const w=((p=y==null?void 0:y.analysis)==null?void 0:p.outcome)||"investigating",b=await l(f,w,h,y==null?void 0:y.rawText,m);return b&&(y!=null&&y.analysis)&&await ue.from("bureau_responses").update({ai_analysis:y.analysis}).eq("id",b.id),b}catch(m){return console.error("Error uploading response document:",m),s({title:"Upload Failed",description:m.message,variant:"destructive"}),null}},[i,l,s]),u=N.useCallback(()=>{const d=n.length,f=n.filter(g=>g.response_type==="deleted").length,h=n.filter(g=>g.response_type==="verified").length,p=n.filter(g=>g.response_type==="updated").length,m=n.filter(g=>g.response_type==="investigating"||g.response_type==="no_response").length;return{total:d,deleted:f,verified:h,updated:p,pending:m}},[n]);return{isLoading:t,responses:n,fetchResponses:o,recordResponse:l,uploadResponseDocument:c,getResponseStats:u}}const Yq={pending:"bg-muted text-muted-foreground",in_progress:"bg-warning/10 text-warning border-warning/20",responded:"bg-info/10 text-info border-info/20",deleted:"bg-success/10 text-success border-success/20",verified:"bg-destructive/10 text-destructive border-destructive/20",updated:"bg-primary/10 text-primary border-primary/20",failed:"bg-destructive/10 text-destructive border-destructive/20"};function But(){const{toast:t}=Mr(),[e,n]=N.useState(!1),[r,i]=N.useState("experian"),[s,o]=N.useState(""),[l,c]=N.useState(!1),{isLoading:u,rounds:d,fetchRounds:f,createRound:h,updateItemOutcome:p}=EU(),{responses:m,fetchResponses:g,uploadResponseDocument:y,getResponseStats:v}=Uut();N.useEffect(()=>{f(),g()},[f,g]);const w=async()=>{await h()},b=async E=>{var P;const T=(P=E.target.files)==null?void 0:P[0];if(T){c(!0);try{await y(T,r,s||void 0),n(!1),t({title:"Response Uploaded",description:"Bureau response has been processed."})}catch(C){console.error("Upload error:",C)}finally{c(!1)}}},S=v(),j=d.flatMap(E=>E.items);return u?a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(kt,{className:"h-10 w-64"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(E=>a.jsx(le,{className:"p-4",children:a.jsx(kt,{className:"h-12 w-full"})},E))}),a.jsx(kt,{className:"h-96 w-full"})]})}):a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Round Manager"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage dispute rounds and track bureau responses."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(wl,{open:e,onOpenChange:n,children:[a.jsx(_U,{asChild:!0,children:a.jsxs(ge,{variant:"outline",children:[a.jsx(cc,{className:"w-4 h-4 mr-2"}),"Upload Response"]})}),a.jsxs(Ao,{children:[a.jsx(To,{children:a.jsx(Co,{children:"Upload Bureau Response"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Bureau"}),a.jsxs(ni,{value:r,onValueChange:i,children:[a.jsx(Br,{children:a.jsx(ri,{})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"experian",children:"Experian"}),a.jsx(ut,{value:"equifax",children:"Equifax"}),a.jsx(ut,{value:"transunion",children:"TransUnion"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Link to Dispute Item (Optional)"}),a.jsxs(ni,{value:s,onValueChange:o,children:[a.jsx(Br,{children:a.jsx(ri,{placeholder:"Select item..."})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"",children:"No specific item"}),j.map(E=>a.jsxs(ut,{value:E.id,children:[E.creditor_name," - ",E.bureau]},E.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Response Document"}),a.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:b,disabled:l,className:"mt-2 block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-primary file:text-primary-foreground hover:file:opacity-90"})]}),l&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing document..."})]})]})]}),a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",onClick:w,children:[a.jsx(ml,{className:"w-4 h-4 mr-2"}),"New Round"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Uge,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:d.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Rounds"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:a.jsx(Da,{className:"w-5 h-5 text-warning"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:j.filter(E=>E.outcome==="in_progress").length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sent"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-info/10",children:a.jsx(I$,{className:"w-5 h-5 text-info"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:S.total}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Responses"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:a.jsx(Ls,{className:"w-5 h-5 text-success"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:S.deleted}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Deletions"})]})]})}),a.jsx(le,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-destructive/10",children:a.jsx(Bi,{className:"w-5 h-5 text-destructive"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:S.verified}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Verified"})]})]})})]}),d.length===0&&a.jsxs(le,{className:"p-12 text-center",children:[a.jsx($t,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Dispute Rounds Yet"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first dispute round to start tracking progress."}),a.jsxs(ge,{onClick:w,children:[a.jsx(ml,{className:"w-4 h-4 mr-2"}),"Create First Round"]})]}),d.map(E=>{E.items.filter(C=>C.outcome==="pending").length,E.items.filter(C=>C.outcome==="in_progress").length;const T=E.items.filter(C=>["deleted","verified","updated"].includes(C.outcome)).length,P=E.items.length>0?Math.round(T/E.items.length*100):0;return a.jsxs(le,{className:"overflow-hidden",children:[a.jsxs(Ye,{className:"bg-muted/30",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:["Round ",E.round_number,a.jsx(De,{variant:"outline",className:je(Yq[E.status]),children:E.status})]}),a.jsxs(Zt,{children:["Started ",new Date(E.started_at).toLocaleDateString(),"  ",E.items.length," items"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Progress"}),a.jsxs("p",{className:"text-2xl font-bold",children:[P,"%"]})]})]}),a.jsx(Jd,{value:P,className:"mt-4"})]}),a.jsx(Ne,{className:"pt-4",children:E.items.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No items in this round"}):a.jsx("div",{className:"space-y-3",children:E.items.map(C=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(De,{variant:"outline",className:je("capitalize",Yq[C.outcome]),children:C.outcome}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:C.creditor_name}),a.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[C.bureau,"  ",C.letter_type]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[C.outcome==="pending"&&a.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>p(C.id,"in_progress"),children:[a.jsx(Da,{className:"w-3 h-3 mr-1"}),"Mark Sent"]}),C.outcome==="in_progress"&&a.jsxs(a.Fragment,{children:[a.jsx(ge,{size:"sm",variant:"outline",className:"text-success",onClick:()=>p(C.id,"deleted"),children:"Deleted"}),a.jsx(ge,{size:"sm",variant:"outline",className:"text-destructive",onClick:()=>p(C.id,"verified"),children:"Verified"})]})]})]},C.id))})})]},E.id)}),m.length>0&&a.jsxs(le,{children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(I$,{className:"w-5 h-5 text-primary"}),"Recent Bureau Responses"]})}),a.jsx(Ne,{children:a.jsx("div",{className:"space-y-3",children:m.slice(0,5).map(E=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(De,{variant:"outline",className:"capitalize",children:E.bureau}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium capitalize",children:E.response_type.replace("_"," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(E.response_date).toLocaleDateString()})]})]}),E.ai_analysis&&a.jsx(De,{variant:"secondary",className:"text-xs",children:"AI Analyzed"})]},E.id))})})]})]})})}function zut(){const[t,e]=N.useState(!1),[n,r]=N.useState(null),[i,s]=N.useState(null),{toast:o}=Mr(),l=async p=>{const{data:{session:m}}=await ue.auth.getSession(),g="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",v=await fetch("https://ctzckttucdjlysiohlwh.supabase.co/functions/v1/ai-outcome-tracker",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(m==null?void 0:m.access_token)||g}`,apikey:g},body:JSON.stringify({...p,stream:!0})});return qa(v,w=>{w.type==="status"&&s(w.message||null)})};return{isProcessing:t,insights:n,statusMessage:i,analyzePatterns:async(p,m,g,y)=>{e(!0);try{const v=await l({action:"analyze_patterns",outcomes:p,bureau:m,letterType:g,timeframe:y});return r(v.result),o({title:"Pattern Analysis Complete",description:"AI has identified patterns in your dispute outcomes."}),v.result}catch(v){throw console.error("Error analyzing patterns:",v),o({title:"Analysis Failed",description:v.message||"Failed to analyze outcome patterns.",variant:"destructive"}),v}finally{s(null),e(!1)}},predictSuccess:async p=>{e(!0);try{const m=await l({action:"predict_success",outcomes:p});return o({title:"Predictions Generated",description:"AI has predicted success rates for potential disputes."}),m.result}catch(m){throw console.error("Error predicting success:",m),o({title:"Prediction Failed",description:m.message||"Failed to generate success predictions.",variant:"destructive"}),m}finally{s(null),e(!1)}},generateInsights:async(p,m)=>{e(!0);try{const g=await l({action:"generate_insights",outcomes:p,timeframe:m});return r(g.result),o({title:"Insights Generated",description:"AI has generated business insights from your data."}),g.result}catch(g){throw console.error("Error generating insights:",g),o({title:"Generation Failed",description:g.message||"Failed to generate insights.",variant:"destructive"}),g}finally{s(null),e(!1)}},learnFromOutcome:async p=>{e(!0);try{const m=await l({action:"learn_from_outcome",outcomes:p});return o({title:"Learning Complete",description:"AI has extracted patterns from this outcome."}),m.result}catch(m){throw console.error("Error learning from outcome:",m),o({title:"Learning Failed",description:m.message||"Failed to learn from outcome.",variant:"destructive"}),m}finally{s(null),e(!1)}},clearInsights:()=>r(null)}}const QR=[{bureau:"experian",letterType:"FCRA",creditorName:"Capital One",outcome:"deleted",daysToResponse:28},{bureau:"equifax",letterType:"FDCPA",creditorName:"Chase Bank",outcome:"verified",daysToResponse:35},{bureau:"transunion",letterType:"FCRA",creditorName:"Discover",outcome:"deleted",daysToResponse:21},{bureau:"experian",letterType:"Goodwill",creditorName:"Bank of America",outcome:"updated",daysToResponse:30},{bureau:"equifax",letterType:"FCRA",creditorName:"Wells Fargo",outcome:"deleted",daysToResponse:25},{bureau:"transunion",letterType:"Collection Validation",creditorName:"Midland Credit",outcome:"deleted",daysToResponse:18},{bureau:"experian",letterType:"HIPAA",creditorName:"Medical Collections",outcome:"verified",daysToResponse:45},{bureau:"equifax",letterType:"Identity Theft",creditorName:"Unknown Creditor",outcome:"deleted",daysToResponse:14}],$ut=[{bureau:"Experian",total:45,deleted:28,successRate:62},{bureau:"Equifax",total:38,deleted:21,successRate:55},{bureau:"TransUnion",total:41,deleted:25,successRate:61}],Vut=[{type:"FCRA",used:52,success:35,rate:67},{type:"FDCPA",used:28,success:16,rate:57},{type:"Goodwill",used:15,success:8,rate:53},{type:"Collection Validation",used:22,success:18,rate:82},{type:"HIPAA",used:12,success:6,rate:50}];function Hut(){var m,g,y,v;const[t,e]=N.useState("90days"),[n,r]=N.useState("all"),{isProcessing:i,insights:s,analyzePatterns:o,predictSuccess:l,generateInsights:c,clearInsights:u,statusMessage:d}=zut(),f=async()=>{await o(QR,n!=="all"?n:void 0,void 0,t)},h=async()=>{await l(QR)},p=async()=>{await c(QR,t)};return a.jsx(_r,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center gap-3",children:[a.jsx(gr,{className:"h-8 w-8 text-primary"}),"AI Outcome Tracker"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Track dispute outcomes and learn patterns to optimize future success"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ni,{value:t,onValueChange:e,children:[a.jsx(Br,{className:"w-[140px]",children:a.jsx(ri,{})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"30days",children:"Last 30 Days"}),a.jsx(ut,{value:"90days",children:"Last 90 Days"}),a.jsx(ut,{value:"6months",children:"Last 6 Months"}),a.jsx(ut,{value:"1year",children:"Last Year"})]})]}),a.jsxs(ge,{variant:"outline",onClick:u,disabled:!s,children:[a.jsx(tf,{className:"h-4 w-4 mr-2"}),"Clear"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(le,{className:"bg-card/50 border-border/50",children:a.jsx(Ne,{className:"pt-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-green-500/20",children:a.jsx(zn,{className:"h-5 w-5 text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:"74"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Items Deleted"})]})]})})}),a.jsx(le,{className:"bg-card/50 border-border/50",children:a.jsx(Ne,{className:"pt-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/20",children:a.jsx(Fs,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:"59%"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Success Rate"})]})]})})}),a.jsx(le,{className:"bg-card/50 border-border/50",children:a.jsx(Ne,{className:"pt-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-yellow-500/20",children:a.jsx(nr,{className:"h-5 w-5 text-yellow-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:"27"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Days to Response"})]})]})})}),a.jsx(le,{className:"bg-card/50 border-border/50",children:a.jsx(Ne,{className:"pt-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-red-500/20",children:a.jsx(z3,{className:"h-5 w-5 text-red-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:"51"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Items Verified"})]})]})})})]}),i&&d&&a.jsx("p",{className:"text-xs text-muted-foreground",children:d}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(le,{className:"bg-card/50 border-border/50",children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"text-lg flex items-center gap-2",children:[a.jsx(hl,{className:"h-5 w-5 text-primary"}),"Bureau Performance"]}),a.jsx(Zt,{children:"Success rates by credit bureau"})]}),a.jsx(Ne,{className:"space-y-4",children:$ut.map(w=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium",children:w.bureau}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[w.deleted,"/",w.total," (",w.successRate,"%)"]})]}),a.jsx(Jd,{value:w.successRate,className:"h-2"})]},w.bureau))})]}),a.jsxs(le,{className:"bg-card/50 border-border/50",children:[a.jsxs(Ye,{children:[a.jsx(Xe,{className:"text-lg",children:"Letter Type Effectiveness"}),a.jsx(Zt,{children:"Which letter types work best"})]}),a.jsx(Ne,{className:"space-y-3",children:Vut.map(w=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/30",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-sm",children:w.type}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.used," letters sent"]})]}),a.jsxs(De,{variant:"outline",className:w.rate>=70?"text-green-400 border-green-500/30":w.rate>=50?"text-yellow-400 border-yellow-500/30":"text-red-400 border-red-500/30",children:[w.rate,"%"]})]},w.type))})]}),a.jsxs(le,{className:"bg-card/50 border-border/50",children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"text-lg flex items-center gap-2",children:[a.jsx(tr,{className:"h-5 w-5 text-primary"}),"AI Analysis"]}),a.jsx(Zt,{children:"Get AI-powered insights from your data"})]}),a.jsxs(Ne,{className:"space-y-3",children:[a.jsxs(ni,{value:n,onValueChange:r,children:[a.jsx(Br,{children:a.jsx(ri,{placeholder:"Filter by bureau"})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"all",children:"All Bureaus"}),a.jsx(ut,{value:"experian",children:"Experian"}),a.jsx(ut,{value:"equifax",children:"Equifax"}),a.jsx(ut,{value:"transunion",children:"TransUnion"})]})]}),a.jsxs(ge,{onClick:f,disabled:i,className:"w-full",children:[i?a.jsx(Dn,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(gr,{className:"h-4 w-4 mr-2"}),"Analyze Patterns"]}),a.jsxs(ge,{onClick:h,disabled:i,variant:"outline",className:"w-full",children:[i?a.jsx(Dn,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Predict Success Rates"]}),a.jsxs(ge,{onClick:p,disabled:i,variant:"outline",className:"w-full",children:[i?a.jsx(Dn,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(ZO,{className:"h-4 w-4 mr-2"}),"Generate Business Insights"]})]})]})]}),s&&a.jsxs(le,{className:"bg-card/50 border-border/50",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"text-lg flex items-center gap-2",children:[a.jsx(ZO,{className:"h-5 w-5 text-yellow-400"}),"AI Insights & Recommendations"]})}),a.jsx(Ne,{children:a.jsxs(jl,{defaultValue:"insights",className:"space-y-4",children:[a.jsxs(Io,{children:[a.jsx(hn,{value:"insights",children:"Key Insights"}),a.jsx(hn,{value:"recommendations",children:"Recommendations"}),a.jsx(hn,{value:"patterns",children:"Patterns"})]}),a.jsxs(gn,{value:"insights",className:"space-y-3",children:[(m=s.topInsights)==null?void 0:m.map((w,b)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/30",children:[a.jsx(sl,{className:"h-5 w-5 text-primary mt-0.5"}),a.jsx("p",{className:"text-sm",children:w})]},b)),s.analysis&&a.jsx("div",{className:"p-4 rounded-lg bg-muted/30",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:s.analysis})})]}),a.jsxs(gn,{value:"recommendations",className:"space-y-3",children:[(g=s.recommendations)==null?void 0:g.map((w,b)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-primary/10 border border-primary/30",children:[a.jsx(Fs,{className:"h-5 w-5 text-primary mt-0.5"}),a.jsx("p",{className:"text-sm",children:w})]},b)),(y=s.actionItems)==null?void 0:y.map((w,b)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-green-500/10 border border-green-500/30",children:[a.jsx(zn,{className:"h-5 w-5 text-green-400 mt-0.5"}),a.jsx("p",{className:"text-sm",children:w})]},b))]}),a.jsxs(gn,{value:"patterns",className:"space-y-3",children:[(v=s.trends)==null?void 0:v.map((w,b)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/30",children:[a.jsx(gr,{className:"h-5 w-5 text-primary mt-0.5"}),a.jsx("p",{className:"text-sm",children:w})]},b)),s.keyMetrics&&a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-primary",children:[s.keyMetrics.deletionRate,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Deletion Rate"})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-muted/30 text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-primary",children:s.keyMetrics.avgDaysToResolution}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Days to Resolution"})]})]})]})]})})]})]})})}const Wut=()=>{const{role:t}=ln();return t!=="agency_owner"?a.jsx(Mg,{to:"/index",replace:!0}):a.jsx(_r,{children:a.jsx("div",{className:"space-y-6",children:a.jsx(Dde,{})})})};function Gut(){const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[d,f]=N.useState(null),{brand:h}=Ow(),p=_u(),{toast:m}=Mr();N.useEffect(()=>{const y=new URLSearchParams(window.location.hash.substring(1)),v=y.get("access_token");(y.get("type")!=="recovery"||!v)&&f("Invalid or expired password reset link. Please request a new one.")},[]);const g=async y=>{if(y.preventDefault(),t!==n){m({title:"Passwords do not match",description:"Please make sure both passwords are the same.",variant:"destructive"});return}if(t.length<6){m({title:"Password too short",description:"Password must be at least 6 characters.",variant:"destructive"});return}l(!0);const{error:v}=await ue.auth.updateUser({password:t});v?m({title:"Reset failed",description:v.message,variant:"destructive"}):(u(!0),m({title:"Password updated!",description:"Your password has been successfully reset."}),setTimeout(()=>p("/auth"),2e3)),l(!1)};return c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/30 to-accent/20 flex items-center justify-center p-4",children:a.jsx(le,{className:"w-full max-w-md border-border bg-card/80 backdrop-blur-xl shadow-xl",children:a.jsxs(Ne,{className:"py-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(zn,{className:"w-8 h-8 text-success"})}),a.jsx(Xe,{className:"text-2xl mb-2",children:"Password Reset Successful!"}),a.jsx(Zt,{className:"mb-6",children:"Your password has been updated. Redirecting to sign in..."}),a.jsx(pr,{to:"/auth",children:a.jsx(ge,{className:"bg-primary hover:bg-primary/90",children:"Go to Sign In"})})]})})}):d?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/30 to-accent/20 flex items-center justify-center p-4",children:a.jsx(le,{className:"w-full max-w-md border-border bg-card/80 backdrop-blur-xl shadow-xl",children:a.jsxs(Ne,{className:"py-12 text-center",children:[a.jsx(Xe,{className:"text-2xl mb-2 text-destructive",children:"Invalid Link"}),a.jsx(Zt,{className:"mb-6",children:d}),a.jsx(pr,{to:"/auth",children:a.jsxs(ge,{className:"bg-primary hover:bg-primary/90",children:[a.jsx(xh,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})})]})})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/30 to-accent/20 flex items-center justify-center p-4 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-accent/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),a.jsxs("div",{className:"w-full max-w-md relative z-10",children:[a.jsxs(pr,{to:"/auth",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-6",children:[a.jsx(xh,{className:"w-4 h-4"}),"Back to sign in"]}),a.jsx("div",{className:"flex flex-col items-center justify-center gap-3 mb-8",children:h.logo_url?a.jsx("img",{src:h.logo_url,alt:h.company_name,className:"h-14 w-auto"}):a.jsx("img",{src:"/images/credit-ai-logo.png",alt:"Credit AI Platform",className:"h-14 w-auto"})}),a.jsxs(le,{className:"border-border bg-card/80 backdrop-blur-xl shadow-xl",children:[a.jsxs(Ye,{children:[a.jsx(Xe,{className:"text-2xl text-foreground",children:"Reset Password"}),a.jsx(Zt,{className:"text-muted-foreground",children:"Enter your new password below"})]}),a.jsx(Ne,{children:a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"password",className:"text-foreground",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(tu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Ct,{id:"password",type:i?"text":"password",placeholder:"",value:t,onChange:y=>e(y.target.value),className:"pl-10 pr-10 bg-background border-border",required:!0,minLength:6}),a.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:i?a.jsx(Nj,{className:"w-4 h-4"}):a.jsx(Qi,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"confirmPassword",className:"text-foreground",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(tu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Ct,{id:"confirmPassword",type:i?"text":"password",placeholder:"",value:n,onChange:y=>r(y.target.value),className:"pl-10 pr-10 bg-background border-border",required:!0,minLength:6})]})]}),a.jsx(ge,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:o,children:o?"Updating...":"Reset Password"})]})})]})]})]})}const qut=[{icon:G3,label:"My Dashboard",path:"/client-dashboard"},{icon:gr,label:"Score Progress",path:"/client-dashboard/scores"},{icon:$t,label:"My Disputes",path:"/client-dashboard/disputes"},{icon:tr,label:"AI Tools",path:"/client-dashboard/ai-tools"},{icon:cc,label:"Documents",path:"/client-dashboard/documents"},{icon:Jl,label:"Connect SmartCredit",path:"/client-dashboard/smartcredit"},{icon:bs,label:"Messages",path:"/client-dashboard/messages"},{icon:fa,label:"Billing",path:"/client-dashboard/billing"},{icon:lc,label:"Notifications",path:"/client-dashboard/notifications"},{icon:Gs,label:"Profile",path:"/client-dashboard/profile"}];function Xut(){const{collapsed:t,toggleCollapsed:e}=Iw(),n=vc(),{brand:r}=Ow();return a.jsxs("aside",{className:je("fixed left-0 top-0 z-40 h-screen bg-sidebar border-r border-sidebar-border transition-all duration-300 ease-in-out",t?"w-[70px]":"w-[260px]"),children:[a.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b border-sidebar-border",children:[!t&&a.jsx("div",{className:"flex items-center gap-2",children:r.logo_url?a.jsx("img",{src:r.logo_url,alt:r.company_name,className:"h-8 w-auto"}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-primary flex items-center justify-center",children:a.jsx(jn,{className:"w-5 h-5 text-sidebar-primary-foreground"})}),a.jsx("span",{className:"font-bold text-lg text-sidebar-accent-foreground",children:r.company_name})]})}),t&&(r.logo_url?a.jsx("img",{src:r.logo_url,alt:r.company_name,className:"h-8 w-auto mx-auto"}):a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-primary flex items-center justify-center mx-auto",children:a.jsx(jn,{className:"w-5 h-5 text-sidebar-primary-foreground"})})),a.jsx("button",{onClick:e,className:je("p-1.5 rounded-lg hover:bg-sidebar-accent transition-colors",t&&"absolute -right-3 top-5 bg-sidebar border border-sidebar-border shadow-md"),children:t?a.jsx(sl,{className:"w-4 h-4 text-sidebar-foreground"}):a.jsx(RA,{className:"w-4 h-4 text-sidebar-foreground"})})]}),!t&&a.jsx("div",{className:"px-4 py-3 border-b border-sidebar-border",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-info/10 border border-info/20",children:[a.jsx(Gs,{className:"w-4 h-4 text-info"}),a.jsx("span",{className:"text-xs font-medium text-info",children:"Client Portal"})]})}),a.jsx("nav",{className:je("p-3 space-y-1 overflow-y-auto",t?"h-[calc(100vh-64px)]":"h-[calc(100vh-64px-56px)]"),children:qut.map(i=>{const s=n.pathname===i.path||i.path!=="/client-dashboard"&&n.pathname.startsWith(i.path);return a.jsxs(pr,{to:i.path,title:t?i.label:void 0,className:je("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200","hover:bg-sidebar-accent group relative",s?"bg-sidebar-primary text-sidebar-primary-foreground shadow-md":"text-sidebar-foreground hover:text-sidebar-accent-foreground"),children:[a.jsx(i.icon,{className:je("w-5 h-5 flex-shrink-0 transition-transform duration-200",s?"text-sidebar-primary-foreground":"text-sidebar-foreground group-hover:text-sidebar-primary group-hover:scale-110")}),!t&&a.jsx("span",{className:"text-sm font-medium truncate",children:i.label}),t&&a.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-popover text-popover-foreground text-sm rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-50",children:i.label})]},i.path)})})]})}const Yut=[{icon:G3,label:"VA Dashboard",path:"/va-dashboard"},{icon:br,label:"My Clients",path:"/va-dashboard/clients"},{icon:Ag,label:"Tasks",path:"/va-dashboard/tasks"},{icon:$t,label:"Dispute Letters",path:"/va-dashboard/disputes"},{icon:eJ,label:"Letter Generator",path:"/dispute-letters"},{icon:OA,label:"Client Documents",path:"/va-dashboard/documents"},{icon:tr,label:"AI Training",path:"/va-dashboard/training"},{icon:bs,label:"Messages",path:"/va-dashboard/messages"},{icon:Tw,label:"Settings",path:"/va-dashboard/settings"}];function Kut(){const{collapsed:t,toggleCollapsed:e}=Iw(),n=vc(),{brand:r}=Ow();return a.jsxs("aside",{className:je("fixed left-0 top-0 z-40 h-screen bg-sidebar border-r border-sidebar-border transition-all duration-300 ease-in-out",t?"w-[70px]":"w-[260px]"),children:[a.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b border-sidebar-border",children:[!t&&a.jsx("div",{className:"flex items-center gap-2",children:r.logo_url?a.jsx("img",{src:r.logo_url,alt:r.company_name,className:"h-8 w-auto"}):a.jsx("img",{src:"/images/credit-ai-logo.png",alt:"Credit AI",className:"h-8 w-auto"})}),t&&(r.logo_url?a.jsx("img",{src:r.logo_url,alt:r.company_name,className:"h-8 w-auto mx-auto"}):a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-primary flex items-center justify-center mx-auto",children:a.jsx(jn,{className:"w-5 h-5 text-sidebar-primary-foreground"})})),a.jsx("button",{onClick:e,className:je("p-1.5 rounded-lg hover:bg-sidebar-accent transition-colors",t&&"absolute -right-3 top-5 bg-sidebar border border-sidebar-border shadow-md"),children:t?a.jsx(sl,{className:"w-4 h-4 text-sidebar-foreground"}):a.jsx(RA,{className:"w-4 h-4 text-sidebar-foreground"})})]}),!t&&a.jsx("div",{className:"px-4 py-3 border-b border-sidebar-border",children:a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-warning/10 border border-warning/20",children:[a.jsx(X3,{className:"w-4 h-4 text-warning"}),a.jsx("span",{className:"text-xs font-medium text-warning",children:"VA Operations"})]})}),a.jsx("nav",{className:je("p-3 space-y-1 overflow-y-auto",t?"h-[calc(100vh-64px)]":"h-[calc(100vh-64px-56px)]"),children:Yut.map(i=>{const s=n.pathname===i.path||i.path!=="/va-dashboard"&&n.pathname.startsWith(i.path);return a.jsxs(pr,{to:i.path,title:t?i.label:void 0,className:je("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200","hover:bg-sidebar-accent group relative",s?"bg-sidebar-primary text-sidebar-primary-foreground shadow-md":"text-sidebar-foreground hover:text-sidebar-accent-foreground"),children:[a.jsx(i.icon,{className:je("w-5 h-5 flex-shrink-0 transition-transform duration-200",s?"text-sidebar-primary-foreground":"text-sidebar-foreground group-hover:text-sidebar-primary group-hover:scale-110")}),!t&&a.jsx("span",{className:"text-sm font-medium truncate",children:i.label}),t&&a.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-popover text-popover-foreground text-sm rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-50",children:i.label})]},i.path)})})]})}function qn({children:t}){const{role:e,loading:n,user:r}=ln(),{collapsed:i}=Iw();if(n||r&&e===null)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Dn,{className:"w-8 h-8 animate-spin text-primary"}),a.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});const s=()=>{switch(e){case"client":return a.jsx(Xut,{});case"va_staff":return a.jsx(Kut,{});case"agency_owner":default:return a.jsx(Hre,{})}};return a.jsxs("div",{className:"min-h-screen bg-background",children:[s(),a.jsxs("div",{className:je("transition-all duration-300 ease-in-out",i?"pl-[70px]":"pl-[260px]","md:pl-[260px]",i&&"md:pl-[70px]"),style:{paddingLeft:i?"70px":"260px"},children:[a.jsx(Ase,{}),a.jsx("main",{className:"p-4 md:p-6 lg:p-8",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:t})})]})]})}const Jut=t=>{if(typeof t=="number")return t;if(t&&typeof t=="object"){if("score"in t)return Number(t.score)||0;if("Experian"in t||"experian"in t||"Equifax"in t||"equifax"in t)return 0}return Number(t)||0},$m=(t,e)=>{if(!t||typeof t!="object")return 0;const n=e.charAt(0).toUpperCase()+e.slice(1),r=t[e]??t[n]??t[e.toLowerCase()];return Jut(r)},Jf=t=>{if(typeof t=="number")return t;if(t&&typeof t=="object"){const e=Object.values(t).filter(n=>typeof n=="number");return e.length>0?Math.round(e.reduce((n,r)=>n+r,0)/e.length):0}return Number(t)||0};function Kq(t){var o,l,c,u,d,f,h,p;let e=t.scores||{};(!e||typeof e!="object")&&(e={});const n={experian:$m(e,"experian"),equifax:$m(e,"equifax"),transunion:$m(e,"transunion")};let r=t.previousScores||{};(!r||typeof r!="object")&&(r={});const i={experian:$m(r,"experian")||Math.max(0,n.experian-25),equifax:$m(r,"equifax")||Math.max(0,n.equifax-25),transunion:$m(r,"transunion")||Math.max(0,n.transunion-25)};let s=t.scoreHistory||[];if(!s.length&&(n.experian||n.equifax||n.transunion)){s=[];for(let m=5;m>=0;m--){const g=new Date;g.setMonth(g.getMonth()-m);const y=(5-m)*8;s.push({date:g.toISOString().split("T")[0],experian:Math.max(500,n.experian-y+Math.floor(Math.random()*10)),equifax:Math.max(500,n.equifax-y+Math.floor(Math.random()*10)),transunion:Math.max(500,n.transunion-y+Math.floor(Math.random()*10))})}}return{scores:n,previousScores:i,scoreHistory:s,negativeItems:Array.isArray(t.negativeItems)?t.negativeItems:[],inquiries:Array.isArray(t.inquiries)?t.inquiries:[],summary:{totalAccounts:Jf((o=t.summary)==null?void 0:o.totalAccounts),negativeAccounts:Jf((l=t.summary)==null?void 0:l.negativeCount)||Jf((c=t.summary)==null?void 0:c.negativeAccounts),onTimePayments:Jf((u=t.summary)==null?void 0:u.onTimePaymentPercentage)||Jf((d=t.summary)==null?void 0:d.onTimePayments)||85,creditUtilization:Jf((f=t.summary)==null?void 0:f.creditUtilization)||30,avgAccountAge:typeof((h=t.summary)==null?void 0:h.avgAccountAge)=="string"?t.summary.avgAccountAge:"3 years",totalDebt:Jf((p=t.summary)==null?void 0:p.totalDebt)}}}function Nf(){const[t,e]=N.useState(!0),[n,r]=N.useState(!1),[i,s]=N.useState(null),[o,l]=N.useState({status:"not_connected"}),[c,u]=N.useState(null),{user:d}=ln(),f=N.useCallback(async()=>{if(!d){e(!1);return}try{const{data:w,error:b}=await ue.functions.invoke("smartcredit-sync",{body:{action:"get_status",userId:d.id}});if(b)throw b;if(l({status:w.status,connectedAt:w.connectedAt,lastSyncAt:w.lastSyncAt,hasReport:w.hasReport,reportUpdatedAt:w.reportUpdatedAt}),w.hasReport){const{data:S,error:j}=await ue.functions.invoke("smartcredit-sync",{body:{action:"get_report",userId:d.id}});if(j)throw j;if(S.report){const E=Kq(S.report);s(E)}}}catch(w){console.error("Error fetching credit data:",w),u(w instanceof Error?w.message:"Failed to fetch credit data")}finally{e(!1)}},[d]),h=N.useCallback(async()=>{if(!(!d||o.status!=="connected")){r(!0);try{const{data:w,error:b}=await ue.functions.invoke("smartcredit-sync",{body:{action:"sync_report",userId:d.id}});if(b)throw b;if(w.creditData){const S=Kq(w.creditData);s(S),l(j=>({...j,lastSyncAt:w.lastSyncAt,hasReport:!0}))}}catch(w){console.error("Error refreshing credit data:",w),u(w instanceof Error?w.message:"Failed to refresh data")}finally{r(!1)}}},[d,o.status]);N.useEffect(()=>{f()},[f]);const p=w=>typeof w=="number"?w:w&&typeof w=="object"&&"score"in w?Number(w.score)||0:Number(w)||0,m=i!=null&&i.scores?Math.round((p(i.scores.experian)+p(i.scores.equifax)+p(i.scores.transunion))/3):0,g=i!=null&&i.previousScores?Math.round((p(i.previousScores.experian)+p(i.previousScores.equifax)+p(i.previousScores.transunion))/3):0,y=m&&g?m-g:0,v=i!=null&&i.negativeItems?{total:i.negativeItems.length,deleted:i.negativeItems.filter(w=>w.status==="deleted").length,inProgress:i.negativeItems.filter(w=>w.status==="in_progress").length,pending:i.negativeItems.filter(w=>w.status==="pending").length,verified:i.negativeItems.filter(w=>w.status==="verified").length}:null;return{isLoading:t,isRefreshing:n,creditData:i,connectionStatus:o,error:c,averageScore:m,averagePreviousScore:g,totalScoreIncrease:y,disputeProgress:v,refreshData:h,refetch:f}}function Lde(){const[t,e]=N.useState(!1),[n,r]=N.useState(!1),[i,s]=N.useState([{role:"assistant",content:"Hi! I'm your AI Credit Coach. I'm here to help you understand your credit journey and answer any questions. How can I help you today?"}]),[o,l]=N.useState(""),[c,u]=N.useState(!1),d=N.useRef(null),{creditData:f,disputeProgress:h}=Nf();N.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[i]);const p=async()=>{var v,w,b,S;if(!o.trim()||c)return;const g=o.trim();l(""),s(j=>[...j,{role:"user",content:g}]),u(!0);let y=!1;try{const j=f?{scores:f.scores,activeDisputes:(h==null?void 0:h.inProgress)||0,deletedItems:(h==null?void 0:h.deleted)||0,pendingItems:(h==null?void 0:h.pending)||0,goalScore:null}:null,E=await fetch("https://ctzckttucdjlysiohlwh.supabase.co/functions/v1/ai-credit-coach",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk"},body:JSON.stringify({messages:[...i.slice(1),{role:"user",content:g}],creditContext:j})});if(!E.ok){if(E.status===429){It.error("Rate limit reached. Please wait a moment.");return}throw new Error("Failed to get response")}const T=(v=E.body)==null?void 0:v.getReader();if(!T)throw new Error("No reader");const P=new TextDecoder;let C="";s(D=>[...D,{role:"assistant",content:""}]),y=!0;let R="",I=!1;for(;;){const{done:D,value:V}=await T.read();if(D)break;R+=P.decode(V,{stream:!0});let U;for(;(U=R.indexOf(`
`))!==-1;){let $=R.slice(0,U);if(R=R.slice(U+1),$.endsWith("\r")&&($=$.slice(0,-1)),$.startsWith(":")||$.trim()===""||!$.startsWith("data: "))continue;const z=$.slice(6).trim();if(z==="[DONE]"){I=!0;break}try{const k=(S=(b=(w=JSON.parse(z).choices)==null?void 0:w[0])==null?void 0:b.delta)==null?void 0:S.content;k&&(C+=k,s(L=>{const H=[...L];return H[H.length-1]={role:"assistant",content:C},H}))}catch{R=$+`
`+R;break}}if(I){await T.cancel();break}}}catch(j){console.error("Chat error:",j),It.error("Failed to send message. Please try again."),y&&s(E=>E.slice(0,-1))}finally{u(!1)}},m=["Why did my score drop?","How long until I see results?","What items should I focus on?","Explain my credit utilization"];return t?a.jsx(ib,{children:a.jsx(Me.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:`fixed z-50 ${n?"inset-4 md:inset-8":"bottom-6 right-6 w-[400px] h-[550px]"}`,children:a.jsxs(le,{className:"h-full shadow-2xl border-primary/20 overflow-hidden",children:[a.jsx(Ye,{className:"pb-2 border-b bg-gradient-to-r from-primary/5 to-transparent",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Me.div,{className:"w-10 h-10 rounded-xl bg-gradient-primary flex items-center justify-center",whileHover:{scale:1.05},children:a.jsx(jn,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsxs(Xe,{className:"text-base flex items-center gap-2",children:["AI Credit Coach",a.jsxs(De,{variant:"outline",className:"text-[10px] animate-pulse",children:[a.jsx(Wa,{className:"w-2 h-2 mr-1"}),"Online"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Your 24/7 Credit Expert"})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>r(!n),children:n?a.jsx(Pge,{className:"w-4 h-4"}):a.jsx(Tge,{className:"w-4 h-4"})}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>e(!1),children:a.jsx(Qv,{className:"w-4 h-4"})})]})]})}),a.jsxs(Ne,{className:"p-0 flex flex-col h-[calc(100%-90px)]",children:[a.jsx(yv,{className:"flex-1 p-4",ref:d,children:a.jsx("div",{className:"space-y-4",children:i.map((g,y)=>a.jsxs(Me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:y*.05},className:`flex gap-2 ${g.role==="user"?"justify-end":"justify-start"}`,children:[g.role==="assistant"&&a.jsx("div",{className:"w-7 h-7 rounded-lg bg-gradient-primary flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(rv,{className:"w-4 h-4 text-white"})}),a.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2.5 text-sm ${g.role==="user"?"bg-primary text-primary-foreground rounded-br-sm":"bg-muted rounded-bl-sm"}`,children:g.content||(c&&y===i.length-1?a.jsxs("span",{className:"flex items-center gap-1 py-1",children:[a.jsx(Me.span,{animate:{opacity:[.4,1,.4]},transition:{repeat:1/0,duration:1},className:"w-2 h-2 rounded-full bg-current"}),a.jsx(Me.span,{animate:{opacity:[.4,1,.4]},transition:{repeat:1/0,duration:1,delay:.2},className:"w-2 h-2 rounded-full bg-current"}),a.jsx(Me.span,{animate:{opacity:[.4,1,.4]},transition:{repeat:1/0,duration:1,delay:.4},className:"w-2 h-2 rounded-full bg-current"})]}):null)}),g.role==="user"&&a.jsx("div",{className:"w-7 h-7 rounded-lg bg-primary flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(Gs,{className:"w-4 h-4 text-primary-foreground"})})]},y))})}),i.length===1&&a.jsxs("div",{className:"px-4 pb-3",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-medium",children:"Quick questions:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((g,y)=>a.jsx(Me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:y*.1},children:a.jsx(De,{variant:"outline",className:"cursor-pointer hover:bg-primary hover:text-primary-foreground transition-colors text-xs py-1.5 px-3",onClick:()=>{l(g),setTimeout(p,100)},children:g})},y))})]}),a.jsx("div",{className:"p-4 border-t bg-muted/30",children:a.jsxs("form",{onSubmit:g=>{g.preventDefault(),p()},className:"flex gap-2",children:[a.jsx(Ct,{value:o,onChange:g=>l(g.target.value),placeholder:"Ask me anything about your credit...",disabled:c,className:"flex-1 bg-background"}),a.jsx(ge,{type:"submit",disabled:c||!o.trim(),size:"icon",className:"bg-gradient-primary hover:opacity-90",children:a.jsx(Da,{className:"w-4 h-4"})})]})})]})]})})}):a.jsxs(Me.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"fixed bottom-6 right-6 z-50",children:[a.jsxs(ge,{onClick:()=>e(!0),className:"h-16 w-16 rounded-full bg-gradient-primary shadow-2xl hover:opacity-90 relative overflow-hidden group",children:[a.jsx(Me.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2,repeatDelay:3},children:a.jsx(rv,{className:"w-7 h-7"})}),a.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-success rounded-full animate-pulse"}),a.jsx(Me.div,{className:"absolute inset-0 bg-white/20 rounded-full",initial:{scale:.8,opacity:0},animate:{scale:1.5,opacity:0},transition:{repeat:1/0,duration:2}})]}),a.jsxs(Me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1},className:"absolute bottom-0 right-20 bg-card border shadow-lg rounded-lg px-3 py-2 text-sm whitespace-nowrap",children:[a.jsx(sJ,{className:"w-3 h-3 inline mr-1"}),"AI Coach is ready!"]})]})}function Qut(){const{profile:t}=ln(),{isLoading:e,isRefreshing:n,creditData:r,connectionStatus:i,averageScore:s,totalScoreIncrease:o,disputeProgress:l,refreshData:c}=Nf(),u=l?Math.round(l.deleted/Math.max(l.total,1)*100):0;if(e)return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(kt,{className:"h-9 w-64 mb-2"}),a.jsx(kt,{className:"h-5 w-96"})]}),a.jsx(kt,{className:"h-10 w-40"})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[1,2,3].map(v=>a.jsx(le,{className:"card-elevated",children:a.jsx(Ne,{className:"pt-6",children:a.jsx(kt,{className:"h-40 w-full"})})},v))})]})});if(!(r!=null&&r.scores)||i.status!=="connected")return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:["Welcome, ",(t==null?void 0:t.first_name)||"there","! "]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Connect your credit report to get started with your credit repair journey."})]}),a.jsx(le,{className:"card-elevated border-primary/20",children:a.jsxs(Ne,{className:"py-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(Jl,{className:"w-8 h-8 text-primary"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:i.status==="connected"?"Sync Your Credit Report":"Connect SmartCredit"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:i.status==="connected"?"Your account is connected. Click below to sync your credit report and view your data.":"Link your SmartCredit account to automatically sync your credit reports and start tracking your progress."}),a.jsx(pr,{to:"/client-dashboard/smartcredit",children:a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",children:[a.jsx(Jl,{className:"w-4 h-4 mr-2"}),i.status==="connected"?"Sync Report":"Connect Now"]})})]})})]})});const d=v=>typeof v=="number"?v:v&&typeof v=="object"&&"score"in v?Number(v.score)||0:Number(v)||0,f=(v,w)=>{if(!v||typeof v!="object")return 0;const b=w.charAt(0).toUpperCase()+w.slice(1),S=v[w]??v[b]??v[w.toLowerCase()]??0;return d(S)},h=v=>{if(typeof v=="number"||typeof v=="string")return v;if(v&&typeof v=="object"){const w=["Equifax","Experian","Transunion","equifax","experian","transunion"],b=Object.entries(v).filter(([S])=>w.includes(S)).map(([,S])=>Number(S)||0).filter(S=>S>0);return b.length>0?Math.round(b.reduce((S,j)=>S+j,0)/b.length):0}return Number(v)||0},p=[{bureau:"Experian",score:f(r.scores,"experian"),previousScore:f(r.previousScores,"experian")},{bureau:"Equifax",score:f(r.scores,"equifax"),previousScore:f(r.previousScores,"equifax")},{bureau:"TransUnion",score:f(r.scores,"transunion"),previousScore:f(r.previousScores,"transunion")}],m=[...r.negativeItems.filter(v=>v.status==="deleted").slice(0,2).map((v,w)=>({id:`del-${w}`,type:"deletion",message:`${v.creditor} ${v.type.toLowerCase()} deleted from ${v.bureau}`,date:"Recently"})),{id:"sync",type:"update",message:"Credit report synced successfully",date:i.lastSyncAt?new Date(i.lastSyncAt).toLocaleDateString():"Recently"},{id:"score",type:"score",message:`Your average score increased by ${o} points!`,date:"This month"}],g={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return a.jsx(qn,{children:a.jsxs(Me.div,{className:"space-y-6",initial:"hidden",animate:"visible",variants:g,children:[a.jsxs(Me.div,{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",variants:y,children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:["Welcome back, ",(t==null?void 0:t.first_name)||"there","! "]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Your credit repair journey is progressing well. Here's your latest update."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{variant:"outline",onClick:c,disabled:n,className:"border-border/50 hover:border-primary/50 transition-all",children:[a.jsx(tf,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`}),"Refresh"]}),a.jsx(pr,{to:"/client-dashboard/smartcredit",children:a.jsxs(ge,{className:"bg-gradient-to-r from-primary to-emerald-500 hover:opacity-90 shadow-lg shadow-primary/25 transition-all hover:shadow-xl hover:shadow-primary/30",children:[a.jsx(Jl,{className:"w-4 h-4 mr-2"}),"Sync Report"]})})]})]}),a.jsx(Me.div,{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",variants:y,children:p.map((v,w)=>a.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},children:a.jsxs(le,{className:"relative overflow-hidden border-border/50 hover:border-primary/30 transition-all duration-300 hover:shadow-lg hover:shadow-primary/5 group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsxs(Ne,{className:"pt-6 relative",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-foreground",children:v.bureau}),a.jsxs(De,{variant:"outline",className:"bg-success/10 text-success border-success/20",children:[a.jsx(gr,{className:"w-3 h-3 mr-1"}),"+",v.score-v.previousScore]})]}),a.jsx(np,{score:v.score,size:"sm"}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-2",children:["Previous: ",v.previousScore]})]})]})},v.bureau))}),a.jsx(le,{className:"card-elevated bg-gradient-to-r from-primary/5 to-primary/10 border-primary/20",children:a.jsx(Ne,{className:"py-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-primary flex items-center justify-center",children:a.jsx(jn,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Score Increase"}),a.jsxs("p",{className:"text-4xl font-bold text-primary",children:["+",typeof o=="number"?o:0," pts"]})]})]}),a.jsxs("div",{className:"text-center md:text-right",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Average Score"}),a.jsx("p",{className:"text-3xl font-bold text-foreground",children:typeof s=="number"?s:0})]})]})})}),a.jsxs(Me.div,{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",variants:y,children:[a.jsxs(le,{className:"relative overflow-hidden border-border/50 hover:border-primary/30 transition-all duration-300",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-primary/10 to-transparent rounded-bl-full"}),a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx($t,{className:"w-5 h-5 text-primary"})}),"Dispute Progress"]}),a.jsx(Zt,{children:"Track your negative items"})]}),a.jsxs(Ne,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm font-medium text-primary",children:[u,"%"]})]}),a.jsx("div",{className:"relative h-3 bg-muted rounded-full overflow-hidden",children:a.jsx(Me.div,{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-primary to-emerald-500 rounded-full",initial:{width:0},animate:{width:`${u}%`},transition:{duration:1,delay:.5}})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4",children:[a.jsxs(Me.div,{className:"text-center p-4 rounded-xl bg-gradient-to-br from-success/10 to-success/5 border border-success/20",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400},children:[a.jsx(zn,{className:"w-6 h-6 text-success mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-success",children:(l==null?void 0:l.deleted)||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Deleted"})]}),a.jsxs(Me.div,{className:"text-center p-4 rounded-xl bg-gradient-to-br from-warning/10 to-warning/5 border border-warning/20",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400},children:[a.jsx(nr,{className:"w-6 h-6 text-warning mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-warning",children:(l==null?void 0:l.inProgress)||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"In Progress"})]}),a.jsxs(Me.div,{className:"text-center p-4 rounded-xl bg-gradient-to-br from-muted to-muted/50 border border-border",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400},children:[a.jsx(Bi,{className:"w-6 h-6 text-muted-foreground mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold",children:(l==null?void 0:l.pending)||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})]}),a.jsx(pr,{to:"/client-dashboard/disputes",children:a.jsxs(ge,{variant:"outline",className:"w-full mt-4 group hover:border-primary/50 transition-all",children:["View All Disputes",a.jsx(wi,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]}),a.jsxs(le,{className:"relative overflow-hidden border-border/50 hover:border-primary/30 transition-all duration-300",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-emerald-500/10 to-transparent rounded-bl-full"}),a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10",children:a.jsx(xr,{className:"w-5 h-5 text-emerald-500"})}),"Credit Summary"]}),a.jsx(Zt,{children:"Your credit profile overview"})]}),a.jsx(Ne,{children:a.jsx("div",{className:"space-y-3",children:[{label:"Total Accounts",value:h(r.summary.totalAccounts),icon:Fs},{label:"On-Time Payments",value:`${h(r.summary.onTimePayments)}%`,icon:zn,color:"text-success"},{label:"Credit Utilization",value:`${h(r.summary.creditUtilization)}%`,icon:Wa},{label:"Average Account Age",value:typeof r.summary.avgAccountAge=="string"?r.summary.avgAccountAge:String(h(r.summary.avgAccountAge)),icon:Ha}].map((v,w)=>a.jsxs(Me.div,{className:"flex items-center justify-between p-3 rounded-xl bg-gradient-to-r from-muted/50 to-transparent border border-border/50 hover:border-primary/20 transition-all",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+w*.1},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(v.icon,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm",children:v.label})]}),a.jsx("span",{className:`font-semibold ${v.color||""}`,children:v.value})]},v.label))})})]})]}),a.jsx(Me.div,{variants:y,children:a.jsxs(le,{className:"relative overflow-hidden border-border/50",children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(bs,{className:"w-5 h-5 text-primary"})}),"Recent Updates"]}),a.jsx(Zt,{children:"Latest activity on your account"})]}),a.jsx(pr,{to:"/client-dashboard/messages",children:a.jsx(ge,{variant:"outline",size:"sm",className:"hover:border-primary/50",children:"View All"})})]})}),a.jsx(Ne,{children:a.jsx("div",{className:"space-y-3",children:m.map((v,w)=>a.jsxs(Me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+w*.1},className:"flex items-start gap-4 p-4 rounded-xl border border-border/50 hover:border-primary/20 hover:bg-muted/30 transition-all group",children:[a.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 transition-transform group-hover:scale-110 ${v.type==="deletion"?"bg-gradient-to-br from-success/20 to-success/10 text-success":v.type==="score"?"bg-gradient-to-br from-primary/20 to-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:v.type==="deletion"?a.jsx(zn,{className:"w-5 h-5"}):v.type==="score"?a.jsx(gr,{className:"w-5 h-5"}):a.jsx(Bi,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium",children:v.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:v.date})]})]},v.id))})})]})}),a.jsx(Me.div,{variants:y,children:a.jsxs(le,{className:"relative overflow-hidden border-primary/20 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:[a.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-primary/10 rounded-full blur-3xl"}),a.jsx(Ne,{className:"py-6 relative",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(Me.div,{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-emerald-500 flex items-center justify-center flex-shrink-0 shadow-lg shadow-primary/25",animate:{rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0},children:a.jsx(jn,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground text-lg",children:"Why Your Score Increased"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2 leading-relaxed",children:l!=null&&l.deleted&&l.deleted>0?`Your score improved because ${l.deleted} negative item(s) were successfully removed from your credit report. Each removal typically improves your score by 10-50 points. With ${l.inProgress+l.pending} items still in dispute, we expect continued improvement.`:"Your score is being actively monitored. Once disputes are processed and negative items are removed, you'll see significant improvements. Stay tuned for updates!"})]})]})})]})}),a.jsx(Lde,{})]})})}const Zut=[{id:"1",title:"Why we dispute this item",description:"FCRA  611(a) requires bureaus to investigate disputed items within 30 days.",type:"legal"},{id:"2",title:"Best strategy for collections",description:"Debt validation letters are most effective for accounts under $500.",type:"strategy"}];function edt(){const{profile:t,user:e}=ln(),{tasks:n,pendingTasks:r,inProgressTasks:i,completedTasks:s,isLoading:o}=BT(),{assignments:l,isLoading:c}=SU(),u=o||c,f=l.filter(b=>b.va_user_id===(e==null?void 0:e.id)).map(b=>{var S;return{id:b.client_user_id,name:b.client_profile?`${b.client_profile.first_name||""} ${b.client_profile.last_name||""}`.trim()||"Unknown":"Unknown Client",email:(S=b.client_profile)==null?void 0:S.email,status:"active"}}),h=new Date;h.setHours(0,0,0,0);const p=s.filter(b=>new Date(b.completed_at||b.updated_at)>=h).length,m={assignedClients:f.length,pendingTasks:r.length+i.length,completedToday:p,lettersToReview:n.filter(b=>b.task_type==="review_dispute"||b.task_type==="generate_letters").length},g=[...r,...i].slice(0,4).map(b=>{var S;return{id:b.id,client:((S=f.find(j=>j.id===b.client_id))==null?void 0:S.name)||"General",task:b.title,description:b.description,priority:b.priority,dueDate:b.due_date?new Date(b.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"No due date",aiSuggestion:b.ai_generated,status:b.status}}),y={high:"bg-destructive/10 text-destructive border-destructive/20",urgent:"bg-destructive/10 text-destructive border-destructive/20",medium:"bg-warning/10 text-warning border-warning/20",low:"bg-muted text-muted-foreground border-border"},v={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return u?a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(kt,{className:"h-9 w-48 mb-2"}),a.jsx(kt,{className:"h-5 w-72"})]}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(b=>a.jsx(kt,{className:"h-28"},b))})]})}):a.jsx(qn,{children:a.jsxs(Me.div,{className:"space-y-6",initial:"hidden",animate:"visible",variants:v,children:[a.jsxs(Me.div,{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",variants:w,children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:"VA Dashboard"}),a.jsxs("p",{className:"text-muted-foreground mt-1",children:["Welcome back, ",(t==null?void 0:t.first_name)||"Team Member",". Here's your task overview."]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(pr,{to:"/va-dashboard/tasks",children:a.jsxs(ge,{variant:"outline",className:"border-border/50 hover:border-primary/50 transition-all",children:[a.jsx(Ag,{className:"w-4 h-4 mr-2"}),"All Tasks"]})}),a.jsx(pr,{to:"/va-dashboard/disputes",children:a.jsxs(ge,{className:"bg-gradient-to-r from-primary to-emerald-500 hover:opacity-90 shadow-lg shadow-primary/25 transition-all hover:shadow-xl hover:shadow-primary/30",children:[a.jsx($t,{className:"w-4 h-4 mr-2"}),"Review Letters"]})})]})]}),a.jsx(Me.div,{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",variants:w,children:[{label:"Assigned Clients",value:m.assignedClients,icon:br,color:"primary",gradient:"from-primary/20 to-primary/5"},{label:"Pending Tasks",value:m.pendingTasks,icon:nr,color:"warning",gradient:"from-warning/20 to-warning/5"},{label:"Completed Today",value:m.completedToday,icon:zn,color:"success",gradient:"from-success/20 to-success/5"},{label:"Letters to Review",value:m.lettersToReview,icon:$t,color:"info",gradient:"from-blue-500/20 to-blue-500/5"}].map((b,S)=>a.jsx(Me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.1},children:a.jsxs(le,{className:`relative overflow-hidden border-border/50 hover:border-${b.color}/30 transition-all duration-300 hover:shadow-lg group`,children:[a.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${b.gradient} opacity-0 group-hover:opacity-100 transition-opacity`}),a.jsx(Ne,{className:"pt-6 relative",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:b.label}),a.jsx(Me.p,{className:`text-3xl font-bold text-${b.color}`,initial:{scale:0},animate:{scale:1},transition:{delay:.3+S*.1,type:"spring"},children:b.value})]}),a.jsx(Me.div,{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${b.gradient} flex items-center justify-center`,whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400},children:a.jsx(b.icon,{className:`w-6 h-6 text-${b.color}`})})]})})]})},b.label))}),a.jsxs(Me.div,{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",variants:w,children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsxs(le,{className:"relative overflow-hidden border-border/50",children:[a.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-gradient-to-bl from-primary/10 to-transparent rounded-bl-full"}),a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Ag,{className:"w-5 h-5 text-primary"})}),"Priority Tasks"]}),a.jsx(Zt,{children:"Tasks requiring your attention"})]}),a.jsx(pr,{to:"/va-dashboard/tasks",children:a.jsxs(ge,{variant:"ghost",size:"sm",className:"group",children:["View All ",a.jsx(wi,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})})]})}),a.jsx(Ne,{children:g.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ag,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No pending tasks"}),a.jsx("p",{className:"text-sm",children:"Great job! You're all caught up."})]}):a.jsx("div",{className:"space-y-3",children:g.map((b,S)=>a.jsxs(Me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+S*.1},className:"flex items-start gap-4 p-4 rounded-xl border border-border/50 hover:border-primary/30 hover:bg-muted/30 transition-all group",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("p",{className:"font-medium text-sm",children:b.client}),b.aiSuggestion&&a.jsxs(De,{variant:"outline",className:"bg-gradient-to-r from-primary/10 to-emerald-500/10 text-primary border-primary/20 text-xs",children:[a.jsx(jn,{className:"w-3 h-3 mr-1"}),"AI Task"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:b.task}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(De,{variant:"outline",className:je("text-xs capitalize",y[b.priority]),children:b.priority}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(Ha,{className:"w-3 h-3"}),b.dueDate]})]})]}),a.jsx(pr,{to:"/va-dashboard/tasks",children:a.jsx(ge,{size:"sm",variant:"outline",className:"opacity-0 group-hover:opacity-100 transition-opacity hover:bg-primary hover:text-primary-foreground",children:"Start"})})]},b.id))})})]}),a.jsxs(le,{className:"relative overflow-hidden border-primary/20 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:[a.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 bg-primary/10 rounded-full blur-3xl"}),a.jsxs(Ye,{className:"relative",children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Me.div,{className:"p-2 rounded-lg bg-gradient-to-br from-primary to-emerald-500 shadow-lg shadow-primary/25",animate:{rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0},children:a.jsx(tr,{className:"w-5 h-5 text-white"})}),"AI Training Mode"]}),a.jsx(Zt,{children:"Learn why we dispute certain items"})]}),a.jsxs(Ne,{className:"relative",children:[a.jsx("div",{className:"space-y-3",children:Zut.map((b,S)=>a.jsxs(Me.div,{className:"p-4 rounded-xl bg-background/50 backdrop-blur-sm border border-border/50 hover:border-primary/30 transition-all",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6+S*.1},children:[a.jsxs("p",{className:"font-medium text-sm flex items-center gap-2",children:[a.jsx(Wa,{className:"w-4 h-4 text-primary"}),b.title]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b.description})]},b.id))}),a.jsx(pr,{to:"/va-dashboard/training",children:a.jsxs(ge,{variant:"outline",className:"w-full mt-4 group hover:border-primary/50",children:["View Training Library",a.jsx(wi,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})]}),a.jsxs(le,{className:"relative overflow-hidden border-border/50",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-emerald-500/10 to-transparent rounded-bl-full"}),a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10",children:a.jsx(br,{className:"w-5 h-5 text-emerald-500"})}),"My Clients"]}),a.jsx(Zt,{children:"Clients assigned to you"})]}),a.jsxs(Ne,{children:[f.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(br,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No clients assigned"}),a.jsx("p",{className:"text-sm",children:"Contact your agency owner for assignments."})]}):a.jsx("div",{className:"space-y-3",children:f.slice(0,5).map((b,S)=>a.jsx(Me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5+S*.1},children:a.jsxs(pr,{to:`/va-dashboard/clients/${b.id}`,className:"flex items-center gap-3 p-3 rounded-xl border border-border/50 hover:border-primary/30 hover:bg-muted/30 transition-all group",children:[a.jsx(ws,{className:"w-10 h-10 ring-2 ring-background group-hover:ring-primary/20 transition-all",children:a.jsx(_s,{className:"bg-gradient-to-br from-primary/20 to-emerald-500/20 text-foreground font-semibold text-sm",children:b.name.split(" ").map(j=>j[0]).join("").slice(0,2)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:b.name}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:b.email||"No email"})]}),a.jsx("div",{className:je("w-2.5 h-2.5 rounded-full ring-2 ring-background",b.status==="active"?"bg-success":"bg-warning")})]})},b.id))}),a.jsx(pr,{to:"/va-dashboard/clients",children:a.jsxs(ge,{variant:"outline",className:"w-full mt-4 group hover:border-primary/50",children:["View All Clients",a.jsx(wi,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})]})]})})}function tdt(){const[t,e]=N.useState(!1),[n,r]=N.useState({status:"not_connected"}),{user:i}=ln(),{toast:s}=Mr();N.useEffect(()=>{i&&o()},[i]);const o=async()=>{if(i)try{const{data:h,error:p}=await ue.functions.invoke("smartcredit-sync",{body:{action:"get_status",userId:i.id}});if(p)throw p;r({status:h.status,connectedAt:h.connectedAt,lastSyncAt:h.lastSyncAt,hasReport:h.hasReport})}catch(h){console.error("Error checking SmartCredit status:",h)}},l=async()=>{if(!i){s({title:"Not Logged In",description:"Please log in to connect SmartCredit.",variant:"destructive"});return}e(!0);try{const{data:h,error:p}=await ue.functions.invoke("smartcredit-sync",{body:{action:"init_connection",userId:i.id}});if(p)throw p;return r({status:"pending"}),s({title:"Connection Initiated",description:"Complete the SmartCredit authorization to continue."}),setTimeout(async()=>{await c({accessToken:"demo_token"})},2e3),h}catch(h){throw console.error("Error initializing SmartCredit:",h),s({title:"Connection Failed",description:h.message||"Failed to initialize SmartCredit connection.",variant:"destructive"}),h}finally{e(!1)}},c=async h=>{if(i){e(!0);try{const{error:p}=await ue.functions.invoke("smartcredit-sync",{body:{action:"complete_connection",userId:i.id,connectionData:h}});if(p)throw p;r({status:"connected",connectedAt:new Date().toISOString()}),s({title:"SmartCredit Connected!",description:"Your credit data will now sync automatically."}),await u()}catch(p){throw console.error("Error completing SmartCredit connection:",p),p}finally{e(!1)}}},u=async h=>{if(i){e(!0);try{const{data:p,error:m}=await ue.functions.invoke("smartcredit-sync",{body:{action:"sync_report",userId:i.id,reportData:h}});if(m)throw m;return r(g=>({...g,lastSyncAt:p.lastSyncAt,hasReport:!0})),s({title:"Report Synced",description:"Your credit report has been updated."}),p}catch(p){throw console.error("Error syncing report:",p),s({title:"Sync Failed",description:p.message||"Failed to sync credit report.",variant:"destructive"}),p}finally{e(!1)}}};return{isProcessing:t,connectionStatus:n,initConnection:l,completeConnection:c,syncReport:u,importRawReport:async h=>{var p,m;if(!i){s({title:"Not Logged In",description:"Please log in to import a report.",variant:"destructive"});return}e(!0);try{console.log("Importing raw SmartCredit report...");const{data:g,error:y}=await ue.functions.invoke("smartcredit-sync",{body:{action:"import_raw_report",userId:i.id,reportData:h}});if(y)throw y;return r({status:"connected",connectedAt:new Date().toISOString(),lastSyncAt:g.lastSyncAt,hasReport:!0}),s({title:"Report Imported!",description:`Successfully imported SmartCredit report with ${((m=(p=g.creditData)==null?void 0:p.negativeItems)==null?void 0:m.length)||0} disputable items.`}),g}catch(g){throw console.error("Error importing raw report:",g),s({title:"Import Failed",description:g.message||"Failed to import credit report.",variant:"destructive"}),g}finally{e(!1)}},disconnect:async()=>{if(i){e(!0);try{const{error:h}=await ue.functions.invoke("smartcredit-sync",{body:{action:"disconnect",userId:i.id}});if(h)throw h;r({status:"disconnected"}),s({title:"Disconnected",description:"SmartCredit has been disconnected."})}catch(h){throw console.error("Error disconnecting SmartCredit:",h),h}finally{e(!1)}}},checkStatus:o}}function Fde(){const[t,e]=N.useState(!1),[n,r]=N.useState([]),{user:i}=ln(),s=N.useCallback(async()=>{if(i){e(!0);try{const{data:c,error:u}=await ue.from("score_history").select("*").eq("user_id",i.id).order("recorded_at",{ascending:!0});if(u)throw u;r(c||[])}catch(c){console.error("Error fetching score history:",c)}finally{e(!1)}}},[i]),o=N.useCallback(async(c,u,d,f="sync")=>{if(!i)return null;try{const h=new Date().toISOString().split("T")[0],{data:p}=await ue.from("score_history").select("id").eq("user_id",i.id).gte("recorded_at",h).lt("recorded_at",h+"T23:59:59.999Z").maybeSingle();if(p){const{data:m,error:g}=await ue.from("score_history").update({experian:c,equifax:u,transunion:d,source:f}).eq("id",p.id).select().single();if(g)throw g;return r(y=>y.map(v=>v.id===p.id?m:v)),m}else{const{data:m,error:g}=await ue.from("score_history").insert({user_id:i.id,experian:c,equifax:u,transunion:d,source:f}).select().single();if(g)throw g;return r(y=>[...y,m]),m}}catch(h){return console.error("Error recording score:",h),null}},[i]),l=N.useCallback((c=30)=>{if(n.length<2)return{experian:0,equifax:0,transunion:0};const u=new Date;u.setDate(u.getDate()-c);const d=n.find(h=>new Date(h.recorded_at)>=u)||n[0],f=n[n.length-1];return{experian:(f.experian||0)-(d.experian||0),equifax:(f.equifax||0)-(d.equifax||0),transunion:(f.transunion||0)-(d.transunion||0)}},[n]);return N.useEffect(()=>{s()},[s]),{isLoading:t,history:n,fetchHistory:s,recordScore:o,getScoreChange:l,latestScores:n.length>0?n[n.length-1]:null}}const Jq=[{id:"smartcredit",name:"SmartCredit",description:"3-bureau credit monitoring with daily updates",website:"https://www.smartcredit.com",acceptedFormats:[".pdf",".png",".jpg",".jpeg"],icon:a.jsx(xr,{className:"w-5 h-5"}),color:"text-blue-500"},{id:"identityiq",name:"IdentityIQ",description:"Credit monitoring with identity protection",website:"https://www.identityiq.com",acceptedFormats:[".pdf",".png",".jpg",".jpeg"],icon:a.jsx(Qi,{className:"w-5 h-5"}),color:"text-purple-500"},{id:"privacyguard",name:"PrivacyGuard",description:"Credit reports with privacy monitoring",website:"https://www.privacyguard.com",acceptedFormats:[".pdf",".png",".jpg",".jpeg"],icon:a.jsx(xr,{className:"w-5 h-5"}),color:"text-green-500"},{id:"creditkarma",name:"Credit Karma",description:"Free credit scores and reports",website:"https://www.creditkarma.com",acceptedFormats:[".png",".jpg",".jpeg"],icon:a.jsx(fa,{className:"w-5 h-5"}),color:"text-emerald-500"}],ndt=["Experian","Equifax","TransUnion"];function ZR(){const{role:t,user:e}=ln(),{toast:n}=Mr(),{isProcessing:r,connectionStatus:i,disconnect:s,checkStatus:o}=tdt(),{createDisputesFromAnalysis:l}=EU(),{recordScore:c}=Fde(),[u,d]=N.useState("smartcredit"),[f,h]=N.useState(!1),[p,m]=N.useState(""),g=N.useRef(null),y=Jq.find(C=>C.id===u);N.useEffect(()=>{e&&o()},[e]);const v=async()=>{try{await s()}catch{}},w=async C=>{var D,V,U,$,z;const R=(D=C.target.files)==null?void 0:D[0];if(!R||!e)return;const I="."+((V=R.name.split(".").pop())==null?void 0:V.toLowerCase());if(!y.acceptedFormats.includes(I)){n({title:"Invalid File Type",description:`Please upload one of: ${y.acceptedFormats.join(", ")}`,variant:"destructive"});return}if(R.size>10*1024*1024){n({title:"File Too Large",description:"Please upload a file smaller than 10MB.",variant:"destructive"});return}h(!0),m("Uploading file...");try{const W=`${e.id}/${u}/${Date.now()}_${R.name}`,{error:k}=await ue.storage.from("credit-reports").upload(W,R);if(k)throw k;m("Analyzing report with AI...");const{data:L,error:H}=await ue.functions.invoke("ocr-document-parser",{body:{filePath:W,provider:u,userId:e.id}});if(H)throw H;if(!L.success)throw new Error(L.error||"Failed to analyze report");m("Saving analysis results...");const G=L.analysis||{},X=G.scores||{experian:null,equifax:null,transunion:null},Z=(G.negativeItems||[]).map((ae,be)=>({id:crypto.randomUUID(),creditor:ae.creditor||"Unknown",bureau:ae.bureau||"Unknown",type:ae.type||"Negative Item",status:"pending",balance:null,dateOpened:new Date().toISOString().split("T")[0],disputeReason:ae.disputeReason||ae.reason||"Requires verification",deletionProbability:.65})),B={scores:{experian:X.experian||0,equifax:X.equifax||0,transunion:X.transunion||0},previousScores:{experian:Math.max(0,(X.experian||0)-25),equifax:Math.max(0,(X.equifax||0)-25),transunion:Math.max(0,(X.transunion||0)-25)},negativeItems:Z,tradelines:G.tradelines||[],inquiries:G.inquiries||[],summary:L.summary||G.summary||{totalAccounts:((U=G.tradelines)==null?void 0:U.length)||0,negativeCount:Z.length,collectionsCount:(($=G.collections)==null?void 0:$.length)||0,inquiryCount:((z=G.inquiries)==null?void 0:z.length)||0,onTimePayments:85,creditUtilization:30,avgAccountAge:"3 years",totalDebt:0},scoreHistory:[]},{error:te}=await ue.from("credit_report_analyses").upsert({user_id:e.id,file_path:W,raw_text:L.rawText,analysis_result:B,summary:B.summary,disputable_items:Z,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(te)throw te;const{data:ie}=await ue.from("smartcredit_connections").select("id").eq("user_id",e.id).maybeSingle();ie?await ue.from("smartcredit_connections").update({connection_status:"connected",connected_at:new Date().toISOString(),last_sync_at:new Date().toISOString()}).eq("user_id",e.id):await ue.from("smartcredit_connections").insert({user_id:e.id,connection_status:"connected",connected_at:new Date().toISOString(),last_sync_at:new Date().toISOString()}),(X.experian||X.equifax||X.transunion)&&await c(X.experian||null,X.equifax||null,X.transunion||null,"import"),Z.length>0&&await l(Z),n({title:"Report Imported Successfully",description:`Your ${y.name} report has been analyzed. Found ${Z.length} disputable items.`}),o(),g.current&&(g.current.value="")}catch(W){console.error("Error processing report:",W),n({title:"Import Failed",description:W.message||"Could not process the credit report. Please try again.",variant:"destructive"})}finally{h(!1),m("")}},b=()=>{var C;(C=g.current)==null||C.click()},S=C=>{C.preventDefault(),C.stopPropagation()},j=C=>{C.preventDefault(),C.stopPropagation();const R=C.dataTransfer.files;if(R.length>0&&g.current){const I=new DataTransfer;I.items.add(R[0]),g.current.files=I.files,w({target:{files:I.files}})}},E=t==="client"||t==="agency_owner",T=i.status==="connected",P=f||r;return a.jsx(qn,{children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Credit Report Import"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Upload your credit report from any supported provider. Our AI will analyze and extract all data for dispute generation."})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsxs(Ye,{children:[a.jsx(Xe,{children:"Select Your Credit Monitoring Provider"}),a.jsx(Zt,{children:"Choose where you get your credit reports from"})]}),a.jsx(Ne,{children:a.jsx(jl,{value:u,onValueChange:C=>d(C),children:a.jsx(Io,{className:"grid grid-cols-2 md:grid-cols-4 w-full h-auto gap-2 bg-transparent p-0",children:Jq.map(C=>a.jsxs(hn,{value:C.id,className:je("flex flex-col items-center gap-2 p-4 h-auto border rounded-lg data-[state=active]:border-primary data-[state=active]:bg-primary/5","hover:bg-muted/50 transition-colors"),children:[a.jsx("span",{className:C.color,children:C.icon}),a.jsx("span",{className:"text-sm font-medium",children:C.name})]},C.id))})})})]}),a.jsx(le,{className:je("card-elevated",T?"border-success/30 bg-success/5":"border-muted/30 bg-muted/5"),children:a.jsx(Ne,{className:"py-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:je("w-12 h-12 rounded-full flex items-center justify-center",T?"bg-success/10":"bg-muted/10"),children:T?a.jsx(zn,{className:"w-6 h-6 text-success"}):a.jsx(bge,{className:"w-6 h-6 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:T?"Report Imported":"No Report Uploaded"}),i.connectedAt&&a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(zn,{className:"w-3 h-3"}),"Imported: ",new Date(i.connectedAt).toLocaleDateString()]}),i.lastSyncAt&&a.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(nr,{className:"w-3 h-3"}),"Last updated: ",new Date(i.lastSyncAt).toLocaleString()]}),i.hasReport&&a.jsxs(De,{variant:"outline",className:"mt-1 bg-success/10 text-success border-success/20",children:[a.jsx($t,{className:"w-3 h-3 mr-1"}),"Report Data Available"]})]})]}),T&&E&&a.jsx(ge,{variant:"ghost",onClick:v,disabled:P,children:"Clear Data"})]})})}),E&&a.jsxs(le,{className:"card-elevated border-primary/30",children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx("span",{className:y.color,children:y.icon}),"Upload ",y.name," Report"]}),a.jsx(Zt,{children:y.id==="creditkarma"?"Take screenshots of your Credit Karma dashboard and upload them for AI analysis.":`Download your credit report from ${y.name} and upload it here. Our AI will extract all the data.`})]}),a.jsxs(Ne,{children:[a.jsx("input",{ref:g,type:"file",accept:y.acceptedFormats.join(","),className:"hidden",onChange:w,disabled:P}),a.jsx("div",{onClick:P?void 0:b,onDragOver:S,onDrop:P?void 0:j,className:je("border-2 border-dashed rounded-lg p-8 text-center transition-colors",P?"border-primary/50 bg-primary/5 cursor-wait":"border-primary/30 cursor-pointer hover:border-primary/50 hover:bg-primary/5"),children:P?a.jsxs(a.Fragment,{children:[a.jsx(Dn,{className:"w-12 h-12 mx-auto text-primary mb-4 animate-spin"}),a.jsx("p",{className:"text-sm font-medium text-primary",children:p||"Processing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(yge,{className:"w-12 h-12 mx-auto text-primary mb-4"}),a.jsxs("p",{className:"text-sm font-medium text-foreground mb-2",children:["Drop your ",y.name," report here"]}),a.jsxs("p",{className:"text-xs text-muted-foreground mb-4",children:["Accepted formats: ",y.acceptedFormats.join(", ")]}),a.jsxs(ge,{variant:"outline",className:"border-primary/30 text-primary hover:bg-primary/10",onClick:C=>{C.stopPropagation(),b()},type:"button",children:[a.jsx(cc,{className:"w-4 h-4 mr-2"}),"Select File"]})]})}),a.jsx("p",{className:"text-xs text-muted-foreground mt-3 text-center",children:"Maximum file size: 10MB. Your data is encrypted and secure."})]})]}),T&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:ndt.map(C=>a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-success/10 flex items-center justify-center",children:a.jsx(zn,{className:"w-5 h-5 text-success"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:C}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Data Imported"})]})]}),a.jsxs(De,{variant:"outline",className:"w-full justify-center bg-success/10 text-success border-success/20",children:[a.jsx($t,{className:"w-3 h-3 mr-1"}),"Report Available"]})]})},C))}),!E&&a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"py-8 text-center",children:[a.jsx(rf,{className:"w-12 h-12 text-warning mx-auto mb-4"}),a.jsx("h3",{className:"font-semibold text-lg mb-2",children:"View Only Access"}),a.jsx("p",{className:"text-muted-foreground",children:"As a VA, you can view imported credit data but cannot upload reports. Please ask your agency owner or the client to import their credit report."})]})}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs(Xe,{children:["How to Export from ",y.name]})}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-lg font-bold text-primary",children:"1"})}),a.jsx("h4",{className:"font-semibold mb-1",children:"Log In"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Visit ",y.website.replace("https://","")," and sign in"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-lg font-bold text-primary",children:"2"})}),a.jsx("h4",{className:"font-semibold mb-1",children:y.id==="creditkarma"?"Screenshot":"Download Report"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:y.id==="creditkarma"?"Take screenshots of your full credit report":"Download or print your full credit report as PDF"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-lg font-bold text-primary",children:"3"})}),a.jsx("h4",{className:"font-semibold mb-1",children:"Upload Here"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag and drop or click to upload the file"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-lg font-bold text-primary",children:"4"})}),a.jsx("h4",{className:"font-semibold mb-1",children:"AI Analysis"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Our AI extracts data and identifies disputes"})]})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:a.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Don't have a ",y.name," account?"," ",a.jsxs("a",{href:y.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center gap-1",children:["Sign up here ",a.jsx(W0,{className:"w-3 h-3"})]})]})})]})]})]})})}function rdt(){var S,j,E,T,P,C;const{isLoading:t,isRefreshing:e,creditData:n,connectionStatus:r,refreshData:i}=Nf(),{isLoading:s,history:o,fetchHistory:l,getScoreChange:c}=Fde(),u=t||s;if(N.useEffect(()=>{l()},[l]),u)return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(kt,{className:"h-9 w-48 mb-2"}),a.jsx(kt,{className:"h-5 w-72"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(R=>a.jsx(le,{className:"card-elevated",children:a.jsx(Ne,{className:"pt-6",children:a.jsx(kt,{className:"h-40 w-full"})})},R))})]})});if(!(n!=null&&n.scores)||r.status!=="connected")return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Score Progress"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your credit score improvements over time"})]}),a.jsx(le,{className:"card-elevated border-primary/20",children:a.jsxs(Ne,{className:"py-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(Jl,{className:"w-8 h-8 text-primary"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Score Data Yet"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Connect your SmartCredit account to view your credit scores and track improvements."}),a.jsx(pr,{to:"/client-dashboard/smartcredit",children:a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",children:[a.jsx(Jl,{className:"w-4 h-4 mr-2"}),"Connect SmartCredit"]})})]})})]})});const d=R=>typeof R=="number"?R:R&&typeof R=="object"&&"score"in R?Number(R.score)||0:Number(R)||0,f={experian:d((S=n.scores)==null?void 0:S.experian),equifax:d((j=n.scores)==null?void 0:j.equifax),transunion:d((E=n.scores)==null?void 0:E.transunion)},h={experian:d((T=n.previousScores)==null?void 0:T.experian),equifax:d((P=n.previousScores)==null?void 0:P.equifax),transunion:d((C=n.previousScores)==null?void 0:C.transunion)},p=o.length>0?o.map(R=>({date:R.recorded_at,experian:R.experian||0,equifax:R.equifax||0,transunion:R.transunion||0})):[],m=c(30),g=(R,I)=>R-I,y=720,v=Math.round((f.experian+f.equifax+f.transunion)/3),w=Math.max(0,y-v),b=Math.min(100,Math.max(0,Math.round((v-550)/(y-550)*100)));return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Score Progress"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your credit score improvements over time"})]}),a.jsxs(ge,{variant:"outline",onClick:i,disabled:e,children:[a.jsx(tf,{className:`w-4 h-4 mr-2 ${e?"animate-spin":""}`}),"Refresh"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{className:"pb-2",children:a.jsxs(Xe,{className:"text-sm font-medium text-muted-foreground flex items-center justify-between",children:["Experian",a.jsxs(De,{variant:g(f.experian,h.experian)>=0?"default":"destructive",className:"text-xs",children:[g(f.experian,h.experian)>=0?"+":"",g(f.experian,h.experian)]})]})}),a.jsx(Ne,{children:a.jsx(np,{score:f.experian,previousScore:h.experian})})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{className:"pb-2",children:a.jsxs(Xe,{className:"text-sm font-medium text-muted-foreground flex items-center justify-between",children:["Equifax",a.jsxs(De,{variant:g(f.equifax,h.equifax)>=0?"default":"destructive",className:"text-xs",children:[g(f.equifax,h.equifax)>=0?"+":"",g(f.equifax,h.equifax)]})]})}),a.jsx(Ne,{children:a.jsx(np,{score:f.equifax,previousScore:h.equifax})})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{className:"pb-2",children:a.jsxs(Xe,{className:"text-sm font-medium text-muted-foreground flex items-center justify-between",children:["TransUnion",a.jsxs(De,{variant:g(f.transunion,h.transunion)>=0?"default":"destructive",className:"text-xs",children:[g(f.transunion,h.transunion)>=0?"+":"",g(f.transunion,h.transunion)]})]})}),a.jsx(Ne,{children:a.jsx(np,{score:f.transunion,previousScore:h.transunion})})]})]}),o.length>1&&a.jsx(le,{className:"card-elevated bg-gradient-to-r from-primary/5 to-transparent border-primary/20",children:a.jsxs(Ne,{className:"py-6",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"30-Day Score Changes"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Experian"}),a.jsxs("p",{className:`text-2xl font-bold ${m.experian>=0?"text-success":"text-destructive"}`,children:[m.experian>=0?"+":"",m.experian]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Equifax"}),a.jsxs("p",{className:`text-2xl font-bold ${m.equifax>=0?"text-success":"text-destructive"}`,children:[m.equifax>=0?"+":"",m.equifax]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"TransUnion"}),a.jsxs("p",{className:`text-2xl font-bold ${m.transunion>=0?"text-success":"text-destructive"}`,children:[m.transunion>=0?"+":"",m.transunion]})]})]})]})}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Ha,{className:"w-5 h-5 text-primary"}),"Score History"]})}),a.jsx(Ne,{children:p.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ha,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No score history yet. History will be recorded with each credit report sync."})]}):a.jsx("div",{className:"space-y-4",children:p.slice().reverse().map((R,I)=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:new Date(R.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Synced report"})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"EXP"}),a.jsx("p",{className:"font-semibold",children:R.experian})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"EQF"}),a.jsx("p",{className:"font-semibold",children:R.equifax})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"TU"}),a.jsx("p",{className:"font-semibold",children:R.transunion})]})]})]},I))})})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Fs,{className:"w-5 h-5 text-primary"}),"Your Goals"]})}),a.jsx(Ne,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Target Score"}),a.jsxs(De,{children:[y,"+"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${b}%`}})}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[w," points to go"]})]}),a.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Estimated Timeline"}),a.jsx(De,{variant:"outline",children:"3-4 months"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on current progress"})]})]})})]})]})})}const Qq={pending:{label:"Pending",color:"bg-muted text-muted-foreground border-border",icon:nr},in_progress:{label:"In Progress",color:"bg-info/10 text-info border-info/20",icon:nr},deleted:{label:"Deleted",color:"bg-success/10 text-success border-success/20",icon:zn},verified:{label:"Verified",color:"bg-destructive/10 text-destructive border-destructive/20",icon:Bi}};function idt(){const{toast:t}=Mr(),[e,n]=N.useState(null),[r,i]=N.useState(""),[s,o]=N.useState(!1),[l,c]=N.useState(null),[u,d]=N.useState(!1),{isLoading:f,isRefreshing:h,creditData:p,connectionStatus:m,disputeProgress:g,refreshData:y}=Nf(),{saveLetter:v,fetchLetters:w,letters:b}=AU();N.useEffect(()=>{w()},[w]);const S=async P=>{n(P),d(!0),o(!0),c("Generating dispute letter..."),i("");const C=b.find(R=>R.dispute_item_id===P.id);if(C){i(C.letter_content),o(!1);return}try{const R=await fetch("https://ctzckttucdjlysiohlwh.supabase.co/functions/v1/generate-dispute-letter",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk"},body:JSON.stringify({letterType:"factual_dispute",disputableItem:{creditor:P.creditor,accountType:P.type,balance:P.balance,issueType:P.type,disputeReason:P.disputeReason,applicableLaw:"FCRA",bureaus:[P.bureau]},stream:!0})}),I=await qa(R,D=>{D.type==="status"&&c(D.message||null)});i(I.letter||"Unable to generate letter")}catch(R){console.error("Letter generation error:",R),i("Failed to generate letter. Please try again."),t({title:"Error",description:"Failed to generate dispute letter",variant:"destructive"})}finally{c(null),o(!1)}},j=async P=>{e&&(await v("factual_dispute",P,e.id),i(P),t({title:"Letter Saved",description:"Your dispute letter has been saved successfully."}))},E=P=>{var D;const C=new Blob([P],{type:"text/plain"}),R=URL.createObjectURL(C),I=document.createElement("a");I.href=R,I.download=`dispute-letter-${(D=e==null?void 0:e.creditor)==null?void 0:D.replace(/\s+/g,"-")}.txt`,I.click(),URL.revokeObjectURL(R)};if(f)return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(kt,{className:"h-9 w-48 mb-2"}),a.jsx(kt,{className:"h-5 w-72"})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(P=>a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx(kt,{className:"h-8 w-12 mb-2"}),a.jsx(kt,{className:"h-4 w-20"})]})},P))}),a.jsx(le,{className:"card-elevated",children:a.jsx(Ne,{className:"pt-6",children:a.jsx(kt,{className:"h-48 w-full"})})})]})});if(!(p!=null&&p.negativeItems)||m.status!=="connected")return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"My Disputes"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Track the status of all your dispute letters"})]}),a.jsx(le,{className:"card-elevated border-primary/20",children:a.jsxs(Ne,{className:"py-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(Jl,{className:"w-8 h-8 text-primary"})}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Disputes Yet"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Connect your SmartCredit account to identify disputable items on your credit report."}),a.jsx(pr,{to:"/client-dashboard/smartcredit",children:a.jsxs(ge,{className:"bg-gradient-primary hover:opacity-90",children:[a.jsx(Jl,{className:"w-4 h-4 mr-2"}),"Connect SmartCredit"]})})]})})]})});const T=p.negativeItems;return T.filter(P=>P.status!=="deleted"),Math.max(1,T.filter(P=>P.status==="deleted").length>0?2:1),a.jsxs(qn,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"My Disputes"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Track the status of all your dispute letters"})]}),a.jsxs(ge,{variant:"outline",onClick:y,disabled:h,children:[a.jsx(tf,{className:`w-4 h-4 mr-2 ${h?"animate-spin":""}`}),"Refresh"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:(g==null?void 0:g.total)||0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"})]})}),a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-warning",children:((g==null?void 0:g.inProgress)||0)+((g==null?void 0:g.pending)||0)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"})]})}),a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-success",children:(g==null?void 0:g.deleted)||0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Deleted"})]})}),a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-info",children:b.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Saved Letters"})]})})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx($t,{className:"w-5 h-5 text-primary"}),"All Dispute Items"]})}),a.jsx(Ne,{children:a.jsx("div",{className:"space-y-4",children:T.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No dispute items found"}):T.map(P=>{const C=Qq[P.status]||Qq.pending,R=C.icon,I=b.some(D=>D.dispute_item_id===P.id);return a.jsx("div",{className:"p-4 rounded-lg border border-border hover:border-primary/30 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("h4",{className:"font-semibold text-lg",children:P.creditor||"Unknown Creditor"}),a.jsxs(De,{variant:"outline",className:C.color,children:[a.jsx(R,{className:"w-3 h-3 mr-1"}),C.label]}),a.jsx(De,{variant:"secondary",className:"text-xs",children:P.bureau||"Unknown Bureau"}),I&&a.jsx(De,{variant:"outline",className:"bg-success/10 text-success border-success/20 text-xs",children:"Letter Saved"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Account Type: "}),a.jsx("span",{className:"font-medium",children:P.type||"N/A"})]}),P.balance!==null&&P.balance!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Balance: "}),a.jsxs("span",{className:"font-medium text-destructive",children:["$",P.balance.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Date Opened: "}),a.jsx("span",{className:"font-medium",children:P.dateOpened?new Date(P.dateOpened).toLocaleDateString():"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Deletion Probability: "}),a.jsxs("span",{className:`font-medium ${(P.deletionProbability||0)>=.7?"text-success":(P.deletionProbability||0)>=.4?"text-warning":"text-destructive"}`,children:[Math.round((P.deletionProbability||0)*100),"%"]})]})]}),a.jsxs("div",{className:"pt-2 border-t border-border/50",children:[a.jsx("span",{className:"text-muted-foreground text-sm",children:"Dispute Reason: "}),a.jsx("p",{className:"text-sm mt-1",children:P.disputeReason||"No reason specified"})]})]}),a.jsxs(ge,{variant:"outline",size:"sm",className:"shrink-0",onClick:()=>S(P),children:[a.jsx(Qi,{className:"w-4 h-4 mr-1"}),"View Letter"]})]})},P.id)})})})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsx(Xe,{children:"What Happens Next?"})}),a.jsx(Ne,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 text-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-2",children:a.jsx("span",{className:"font-bold text-primary",children:"1"})}),a.jsx("h4",{className:"font-medium mb-1",children:"Bureau Review"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Bureaus have 30-45 days to investigate"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 text-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-2",children:a.jsx("span",{className:"font-bold text-primary",children:"2"})}),a.jsx("h4",{className:"font-medium mb-1",children:"Response Received"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"We'll notify you of any updates"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 text-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-2",children:a.jsx("span",{className:"font-bold text-primary",children:"3"})}),a.jsx("h4",{className:"font-medium mb-1",children:"Next Round"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"AI generates new letters if needed"})]})]})})]})]}),a.jsx(wl,{open:u,onOpenChange:d,children:a.jsxs(Ao,{className:"max-w-4xl h-[90vh] flex flex-col p-0",children:[a.jsx(To,{className:"px-6 pt-6 pb-4 shrink-0",children:a.jsxs(Co,{className:"flex items-center gap-2",children:[a.jsx($t,{className:"w-5 h-5 text-primary"}),"Dispute Letter - ",e==null?void 0:e.creditor]})}),a.jsx("div",{className:"flex-1 min-h-0 overflow-auto px-4 pb-4",children:s?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Dn,{className:"w-8 h-8 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:l||"Generating dispute letter..."})]}):a.jsx(h_,{content:r,creditor:e==null?void 0:e.creditor,letterType:"Factual Dispute",bureaus:e!=null&&e.bureau?[e.bureau]:[],onSave:j,onDownload:E,onChange:P=>i(P),showOptimize:!0})})]})})]})}const eO=[{type:"ID Verification",description:"Valid government-issued ID",required:!0},{type:"Proof of Address",description:"Utility bill or bank statement",required:!0},{type:"SSN Proof",description:"Social Security card or W2",required:!0},{type:"Credit Report",description:"Latest 3-bureau credit report",required:!1}],sdt=t=>t<1024?t+" B":t<1024*1024?(t/1024).toFixed(1)+" KB":(t/(1024*1024)).toFixed(1)+" MB";function adt(){const{toast:t}=Mr(),{user:e}=ln(),[n,r]=N.useState(!1),[i,s]=N.useState(null),[o,l]=N.useState([]),[c,u]=N.useState(!0),[d,f]=N.useState("ID Verification"),h=N.useRef(null),p=async()=>{if(e)try{const{data:S,error:j}=await ue.from("client_documents").select("*").eq("user_id",e.id).order("uploaded_at",{ascending:!1});if(j)throw j;l(S||[])}catch(S){console.error("Error fetching documents:",S)}finally{u(!1)}};N.useEffect(()=>{p()},[e]);const m=async S=>{var E;const j=(E=S.target.files)==null?void 0:E[0];if(!(!j||!e)){r(!0);try{const T=j.name.split(".").pop(),P=`${Date.now()}-${j.name}`,C=`${e.id}/${P}`,{error:R}=await ue.storage.from("client-documents").upload(C,j);if(R)throw R;const{data:I,error:D}=await ue.from("client_documents").insert({user_id:e.id,name:j.name,file_path:C,file_type:j.type,document_type:d,size_bytes:j.size,status:"pending"}).select().single();if(D)throw D;t({title:"Document Uploaded",description:"Your document has been uploaded. Running AI verification..."}),p(),(d==="ID Verification"||d==="SSN Proof")&&await g(I.id,C,j)}catch(T){console.error("Upload error:",T),t({title:"Upload Failed",description:T.message||"Failed to upload document",variant:"destructive"})}finally{r(!1),h.current&&(h.current.value="")}}},g=async(S,j,E)=>{s(S);try{const T=await E.arrayBuffer(),P=btoa(String.fromCharCode(...new Uint8Array(T))),{data:C,error:R}=await ue.functions.invoke("ocr-document-parser",{body:{imageBase64:P,mimeType:E.type,documentType:d}});if(R)throw R;const I=(C==null?void 0:C.verified)||(C==null?void 0:C.extractedData);await ue.from("client_documents").update({status:I?"verified":"pending"}).eq("id",S),t({title:I?"Document Verified":"Verification Pending",description:I?"AI has verified your document successfully.":"Your document is pending manual review."}),p()}catch(T){console.error("OCR error:",T),t({title:"Verification Pending",description:"Automatic verification failed. Document will be reviewed manually.",variant:"default"})}finally{s(null)}},y=async S=>{if(!i){s(S.id);try{const{data:j,error:E}=await ue.storage.from("client-documents").download(S.file_path);if(E)throw E;const T=await j.arrayBuffer(),P=btoa(String.fromCharCode(...new Uint8Array(T))),{data:C,error:R}=await ue.functions.invoke("ocr-document-parser",{body:{imageBase64:P,mimeType:S.file_type,documentType:S.document_type}});if(R)throw R;const I=(C==null?void 0:C.verified)||(C==null?void 0:C.extractedData);await ue.from("client_documents").update({status:I?"verified":"pending"}).eq("id",S.id),t({title:I?"Document Verified":"Verification Failed",description:I?"AI has verified your document successfully.":"Could not verify document. Please upload a clearer image."}),p()}catch(j){t({title:"Verification Error",description:j.message||"Failed to verify document",variant:"destructive"})}finally{s(null)}}},v=async S=>{if(e)try{await ue.storage.from("client-documents").remove([S.file_path]);const{error:j}=await ue.from("client_documents").delete().eq("id",S.id);if(j)throw j;t({title:"Document Deleted",description:"The document has been removed."}),p()}catch(j){t({title:"Delete Failed",description:j.message||"Failed to delete document",variant:"destructive"})}},w=async S=>{try{const{data:j,error:E}=await ue.storage.from("client-documents").download(S.file_path);if(E)throw E;const T=URL.createObjectURL(j),P=document.createElement("a");P.href=T,P.download=S.name,P.click(),URL.revokeObjectURL(T)}catch(j){t({title:"Download Failed",description:j.message||"Failed to download document",variant:"destructive"})}},b=o.filter(S=>S.status==="verified");return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Documents"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Upload and manage your verification documents"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{className:"px-3 py-2 border rounded-md bg-background text-foreground",value:d,onChange:S=>f(S.target.value),children:eO.map(S=>a.jsx("option",{value:S.type,children:S.type},S.type))}),a.jsx("input",{type:"file",ref:h,onChange:m,className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"}),a.jsxs(ge,{onClick:()=>{var S;return(S=h.current)==null?void 0:S.click()},disabled:n,className:"bg-gradient-primary",children:[n?a.jsx(Dn,{className:"w-4 h-4 mr-2 animate-spin"}):a.jsx(cc,{className:"w-4 h-4 mr-2"}),n?"Uploading...":"Upload Document"]})]})]}),a.jsx(le,{className:"card-elevated border-success/30 bg-success/5",children:a.jsx(Ne,{className:"py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-success/10 flex items-center justify-center",children:a.jsx(xr,{className:"w-6 h-6 text-success"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Identity Verification"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.length," of ",eO.filter(S=>S.required).length," required documents verified"]})]}),a.jsxs("div",{className:"ml-auto flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(tr,{className:"w-4 h-4"}),a.jsx("span",{children:"AI-Powered Verification"})]})]})})}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsx(Xe,{children:"Required Documents"})}),a.jsx(Ne,{children:a.jsx("div",{className:"space-y-3",children:eO.map(S=>{const j=o.find(T=>T.document_type===S.type),E=(j==null?void 0:j.status)==="verified";return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[E?a.jsx(zn,{className:"w-5 h-5 text-success"}):j?a.jsx(Bi,{className:"w-5 h-5 text-warning"}):a.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:S.type}),a.jsx("p",{className:"text-sm text-muted-foreground",children:S.description})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[S.required&&a.jsx(De,{variant:"outline",children:"Required"}),E&&a.jsx(De,{className:"bg-success/10 text-success border-success/20",children:"Verified"}),j&&!E&&a.jsx(De,{className:"bg-warning/10 text-warning border-warning/20",children:"Pending"})]})]},S.type)})})})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx($t,{className:"w-5 h-5 text-primary"}),"Uploaded Documents"]})}),a.jsx(Ne,{children:c?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Dn,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):o.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx($t,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No documents uploaded yet"}),a.jsx("p",{className:"text-sm",children:"Upload your first document to get started"})]}):a.jsx("div",{className:"space-y-3",children:o.map(S=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border hover:border-primary/30 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[S.file_type.includes("pdf")?a.jsx($t,{className:"w-10 h-10 text-primary p-2 bg-primary/10 rounded-lg"}):a.jsx(tJ,{className:"w-10 h-10 text-primary p-2 bg-primary/10 rounded-lg"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:S.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.document_type,"  ",sdt(S.size_bytes),"  ",new Date(S.uploaded_at).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[i===S.id?a.jsxs(De,{className:"bg-primary/10 text-primary border-primary/20",children:[a.jsx(Dn,{className:"w-3 h-3 mr-1 animate-spin"}),"Verifying..."]}):a.jsx(De,{className:S.status==="verified"?"bg-success/10 text-success border-success/20":"bg-warning/10 text-warning border-warning/20",children:S.status==="verified"?"Verified":"Pending"}),S.status==="pending"&&!i&&a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>y(S),title:"Run AI Verification",children:a.jsx(jn,{className:"w-4 h-4 text-primary"})}),a.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>w(S),children:a.jsx($d,{className:"w-4 h-4"})}),a.jsx(ge,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>v(S),children:a.jsx(uJ,{className:"w-4 h-4"})})]})]},S.id))})})]})]})})}function UL(t){const{user:e}=ln(),[n,r]=N.useState([]),[i,s]=N.useState([]),[o,l]=N.useState(!0),c=N.useCallback(async()=>{if(!(!e||!t))try{const{data:h,error:p}=await ue.from("messages").select("*").or(`and(sender_id.eq.${e.id},recipient_id.eq.${t}),and(sender_id.eq.${t},recipient_id.eq.${e.id})`).order("created_at",{ascending:!0});if(p)throw p;r(h||[])}catch(h){console.error("Error fetching messages:",h)}finally{l(!1)}},[e,t]),u=N.useCallback(async()=>{if(e)try{const{data:h,error:p}=await ue.from("messages").select("*").or(`sender_id.eq.${e.id},recipient_id.eq.${e.id}`).order("created_at",{ascending:!1});if(p)throw p;const m=new Map;for(const y of h||[]){const v=y.sender_id===e.id?y.recipient_id:y.sender_id;m.has(v)?y.recipient_id===e.id&&!y.read&&m.get(v).unreadCount++:m.set(v,{partnerId:v,lastMessage:y.content,lastMessageTime:y.created_at,unreadCount:y.recipient_id===e.id&&!y.read?1:0})}const g=Array.from(m.keys());if(g.length>0){const{data:y}=await ue.from("profiles").select("user_id, first_name, last_name").in("user_id",g);for(const v of y||[]){const w=m.get(v.user_id);w&&(w.partnerName=`${v.first_name||""} ${v.last_name||""}`.trim()||"Unknown")}}s(Array.from(m.values()))}catch(h){console.error("Error fetching conversations:",h)}finally{l(!1)}},[e]),d=N.useCallback(async(h,p,m)=>{if(!e)return null;try{const{data:g,error:y}=await ue.from("messages").insert({sender_id:e.id,recipient_id:h,content:p,subject:m}).select().single();if(y)throw y;return g}catch(g){return console.error("Error sending message:",g),null}},[e]),f=N.useCallback(async h=>{if(e)try{await ue.from("messages").update({read:!0}).eq("id",h).eq("recipient_id",e.id)}catch(p){console.error("Error marking message as read:",p)}},[e]);return N.useEffect(()=>{if(!e)return;const h=ue.channel("messages-realtime").on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`recipient_id=eq.${e.id}`},()=>{t&&c(),u()}).subscribe();return()=>{ue.removeChannel(h)}},[e,t,c,u]),N.useEffect(()=>{u()},[u]),N.useEffect(()=>{t&&c()},[t,c]),{messages:n,conversations:i,isLoading:o,sendMessage:d,markAsRead:f,refetch:c}}function odt(){const{user:t}=ln(),{assignments:e}=SU(),[n,r]=N.useState(""),i=N.useRef(null),s=e.find(h=>h.client_user_id===(t==null?void 0:t.id)),o=s==null?void 0:s.va_user_id,l=s!=null&&s.va_profile?`${s.va_profile.first_name||""} ${s.va_profile.last_name||""}`.trim():"Your VA",{messages:c,isLoading:u,sendMessage:d}=UL(o);N.useEffect(()=>{var h;(h=i.current)==null||h.scrollIntoView({behavior:"smooth"})},[c]);const f=async()=>{!n.trim()||!o||(await d(o,n.trim()),r(""))};return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6 h-[calc(100vh-200px)] flex flex-col",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Messages"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Chat with your assigned VA and receive AI updates"})]}),a.jsxs(le,{className:"card-elevated flex-1 flex flex-col",children:[a.jsx(Ye,{className:"border-b border-border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ws,{children:a.jsx(_s,{className:"bg-primary/10 text-primary",children:l.split(" ").map(h=>h[0]).join("").slice(0,2)})}),a.jsxs("div",{children:[a.jsx(Xe,{className:"text-base",children:l}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Your assigned VA":"No VA assigned yet"})]})]}),s&&a.jsxs(De,{className:"bg-success/10 text-success border-success/20",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-success mr-1"}),"Available"]})]})}),a.jsx(Ne,{className:"flex-1 overflow-y-auto p-4 space-y-4",children:u?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Dn,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):s?c.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Da,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No messages yet"}),a.jsx("p",{className:"text-sm",children:"Send a message to start the conversation"})]})}):a.jsxs(a.Fragment,{children:[c.map(h=>{const p=h.sender_id===(t==null?void 0:t.id);return a.jsx("div",{className:`flex ${p?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] ${p?"order-2":""}`,children:[!p&&a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(ws,{className:"w-6 h-6",children:a.jsx(_s,{className:"bg-primary/10 text-primary text-xs",children:l.split(" ").map(m=>m[0]).join("").slice(0,2)})}),a.jsx("span",{className:"text-xs text-muted-foreground",children:l})]}),a.jsx("div",{className:`rounded-2xl px-4 py-2 ${p?"bg-primary text-primary-foreground rounded-br-md":"bg-muted rounded-bl-md"}`,children:a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:h.content})}),a.jsx("p",{className:`text-xs text-muted-foreground mt-1 ${p?"text-right":""}`,children:bo(new Date(h.created_at),"MMM d, h:mm a")})]})},h.id)}),a.jsx("div",{ref:i})]}):a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx(rv,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No VA has been assigned to you yet."}),a.jsx("p",{className:"text-sm",children:"Please contact your agency for assistance."})]})})}),a.jsx("div",{className:"p-4 border-t border-border",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ge,{variant:"ghost",size:"icon",children:a.jsx(aJ,{className:"w-4 h-4"})}),a.jsx(Ct,{placeholder:s?"Type your message...":"No VA assigned",value:n,onChange:h=>r(h.target.value),onKeyPress:h=>h.key==="Enter"&&f(),className:"flex-1",disabled:!s}),a.jsx(ge,{onClick:f,disabled:!n.trim()||!s,className:"bg-gradient-primary",children:a.jsx(Da,{className:"w-4 h-4"})})]})})]})]})})}const tO={name:"Professional Plan",price:99,features:["3-Bureau Credit Monitoring","Unlimited Dispute Letters","Dedicated VA Support","AI-Powered Analysis","Score Simulator Access","Priority Processing"]};function ldt(){const{invoices:t,isLoading:e}=PU(),n=t.find(i=>i.status==="pending"),r=n!=null&&n.due_date?bo(new Date(n.due_date),"MMMM d, yyyy"):"N/A";return e?a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Billing"})}),a.jsx(kt,{className:"h-48"}),a.jsx(kt,{className:"h-32"}),a.jsx(kt,{className:"h-64"})]})}):a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Billing"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your subscription and view invoices"})]}),a.jsxs(le,{className:"card-elevated border-primary/30 bg-gradient-to-br from-primary/5 to-transparent",children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(fa,{className:"w-5 h-5 text-primary"}),"Current Plan"]}),a.jsx(De,{className:"bg-success/10 text-success border-success/20",children:"Active"})]})}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold",children:tO.name}),a.jsxs("p",{className:"text-muted-foreground",children:[a.jsxs("span",{className:"text-3xl font-bold text-foreground",children:["$",tO.price]}),"/month"]}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-2 flex items-center gap-1",children:[a.jsx(Ha,{className:"w-4 h-4"}),"Next billing: ",r]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{variant:"outline",children:"Change Plan"}),a.jsx(ge,{variant:"outline",children:"Update Payment"})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Plan Features"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:tO.features.map(i=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(zn,{className:"w-4 h-4 text-success"}),i]},i))})]})]})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsx(Xe,{children:"Payment Method"})}),a.jsx(Ne,{children:a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-8 rounded bg-muted flex items-center justify-center",children:a.jsx(fa,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"   4242"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Expires 12/26"})]})]}),a.jsx(De,{children:"Default"})]})})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Jv,{className:"w-5 h-5 text-primary"}),"Invoice History"]})}),a.jsx(Ne,{children:t.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(nr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"No invoices yet"}),a.jsx("p",{className:"text-sm",children:"Your billing history will appear here"})]}):a.jsx("div",{className:"space-y-3",children:t.map(i=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border hover:border-primary/30 transition-colors",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:i.description||"Service Invoice"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:bo(new Date(i.created_at),"MMMM d, yyyy")})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"font-semibold",children:["$",Number(i.amount).toFixed(2)]}),a.jsxs(De,{className:i.status==="paid"?"bg-success/10 text-success border-success/20":i.status==="pending"?"bg-warning/10 text-warning border-warning/20":"bg-destructive/10 text-destructive border-destructive/20",children:[i.status==="paid"&&a.jsx(zn,{className:"w-3 h-3 mr-1"}),i.status.charAt(0).toUpperCase()+i.status.slice(1)]}),a.jsxs(ge,{variant:"ghost",size:"sm",children:[a.jsx($d,{className:"w-4 h-4 mr-1"}),"PDF"]})]})]},i.id))})})]})]})})}const Zq=[{id:"1",type:"score_change",title:"Score Update: +15 Points!",message:"Your Experian score increased from 630 to 645. Great progress!",timestamp:"2024-05-20 09:00 AM",read:!1,icon:gr},{id:"2",type:"dispute_update",title:"Dispute Response Received",message:"Equifax has responded to your dispute for Collection Agency XYZ. The item has been deleted!",timestamp:"2024-05-19 02:30 PM",read:!1,icon:zn},{id:"3",type:"message",title:"New Message from Sarah",message:"I've prepared your next round of dispute letters. Please review when you have a moment.",timestamp:"2024-05-18 11:00 AM",read:!0,icon:bs},{id:"4",type:"document",title:"Document Verified",message:"Your proof of address has been verified successfully.",timestamp:"2024-05-17 03:45 PM",read:!0,icon:$t},{id:"5",type:"ai_insight",title:"AI Insight Available",message:"Our AI has identified a new optimization opportunity for your credit profile.",timestamp:"2024-05-16 10:00 AM",read:!0,icon:jn}],cdt=[{id:"score_changes",label:"Score Changes",description:"Get notified when your credit score changes",enabled:!0},{id:"dispute_updates",label:"Dispute Updates",description:"Updates on your dispute status and responses",enabled:!0},{id:"messages",label:"New Messages",description:"When your VA sends you a message",enabled:!0},{id:"documents",label:"Document Status",description:"Document verification and upload reminders",enabled:!0},{id:"ai_insights",label:"AI Insights",description:"AI-generated recommendations and insights",enabled:!1},{id:"billing",label:"Billing Reminders",description:"Payment reminders and invoice notifications",enabled:!0}];function udt(){const t=Zq.filter(e=>!e.read).length;return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Notifications"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Stay updated on your credit repair journey"})]}),t>0&&a.jsx(ge,{variant:"outline",children:"Mark All as Read"})]}),t>0&&a.jsx(le,{className:"card-elevated border-primary/30 bg-primary/5",children:a.jsx(Ne,{className:"py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(lc,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["You have ",t," unread notifications"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on a notification to mark it as read"})]})]})})}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsx(Xe,{children:"Recent Notifications"})}),a.jsx(Ne,{children:a.jsx("div",{className:"space-y-3",children:Zq.map(e=>{const n=e.icon;return a.jsx("div",{className:`p-4 rounded-lg border transition-colors cursor-pointer ${e.read?"border-border hover:border-primary/30":"border-primary/30 bg-primary/5 hover:bg-primary/10"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${e.type==="score_change"?"bg-success/10":e.type==="dispute_update"?"bg-primary/10":e.type==="ai_insight"?"bg-gradient-primary":"bg-muted"}`,children:a.jsx(n,{className:`w-5 h-5 ${e.type==="score_change"?"text-success":e.type==="dispute_update"?"text-primary":e.type==="ai_insight"?"text-primary-foreground":"text-muted-foreground"}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:e.title}),!e.read&&a.jsx(De,{className:"bg-primary text-primary-foreground text-xs",children:"New"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.message}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:e.timestamp})]})]})},e.id)})})})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsx(Xe,{children:"Notification Settings"})}),a.jsx(Ne,{children:a.jsx("div",{className:"space-y-4",children:cdt.map(e=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[a.jsxs("div",{children:[a.jsx(ht,{htmlFor:e.id,className:"font-medium",children:e.label}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),a.jsx(ci,{id:e.id,defaultChecked:e.enabled})]},e.id))})})]})]})})}const ddt={firstName:"John",lastName:"Doe",email:"john.doe@email.com",phone:"(555) 123-4567",address:"123 Main St, Anytown, ST 12345",memberSince:"2024-02-01",verified:!0};function fdt(){const{toast:t}=Mr(),[e,n]=N.useState(ddt),[r,i]=N.useState(!1),s=()=>{i(!1),t({title:"Profile Updated",description:"Your profile changes have been saved."})};return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Profile"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your personal information"})]}),a.jsx(le,{className:"card-elevated",children:a.jsx(Ne,{className:"py-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ws,{className:"w-24 h-24",children:a.jsxs(_s,{className:"text-2xl bg-primary/10 text-primary",children:[e.firstName[0],e.lastName[0]]})}),a.jsx(ge,{size:"icon",variant:"outline",className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full",children:a.jsx(QK,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"text-center md:text-left",children:[a.jsxs("h2",{className:"text-2xl font-bold",children:[e.firstName," ",e.lastName]}),a.jsx("p",{className:"text-muted-foreground",children:e.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 justify-center md:justify-start",children:[e.verified&&a.jsxs(De,{className:"bg-success/10 text-success border-success/20",children:[a.jsx(xr,{className:"w-3 h-3 mr-1"}),"Verified"]}),a.jsxs(De,{variant:"outline",children:["Member since ",new Date(e.memberSince).toLocaleDateString("en-US",{month:"long",year:"numeric"})]})]})]}),a.jsx("div",{className:"md:ml-auto",children:r?a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsxs(ge,{onClick:s,className:"bg-gradient-primary",children:[a.jsx(kA,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]}):a.jsx(ge,{onClick:()=>i(!0),children:"Edit Profile"})})]})})}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Gs,{className:"w-5 h-5 text-primary"}),"Personal Information"]})}),a.jsx(Ne,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"firstName",children:"First Name"}),a.jsx(Ct,{id:"firstName",value:e.firstName,onChange:o=>n({...e,firstName:o.target.value}),disabled:!r})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"lastName",children:"Last Name"}),a.jsx(Ct,{id:"lastName",value:e.lastName,onChange:o=>n({...e,lastName:o.target.value}),disabled:!r})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ht,{htmlFor:"email",className:"flex items-center gap-2",children:[a.jsx(Li,{className:"w-4 h-4"}),"Email"]}),a.jsx(Ct,{id:"email",type:"email",value:e.email,onChange:o=>n({...e,email:o.target.value}),disabled:!r})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ht,{htmlFor:"phone",className:"flex items-center gap-2",children:[a.jsx(IA,{className:"w-4 h-4"}),"Phone"]}),a.jsx(Ct,{id:"phone",value:e.phone,onChange:o=>n({...e,phone:o.target.value}),disabled:!r})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsxs(ht,{htmlFor:"address",className:"flex items-center gap-2",children:[a.jsx(Age,{className:"w-4 h-4"}),"Address"]}),a.jsx(Ct,{id:"address",value:e.address,onChange:o=>n({...e,address:o.target.value}),disabled:!r})]})]})})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(nJ,{className:"w-5 h-5 text-primary"}),"Security"]})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Password"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Last changed 30 days ago"})]}),a.jsx(ge,{variant:"outline",children:"Change Password"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security"})]}),a.jsx(ge,{variant:"outline",children:"Enable 2FA"})]})]})})]})]})})}function hdt(){const[t,e]=N.useState(!1),[n,r]=N.useState([]),{user:i}=ln(),s=N.useCallback(async u=>{if(i){e(!0);try{let d=ue.from("ai_predictions").select("*").eq("user_id",i.id).gte("expires_at",new Date().toISOString());u&&(d=d.eq("prediction_type",u));const{data:f,error:h}=await d.order("created_at",{ascending:!1});if(h)throw h;const p=(f||[]).map(m=>({...m,prediction_data:m.prediction_data}));return r(p),p}catch(d){return console.error("Error fetching predictions:",d),[]}finally{e(!1)}}},[i]),o=N.useCallback(async(u,d)=>{if(!i)return null;try{let f=ue.from("ai_predictions").select("*").eq("user_id",i.id).eq("prediction_type",u).gte("expires_at",new Date().toISOString());d&&(f=f.eq("item_id",d));const{data:h,error:p}=await f.maybeSingle();if(p)throw p;return h?{...h,prediction_data:h.prediction_data}:null}catch(f){return console.error("Error getting cached prediction:",f),null}},[i]),l=N.useCallback(async(u,d,f,h=24)=>{if(!i)return null;try{const p=new Date;p.setHours(p.getHours()+h);const m=await o(u,f);if(m){const{data:v,error:w}=await ue.from("ai_predictions").update({prediction_data:d,expires_at:p.toISOString()}).eq("id",m.id).select().single();if(w)throw w;return{...v,prediction_data:v.prediction_data}}const{data:g,error:y}=await ue.from("ai_predictions").insert({user_id:i.id,prediction_type:u,item_id:f,prediction_data:d,expires_at:p.toISOString()}).select().single();if(y)throw y;return{...g,prediction_data:g.prediction_data}}catch(p){return console.error("Error caching prediction:",p),null}},[i,o]),c=N.useCallback(async()=>{if(i)try{await ue.from("ai_predictions").delete().eq("user_id",i.id).lt("expires_at",new Date().toISOString())}catch(u){console.error("Error clearing expired predictions:",u)}},[i]);return{isLoading:t,predictions:n,fetchPredictions:s,getCachedPrediction:o,cachePrediction:l,clearExpiredPredictions:c}}function WC(){const t=hdt(),{user:e}=ln();return N.useEffect(()=>{if(!e)return;const n=ue.channel(`ai_predictions_${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"ai_predictions",filter:`user_id=eq.${e.id}`},r=>{if(r.eventType==="DELETE"){t.fetchPredictions();return}const i=r.new;i&&(new Date(i.expires_at)<=new Date||t.fetchPredictions(i.prediction_type))}).subscribe();return()=>{ue.removeChannel(n)}},[t.fetchPredictions,e]),t}function pdt(){const{averageScore:t,creditData:e}=Nf(),{getCachedPrediction:n,cachePrediction:r}=WC(),[i,s]=N.useState("700"),[o,l]=N.useState("general"),[c,u]=N.useState(null),[d,f]=N.useState(!1),[h,p]=N.useState(null);N.useEffect(()=>{(async()=>{const w=`${o}_${i}`,b=await n("goal_roadmap",w);b&&u(b.prediction_data.roadmap)})()},[n,o,i]);const m=async()=>{var v,w,b,S;if(i){f(!0),p("Generating roadmap...");try{const j=await fetch("https://ctzckttucdjlysiohlwh.supabase.co/functions/v1/ai-goal-roadmap",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk"},body:JSON.stringify({currentScore:t||600,targetScore:parseInt(i),goalType:o,creditData:e?{negativeItems:((v=e.negativeItems)==null?void 0:v.length)||0,collections:((w=e.negativeItems)==null?void 0:w.filter(P=>P.type==="Collection").length)||0,latePayments:((b=e.negativeItems)==null?void 0:b.filter(P=>P.type==="Late Payment").length)||0,utilization:((S=e.summary)==null?void 0:S.creditUtilization)||30}:null,stream:!0})}),E=await qa(j,P=>{P.type==="status"&&p(P.message||null)});u(E.roadmap);const T=`${o}_${i}`;await r("goal_roadmap",E,T,24),It.success("Roadmap generated successfully!")}catch(j){console.error("Roadmap error:",j),It.error("Failed to generate roadmap")}finally{p(null),f(!1)}}},g=v=>{switch(v){case"high":return"bg-destructive/10 text-destructive border-destructive/20";case"medium":return"bg-warning/10 text-warning border-warning/20";default:return"bg-muted text-muted-foreground"}},y=v=>{switch(v){case"high":return"text-success";case"medium":return"text-warning";default:return"text-muted-foreground"}};return a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center",children:a.jsx(Fs,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx(Xe,{children:"AI Goal Roadmap"}),a.jsx(Zt,{children:"Set your target and get a personalized plan"})]})]})}),a.jsxs(Ne,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{children:"Current Score"}),a.jsx("div",{className:"h-10 px-3 rounded-md border flex items-center bg-muted/50",children:a.jsx("span",{className:"font-semibold",children:t||"N/A"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"target",children:"Target Score"}),a.jsx(Ct,{id:"target",type:"number",value:i,onChange:v=>s(v.target.value),min:300,max:850})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{children:"Goal Type"}),a.jsxs(ni,{value:o,onValueChange:l,children:[a.jsx(Br,{children:a.jsx(ri,{})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"general",children:"General Improvement"}),a.jsx(ut,{value:"mortgage",children:"Mortgage Qualification"}),a.jsx(ut,{value:"auto",children:"Auto Loan"}),a.jsx(ut,{value:"credit_card",children:"Premium Credit Card"}),a.jsx(ut,{value:"rental",children:"Rental Application"})]})]})]})]}),a.jsxs(ge,{onClick:m,disabled:d,className:"w-full bg-gradient-primary hover:opacity-90",children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),d?"Generating Roadmap...":"Generate AI Roadmap"]}),d&&h&&a.jsx("p",{className:"text-xs text-muted-foreground",children:h}),c&&a.jsxs("div",{className:"space-y-6 pt-4 border-t",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 rounded-lg bg-primary/10",children:[a.jsx("p",{className:"text-2xl font-bold text-primary",children:c.estimatedTimelineMonths}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Months"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-success/10",children:[a.jsxs("p",{className:"text-2xl font-bold text-success",children:["+",c.pointsNeeded]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Points Needed"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-warning/10",children:[a.jsx("p",{className:"text-2xl font-bold text-warning capitalize",children:c.confidence}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Confidence"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[a.jsxs("p",{className:"text-2xl font-bold",children:[c.qualificationProbability,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Success Chance"})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(gr,{className:"w-4 h-4 text-primary"}),"Key Actions"]}),a.jsx("div",{className:"space-y-2",children:c.keyActions.map((v,w)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[a.jsx("span",{className:"text-sm",children:v.action}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(De,{variant:"outline",className:"text-xs",children:v.timeline}),a.jsx("span",{className:`text-xs font-medium ${y(v.impact)}`,children:v.impact.toUpperCase()})]})]},w))})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(nr,{className:"w-4 h-4 text-primary"}),"Monthly Milestones"]}),a.jsx("div",{className:"space-y-3",children:c.milestones.map((v,w)=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsxs("span",{className:"text-xs font-bold text-primary",children:["M",v.month]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"text-sm font-medium",children:v.action}),a.jsx(De,{variant:"outline",className:`text-xs ${g(v.priority)}`,children:v.priority})]}),a.jsxs("p",{className:"text-xs text-success mt-1",children:["+",v.expectedPoints," points expected"]})]})]},w))})]}),c.warnings&&c.warnings.length>0&&a.jsxs("div",{className:"p-4 rounded-lg bg-warning/10 border border-warning/20",children:[a.jsxs("h4",{className:"font-semibold text-warning flex items-center gap-2 mb-2",children:[a.jsx(rf,{className:"w-4 h-4"}),"Important Considerations"]}),a.jsx("ul",{className:"text-sm space-y-1",children:c.warnings.map((v,w)=>a.jsxs("li",{className:"text-muted-foreground",children:[" ",v]},w))})]})]})]})]})}function mdt(){var h;const{creditData:t}=Nf(),{getCachedPrediction:e,cachePrediction:n}=WC(),[r,i]=N.useState(null),[s,o]=N.useState(!1),[l,c]=N.useState(null);N.useEffect(()=>{(async()=>{const m=await e("smart_priority");m&&i(m.prediction_data)})()},[e]);const u=async()=>{var p;if(!((p=t==null?void 0:t.negativeItems)!=null&&p.length)){It.error("No items to analyze");return}o(!0),c("Analyzing items...");try{const m=t.negativeItems.map((v,w)=>({id:`item-${w}`,creditor:v.creditor,type:v.type,balance:v.balance,status:v.status,bureau:v.bureau,deletionProbability:v.deletionProbability})),g=await fetch("https://ctzckttucdjlysiohlwh.supabase.co/functions/v1/ai-smart-analyzer",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk"},body:JSON.stringify({analysisType:"smart_priority",items:m,stream:!0})}),y=await qa(g,v=>{v.type==="status"&&c(v.message||null)});i(y),await n("smart_priority",y)}catch(m){console.error("Analysis error:",m),It.error("Failed to analyze items")}finally{c(null),o(!1)}},d=p=>{switch(p){case"critical":return"bg-destructive text-destructive-foreground";case"high":return"bg-warning text-warning-foreground";case"medium":return"bg-primary/80 text-primary-foreground";default:return"bg-muted text-muted-foreground"}},f=p=>{var g;const m=parseInt(p.replace("item-",""));return(g=t==null?void 0:t.negativeItems)==null?void 0:g[m]};return a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center",children:a.jsx(hl,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx(Xe,{children:"AI Smart Prioritization"}),a.jsx(Zt,{children:"Focus on items with the highest score impact"})]})]}),a.jsxs(ge,{onClick:u,disabled:s||!((h=t==null?void 0:t.negativeItems)!=null&&h.length),className:"bg-gradient-primary hover:opacity-90",children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),s?"Analyzing...":"Analyze"]})]})}),a.jsx(Ne,{children:s?a.jsxs("div",{className:"space-y-4",children:[l&&a.jsx("p",{className:"text-xs text-muted-foreground",children:l}),[1,2,3].map(p=>a.jsx(kt,{className:"h-24 w-full"},p))]}):r?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 rounded-lg bg-success/10 border border-success/20",children:[a.jsx(gr,{className:"w-5 h-5 text-success mx-auto mb-1"}),a.jsxs("p",{className:"text-2xl font-bold text-success",children:["+",r.summary.totalPotentialGain]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Potential Points"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-destructive/10 border border-destructive/20",children:[a.jsx(rf,{className:"w-5 h-5 text-destructive mx-auto mb-1"}),a.jsx("p",{className:"text-2xl font-bold text-destructive",children:r.summary.criticalItems}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Critical Items"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-primary/10 border border-primary/20",children:[a.jsx(zn,{className:"w-5 h-5 text-primary mx-auto mb-1"}),a.jsx("p",{className:"text-2xl font-bold text-primary",children:r.summary.quickWins}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Quick Wins"})]}),a.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted",children:[a.jsx("p",{className:"text-2xl font-bold",children:r.summary.recommendedBatchSize}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Batch Size"})]})]}),a.jsx("div",{className:"space-y-3",children:r.prioritizedItems.slice(0,5).map(p=>{const m=f(p.itemId);return a.jsxs("div",{className:`p-4 rounded-lg border ${p.disputeNow?"border-primary bg-primary/5":"bg-card"}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center font-bold text-sm",children:["#",p.rank]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"font-medium",children:(m==null?void 0:m.creditor)||"Unknown"}),a.jsx(De,{className:d(p.priority),children:p.priority}),p.disputeNow&&a.jsx(De,{variant:"outline",className:"border-primary text-primary",children:"Dispute Now"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:m==null?void 0:m.type}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:p.reasoning})]})]}),a.jsxs("div",{className:"text-right flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-1 text-success",children:[a.jsx(JK,{className:"w-4 h-4"}),a.jsxs("span",{className:"font-bold",children:["+",p.estimatedScoreImpact]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"points"})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t",children:a.jsxs("p",{className:"text-xs",children:[a.jsx("span",{className:"font-medium",children:"Recommended:"})," ",p.recommendedAction]})})]},p.itemId)})})]}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(hl,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:'Click "Analyze" to prioritize your disputable items by potential score impact'})]})})]})}function gdt(){var p;const{creditData:t}=Nf(),{getCachedPrediction:e,cachePrediction:n}=WC(),[r,i]=N.useState([]),[s,o]=N.useState(!1),[l,c]=N.useState(null);N.useEffect(()=>{(async()=>{const g=await e("dispute_success_prediction");g&&i(g.prediction_data.predictions||[])})()},[e]);const u=async()=>{var m;if(!((m=t==null?void 0:t.negativeItems)!=null&&m.length)){It.error("No items to analyze");return}o(!0),c("Starting prediction...");try{const g=t.negativeItems.filter(b=>b.status!=="deleted").map((b,S)=>({id:`item-${S}`,creditor:b.creditor,type:b.type,balance:b.balance,status:b.status,bureau:b.bureau,dateOpened:b.dateOpened,disputeReason:b.disputeReason})),y=await fetch("https://ctzckttucdjlysiohlwh.supabase.co/functions/v1/ai-smart-analyzer",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk"},body:JSON.stringify({analysisType:"success_prediction",items:g,stream:!0})}),w=(await qa(y,b=>{b.type==="status"&&c(b.message||null)})).predictions||[];i(w),await n("dispute_success_prediction",{predictions:w},void 0,12)}catch(g){console.error("Prediction error:",g),It.error("Failed to generate predictions")}finally{c(null),o(!1)}},d=m=>m>=70?"text-success":m>=40?"text-warning":"text-destructive",f=m=>m>=70?"bg-success":m>=40?"bg-warning":"bg-destructive",h=m=>{var y;const g=parseInt(m.replace("item-",""));return(y=t==null?void 0:t.negativeItems)==null?void 0:y.filter(v=>v.status!=="deleted")[g]};return a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center",children:a.jsx(Fs,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx(Xe,{children:"AI Dispute Success Predictor"}),a.jsx(Zt,{children:"Predict deletion probability before disputing"})]})]}),a.jsxs(ge,{onClick:u,disabled:s||!((p=t==null?void 0:t.negativeItems)!=null&&p.length),className:"bg-gradient-primary hover:opacity-90",children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),s?"Predicting...":"Predict Success"]})]})}),a.jsx(Ne,{children:s?a.jsxs("div",{className:"space-y-4",children:[l&&a.jsx("p",{className:"text-xs text-muted-foreground",children:l}),[1,2,3].map(m=>a.jsx(kt,{className:"h-32 w-full"},m))]}):r.length>0?a.jsx("div",{className:"space-y-4",children:r.map(m=>{var y;const g=h(m.itemId);return a.jsx("div",{className:"p-4 rounded-lg border bg-card",children:a.jsx("div",{className:"flex items-start justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[a.jsx("span",{className:"font-medium",children:(g==null?void 0:g.creditor)||"Unknown"}),a.jsx(De,{variant:"outline",children:g==null?void 0:g.type}),a.jsxs(De,{variant:"outline",className:"capitalize",children:[m.confidence," confidence"]})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Success Probability"}),a.jsxs("span",{className:`font-bold ${d(m.successProbability)}`,children:[m.successProbability,"%"]})]}),a.jsx("div",{className:"h-2 rounded-full bg-muted overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all ${f(m.successProbability)}`,style:{width:`${m.successProbability}%`}})})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Est. Days"}),a.jsx("p",{className:"font-semibold",children:m.estimatedDays||30})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Best Strategy"}),a.jsx("p",{className:"text-foreground",children:m.bestStrategy})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Recommended Letter"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx($t,{className:"w-3 h-3 text-primary"}),a.jsx("span",{className:"capitalize",children:((y=m.recommendedLetterType)==null?void 0:y.replace(/_/g," "))||"Factual Dispute"})]})]})]}),m.riskFactors&&m.riskFactors.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t",children:[a.jsxs("p",{className:"text-xs text-muted-foreground mb-1 flex items-center gap-1",children:[a.jsx(rf,{className:"w-3 h-3"}),"Risk Factors"]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:m.riskFactors.slice(0,3).map((v,w)=>a.jsx(De,{variant:"outline",className:"text-xs bg-warning/10 border-warning/20",children:v},w))})]})]})})},m.itemId)})}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Fs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:'Click "Predict Success" to see deletion probability for each item'})]})})]})}function vdt(){var y;const{creditData:t}=Nf(),{getCachedPrediction:e,cachePrediction:n}=WC(),[r,i]=N.useState("experian"),[s,o]=N.useState(null),[l,c]=N.useState(!1),[u,d]=N.useState(null);N.useEffect(()=>{(async()=>{const w=await e("bureau_forecast",r);w&&o(w.prediction_data)})()},[e,r]);const f=async()=>{var v;if(!((v=t==null?void 0:t.negativeItems)!=null&&v.length)){It.error("No items to forecast");return}c(!0),d("Forecasting responses...");try{const w=t.negativeItems.filter(j=>j.status==="in_progress"&&j.bureau.toLowerCase()===r).map((j,E)=>({id:`item-${E}`,creditor:j.creditor,type:j.type,bureau:j.bureau,status:j.status,disputeReason:j.disputeReason}));if(w.length===0){It.info(`No active disputes with ${r}`),c(!1);return}const b=await fetch("https://ctzckttucdjlysiohlwh.supabase.co/functions/v1/ai-smart-analyzer",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk"},body:JSON.stringify({analysisType:"bureau_forecast",items:w,bureau:r,stream:!0})}),S=await qa(b,j=>{j.type==="status"&&d(j.message||null)});o(S),await n("bureau_forecast",S,r,6)}catch(w){console.error("Forecast error:",w),It.error("Failed to generate forecast")}finally{d(null),c(!1)}},h=v=>{switch(v){case"deleted":return a.jsx(zn,{className:"w-4 h-4 text-success"});case"verified":return a.jsx(Bi,{className:"w-4 h-4 text-warning"});case"updated":return a.jsx(xge,{className:"w-4 h-4 text-primary"});default:return a.jsx(nr,{className:"w-4 h-4 text-muted-foreground"})}},p=v=>{switch(v){case"deleted":return"bg-success/10 text-success border-success/20";case"verified":return"bg-warning/10 text-warning border-warning/20";case"updated":return"bg-primary/10 text-primary border-primary/20";default:return"bg-muted text-muted-foreground"}},m=v=>{switch(v){case"low":return"text-success";case"high":return"text-destructive";default:return"text-warning"}},g=((y=t==null?void 0:t.negativeItems)==null?void 0:y.filter(v=>v.status==="in_progress"))||[];return a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-primary flex items-center justify-center",children:a.jsx(Ha,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx(Xe,{children:"AI Bureau Response Forecaster"}),a.jsx(Zt,{children:"Predict when bureaus will respond"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ni,{value:r,onValueChange:i,children:[a.jsx(Br,{className:"w-[140px]",children:a.jsx(ri,{})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"experian",children:"Experian"}),a.jsx(ut,{value:"equifax",children:"Equifax"}),a.jsx(ut,{value:"transunion",children:"TransUnion"})]})]}),a.jsxs(ge,{onClick:f,disabled:l||g.length===0,className:"bg-gradient-primary hover:opacity-90",children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),l?"Forecasting...":"Forecast"]})]})]})}),a.jsx(Ne,{children:l?a.jsxs("div",{className:"space-y-4",children:[u&&a.jsx("p",{className:"text-xs text-muted-foreground",children:u}),[1,2,3].map(v=>a.jsx(kt,{className:"h-24 w-full"},v))]}):s?a.jsxs("div",{className:"space-y-6",children:[s.bureauInsights&&a.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[a.jsxs("h4",{className:"font-semibold mb-3 capitalize",children:[r," Insights"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Response Time"}),a.jsxs("p",{className:"font-semibold",children:[s.bureauInsights.averageResponseDays," days"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Current Backlog"}),a.jsx("p",{className:`font-semibold capitalize ${m(s.bureauInsights.currentBacklog)}`,children:s.bureauInsights.currentBacklog})]})]}),s.bureauInsights.recommendations&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Recommendations"}),a.jsx("ul",{className:"text-sm space-y-1",children:s.bureauInsights.recommendations.slice(0,2).map((v,w)=>a.jsxs("li",{className:"text-muted-foreground",children:[" ",v]},w))})]})]}),a.jsx("div",{className:"space-y-3",children:s.forecasts.map(v=>a.jsx("div",{className:"p-4 rounded-lg border bg-card",children:a.jsx("div",{className:"flex items-start justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[h(v.likelyOutcome),a.jsx("span",{className:"font-medium capitalize",children:v.likelyOutcome}),a.jsxs(De,{variant:"outline",className:p(v.likelyOutcome),children:[v.outcomeProbability,"% likely"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Response"}),a.jsx("p",{className:"font-medium",children:v.estimatedResponseDate})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Days Remaining"}),a.jsxs("p",{className:`font-medium ${v.daysRemaining<7?"text-warning":""}`,children:[v.daysRemaining," days"]})]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx("span",{className:"font-medium",children:"Next:"})," ",v.nextSteps]})]})})},v.itemId))})]}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ha,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),g.length===0?a.jsx("p",{children:"No active disputes to forecast"}):a.jsx("p",{children:'Select a bureau and click "Forecast" to predict response timelines'})]})})]})}function ydt(){return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsx("div",{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-primary flex items-center justify-center",children:a.jsx(tr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"AI Credit Tools"}),a.jsx("p",{className:"text-muted-foreground",children:"Powered by advanced AI to accelerate your credit repair journey"})]})]})}),a.jsxs(De,{className:"bg-gradient-primary text-white border-0 px-4 py-2",children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),"5 AI Tools Available"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/20 text-center",children:[a.jsx(bs,{className:"w-6 h-6 text-primary mx-auto mb-2"}),a.jsx("p",{className:"text-xs font-medium",children:"Credit Coach"}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"24/7 AI Chat"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-success/10 to-success/5 border border-success/20 text-center",children:[a.jsx(Fs,{className:"w-6 h-6 text-success mx-auto mb-2"}),a.jsx("p",{className:"text-xs font-medium",children:"Goal Roadmap"}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Score Planning"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-warning/10 to-warning/5 border border-warning/20 text-center",children:[a.jsx(hl,{className:"w-6 h-6 text-warning mx-auto mb-2"}),a.jsx("p",{className:"text-xs font-medium",children:"Smart Priority"}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Impact Ranking"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-info/10 to-info/5 border border-info/20 text-center",children:[a.jsx(jn,{className:"w-6 h-6 text-info mx-auto mb-2"}),a.jsx("p",{className:"text-xs font-medium",children:"Success Predictor"}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Win Probability"})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-destructive/10 to-destructive/5 border border-destructive/20 text-center",children:[a.jsx(Ha,{className:"w-6 h-6 text-destructive mx-auto mb-2"}),a.jsx("p",{className:"text-xs font-medium",children:"Response Forecast"}),a.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Timeline Predict"})]})]}),a.jsx(pdt,{}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(mdt,{}),a.jsx(gdt,{})]}),a.jsx(vdt,{}),a.jsx(Lde,{})]})})}function eX(){const[t,e]=N.useState(""),{user:n}=ln(),{data:r=[],isLoading:i}=hu({queryKey:["va-clients",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const{data:o}=await ue.from("va_assignments").select("client_user_id").eq("va_user_id",n.id);if(!(o!=null&&o.length))return[];const l=o.map(h=>h.client_user_id),{data:c}=await ue.from("profiles").select("*").in("user_id",l),{data:u}=await ue.from("score_history").select("*").in("user_id",l).order("recorded_at",{ascending:!1}),{data:d}=await ue.from("dispute_items").select("client_id, outcome").in("client_id",l),{data:f}=await ue.from("dispute_rounds").select("client_id, round_number").in("client_id",l).order("round_number",{ascending:!1});return(c||[]).map(h=>{const p=u==null?void 0:u.find(b=>b.user_id===h.user_id),m=(d==null?void 0:d.filter(b=>b.client_id===h.user_id))||[],g=m.filter(b=>["pending","in_progress"].includes(b.outcome)).length,y=m.filter(b=>["deleted","verified","updated"].includes(b.outcome)).length,v=f==null?void 0:f.find(b=>b.client_id===h.user_id),w=p?Math.round(((p.experian||0)+(p.equifax||0)+(p.transunion||0))/3):null;return{id:h.user_id,name:`${h.first_name||""} ${h.last_name||""}`.trim()||"Unknown",email:h.email||"",score:{current:w||0,change:0},status:g>0?"active":"pending_docs",disputes:{active:g,completed:y},lastActivity:h.updated_at,round:(v==null?void 0:v.round_number)||1}})},enabled:!!n}),s=r.filter(o=>o.name.toLowerCase().includes(t.toLowerCase())||o.email.toLowerCase().includes(t.toLowerCase()));return i?a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(kt,{className:"h-10 w-64"}),a.jsx(kt,{className:"h-12 w-full"}),a.jsx("div",{className:"space-y-4",children:[1,2,3].map(o=>a.jsx(kt,{className:"h-32 w-full"},o))})]})}):a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"My Clients"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your assigned clients"})]}),a.jsxs(De,{variant:"outline",className:"text-lg px-4 py-2",children:[r.length," Assigned"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(nf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Ct,{placeholder:"Search clients...",value:t,onChange:o=>e(o.target.value),className:"pl-10"})]}),r.length===0&&a.jsxs(le,{className:"p-12 text-center",children:[a.jsx(br,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Clients Assigned"}),a.jsx("p",{className:"text-muted-foreground",children:"You don't have any clients assigned yet. Contact your agency owner for assignments."})]}),a.jsx("div",{className:"grid gap-4",children:s.map(o=>a.jsx(le,{className:"card-elevated hover:border-primary/30 transition-colors",children:a.jsx(Ne,{className:"py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ws,{className:"w-12 h-12",children:a.jsx(_s,{className:"bg-primary/10 text-primary",children:o.name.split(" ").map(l=>l[0]).join("")})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:o.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[a.jsx(De,{variant:o.status==="active"?"default":"outline",children:o.status==="active"?"Active":"Pending Docs"}),a.jsxs(De,{variant:"secondary",children:["Round ",o.round]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold",children:o.score.current||""}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Score"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-lg font-semibold",children:o.disputes.active}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Active"})]}),a.jsxs("div",{className:"text-center hidden md:block",children:[a.jsxs("p",{className:"text-sm font-medium flex items-center gap-1",children:[a.jsx(nr,{className:"w-3 h-3"}),new Date(o.lastActivity).toLocaleDateString()]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Activity"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(pr,{to:`/va-dashboard/clients/${o.id}`,children:a.jsx(Qi,{className:"w-4 h-4"})})}),a.jsx(ge,{variant:"ghost",size:"icon",children:a.jsx(bs,{className:"w-4 h-4"})}),a.jsx(ge,{variant:"ghost",size:"icon",children:a.jsx($t,{className:"w-4 h-4"})})]})]})]})})},o.id))})]})})}const tX={high:{color:"bg-destructive/10 text-destructive border-destructive/20",label:"High"},medium:{color:"bg-warning/10 text-warning border-warning/20",label:"Medium"},low:{color:"bg-info/10 text-info border-info/20",label:"Low"},urgent:{color:"bg-destructive/10 text-destructive border-destructive/20",label:"Urgent"}};function xdt(){const{isLoading:t,tasks:e,pendingTasks:n,completedTasks:r,inProgressTasks:i,updateTask:s}=BT(),o=async(c,u)=>{await s(c,{status:u==="completed"?"pending":"completed"})},l=({task:c})=>{const u=tX[c.priority]||tX.medium;return a.jsx(le,{className:`card-elevated hover:border-primary/30 transition-colors ${c.status==="completed"?"opacity-60":""}`,children:a.jsx(Ne,{className:"py-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(MU,{checked:c.status==="completed",onCheckedChange:()=>o(c.id,c.status),className:"mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:`font-semibold ${c.status==="completed"?"line-through":""}`,children:c.title}),c.ai_generated&&a.jsxs(De,{className:"bg-gradient-primary text-primary-foreground text-xs",children:[a.jsx(tr,{className:"w-3 h-3 mr-1"}),"AI"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:c.description}),a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsx(De,{variant:"outline",className:u.color,children:u.label}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(Gs,{className:"w-3 h-3"}),c.task_type]}),c.due_date&&a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(nr,{className:"w-3 h-3"}),"Due: ",new Date(c.due_date).toLocaleDateString()]})]})]}),a.jsx(ge,{size:"sm",variant:c.status==="completed"?"ghost":"default",children:c.task_type==="letter_review"?"Review Letter":c.task_type==="document_review"?"View Document":c.task_type==="client_followup"?"Reply":"View"})]})})})};return t?a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(kt,{className:"h-10 w-64"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(c=>a.jsx(kt,{className:"h-20 w-full"},c))}),a.jsx(kt,{className:"h-96 w-full"})]})}):a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Tasks"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"AI-generated tasks and client follow-ups"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:n.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})}),a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-destructive",children:n.filter(c=>c.priority==="high"||c.priority==="urgent").length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"High Priority"})]})}),a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-info",children:e.filter(c=>c.ai_generated).length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Generated"})]})}),a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-success",children:r.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]})})]}),e.length===0&&a.jsxs(le,{className:"p-12 text-center",children:[a.jsx($t,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Tasks Yet"}),a.jsx("p",{className:"text-muted-foreground",children:"Tasks will appear here when assigned or generated by AI."})]}),e.length>0&&a.jsxs(jl,{defaultValue:"pending",children:[a.jsxs(Io,{children:[a.jsxs(hn,{value:"pending",className:"flex items-center gap-2",children:[a.jsx(Ag,{className:"w-4 h-4"}),"Pending (",n.length,")"]}),a.jsxs(hn,{value:"in_progress",className:"flex items-center gap-2",children:[a.jsx(nr,{className:"w-4 h-4"}),"In Progress (",i.length,")"]}),a.jsxs(hn,{value:"completed",className:"flex items-center gap-2",children:[a.jsx(zn,{className:"w-4 h-4"}),"Completed (",r.length,")"]})]}),a.jsx(gn,{value:"pending",className:"space-y-3 mt-4",children:n.length===0?a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"py-8 text-center",children:[a.jsx(zn,{className:"w-12 h-12 text-success mx-auto mb-4"}),a.jsx("h3",{className:"font-semibold",children:"All caught up!"}),a.jsx("p",{className:"text-muted-foreground",children:"No pending tasks at the moment."})]})}):n.map(c=>a.jsx(l,{task:c},c.id))}),a.jsx(gn,{value:"in_progress",className:"space-y-3 mt-4",children:i.length===0?a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"py-8 text-center",children:[a.jsx(nr,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-muted-foreground",children:"No tasks in progress."})]})}):i.map(c=>a.jsx(l,{task:c},c.id))}),a.jsx(gn,{value:"completed",className:"space-y-3 mt-4",children:r.length===0?a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"py-8 text-center",children:[a.jsx($t,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-muted-foreground",children:"No completed tasks yet."})]})}):r.map(c=>a.jsx(l,{task:c},c.id))})]})]})})}const yN=[{id:"1",client:"John Doe",creditor:"Capital One",bureau:"Experian",type:"Late Payment Dispute",status:"pending_review",aiGenerated:!0,createdAt:"2024-05-20",round:2},{id:"2",client:"John Doe",creditor:"Collection Agency XYZ",bureau:"Equifax",type:"Collection Validation",status:"pending_review",aiGenerated:!0,createdAt:"2024-05-20",round:2},{id:"3",client:"Sarah Williams",creditor:"Old Credit Card",bureau:"TransUnion",type:"Charge-Off Dispute",status:"approved",aiGenerated:!0,createdAt:"2024-05-19",round:2},{id:"4",client:"Sarah Williams",creditor:"Medical Collections",bureau:"All Three",type:"HIPAA Letter",status:"sent",aiGenerated:!0,createdAt:"2024-05-15",round:1},{id:"5",client:"Jane Smith",creditor:"Bank of America",bureau:"Experian",type:"Inquiry Removal",status:"response_received",aiGenerated:!0,createdAt:"2024-05-10",round:1}],bdt={pending_review:{label:"Pending Review",color:"bg-warning/10 text-warning border-warning/20",icon:nr},approved:{label:"Approved",color:"bg-info/10 text-info border-info/20",icon:zn},sent:{label:"Sent",color:"bg-primary/10 text-primary border-primary/20",icon:Da},response_received:{label:"Response Received",color:"bg-success/10 text-success border-success/20",icon:Bi}};function wdt(){const{toast:t}=Mr(),[e,n]=N.useState(""),[r,i]=N.useState(null),[s,o]=N.useState(""),[l,c]=N.useState(!1),[u,d]=N.useState(null),[f,h]=N.useState(!1),p=async S=>{i(S),h(!0),c(!0),d("Generating dispute letter..."),o("");try{const j=await fetch("https://ctzckttucdjlysiohlwh.supabase.co/functions/v1/generate-dispute-letter",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk"},body:JSON.stringify({letterType:"factual_dispute",disputableItem:{creditor:S.creditor,accountType:S.type,balance:0,issueType:S.type,disputeReason:S.type,applicableLaw:"FCRA",bureaus:[S.bureau]},stream:!0})}),E=await qa(j,T=>{T.type==="status"&&d(T.message||null)});o(E.letter||"Unable to generate letter")}catch(j){console.error("Letter generation error:",j),o("Failed to generate letter. Please try again."),t({title:"Error",description:"Failed to generate dispute letter",variant:"destructive"})}finally{d(null),c(!1)}},m=S=>{t({title:"Letter Approved",description:"The dispute letter has been approved and queued for sending."})},g=S=>{o(S),t({title:"Letter Saved",description:"Your changes have been saved."})},y=S=>{var P;const j=new Blob([S],{type:"text/plain"}),E=URL.createObjectURL(j),T=document.createElement("a");T.href=E,T.download=`dispute-letter-${(P=r==null?void 0:r.creditor)==null?void 0:P.replace(/\s+/g,"-")}.txt`,T.click(),URL.revokeObjectURL(E)},v=yN.filter(S=>S.client.toLowerCase().includes(e.toLowerCase())||S.creditor.toLowerCase().includes(e.toLowerCase())),w=v.filter(S=>S.status==="pending_review");v.filter(S=>S.status!=="pending_review");const b=({letter:S})=>{const j=bdt[S.status],E=j.icon;return a.jsx(le,{className:"card-elevated hover:border-primary/30 transition-colors",children:a.jsx(Ne,{className:"py-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-semibold",children:S.creditor}),S.aiGenerated&&a.jsxs(De,{className:"bg-gradient-primary text-primary-foreground text-xs",children:[a.jsx(tr,{className:"w-3 h-3 mr-1"}),"AI Generated"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:S.type}),a.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsxs(De,{variant:"outline",className:j.color,children:[a.jsx(E,{className:"w-3 h-3 mr-1"}),j.label]}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(Gs,{className:"w-3 h-3"}),S.client]}),a.jsx(De,{variant:"secondary",children:S.bureau}),a.jsxs(De,{variant:"outline",children:["Round ",S.round]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ge,{variant:"ghost",size:"sm",onClick:()=>p(S),children:[a.jsx(Qi,{className:"w-4 h-4 mr-1"}),"View"]}),S.status==="pending_review"&&a.jsxs(a.Fragment,{children:[a.jsxs(ge,{variant:"ghost",size:"sm",onClick:()=>p(S),children:[a.jsx(Bge,{className:"w-4 h-4 mr-1"}),"Edit"]}),a.jsxs(ge,{size:"sm",className:"bg-gradient-primary",onClick:()=>m(S.id),children:[a.jsx(zn,{className:"w-4 h-4 mr-1"}),"Approve"]})]})]})]})})})};return a.jsxs(qn,{children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dispute Letters"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Review, edit, and approve AI-generated dispute letters"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-warning",children:w.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Review"})]})}),a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:yN.filter(S=>S.status==="sent").length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sent This Week"})]})}),a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-success",children:yN.filter(S=>S.status==="response_received").length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Responses"})]})}),a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-info",children:yN.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Letters"})]})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(nf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Ct,{placeholder:"Search by client or creditor...",value:e,onChange:S=>n(S.target.value),className:"pl-10"})]}),a.jsxs(jl,{defaultValue:"pending",children:[a.jsxs(Io,{children:[a.jsxs(hn,{value:"pending",className:"flex items-center gap-2",children:[a.jsx(nr,{className:"w-4 h-4"}),"Pending Review (",w.length,")"]}),a.jsxs(hn,{value:"all",className:"flex items-center gap-2",children:[a.jsx($t,{className:"w-4 h-4"}),"All Letters (",v.length,")"]})]}),a.jsx(gn,{value:"pending",className:"space-y-3 mt-4",children:w.length===0?a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"py-8 text-center",children:[a.jsx(zn,{className:"w-12 h-12 text-success mx-auto mb-4"}),a.jsx("h3",{className:"font-semibold",children:"All letters reviewed!"}),a.jsx("p",{className:"text-muted-foreground",children:"No pending letters at the moment."})]})}):w.map(S=>a.jsx(b,{letter:S},S.id))}),a.jsx(gn,{value:"all",className:"space-y-3 mt-4",children:v.map(S=>a.jsx(b,{letter:S},S.id))})]})]}),a.jsx(wl,{open:f,onOpenChange:h,children:a.jsxs(Ao,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col p-0",children:[a.jsx(To,{className:"px-6 pt-6 pb-0",children:a.jsxs(Co,{className:"flex items-center gap-2",children:[a.jsx($t,{className:"w-5 h-5 text-primary"}),"Dispute Letter - ",r==null?void 0:r.creditor,(r==null?void 0:r.aiGenerated)&&a.jsxs(De,{className:"bg-gradient-primary text-primary-foreground text-xs ml-2",children:[a.jsx(tr,{className:"w-3 h-3 mr-1"}),"AI Generated"]})]})}),a.jsx("div",{className:"flex-1 overflow-hidden p-4",children:l?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Dn,{className:"w-8 h-8 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:u||"Generating dispute letter..."})]}):a.jsx(h_,{content:s,creditor:r==null?void 0:r.creditor,letterType:r==null?void 0:r.type,bureaus:r!=null&&r.bureau?[r.bureau]:[],onSave:g,onDownload:y,onChange:S=>o(S),showOptimize:!0})})]})})]})}function _dt(){const{toast:t}=Mr(),{user:e}=ln(),n=GA(),[r,i]=N.useState(""),[s,o]=N.useState("all"),{data:l=[],isLoading:c}=hu({queryKey:["va-documents",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:g}=await ue.from("va_assignments").select("client_user_id").eq("va_user_id",e.id);if(!(g!=null&&g.length))return[];const y=g.map(b=>b.client_user_id),{data:v}=await ue.from("profiles").select("user_id, first_name, last_name").in("user_id",y),{data:w}=await ue.from("client_documents").select("*").in("user_id",y).order("uploaded_at",{ascending:!1});return(w||[]).map(b=>{const S=v==null?void 0:v.find(j=>j.user_id===b.user_id);return{...b,client:S?`${S.first_name||""} ${S.last_name||""}`.trim():"Unknown",size:`${(b.size_bytes/1024/1024).toFixed(1)} MB`}})},enabled:!!e}),u=async g=>{const{error:y}=await ue.from("client_documents").update({status:"verified",verified_at:new Date().toISOString()}).eq("id",g);y?t({title:"Error",description:"Failed to verify document",variant:"destructive"}):(t({title:"Document Verified",description:"The document has been verified successfully."}),n.invalidateQueries({queryKey:["va-documents"]}))},d=async g=>{const{error:y}=await ue.from("client_documents").update({status:"rejected"}).eq("id",g);y?t({title:"Error",description:"Failed to reject document",variant:"destructive"}):(t({title:"Document Rejected",description:"The document has been rejected. Client will be notified.",variant:"destructive"}),n.invalidateQueries({queryKey:["va-documents"]}))},f=l.filter(g=>{const y=g.client.toLowerCase().includes(r.toLowerCase())||g.name.toLowerCase().includes(r.toLowerCase()),v=s==="all"||g.status===s;return y&&v}),h=l.filter(g=>g.status==="pending"||g.status==="pending_review"),p=l.filter(g=>g.status==="verified"),m=l.filter(g=>g.status==="rejected");return c?a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(kt,{className:"h-10 w-64"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(g=>a.jsx(kt,{className:"h-20 w-full"},g))}),a.jsx(kt,{className:"h-96 w-full"})]})}):a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Client Documents"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Review and verify client uploaded documents"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-warning",children:h.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Review"})]})}),a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-success",children:p.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Verified"})]})}),a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-destructive",children:m.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"})]})}),a.jsx(le,{className:"card-elevated",children:a.jsxs(Ne,{className:"pt-6",children:[a.jsx("div",{className:"text-2xl font-bold text-info",children:l.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Documents"})]})})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(nf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Ct,{placeholder:"Search by client or document name...",value:r,onChange:g=>i(g.target.value),className:"pl-10"})]}),a.jsxs(ni,{value:s,onValueChange:o,children:[a.jsx(Br,{className:"w-[180px]",children:a.jsx(ri,{placeholder:"Filter by status"})}),a.jsxs(zr,{children:[a.jsx(ut,{value:"all",children:"All Status"}),a.jsx(ut,{value:"pending",children:"Pending Review"}),a.jsx(ut,{value:"verified",children:"Verified"}),a.jsx(ut,{value:"rejected",children:"Rejected"})]})]})]}),l.length===0&&a.jsxs(le,{className:"p-12 text-center",children:[a.jsx(OA,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Documents Yet"}),a.jsx("p",{className:"text-muted-foreground",children:"Documents will appear here when clients upload them."})]}),l.length>0&&a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx($t,{className:"w-5 h-5 text-primary"}),"Documents"]})}),a.jsx(Ne,{children:a.jsx("div",{className:"space-y-3",children:f.map(g=>{var y;return a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border hover:border-primary/30 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[(y=g.file_type)!=null&&y.includes("pdf")?a.jsx($t,{className:"w-10 h-10 text-primary p-2 bg-primary/10 rounded-lg"}):a.jsx(tJ,{className:"w-10 h-10 text-primary p-2 bg-primary/10 rounded-lg"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:g.name}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Gs,{className:"w-3 h-3"}),a.jsx("span",{children:g.client}),a.jsx("span",{children:""}),a.jsx("span",{children:g.document_type}),a.jsx("span",{children:""}),a.jsx("span",{children:g.size})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(De,{className:g.status==="verified"?"bg-success/10 text-success border-success/20":g.status==="rejected"?"bg-destructive/10 text-destructive border-destructive/20":"bg-warning/10 text-warning border-warning/20",children:g.status==="verified"?"Verified":g.status==="rejected"?"Rejected":"Pending"}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ge,{variant:"ghost",size:"icon",children:a.jsx(Qi,{className:"w-4 h-4"})}),a.jsx(ge,{variant:"ghost",size:"icon",children:a.jsx($d,{className:"w-4 h-4"})}),(g.status==="pending"||g.status==="pending_review")&&a.jsxs(a.Fragment,{children:[a.jsx(ge,{size:"sm",variant:"ghost",className:"text-success",onClick:()=>u(g.id),children:a.jsx(zn,{className:"w-4 h-4"})}),a.jsx(ge,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>d(g.id),children:a.jsx(Bi,{className:"w-4 h-4"})})]})]})]})]},g.id)})})})]})]})})}const nO=[{id:"1",title:"Understanding Credit Reports",description:"Learn how to read and interpret 3-bureau credit reports",duration:"45 min",completed:!0,lessons:8,completedLessons:8},{id:"2",title:"FCRA Regulations",description:"Master the Fair Credit Reporting Act and consumer rights",duration:"1 hr",completed:!0,lessons:12,completedLessons:12},{id:"3",title:"Dispute Letter Writing",description:"How to write effective dispute letters that get results",duration:"1.5 hr",completed:!1,lessons:15,completedLessons:10},{id:"4",title:"AI-Assisted Dispute Strategies",description:"Using AI tools to identify and prioritize disputable items",duration:"30 min",completed:!1,lessons:6,completedLessons:0}],Sdt=[{id:"1",title:"Why We Dispute Late Payments",description:"Late payments have the highest negative impact on credit scores. Even one 30-day late payment can drop a score by 60-110 points.",category:"Strategy"},{id:"2",title:"Collection Account Tactics",description:"Debt validation letters are effective because many collection agencies lack proper documentation.",category:"Technique"},{id:"3",title:"Bureau Response Patterns",description:"Experian typically responds faster (15-20 days) while Equifax often takes the full 30 days.",category:"Insight"}];function Ndt(){const t=nO.reduce((r,i)=>r+i.lessons,0),e=nO.reduce((r,i)=>r+i.completedLessons,0),n=Math.round(e/t*100);return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"AI Training"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Learn credit repair strategies and understand AI decisions"})]}),a.jsx(le,{className:"card-elevated border-primary/30 bg-gradient-to-br from-primary/5 to-transparent",children:a.jsxs(Ne,{className:"py-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(oge,{className:"w-6 h-6 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Training Progress"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[e," of ",t," lessons completed"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"text-3xl font-bold text-primary",children:[n,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Complete"})]})]}),a.jsx(Jd,{value:n,className:"h-2"})]})}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(P$,{className:"w-5 h-5 text-primary"}),"Training Modules"]})}),a.jsx(Ne,{children:a.jsx("div",{className:"space-y-4",children:nO.map(r=>{const i=Math.round(r.completedLessons/r.lessons*100);return a.jsxs("div",{className:"p-4 rounded-lg border border-border hover:border-primary/30 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-semibold",children:r.title}),r.completed&&a.jsxs(De,{className:"bg-success/10 text-success border-success/20",children:[a.jsx(zn,{className:"w-3 h-3 mr-1"}),"Completed"]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.description})]}),a.jsx(ge,{variant:r.completed?"outline":"default",size:"sm",children:r.completed?a.jsxs(a.Fragment,{children:[a.jsx(P$,{className:"w-4 h-4 mr-1"}),"Review"]}):r.completedLessons>0?a.jsxs(a.Fragment,{children:[a.jsx(R$,{className:"w-4 h-4 mr-1"}),"Continue"]}):a.jsxs(a.Fragment,{children:[a.jsx(R$,{className:"w-4 h-4 mr-1"}),"Start"]})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Jd,{value:i,className:"h-1.5"})}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.completedLessons,"/",r.lessons," lessons"]}),a.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[a.jsx(nr,{className:"w-3 h-3"}),r.duration]})]})]},r.id)})})})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(tr,{className:"w-5 h-5 text-primary"}),"AI Insights: Why We Dispute"]}),a.jsx(Zt,{children:"Understand the reasoning behind AI dispute recommendations"})]}),a.jsx(Ne,{children:a.jsx("div",{className:"space-y-4",children:Sdt.map(r=>a.jsx("div",{className:"p-4 rounded-lg bg-muted/50 border border-border",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(ZO,{className:"w-4 h-4 text-primary"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-semibold",children:r.title}),a.jsx(De,{variant:"outline",children:r.category})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.description})]})]})},r.id))})})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx($t,{className:"w-5 h-5 text-primary"}),"Quick Reference Guides"]})}),a.jsx(Ne,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(ge,{variant:"outline",className:"justify-start h-auto py-4",children:[a.jsx($t,{className:"w-5 h-5 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"FCRA Letter Templates"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"12 templates"})]})]}),a.jsxs(ge,{variant:"outline",className:"justify-start h-auto py-4",children:[a.jsx($t,{className:"w-5 h-5 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Bureau Contact Info"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Addresses & fax numbers"})]})]}),a.jsxs(ge,{variant:"outline",className:"justify-start h-auto py-4",children:[a.jsx($t,{className:"w-5 h-5 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Statute of Limitations"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"By state reference"})]})]}),a.jsxs(ge,{variant:"outline",className:"justify-start h-auto py-4",children:[a.jsx($t,{className:"w-5 h-5 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",children:"Response Handling Guide"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Next steps for each response type"})]})]})]})})]})]})})}function jdt(){var y;const{user:t}=ln(),[e,n]=N.useState(),[r,i]=N.useState(""),[s,o]=N.useState(""),l=N.useRef(null),{conversations:c,isLoading:u}=UL(),{messages:d,isLoading:f,sendMessage:h}=UL(e);N.useEffect(()=>{c.length>0&&!e&&n(c[0].partnerId)},[c,e]),N.useEffect(()=>{var v;(v=l.current)==null||v.scrollIntoView({behavior:"smooth"})},[d]);const p=c.filter(v=>{var w;return(w=v.partnerName)==null?void 0:w.toLowerCase().includes(s.toLowerCase())}),m=c.find(v=>v.partnerId===e),g=async()=>{!r.trim()||!e||(await h(e,r.trim()),i(""))};return a.jsx(qn,{children:a.jsxs("div",{className:"h-[calc(100vh-200px)]",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Messages"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Communicate with your assigned clients"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-[calc(100%-80px)]",children:[a.jsxs(le,{className:"card-elevated md:col-span-1 flex flex-col",children:[a.jsx(Ye,{className:"border-b border-border py-3",children:a.jsxs("div",{className:"relative",children:[a.jsx(nf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),a.jsx(Ct,{placeholder:"Search clients...",value:s,onChange:v=>o(v.target.value),className:"pl-10"})]})}),a.jsx(Ne,{className:"flex-1 overflow-y-auto p-0",children:u?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Dn,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):p.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(bs,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No conversations yet"})]}):p.map(v=>{var w;return a.jsx("div",{onClick:()=>n(v.partnerId),className:`p-4 border-b border-border cursor-pointer hover:bg-muted/50 transition-colors ${e===v.partnerId?"bg-muted/50":""}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ws,{children:a.jsx(_s,{className:"bg-primary/10 text-primary",children:((w=v.partnerName)==null?void 0:w.split(" ").map(b=>b[0]).join("").slice(0,2))||"?"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"font-medium truncate",children:v.partnerName||"Unknown"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:bo(new Date(v.lastMessageTime),"MMM d")})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:v.lastMessage})]}),v.unreadCount>0&&a.jsx(De,{className:"bg-primary",children:v.unreadCount})]})},v.partnerId)})})]}),a.jsxs(le,{className:"card-elevated md:col-span-2 flex flex-col",children:[a.jsx(Ye,{className:"border-b border-border py-3",children:m?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ws,{children:a.jsx(_s,{className:"bg-primary/10 text-primary",children:((y=m.partnerName)==null?void 0:y.split(" ").map(v=>v[0]).join("").slice(0,2))||"?"})}),a.jsxs("div",{children:[a.jsx(Xe,{className:"text-base",children:m.partnerName||"Unknown"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Client"})]})]}):a.jsx("p",{className:"text-muted-foreground",children:"Select a conversation"})}),a.jsx(Ne,{className:"flex-1 overflow-y-auto p-4 space-y-4",children:e?f?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Dn,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):d.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Da,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No messages yet"})]})}):a.jsxs(a.Fragment,{children:[d.map(v=>{const w=v.sender_id===(t==null?void 0:t.id);return a.jsx("div",{className:`flex ${w?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:"max-w-[80%]",children:[a.jsx("div",{className:`rounded-2xl px-4 py-2 ${w?"bg-primary text-primary-foreground rounded-br-md":"bg-muted rounded-bl-md"}`,children:a.jsx("p",{className:"text-sm",children:v.content})}),a.jsx("p",{className:`text-xs text-muted-foreground mt-1 ${w?"text-right":""}`,children:bo(new Date(v.created_at),"h:mm a")})]})},v.id)}),a.jsx("div",{ref:l})]}):a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx(bs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Select a conversation to start messaging"})]})})}),a.jsx("div",{className:"p-4 border-t border-border",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ge,{variant:"ghost",size:"icon",children:a.jsx(aJ,{className:"w-4 h-4"})}),a.jsx(Ct,{placeholder:"Type your message...",value:r,onChange:v=>i(v.target.value),onKeyPress:v=>v.key==="Enter"&&g(),className:"flex-1",disabled:!e}),a.jsx(ge,{onClick:g,disabled:!r.trim()||!e,className:"bg-gradient-primary",children:a.jsx(Da,{className:"w-4 h-4"})})]})})]})]})]})})}function Edt(){const{toast:t}=Mr(),[e,n]=N.useState({firstName:"Sarah",lastName:"Martinez",email:"sarah@agency.com",phone:"(555) 987-6543"}),[r,i]=N.useState({newTasks:!0,clientMessages:!0,documentUploads:!0,disputeResponses:!0,dailySummary:!1}),s=()=>{t({title:"Settings Saved",description:"Your settings have been updated successfully."})};return a.jsx(qn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Settings"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your VA account settings"})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(Gs,{className:"w-5 h-5 text-primary"}),"Profile Information"]})}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ws,{className:"w-20 h-20",children:a.jsxs(_s,{className:"text-xl bg-primary/10 text-primary",children:[e.firstName[0],e.lastName[0]]})}),a.jsx(ge,{size:"icon",variant:"outline",className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full",children:a.jsx(QK,{className:"w-4 h-4"})})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-semibold",children:[e.firstName," ",e.lastName]}),a.jsx("p",{className:"text-muted-foreground",children:e.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx(De,{className:"bg-warning/10 text-warning border-warning/20",children:"VA Staff"}),a.jsxs(De,{variant:"outline",children:[a.jsx(eu,{className:"w-3 h-3 mr-1"}),"CreditFix Agency"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"firstName",children:"First Name"}),a.jsx(Ct,{id:"firstName",value:e.firstName,onChange:o=>n({...e,firstName:o.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"lastName",children:"Last Name"}),a.jsx(Ct,{id:"lastName",value:e.lastName,onChange:o=>n({...e,lastName:o.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"email",children:"Email"}),a.jsx(Ct,{id:"email",type:"email",value:e.email,onChange:o=>n({...e,email:o.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ht,{htmlFor:"phone",children:"Phone"}),a.jsx(Ct,{id:"phone",value:e.phone,onChange:o=>n({...e,phone:o.target.value})})]})]})]})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(lc,{className:"w-5 h-5 text-primary"}),"Notification Preferences"]}),a.jsx(Zt,{children:"Choose what notifications you receive"})]}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[a.jsxs("div",{children:[a.jsx(ht,{htmlFor:"newTasks",className:"font-medium",children:"New Tasks"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when AI assigns new tasks"})]}),a.jsx(ci,{id:"newTasks",checked:r.newTasks,onCheckedChange:o=>i({...r,newTasks:o})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[a.jsxs("div",{children:[a.jsx(ht,{htmlFor:"clientMessages",className:"font-medium",children:"Client Messages"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications for new client messages"})]}),a.jsx(ci,{id:"clientMessages",checked:r.clientMessages,onCheckedChange:o=>i({...r,clientMessages:o})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[a.jsxs("div",{children:[a.jsx(ht,{htmlFor:"documentUploads",className:"font-medium",children:"Document Uploads"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"When clients upload new documents"})]}),a.jsx(ci,{id:"documentUploads",checked:r.documentUploads,onCheckedChange:o=>i({...r,documentUploads:o})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[a.jsxs("div",{children:[a.jsx(ht,{htmlFor:"disputeResponses",className:"font-medium",children:"Dispute Responses"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"When bureaus respond to disputes"})]}),a.jsx(ci,{id:"disputeResponses",checked:r.disputeResponses,onCheckedChange:o=>i({...r,disputeResponses:o})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[a.jsxs("div",{children:[a.jsx(ht,{htmlFor:"dailySummary",className:"font-medium",children:"Daily Summary"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive a daily email summary"})]}),a.jsx(ci,{id:"dailySummary",checked:r.dailySummary,onCheckedChange:o=>i({...r,dailySummary:o})})]})]})})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsxs(Ye,{children:[a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(nr,{className:"w-5 h-5 text-primary"}),"Work Schedule"]}),a.jsx(Zt,{children:"Your assigned working hours"})]}),a.jsxs(Ne,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[a.jsx("p",{className:"font-medium",children:"Working Hours"}),a.jsx("p",{className:"text-muted-foreground",children:"9:00 AM - 5:00 PM EST"})]}),a.jsxs("div",{className:"p-4 rounded-lg border border-border",children:[a.jsx("p",{className:"font-medium",children:"Work Days"}),a.jsx("p",{className:"text-muted-foreground",children:"Monday - Friday"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Contact your agency administrator to update your work schedule."})]})]}),a.jsxs(le,{className:"card-elevated",children:[a.jsx(Ye,{children:a.jsxs(Xe,{className:"flex items-center gap-2",children:[a.jsx(xr,{className:"w-5 h-5 text-primary"}),"Security"]})}),a.jsx(Ne,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Password"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Last changed 45 days ago"})]}),a.jsx(ge,{variant:"outline",children:"Change Password"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security"})]}),a.jsx(ge,{variant:"outline",children:"Enable 2FA"})]})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(ge,{onClick:s,className:"bg-gradient-primary",children:[a.jsx(kA,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})})}const Adt=new u0e;function Tdt(){const{user:t,role:e,loading:n}=ln(),{isWhiteLabeled:r,subdomain:i,config:s,isLoading:o}=u1e();if(N.useEffect(()=>{r&&s&&(Rg.info("Applying white label config for subdomain",{subdomain:i,companyName:s.company_name}),_Z(s))},[r,s,i]),n||o)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const l=()=>{if(!t)return"/";switch(e){case"client":return"/client-dashboard";case"va_staff":return"/va-dashboard";case"agency_owner":default:return"/dashboard"}};return a.jsxs(ybe,{children:[a.jsx(nn,{path:"/",element:t?a.jsx(Mg,{to:l(),replace:!0}):r?a.jsx(Mg,{to:"/auth",replace:!0}):a.jsx(Ike,{})}),a.jsx(nn,{path:"/auth",element:t?a.jsx(Mg,{to:l(),replace:!0}):a.jsx(Cot,{})}),a.jsx(nn,{path:"/ai-automation",element:a.jsx(Fut,{})}),a.jsx(nn,{path:"/reset-password",element:a.jsx(Gut,{})}),a.jsx(nn,{path:"/dashboard",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(bot,{})})}),a.jsx(nn,{path:"/clients",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(_lt,{})})}),a.jsx(nn,{path:"/clients/:id",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(Ilt,{})})}),a.jsx(nn,{path:"/tasks",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(Dlt,{})})}),a.jsx(nn,{path:"/disputes",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(sct,{})})}),a.jsx(nn,{path:"/ai-engine",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(oct,{})})}),a.jsx(nn,{path:"/dispute-letters",element:a.jsx(wn,{allowedRoles:["agency_owner","va_staff"],children:a.jsx(cct,{})})}),a.jsx(nn,{path:"/simulator",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(gct,{})})}),a.jsx(nn,{path:"/analytics",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(yct,{})})}),a.jsx(nn,{path:"/round-manager",element:a.jsx(wn,{allowedRoles:["agency_owner","va_staff"],children:a.jsx(But,{})})}),a.jsx(nn,{path:"/outcome-tracker",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(Hut,{})})}),a.jsx(nn,{path:"/messages",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(xct,{})})}),a.jsx(nn,{path:"/billing",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(bct,{})})}),a.jsx(nn,{path:"/agency",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(_ct,{})})}),a.jsx(nn,{path:"/compliance",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(Nct,{})})}),a.jsx(nn,{path:"/settings",element:a.jsx(wn,{children:a.jsx(Dut,{})})}),a.jsx(nn,{path:"/white-label",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(Wut,{})})}),a.jsx(nn,{path:"/client-dashboard",element:a.jsx(wn,{allowedRoles:["client"],children:a.jsx(Qut,{})})}),a.jsx(nn,{path:"/client-dashboard/scores",element:a.jsx(wn,{allowedRoles:["client"],children:a.jsx(rdt,{})})}),a.jsx(nn,{path:"/client-dashboard/disputes",element:a.jsx(wn,{allowedRoles:["client"],children:a.jsx(idt,{})})}),a.jsx(nn,{path:"/client-dashboard/ai-tools",element:a.jsx(wn,{allowedRoles:["client"],children:a.jsx(ydt,{})})}),a.jsx(nn,{path:"/client-dashboard/documents",element:a.jsx(wn,{allowedRoles:["client"],children:a.jsx(adt,{})})}),a.jsx(nn,{path:"/client-dashboard/smartcredit",element:a.jsx(wn,{allowedRoles:["client"],children:a.jsx(ZR,{})})}),a.jsx(nn,{path:"/client-dashboard/messages",element:a.jsx(wn,{allowedRoles:["client"],children:a.jsx(odt,{})})}),a.jsx(nn,{path:"/client-dashboard/billing",element:a.jsx(wn,{allowedRoles:["client"],children:a.jsx(ldt,{})})}),a.jsx(nn,{path:"/client-dashboard/notifications",element:a.jsx(wn,{allowedRoles:["client"],children:a.jsx(udt,{})})}),a.jsx(nn,{path:"/client-dashboard/profile",element:a.jsx(wn,{allowedRoles:["client"],children:a.jsx(fdt,{})})}),a.jsx(nn,{path:"/va-dashboard",element:a.jsx(wn,{allowedRoles:["va_staff"],children:a.jsx(edt,{})})}),a.jsx(nn,{path:"/va-dashboard/clients",element:a.jsx(wn,{allowedRoles:["va_staff"],children:a.jsx(eX,{})})}),a.jsx(nn,{path:"/va-dashboard/clients/:id",element:a.jsx(wn,{allowedRoles:["va_staff"],children:a.jsx(eX,{})})}),a.jsx(nn,{path:"/va-dashboard/tasks",element:a.jsx(wn,{allowedRoles:["va_staff"],children:a.jsx(xdt,{})})}),a.jsx(nn,{path:"/va-dashboard/disputes",element:a.jsx(wn,{allowedRoles:["va_staff"],children:a.jsx(wdt,{})})}),a.jsx(nn,{path:"/va-dashboard/documents",element:a.jsx(wn,{allowedRoles:["va_staff"],children:a.jsx(_dt,{})})}),a.jsx(nn,{path:"/va-dashboard/training",element:a.jsx(wn,{allowedRoles:["va_staff"],children:a.jsx(Ndt,{})})}),a.jsx(nn,{path:"/va-dashboard/messages",element:a.jsx(wn,{allowedRoles:["va_staff"],children:a.jsx(jdt,{})})}),a.jsx(nn,{path:"/va-dashboard/settings",element:a.jsx(wn,{allowedRoles:["va_staff"],children:a.jsx(Edt,{})})}),a.jsx(nn,{path:"/va-dashboard/smartcredit/:clientId",element:a.jsx(wn,{allowedRoles:["va_staff"],children:a.jsx(ZR,{})})}),a.jsx(nn,{path:"/smartcredit",element:a.jsx(wn,{allowedRoles:["agency_owner"],children:a.jsx(ZR,{})})}),a.jsx(nn,{path:"*",element:a.jsx(Lut,{})})]})}const Cdt=()=>a.jsx(p0e,{client:Adt,children:a.jsx(l1e,{children:a.jsx(r1e,{children:a.jsx(i1e,{children:a.jsx(s1e,{children:a.jsxs(Gxe,{children:[a.jsx(Tve,{}),a.jsx(aye,{}),a.jsx(jbe,{children:a.jsx(Tdt,{})})]})})})})})}),Mdt={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_PROJECT_ID:"ctzckttucdjlysiohlwh",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",VITE_SUPABASE_URL:"https://ctzckttucdjlysiohlwh.supabase.co"},Pdt=["VITE_SUPABASE_URL","VITE_SUPABASE_PUBLISHABLE_KEY","VITE_SUPABASE_PROJECT_ID"];function Rdt(){const t=[],e=[];for(const n of Pdt){const r=Mdt[n];if(!r){t.push(n);continue}n==="VITE_SUPABASE_URL"&&!r.startsWith("https://")&&e.push(`${n} must be a valid HTTPS URL`),n==="VITE_SUPABASE_PUBLISHABLE_KEY"&&!r.startsWith("eyJ")&&e.push(`${n} appears to be invalid (should start with 'eyJ')`)}if(t.length>0){const n=`Missing required environment variables: ${t.join(", ")}. Please check your .env file.`;throw Rg.error("Environment validation failed",new Error(n),{missing:t}),new Error(n)}if(e.length>0){const n=`Invalid environment variables: ${e.join("; ")}`;throw Rg.error("Environment validation failed",new Error(n),{invalid:e}),new Error(n)}return Rg.info("Environment validation successful"),{VITE_SUPABASE_URL:"https://ctzckttucdjlysiohlwh.supabase.co",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN0emNrdHR1Y2RqbHlzaW9obHdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2MzcyNzQsImV4cCI6MjA4MDIxMzI3NH0.zJj_x04RUuXjDnn8n_JCFaAR__eD58wv2z8tTYi8tgk",VITE_SUPABASE_PROJECT_ID:"ctzckttucdjlysiohlwh"}}try{Rdt(),Rg.info("Application starting",{mode:"production",version:"1.0.0"})}catch(t){const e=t instanceof Error?t.message:"Environment validation failed";throw document.getElementById("root").innerHTML=`
    <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 20px; font-family: system-ui, -apple-system, sans-serif;">
      <div style="max-width: 600px; text-align: center;">
        <h1 style="color: #dc2626; margin-bottom: 16px;">Configuration Error</h1>
        <p style="color: #4b5563; margin-bottom: 24px;">${e}</p>
        <p style="color: #6b7280; font-size: 14px;">
          Please check your environment configuration and try again.
          See <code>.env.example</code> for required variables.
        </p>
      </div>
    </div>
  `,t}NK(document.getElementById("root")).render(a.jsx(Cdt,{}));
